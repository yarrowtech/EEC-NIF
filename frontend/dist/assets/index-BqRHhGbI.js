var Toe=Object.defineProperty;var Moe=(t,e,r)=>e in t?Toe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ur=(t,e,r)=>Moe(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iC={exports:{}},Fy={},oC={exports:{}},ks={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function Foe(){if(AR)return ks;AR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,g={};function x(Y,re,D){this.props=Y,this.context=re,this.refs=g,this.updater=D||f}x.prototype.isReactComponent={},x.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function v(){}v.prototype=x.prototype;function j(Y,re,D){this.props=Y,this.context=re,this.refs=g,this.updater=D||f}var b=j.prototype=new v;b.constructor=j,A(b,x.prototype),b.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function P(Y,re,D){var G,z={},K=null,oe=null;if(re!=null)for(G in re.ref!==void 0&&(oe=re.ref),re.key!==void 0&&(K=""+re.key),re)w.call(re,G)&&!E.hasOwnProperty(G)&&(z[G]=re[G]);var ue=arguments.length-2;if(ue===1)z.children=D;else if(1<ue){for(var ge=Array(ue),pe=0;pe<ue;pe++)ge[pe]=arguments[pe+2];z.children=ge}if(Y&&Y.defaultProps)for(G in ue=Y.defaultProps,ue)z[G]===void 0&&(z[G]=ue[G]);return{$$typeof:t,type:Y,key:K,ref:oe,props:z,_owner:N.current}}function _(Y,re){return{$$typeof:t,type:Y.type,key:re,ref:Y.ref,props:Y.props,_owner:Y._owner}}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function k(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(D){return re[D]})}var M=/\/+/g;function T(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?k(""+Y.key):re.toString(36)}function H(Y,re,D,G,z){var K=typeof Y;(K==="undefined"||K==="boolean")&&(Y=null);var oe=!1;if(Y===null)oe=!0;else switch(K){case"string":case"number":oe=!0;break;case"object":switch(Y.$$typeof){case t:case e:oe=!0}}if(oe)return oe=Y,z=z(oe),Y=G===""?"."+T(oe,0):G,S(z)?(D="",Y!=null&&(D=Y.replace(M,"$&/")+"/"),H(z,re,D,"",function(pe){return pe})):z!=null&&(B(z)&&(z=_(z,D+(!z.key||oe&&oe.key===z.key?"":(""+z.key).replace(M,"$&/")+"/")+Y)),re.push(z)),1;if(oe=0,G=G===""?".":G+":",S(Y))for(var ue=0;ue<Y.length;ue++){K=Y[ue];var ge=G+T(K,ue);oe+=H(K,re,D,ge,z)}else if(ge=m(Y),typeof ge=="function")for(Y=ge.call(Y),ue=0;!(K=Y.next()).done;)K=K.value,ge=G+T(K,ue++),oe+=H(K,re,D,ge,z);else if(K==="object")throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return oe}function L(Y,re,D){if(Y==null)return Y;var G=[],z=0;return H(Y,G,"","",function(K){return re.call(D,K,z++)}),G}function Q(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(D){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=D)},function(D){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=D)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var O={current:null},V={transition:null},ee={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:V,ReactCurrentOwner:N};return ks.Children={map:L,forEach:function(Y,re,D){L(Y,function(){re.apply(this,arguments)},D)},count:function(Y){var re=0;return L(Y,function(){re++}),re},toArray:function(Y){return L(Y,function(re){return re})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},ks.Component=x,ks.Fragment=r,ks.Profiler=a,ks.PureComponent=j,ks.StrictMode=n,ks.Suspense=c,ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ks.cloneElement=function(Y,re,D){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var G=A({},Y.props),z=Y.key,K=Y.ref,oe=Y._owner;if(re!=null){if(re.ref!==void 0&&(K=re.ref,oe=N.current),re.key!==void 0&&(z=""+re.key),Y.type&&Y.type.defaultProps)var ue=Y.type.defaultProps;for(ge in re)w.call(re,ge)&&!E.hasOwnProperty(ge)&&(G[ge]=re[ge]===void 0&&ue!==void 0?ue[ge]:re[ge])}var ge=arguments.length-2;if(ge===1)G.children=D;else if(1<ge){ue=Array(ge);for(var pe=0;pe<ge;pe++)ue[pe]=arguments[pe+2];G.children=ue}return{$$typeof:t,type:Y.type,key:z,ref:K,props:G,_owner:oe}},ks.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:i,_context:Y},Y.Consumer=Y},ks.createElement=P,ks.createFactory=function(Y){var re=P.bind(null,Y);return re.type=Y,re},ks.createRef=function(){return{current:null}},ks.forwardRef=function(Y){return{$$typeof:l,render:Y}},ks.isValidElement=B,ks.lazy=function(Y){return{$$typeof:u,_payload:{_status:-1,_result:Y},_init:Q}},ks.memo=function(Y,re){return{$$typeof:d,type:Y,compare:re===void 0?null:re}},ks.startTransition=function(Y){var re=V.transition;V.transition={};try{Y()}finally{V.transition=re}},ks.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ks.useCallback=function(Y,re){return O.current.useCallback(Y,re)},ks.useContext=function(Y){return O.current.useContext(Y)},ks.useDebugValue=function(){},ks.useDeferredValue=function(Y){return O.current.useDeferredValue(Y)},ks.useEffect=function(Y,re){return O.current.useEffect(Y,re)},ks.useId=function(){return O.current.useId()},ks.useImperativeHandle=function(Y,re,D){return O.current.useImperativeHandle(Y,re,D)},ks.useInsertionEffect=function(Y,re){return O.current.useInsertionEffect(Y,re)},ks.useLayoutEffect=function(Y,re){return O.current.useLayoutEffect(Y,re)},ks.useMemo=function(Y,re){return O.current.useMemo(Y,re)},ks.useReducer=function(Y,re,D){return O.current.useReducer(Y,re,D)},ks.useRef=function(Y){return O.current.useRef(Y)},ks.useState=function(Y){return O.current.useState(Y)},ks.useSyncExternalStore=function(Y,re,D){return O.current.useSyncExternalStore(Y,re,D)},ks.useTransition=function(){return O.current.useTransition()},ks.version="18.2.0",ks}var xR;function YP(){return xR||(xR=1,oC.exports=Foe()),oC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function Poe(){if(gR)return Fy;gR=1;var t=YP(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,f=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)n.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:f,props:h,_owner:a.current}}return Fy.Fragment=r,Fy.jsx=o,Fy.jsxs=o,Fy}var vR;function Ioe(){return vR||(vR=1,iC.exports=Poe()),iC.exports}var s=Ioe(),z2={},lC={exports:{}},Fl={},cC={exports:{}},dC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function Doe(){return yR||(yR=1,(function(t){function e(V,ee){var Y=V.length;V.push(ee);e:for(;0<Y;){var re=Y-1>>>1,D=V[re];if(0<a(D,ee))V[re]=ee,V[Y]=D,Y=re;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ee=V[0],Y=V.pop();if(Y!==ee){V[0]=Y;e:for(var re=0,D=V.length,G=D>>>1;re<G;){var z=2*(re+1)-1,K=V[z],oe=z+1,ue=V[oe];if(0>a(K,Y))oe<D&&0>a(ue,K)?(V[re]=ue,V[oe]=Y,re=oe):(V[re]=K,V[z]=Y,re=z);else if(oe<D&&0>a(ue,Y))V[re]=ue,V[oe]=Y,re=oe;else break e}}return ee}function a(V,ee){var Y=V.sortIndex-ee.sortIndex;return Y!==0?Y:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,A=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=V)n(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=r(d)}}function S(V){if(g=!1,b(V),!A)if(r(c)!==null)A=!0,Q(w);else{var ee=r(d);ee!==null&&O(S,ee.startTime-V)}}function w(V,ee){A=!1,g&&(g=!1,v(P),P=-1),f=!0;var Y=m;try{for(b(ee),h=r(c);h!==null&&(!(h.expirationTime>ee)||V&&!k());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var D=re(h.expirationTime<=ee);ee=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(c)&&n(c),b(ee)}else n(c);h=r(c)}if(h!==null)var G=!0;else{var z=r(d);z!==null&&O(S,z.startTime-ee),G=!1}return G}finally{h=null,m=Y,f=!1}}var N=!1,E=null,P=-1,_=5,B=-1;function k(){return!(t.unstable_now()-B<_)}function M(){if(E!==null){var V=t.unstable_now();B=V;var ee=!0;try{ee=E(!0,V)}finally{ee?T():(N=!1,E=null)}}else N=!1}var T;if(typeof j=="function")T=function(){j(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,L=H.port2;H.port1.onmessage=M,T=function(){L.postMessage(null)}}else T=function(){x(M,0)};function Q(V){E=V,N||(N=!0,T())}function O(V,ee){P=x(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){A||f||(A=!0,Q(w))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Y=m;m=ee;try{return V()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=m;m=V;try{return ee()}finally{m=Y}},t.unstable_scheduleCallback=function(V,ee,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,V={id:u++,callback:ee,priorityLevel:V,startTime:Y,expirationTime:D,sortIndex:-1},Y>re?(V.sortIndex=Y,e(d,V),r(c)===null&&V===r(d)&&(g?(v(P),P=-1):g=!0,O(S,Y-re))):(V.sortIndex=D,e(c,V),A||f||(A=!0,Q(w))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var ee=m;return function(){var Y=m;m=ee;try{return V.apply(this,arguments)}finally{m=Y}}}})(dC)),dC}var bR;function Loe(){return bR||(bR=1,cC.exports=Doe()),cC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR;function Roe(){if(wR)return Fl;wR=1;var t=YP(),e=Loe();function r(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,y){o(p,y),o(p+"Capture",y)}function o(p,y){for(a[p]=y,p=0;p<y.length;p++)n.add(y[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function m(p){return c.call(h,p)?!0:c.call(u,p)?!1:d.test(p)?h[p]=!0:(u[p]=!0,!1)}function f(p,y,C,R){if(C!==null&&C.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return R?!1:C!==null?!C.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function A(p,y,C,R){if(y===null||typeof y>"u"||f(p,y,C,R))return!0;if(R)return!1;if(C!==null)switch(C.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function g(p,y,C,R,W,te,Ae){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=R,this.attributeNamespace=W,this.mustUseProperty=C,this.propertyName=p,this.type=y,this.sanitizeURL=te,this.removeEmptyString=Ae}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];x[y]=new g(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function j(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(v,j);x[y]=new g(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(v,j);x[y]=new g(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(v,j);x[y]=new g(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function b(p,y,C,R){var W=x.hasOwnProperty(y)?x[y]:null;(W!==null?W.type!==0:R||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(A(y,C,W,R)&&(C=null),R||W===null?m(y)&&(C===null?p.removeAttribute(y):p.setAttribute(y,""+C)):W.mustUseProperty?p[W.propertyName]=C===null?W.type===3?!1:"":C:(y=W.attributeName,R=W.attributeNamespace,C===null?p.removeAttribute(y):(W=W.type,C=W===3||W===4&&C===!0?"":""+C,R?p.setAttributeNS(R,y,C):p.setAttribute(y,C))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),V=Symbol.iterator;function ee(p){return p===null||typeof p!="object"?null:(p=V&&p[V]||p["@@iterator"],typeof p=="function"?p:null)}var Y=Object.assign,re;function D(p){if(re===void 0)try{throw Error()}catch(C){var y=C.stack.trim().match(/\n( *(at )?)/);re=y&&y[1]||""}return`
`+re+p}var G=!1;function z(p,y){if(!p||G)return"";G=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(bt){var R=bt}Reflect.construct(p,[],y)}else{try{y.call()}catch(bt){R=bt}p.call(y.prototype)}else{try{throw Error()}catch(bt){R=bt}p()}}catch(bt){if(bt&&R&&typeof bt.stack=="string"){for(var W=bt.stack.split(`
`),te=R.stack.split(`
`),Ae=W.length-1,He=te.length-1;1<=Ae&&0<=He&&W[Ae]!==te[He];)He--;for(;1<=Ae&&0<=He;Ae--,He--)if(W[Ae]!==te[He]){if(Ae!==1||He!==1)do if(Ae--,He--,0>He||W[Ae]!==te[He]){var Ye=`
`+W[Ae].replace(" at new "," at ");return p.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",p.displayName)),Ye}while(1<=Ae&&0<=He);break}}}finally{G=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?D(p):""}function K(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=z(p.type,!1),p;case 11:return p=z(p.type.render,!1),p;case 1:return p=z(p.type,!0),p;default:return""}}function oe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case E:return"Fragment";case N:return"Portal";case _:return"Profiler";case P:return"StrictMode";case T:return"Suspense";case H:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case k:return(p.displayName||"Context")+".Consumer";case B:return(p._context.displayName||"Context")+".Provider";case M:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case L:return y=p.displayName||null,y!==null?y:oe(p.type)||"Memo";case Q:y=p._payload,p=p._init;try{return oe(p(y))}catch{}}return null}function ue(p){var y=p.type;switch(p.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=y.render,p=p.displayName||p.name||"",y.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(y);case 8:return y===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function ge(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function pe(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function ye(p){var y=pe(p)?"checked":"value",C=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),R=""+p[y];if(!p.hasOwnProperty(y)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var W=C.get,te=C.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return W.call(this)},set:function(Ae){R=""+Ae,te.call(this,Ae)}}),Object.defineProperty(p,y,{enumerable:C.enumerable}),{getValue:function(){return R},setValue:function(Ae){R=""+Ae},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Pe(p){p._valueTracker||(p._valueTracker=ye(p))}function le(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var C=y.getValue(),R="";return p&&(R=pe(p)?p.checked?"true":"false":p.value),p=R,p!==C?(y.setValue(p),!0):!1}function lt(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function ne(p,y){var C=y.checked;return Y({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??p._wrapperState.initialChecked})}function J(p,y){var C=y.defaultValue==null?"":y.defaultValue,R=y.checked!=null?y.checked:y.defaultChecked;C=ge(y.value!=null?y.value:C),p._wrapperState={initialChecked:R,initialValue:C,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function ie(p,y){y=y.checked,y!=null&&b(p,"checked",y,!1)}function Ce(p,y){ie(p,y);var C=ge(y.value),R=y.type;if(C!=null)R==="number"?(C===0&&p.value===""||p.value!=C)&&(p.value=""+C):p.value!==""+C&&(p.value=""+C);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?Re(p,y.type,C):y.hasOwnProperty("defaultValue")&&Re(p,y.type,ge(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function Oe(p,y,C){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var R=y.type;if(!(R!=="submit"&&R!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,C||y===p.value||(p.value=y),p.defaultValue=y}C=p.name,C!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,C!==""&&(p.name=C)}function Re(p,y,C){(y!=="number"||lt(p.ownerDocument)!==p)&&(C==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+C&&(p.defaultValue=""+C))}var ze=Array.isArray;function ce(p,y,C,R){if(p=p.options,y){y={};for(var W=0;W<C.length;W++)y["$"+C[W]]=!0;for(C=0;C<p.length;C++)W=y.hasOwnProperty("$"+p[C].value),p[C].selected!==W&&(p[C].selected=W),W&&R&&(p[C].defaultSelected=!0)}else{for(C=""+ge(C),y=null,W=0;W<p.length;W++){if(p[W].value===C){p[W].selected=!0,R&&(p[W].defaultSelected=!0);return}y!==null||p[W].disabled||(y=p[W])}y!==null&&(y.selected=!0)}}function ae(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Se(p,y){var C=y.value;if(C==null){if(C=y.children,y=y.defaultValue,C!=null){if(y!=null)throw Error(r(92));if(ze(C)){if(1<C.length)throw Error(r(93));C=C[0]}y=C}y==null&&(y=""),C=y}p._wrapperState={initialValue:ge(C)}}function We(p,y){var C=ge(y.value),R=ge(y.defaultValue);C!=null&&(C=""+C,C!==p.value&&(p.value=C),y.defaultValue==null&&p.defaultValue!==C&&(p.defaultValue=C)),R!=null&&(p.defaultValue=""+R)}function Je(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}function tt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?tt(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var ft,vt=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,C,R,W){MSApp.execUnsafeLocalFunction(function(){return p(y,C,R,W)})}:p})(function(p,y){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=y;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=ft.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function _t(p,y){if(y){var C=p.firstChild;if(C&&C===p.lastChild&&C.nodeType===3){C.nodeValue=y;return}}p.textContent=y}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(p){It.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),et[y]=et[p]})});function Lt(p,y,C){return y==null||typeof y=="boolean"||y===""?"":C||typeof y!="number"||y===0||et.hasOwnProperty(p)&&et[p]?(""+y).trim():y+"px"}function Gt(p,y){p=p.style;for(var C in y)if(y.hasOwnProperty(C)){var R=C.indexOf("--")===0,W=Lt(C,y[C],R);C==="float"&&(C="cssFloat"),R?p.setProperty(C,W):p[C]=W}}var Rt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(p,y){if(y){if(Rt[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(r(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(r(61))}if(y.style!=null&&typeof y.style!="object")throw Error(r(62))}}function Ht(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ge=null;function we(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Ze=null,qe=null,st=null;function ct(p){if(p=g0(p)){if(typeof Ze!="function")throw Error(r(280));var y=p.stateNode;y&&(y=sp(y),Ze(p.stateNode,p.type,y))}}function St(p){qe?st?st.push(p):st=[p]:qe=p}function Xt(){if(qe){var p=qe,y=st;if(st=qe=null,ct(p),y)for(p=0;p<y.length;p++)ct(y[p])}}function Vt(p,y){return p(y)}function Pr(){}var sr=!1;function cr(p,y,C){if(sr)return p(y,C);sr=!0;try{return Vt(p,y,C)}finally{sr=!1,(qe!==null||st!==null)&&(Pr(),Xt())}}function Ts(p,y){var C=p.stateNode;if(C===null)return null;var R=sp(C);if(R===null)return null;C=R[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(C&&typeof C!="function")throw Error(r(231,y,typeof C));return C}var tn=!1;if(l)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){tn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{tn=!1}function on(p,y,C,R,W,te,Ae,He,Ye){var bt=Array.prototype.slice.call(arguments,3);try{y.apply(C,bt)}catch(Kt){this.onError(Kt)}}var hs=!1,Rs=null,me=!1,ke=null,je={onError:function(p){hs=!0,Rs=p}};function Ee(p,y,C,R,W,te,Ae,He,Ye){hs=!1,Rs=null,on.apply(je,arguments)}function Fe(p,y,C,R,W,te,Ae,He,Ye){if(Ee.apply(this,arguments),hs){if(hs){var bt=Rs;hs=!1,Rs=null}else throw Error(r(198));me||(me=!0,ke=bt)}}function Be(p){var y=p,C=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(C=y.return),p=y.return;while(p)}return y.tag===3?C:null}function it(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function wt(p){if(Be(p)!==p)throw Error(r(188))}function dt(p){var y=p.alternate;if(!y){if(y=Be(p),y===null)throw Error(r(188));return y!==p?null:p}for(var C=p,R=y;;){var W=C.return;if(W===null)break;var te=W.alternate;if(te===null){if(R=W.return,R!==null){C=R;continue}break}if(W.child===te.child){for(te=W.child;te;){if(te===C)return wt(W),p;if(te===R)return wt(W),y;te=te.sibling}throw Error(r(188))}if(C.return!==R.return)C=W,R=te;else{for(var Ae=!1,He=W.child;He;){if(He===C){Ae=!0,C=W,R=te;break}if(He===R){Ae=!0,R=W,C=te;break}He=He.sibling}if(!Ae){for(He=te.child;He;){if(He===C){Ae=!0,C=te,R=W;break}if(He===R){Ae=!0,R=te,C=W;break}He=He.sibling}if(!Ae)throw Error(r(189))}}if(C.alternate!==R)throw Error(r(190))}if(C.tag!==3)throw Error(r(188));return C.stateNode.current===C?p:y}function ut(p){return p=dt(p),p!==null?xt(p):null}function xt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var y=xt(p);if(y!==null)return y;p=p.sibling}return null}var de=e.unstable_scheduleCallback,Le=e.unstable_cancelCallback,Ve=e.unstable_shouldYield,Qe=e.unstable_requestPaint,De=e.unstable_now,yt=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,zt=e.unstable_UserBlockingPriority,Zt=e.unstable_NormalPriority,Br=e.unstable_LowPriority,_e=e.unstable_IdlePriority,$e=null,Ot=null;function lr(p){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot($e,p,void 0,(p.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:nr,hr=Math.log,Rr=Math.LN2;function nr(p){return p>>>=0,p===0?32:31-(hr(p)/Rr|0)|0}var fs=64,Or=4194304;function us(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function _a(p,y){var C=p.pendingLanes;if(C===0)return 0;var R=0,W=p.suspendedLanes,te=p.pingedLanes,Ae=C&268435455;if(Ae!==0){var He=Ae&~W;He!==0?R=us(He):(te&=Ae,te!==0&&(R=us(te)))}else Ae=C&~W,Ae!==0?R=us(Ae):te!==0&&(R=us(te));if(R===0)return 0;if(y!==0&&y!==R&&(y&W)===0&&(W=R&-R,te=y&-y,W>=te||W===16&&(te&4194240)!==0))return y;if((R&4)!==0&&(R|=C&16),y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=R;0<y;)C=31-Yt(y),W=1<<C,R|=p[C],y&=~W;return R}function bs(p,y){switch(p){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fn(p,y){for(var C=p.suspendedLanes,R=p.pingedLanes,W=p.expirationTimes,te=p.pendingLanes;0<te;){var Ae=31-Yt(te),He=1<<Ae,Ye=W[Ae];Ye===-1?((He&C)===0||(He&R)!==0)&&(W[Ae]=bs(He,y)):Ye<=y&&(p.expiredLanes|=He),te&=~He}}function Ns(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ei(){var p=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),p}function ti(p){for(var y=[],C=0;31>C;C++)y.push(p);return y}function Zn(p,y,C){p.pendingLanes|=y,y!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,y=31-Yt(y),p[y]=C}function Pn(p,y){var C=p.pendingLanes&~y;p.pendingLanes=y,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=y,p.mutableReadLanes&=y,p.entangledLanes&=y,y=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<C;){var W=31-Yt(C),te=1<<W;y[W]=0,R[W]=-1,p[W]=-1,C&=~te}}function Tc(p,y){var C=p.entangledLanes|=y;for(p=p.entanglements;C;){var R=31-Yt(C),W=1<<R;W&y|p[R]&y&&(p[R]|=y),C&=~W}}var ms=0;function wh(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var yu,Hm,lx,cx,t0,r0=!1,go=[],Mc=null,vo=null,gl=null,jh=new Map,Vr=new Map,Fc=[],ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dx(p,y){switch(p){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":jh.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(y.pointerId)}}function el(p,y,C,R,W,te){return p===null||p.nativeEvent!==te?(p={blockedOn:y,domEventName:C,eventSystemFlags:R,nativeEvent:te,targetContainers:[W]},y!==null&&(y=g0(y),y!==null&&Hm(y)),p):(p.eventSystemFlags|=R,y=p.targetContainers,W!==null&&y.indexOf(W)===-1&&y.push(W),p)}function Sd(p,y,C,R,W){switch(y){case"focusin":return Mc=el(Mc,p,y,C,R,W),!0;case"dragenter":return vo=el(vo,p,y,C,R,W),!0;case"mouseover":return gl=el(gl,p,y,C,R,W),!0;case"pointerover":var te=W.pointerId;return jh.set(te,el(jh.get(te)||null,p,y,C,R,W)),!0;case"gotpointercapture":return te=W.pointerId,Vr.set(te,el(Vr.get(te)||null,p,y,C,R,W)),!0}return!1}function ux(p){var y=Tu(p.target);if(y!==null){var C=Be(y);if(C!==null){if(y=C.tag,y===13){if(y=it(C),y!==null){p.blockedOn=y,t0(p.priority,function(){lx(C)});return}}else if(y===3&&C.stateNode.current.memoizedState.isDehydrated){p.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}p.blockedOn=null}function s0(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var C=_h(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(C===null){C=p.nativeEvent;var R=new C.constructor(C.type,C);Ge=R,C.target.dispatchEvent(R),Ge=null}else return y=g0(C),y!==null&&Hm(y),p.blockedOn=C,!1;y.shift()}return!0}function Nh(p,y,C){s0(p)&&C.delete(y)}function Qm(){r0=!1,Mc!==null&&s0(Mc)&&(Mc=null),vo!==null&&s0(vo)&&(vo=null),gl!==null&&s0(gl)&&(gl=null),jh.forEach(Nh),Vr.forEach(Nh)}function Jl(p,y){p.blockedOn===y&&(p.blockedOn=null,r0||(r0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qm)))}function Sh(p){function y(W){return Jl(W,p)}if(0<go.length){Jl(go[0],p);for(var C=1;C<go.length;C++){var R=go[C];R.blockedOn===p&&(R.blockedOn=null)}}for(Mc!==null&&Jl(Mc,p),vo!==null&&Jl(vo,p),gl!==null&&Jl(gl,p),jh.forEach(y),Vr.forEach(y),C=0;C<Fc.length;C++)R=Fc[C],R.blockedOn===p&&(R.blockedOn=null);for(;0<Fc.length&&(C=Fc[0],C.blockedOn===null);)ux(C),C.blockedOn===null&&Fc.shift()}var yo=S.ReactCurrentBatchConfig,n0=!0;function zm(p,y,C,R){var W=ms,te=yo.transition;yo.transition=null;try{ms=1,a0(p,y,C,R)}finally{ms=W,yo.transition=te}}function $m(p,y,C,R){var W=ms,te=yo.transition;yo.transition=null;try{ms=4,a0(p,y,C,R)}finally{ms=W,yo.transition=te}}function a0(p,y,C,R){if(n0){var W=_h(p,y,C,R);if(W===null)ep(p,y,R,vl,C),dx(p,R);else if(Sd(W,p,y,C,R))R.stopPropagation();else if(dx(p,R),y&4&&-1<ly.indexOf(p)){for(;W!==null;){var te=g0(W);if(te!==null&&yu(te),te=_h(p,y,C,R),te===null&&ep(p,y,R,vl,C),te===W)break;W=te}W!==null&&R.stopPropagation()}else ep(p,y,R,null,C)}}var vl=null;function _h(p,y,C,R){if(vl=null,p=we(R),p=Tu(p),p!==null)if(y=Be(p),y===null)p=null;else if(C=y.tag,C===13){if(p=it(y),p!==null)return p;p=null}else if(C===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null);return vl=p,null}function Ch(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yt()){case Ut:return 1;case zt:return 4;case Zt:case Br:return 16;case _e:return 536870912;default:return 16}default:return 16}}var yl=null,_d=null,bu=null;function Gm(){if(bu)return bu;var p,y=_d,C=y.length,R,W="value"in yl?yl.value:yl.textContent,te=W.length;for(p=0;p<C&&y[p]===W[p];p++);var Ae=C-p;for(R=1;R<=Ae&&y[C-R]===W[te-R];R++);return bu=W.slice(p,1<R?1-R:void 0)}function Eh(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function bl(){return!0}function Pc(){return!1}function Li(p){function y(C,R,W,te,Ae){this._reactName=C,this._targetInst=W,this.type=R,this.nativeEvent=te,this.target=Ae,this.currentTarget=null;for(var He in p)p.hasOwnProperty(He)&&(C=p[He],this[He]=C?C(te):te[He]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?bl:Pc,this.isPropagationStopped=Pc,this}return Y(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),y}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i0=Li(wl),q=Y({},wl,{view:0,detail:0}),fe=Li(q),Ie,Ke,at,Mt=Y({},q,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kh,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==at&&(at&&p.type==="mousemove"?(Ie=p.screenX-at.screenX,Ke=p.screenY-at.screenY):Ke=Ie=0,at=p),Ie)},movementY:function(p){return"movementY"in p?p.movementY:Ke}}),Qt=Li(Mt),Nr=Y({},Mt,{dataTransfer:0}),Tr=Li(Nr),Yr=Y({},q,{relatedTarget:0}),rs=Li(Yr),Fs=Y({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Li(Fs),Ca=Y({},wl,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Sn=Li(Ca),Ra=Y({},wl,{data:0}),xa=Li(Ra),pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ed(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=Zl[p])?!!y[p]:!1}function kh(){return Ed}var o0=Y({},q,{key:function(p){if(p.key){var y=pi[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=Eh(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Cd[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kh,charCode:function(p){return p.type==="keypress"?Eh(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Eh(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),wu=Li(o0),Bh=Y({},Mt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Li(Bh),Nu=Y({},q,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kh}),Ai=Li(Nu),Th=Y({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=Li(Th),Vm=Y({},Mt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=Li(Vm),to=[9,13,27,32],ec=l&&"CompositionEvent"in window,Ic=null;l&&"documentMode"in document&&(Ic=document.documentMode);var hx=l&&"TextEvent"in window&&!Ic,tl=l&&(!ec||Ic&&8<Ic&&11>=Ic),Su=" ",l0=!1;function c0(p,y){switch(p){case"keyup":return to.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var jl=!1;function rl(p,y){switch(p){case"compositionend":return kd(y);case"keypress":return y.which!==32?null:(l0=!0,Su);case"textInput":return p=y.data,p===Su&&l0?null:p;default:return null}}function sl(p,y){if(jl)return p==="compositionend"||!ec&&c0(p,y)?(p=Gm(),bu=_d=yl=null,jl=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return tl&&y.locale!=="ko"?null:y.data;default:return null}}var _u={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!_u[p.type]:y==="textarea"}function Bd(p,y,C,R){St(R),y=xx(y,"onChange"),0<y.length&&(C=new i0("onChange","change",null,C,R),p.push({event:C,listeners:y}))}var Td=null,Lc=null;function ga(p){Jm(p,0)}function Fh(p){var y=zh(p);if(le(y))return p}function Rc(p,y){if(p==="change")return y}var tc=!1;if(l){var Ph;if(l){var Ih="oninput"in document;if(!Ih){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),Ih=typeof d0.oninput=="function"}Ph=Ih}else Ph=!1;tc=Ph&&(!document.documentMode||9<document.documentMode)}function u0(){Td&&(Td.detachEvent("onpropertychange",Md),Lc=Td=null)}function Md(p){if(p.propertyName==="value"&&Fh(Lc)){var y=[];Bd(y,Lc,p,we(p)),cr(ga,y)}}function Cu(p,y,C){p==="focusin"?(u0(),Td=y,Lc=C,Td.attachEvent("onpropertychange",Md)):p==="focusout"&&u0()}function Eu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Fh(Lc)}function Dh(p,y){if(p==="click")return Fh(y)}function ku(p,y){if(p==="input"||p==="change")return Fh(y)}function Lh(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var ca=typeof Object.is=="function"?Object.is:Lh;function bo(p,y){if(ca(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var C=Object.keys(p),R=Object.keys(y);if(C.length!==R.length)return!1;for(R=0;R<C.length;R++){var W=C[R];if(!c.call(y,W)||!ca(p[W],y[W]))return!1}return!0}function Os(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ln(p,y){var C=Os(p);p=0;for(var R;C;){if(C.nodeType===3){if(R=p+C.textContent.length,p<=y&&R>=y)return{node:C,offset:y-p};p=R}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Os(C)}}function da(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?da(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function Ea(){for(var p=window,y=lt();y instanceof p.HTMLIFrameElement;){try{var C=typeof y.contentWindow.location.href=="string"}catch{C=!1}if(C)p=y.contentWindow;else break;y=lt(p.document)}return y}function rc(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function qm(p){var y=Ea(),C=p.focusedElem,R=p.selectionRange;if(y!==C&&C&&C.ownerDocument&&da(C.ownerDocument.documentElement,C)){if(R!==null&&rc(C)){if(y=R.start,p=R.end,p===void 0&&(p=y),"selectionStart"in C)C.selectionStart=y,C.selectionEnd=Math.min(p,C.value.length);else if(p=(y=C.ownerDocument||document)&&y.defaultView||window,p.getSelection){p=p.getSelection();var W=C.textContent.length,te=Math.min(R.start,W);R=R.end===void 0?te:Math.min(R.end,W),!p.extend&&te>R&&(W=R,R=te,te=W),W=ln(C,te);var Ae=ln(C,R);W&&Ae&&(p.rangeCount!==1||p.anchorNode!==W.node||p.anchorOffset!==W.offset||p.focusNode!==Ae.node||p.focusOffset!==Ae.offset)&&(y=y.createRange(),y.setStart(W.node,W.offset),p.removeAllRanges(),te>R?(p.addRange(y),p.extend(Ae.node,Ae.offset)):(y.setEnd(Ae.node,Ae.offset),p.addRange(y)))}}for(y=[],p=C;p=p.parentNode;)p.nodeType===1&&y.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<y.length;C++)p=y[C],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var h0=l&&"documentMode"in document&&11>=document.documentMode,Fd=null,fx=null,f0=null,mx=!1;function cy(p,y,C){var R=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;mx||Fd==null||Fd!==lt(R)||(R=Fd,"selectionStart"in R&&rc(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),f0&&bo(f0,R)||(f0=R,R=xx(fx,"onSelect"),0<R.length&&(y=new i0("onSelect","select",null,y,C),p.push({event:y,listeners:R}),y.target=Fd)))}function Km(p,y){var C={};return C[p.toLowerCase()]=y.toLowerCase(),C["Webkit"+p]="webkit"+y,C["Moz"+p]="moz"+y,C}var Rh={animationend:Km("Animation","AnimationEnd"),animationiteration:Km("Animation","AnimationIteration"),animationstart:Km("Animation","AnimationStart"),transitionend:Km("Transition","TransitionEnd")},Oh={},dy={};l&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Rh.animationend.animation,delete Rh.animationiteration.animation,delete Rh.animationstart.animation),"TransitionEvent"in window||delete Rh.transitionend.transition);function Xm(p){if(Oh[p])return Oh[p];if(!Rh[p])return p;var y=Rh[p],C;for(C in y)if(y.hasOwnProperty(C)&&C in dy)return Oh[p]=y[C];return p}var uy=Xm("animationend"),hy=Xm("animationiteration"),fy=Xm("animationstart"),my=Xm("transitionend"),py=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oc(p,y){py.set(p,y),i(y,[p])}for(var m0=0;m0<Ay.length;m0++){var ro=Ay[m0],Nl=ro.toLowerCase(),px=ro[0].toUpperCase()+ro.slice(1);Oc(Nl,"on"+px)}Oc(uy,"onAnimationEnd"),Oc(hy,"onAnimationIteration"),Oc(fy,"onAnimationStart"),Oc("dblclick","onDoubleClick"),Oc("focusin","onFocus"),Oc("focusout","onBlur"),Oc(my,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function Ym(p,y,C){var R=p.type||"unknown-event";p.currentTarget=C,Fe(R,y,void 0,p),p.currentTarget=null}function Jm(p,y){y=(y&4)!==0;for(var C=0;C<p.length;C++){var R=p[C],W=R.event;R=R.listeners;e:{var te=void 0;if(y)for(var Ae=R.length-1;0<=Ae;Ae--){var He=R[Ae],Ye=He.instance,bt=He.currentTarget;if(He=He.listener,Ye!==te&&W.isPropagationStopped())break e;Ym(W,He,bt),te=Ye}else for(Ae=0;Ae<R.length;Ae++){if(He=R[Ae],Ye=He.instance,bt=He.currentTarget,He=He.listener,Ye!==te&&W.isPropagationStopped())break e;Ym(W,He,bt),te=Ye}}}if(me)throw p=ke,me=!1,ke=null,p}function xn(p,y){var C=y[jo];C===void 0&&(C=y[jo]=new Set);var R=p+"__bubble";C.has(R)||(Zm(y,p,2,!1),C.add(R))}function Ax(p,y,C){var R=0;y&&(R|=4),Zm(C,p,R,y)}var p0="_reactListening"+Math.random().toString(36).slice(2);function Uh(p){if(!p[p0]){p[p0]=!0,n.forEach(function(C){C!=="selectionchange"&&(c2.has(C)||Ax(C,!1,p),Ax(C,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[p0]||(y[p0]=!0,Ax("selectionchange",!1,y))}}function Zm(p,y,C,R){switch(Ch(y)){case 1:var W=zm;break;case 4:W=$m;break;default:W=a0}C=W.bind(null,y,C,p),W=void 0,!tn||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(W=!0),R?W!==void 0?p.addEventListener(y,C,{capture:!0,passive:W}):p.addEventListener(y,C,!0):W!==void 0?p.addEventListener(y,C,{passive:W}):p.addEventListener(y,C,!1)}function ep(p,y,C,R,W){var te=R;if((y&1)===0&&(y&2)===0&&R!==null)e:for(;;){if(R===null)return;var Ae=R.tag;if(Ae===3||Ae===4){var He=R.stateNode.containerInfo;if(He===W||He.nodeType===8&&He.parentNode===W)break;if(Ae===4)for(Ae=R.return;Ae!==null;){var Ye=Ae.tag;if((Ye===3||Ye===4)&&(Ye=Ae.stateNode.containerInfo,Ye===W||Ye.nodeType===8&&Ye.parentNode===W))return;Ae=Ae.return}for(;He!==null;){if(Ae=Tu(He),Ae===null)return;if(Ye=Ae.tag,Ye===5||Ye===6){R=te=Ae;continue e}He=He.parentNode}}R=R.return}cr(function(){var bt=te,Kt=we(C),Jt=[];e:{var Wt=py.get(p);if(Wt!==void 0){var xr=i0,Cr=p;switch(p){case"keypress":if(Eh(C)===0)break e;case"keydown":case"keyup":xr=wu;break;case"focusin":Cr="focus",xr=rs;break;case"focusout":Cr="blur",xr=rs;break;case"beforeblur":case"afterblur":xr=rs;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xr=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xr=Tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xr=Ai;break;case uy:case hy:case fy:xr=ea;break;case my:xr=Mh;break;case"scroll":xr=fe;break;case"wheel":xr=Wm;break;case"copy":case"cut":case"paste":xr=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xr=ju}var Er=(y&4)!==0,Oa=!Er&&p==="scroll",mt=Er?Wt!==null?Wt+"Capture":null:Wt;Er=[];for(var nt=bt,gt;nt!==null;){gt=nt;var rr=gt.stateNode;if(gt.tag===5&&rr!==null&&(gt=rr,mt!==null&&(rr=Ts(nt,mt),rr!=null&&Er.push(tp(nt,rr,gt)))),Oa)break;nt=nt.return}0<Er.length&&(Wt=new xr(Wt,Cr,null,C,Kt),Jt.push({event:Wt,listeners:Er}))}}if((y&7)===0){e:{if(Wt=p==="mouseover"||p==="pointerover",xr=p==="mouseout"||p==="pointerout",Wt&&C!==Ge&&(Cr=C.relatedTarget||C.fromElement)&&(Tu(Cr)||Cr[Ri]))break e;if((xr||Wt)&&(Wt=Kt.window===Kt?Kt:(Wt=Kt.ownerDocument)?Wt.defaultView||Wt.parentWindow:window,xr?(Cr=C.relatedTarget||C.toElement,xr=bt,Cr=Cr?Tu(Cr):null,Cr!==null&&(Oa=Be(Cr),Cr!==Oa||Cr.tag!==5&&Cr.tag!==6)&&(Cr=null)):(xr=null,Cr=bt),xr!==Cr)){if(Er=Qt,rr="onMouseLeave",mt="onMouseEnter",nt="mouse",(p==="pointerout"||p==="pointerover")&&(Er=ju,rr="onPointerLeave",mt="onPointerEnter",nt="pointer"),Oa=xr==null?Wt:zh(xr),gt=Cr==null?Wt:zh(Cr),Wt=new Er(rr,nt+"leave",xr,C,Kt),Wt.target=Oa,Wt.relatedTarget=gt,rr=null,Tu(Kt)===bt&&(Er=new Er(mt,nt+"enter",Cr,C,Kt),Er.target=gt,Er.relatedTarget=Oa,rr=Er),Oa=rr,xr&&Cr)t:{for(Er=xr,mt=Cr,nt=0,gt=Er;gt;gt=Hh(gt))nt++;for(gt=0,rr=mt;rr;rr=Hh(rr))gt++;for(;0<nt-gt;)Er=Hh(Er),nt--;for(;0<gt-nt;)mt=Hh(mt),gt--;for(;nt--;){if(Er===mt||mt!==null&&Er===mt.alternate)break t;Er=Hh(Er),mt=Hh(mt)}Er=null}else Er=null;xr!==null&&d2(Jt,Wt,xr,Er,!1),Cr!==null&&Oa!==null&&d2(Jt,Oa,Cr,Er,!0)}}e:{if(Wt=bt?zh(bt):window,xr=Wt.nodeName&&Wt.nodeName.toLowerCase(),xr==="select"||xr==="input"&&Wt.type==="file")var Fr=Rc;else if(Dc(Wt))if(tc)Fr=ku;else{Fr=Eu;var zr=Cu}else(xr=Wt.nodeName)&&xr.toLowerCase()==="input"&&(Wt.type==="checkbox"||Wt.type==="radio")&&(Fr=Dh);if(Fr&&(Fr=Fr(p,bt))){Bd(Jt,Fr,C,Kt);break e}zr&&zr(p,Wt,bt),p==="focusout"&&(zr=Wt._wrapperState)&&zr.controlled&&Wt.type==="number"&&Re(Wt,"number",Wt.value)}switch(zr=bt?zh(bt):window,p){case"focusin":(Dc(zr)||zr.contentEditable==="true")&&(Fd=zr,fx=bt,f0=null);break;case"focusout":f0=fx=Fd=null;break;case"mousedown":mx=!0;break;case"contextmenu":case"mouseup":case"dragend":mx=!1,cy(Jt,C,Kt);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":cy(Jt,C,Kt)}var $r;if(ec)e:{switch(p){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else jl?c0(p,C)&&(Zr="onCompositionEnd"):p==="keydown"&&C.keyCode===229&&(Zr="onCompositionStart");Zr&&(tl&&C.locale!=="ko"&&(jl||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&jl&&($r=Gm()):(yl=Kt,_d="value"in yl?yl.value:yl.textContent,jl=!0)),zr=xx(bt,Zr),0<zr.length&&(Zr=new xa(Zr,p,null,C,Kt),Jt.push({event:Zr,listeners:zr}),$r?Zr.data=$r:($r=kd(C),$r!==null&&(Zr.data=$r)))),($r=hx?rl(p,C):sl(p,C))&&(bt=xx(bt,"onBeforeInput"),0<bt.length&&(Kt=new xa("onBeforeInput","beforeinput",null,C,Kt),Jt.push({event:Kt,listeners:bt}),Kt.data=$r))}Jm(Jt,y)})}function tp(p,y,C){return{instance:p,listener:y,currentTarget:C}}function xx(p,y){for(var C=y+"Capture",R=[];p!==null;){var W=p,te=W.stateNode;W.tag===5&&te!==null&&(W=te,te=Ts(p,C),te!=null&&R.unshift(tp(p,te,W)),te=Ts(p,y),te!=null&&R.push(tp(p,te,W))),p=p.return}return R}function Hh(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function d2(p,y,C,R,W){for(var te=y._reactName,Ae=[];C!==null&&C!==R;){var He=C,Ye=He.alternate,bt=He.stateNode;if(Ye!==null&&Ye===R)break;He.tag===5&&bt!==null&&(He=bt,W?(Ye=Ts(C,te),Ye!=null&&Ae.unshift(tp(C,Ye,He))):W||(Ye=Ts(C,te),Ye!=null&&Ae.push(tp(C,Ye,He)))),C=C.return}Ae.length!==0&&p.push({event:y,listeners:Ae})}var w_=/\r\n?/g,j_=/\u0000|\uFFFD/g;function u2(p){return(typeof p=="string"?p:""+p).replace(w_,`
`).replace(j_,"")}function gx(p,y,C){if(y=u2(y),u2(p)!==y&&C)throw Error(r(425))}function A0(){}var rp=null,Qh=null;function xy(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,f2=typeof Promise=="function"?Promise:void 0,N_=typeof queueMicrotask=="function"?queueMicrotask:typeof f2<"u"?function(p){return f2.resolve(null).then(p).catch(S_)}:gy;function S_(p){setTimeout(function(){throw p})}function vy(p,y){var C=y,R=0;do{var W=C.nextSibling;if(p.removeChild(C),W&&W.nodeType===8)if(C=W.data,C==="/$"){if(R===0){p.removeChild(W),Sh(y);return}R--}else C!=="$"&&C!=="$?"&&C!=="$!"||R++;C=W}while(C);Sh(y)}function so(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return p}function Sl(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var C=p.data;if(C==="$"||C==="$!"||C==="$?"){if(y===0)return p;y--}else C==="/$"&&y++}p=p.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Uc="__reactFiber$"+wo,x0="__reactProps$"+wo,Ri="__reactContainer$"+wo,jo="__reactEvents$"+wo,__="__reactListeners$"+wo,C_="__reactHandles$"+wo;function Tu(p){var y=p[Uc];if(y)return y;for(var C=p.parentNode;C;){if(y=C[Ri]||C[Uc]){if(C=y.alternate,y.child!==null||C!==null&&C.child!==null)for(p=Sl(p);p!==null;){if(C=p[Uc])return C;p=Sl(p)}return y}p=C,C=p.parentNode}return null}function g0(p){return p=p[Uc]||p[Ri],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function zh(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function sp(p){return p[x0]||null}var yy=[],Pd=-1;function sc(p){return{current:p}}function rn(p){0>Pd||(p.current=yy[Pd],yy[Pd]=null,Pd--)}function cn(p,y){Pd++,yy[Pd]=p.current,p.current=y}var Mu={},xi=sc(Mu),No=sc(!1),$h=Mu;function v0(p,y){var C=p.type.contextTypes;if(!C)return Mu;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===y)return R.__reactInternalMemoizedMaskedChildContext;var W={},te;for(te in C)W[te]=y[te];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=W),W}function So(p){return p=p.childContextTypes,p!=null}function vx(){rn(No),rn(xi)}function m2(p,y,C){if(xi.current!==Mu)throw Error(r(168));cn(xi,y),cn(No,C)}function by(p,y,C){var R=p.stateNode;if(y=y.childContextTypes,typeof R.getChildContext!="function")return C;R=R.getChildContext();for(var W in R)if(!(W in y))throw Error(r(108,ue(p)||"Unknown",W));return Y({},C,R)}function Gh(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Mu,$h=xi.current,cn(xi,p),cn(No,No.current),!0}function p2(p,y,C){var R=p.stateNode;if(!R)throw Error(r(169));C?(p=by(p,y,$h),R.__reactInternalMemoizedMergedChildContext=p,rn(No),rn(xi),cn(xi,p)):rn(No),cn(No,C)}var Id=null,np=!1,I=!1;function U(p){Id===null?Id=[p]:Id.push(p)}function Z(p){np=!0,U(p)}function se(){if(!I&&Id!==null){I=!0;var p=0,y=ms;try{var C=Id;for(ms=1;p<C.length;p++){var R=C[p];do R=R(!0);while(R!==null)}Id=null,np=!1}catch(W){throw Id!==null&&(Id=Id.slice(p+1)),de(Ut,se),W}finally{ms=y,I=!1}}return null}var he=[],xe=0,ve=null,be=0,Ne=[],Te=0,Xe=null,ht=1,Me="";function rt(p,y){he[xe++]=be,he[xe++]=ve,ve=p,be=y}function ot(p,y,C){Ne[Te++]=ht,Ne[Te++]=Me,Ne[Te++]=Xe,Xe=p;var R=ht;p=Me;var W=32-Yt(R)-1;R&=~(1<<W),C+=1;var te=32-Yt(y)+W;if(30<te){var Ae=W-W%5;te=(R&(1<<Ae)-1).toString(32),R>>=Ae,W-=Ae,ht=1<<32-Yt(y)+W|C<<W|R,Me=te+p}else ht=1<<te|C<<W|R,Me=p}function kt(p){p.return!==null&&(rt(p,1),ot(p,1,0))}function At(p){for(;p===ve;)ve=he[--xe],he[xe]=null,be=he[--xe],he[xe]=null;for(;p===Xe;)Xe=Ne[--Te],Ne[Te]=null,Me=Ne[--Te],Ne[Te]=null,ht=Ne[--Te],Ne[Te]=null}var Nt=null,Ct=null,Pt=!1,Dt=null;function Mr(p,y){var C=Gc(5,null,null,0);C.elementType="DELETED",C.stateNode=y,C.return=p,y=p.deletions,y===null?(p.deletions=[C],p.flags|=16):y.push(C)}function yr(p,y){switch(p.tag){case 5:var C=p.type;return y=y.nodeType!==1||C.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,Nt=p,Ct=so(y.firstChild),!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,Nt=p,Ct=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(C=Xe!==null?{id:ht,overflow:Me}:null,p.memoizedState={dehydrated:y,treeContext:C,retryLane:1073741824},C=Gc(18,null,null,0),C.stateNode=y,C.return=p,p.child=C,Nt=p,Ct=null,!0):!1;default:return!1}}function ns(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Sr(p){if(Pt){var y=Ct;if(y){var C=y;if(!yr(p,y)){if(ns(p))throw Error(r(418));y=so(C.nextSibling);var R=Nt;y&&yr(p,y)?Mr(R,C):(p.flags=p.flags&-4097|2,Pt=!1,Nt=p)}}else{if(ns(p))throw Error(r(418));p.flags=p.flags&-4097|2,Pt=!1,Nt=p}}}function Ss(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Nt=p}function ua(p){if(p!==Nt)return!1;if(!Pt)return Ss(p),Pt=!0,!1;var y;if((y=p.tag!==3)&&!(y=p.tag!==5)&&(y=p.type,y=y!=="head"&&y!=="body"&&!xy(p.type,p.memoizedProps)),y&&(y=Ct)){if(ns(p))throw os(),Error(r(418));for(;y;)Mr(p,y),y=so(y.nextSibling)}if(Ss(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var C=p.data;if(C==="/$"){if(y===0){Ct=so(p.nextSibling);break e}y--}else C!=="$"&&C!=="$!"&&C!=="$?"||y++}p=p.nextSibling}Ct=null}}else Ct=Nt?so(p.stateNode.nextSibling):null;return!0}function os(){for(var p=Ct;p;)p=so(p.nextSibling)}function br(){Ct=Nt=null,Pt=!1}function or(p){Dt===null?Dt=[p]:Dt.push(p)}var va=S.ReactCurrentBatchConfig;function Ur(p,y){if(p&&p.defaultProps){y=Y({},y),p=p.defaultProps;for(var C in p)y[C]===void 0&&(y[C]=p[C]);return y}return y}var ws=sc(null),dn=null,ha=null,gi=null;function Hn(){gi=ha=dn=null}function ri(p){var y=ws.current;rn(ws),p._currentValue=y}function vi(p,y,C){for(;p!==null;){var R=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,R!==null&&(R.childLanes|=y)):R!==null&&(R.childLanes&y)!==y&&(R.childLanes|=y),p===C)break;p=p.return}}function Qn(p,y){dn=p,gi=ha=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&y)!==0&&(Bl=!0),p.firstContext=null)}function ss(p){var y=p._currentValue;if(gi!==p)if(p={context:p,memoizedValue:y,next:null},ha===null){if(dn===null)throw Error(r(308));ha=p,dn.dependencies={lanes:0,firstContext:p}}else ha=ha.next=p;return y}var Cs=null;function zn(p){Cs===null?Cs=[p]:Cs.push(p)}function Ws(p,y,C,R){var W=y.interleaved;return W===null?(C.next=C,zn(y)):(C.next=W.next,W.next=C),y.interleaved=C,In(p,R)}function In(p,y){p.lanes|=y;var C=p.alternate;for(C!==null&&(C.lanes|=y),C=p,p=p.return;p!==null;)p.childLanes|=y,C=p.alternate,C!==null&&(C.childLanes|=y),C=p,p=p.return;return C.tag===3?C.stateNode:null}var si=!1;function ta(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function no(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Es(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function _n(p,y,C){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(Us&2)!==0){var W=R.pending;return W===null?y.next=y:(y.next=W.next,W.next=y),R.pending=y,In(p,C)}return W=R.interleaved,W===null?(y.next=y,zn(R)):(y.next=W.next,W.next=y),R.interleaved=y,In(p,C)}function Oi(p,y,C){if(y=y.updateQueue,y!==null&&(y=y.shared,(C&4194240)!==0)){var R=y.lanes;R&=p.pendingLanes,C|=R,y.lanes=C,Tc(p,C)}}function Ui(p,y){var C=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,C===R)){var W=null,te=null;if(C=C.firstBaseUpdate,C!==null){do{var Ae={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};te===null?W=te=Ae:te=te.next=Ae,C=C.next}while(C!==null);te===null?W=te=y:te=te.next=y}else W=te=y;C={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:te,shared:R.shared,effects:R.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=y:p.next=y,C.lastBaseUpdate=y}function Hi(p,y,C,R){var W=p.updateQueue;si=!1;var te=W.firstBaseUpdate,Ae=W.lastBaseUpdate,He=W.shared.pending;if(He!==null){W.shared.pending=null;var Ye=He,bt=Ye.next;Ye.next=null,Ae===null?te=bt:Ae.next=bt,Ae=Ye;var Kt=p.alternate;Kt!==null&&(Kt=Kt.updateQueue,He=Kt.lastBaseUpdate,He!==Ae&&(He===null?Kt.firstBaseUpdate=bt:He.next=bt,Kt.lastBaseUpdate=Ye))}if(te!==null){var Jt=W.baseState;Ae=0,Kt=bt=Ye=null,He=te;do{var Wt=He.lane,xr=He.eventTime;if((R&Wt)===Wt){Kt!==null&&(Kt=Kt.next={eventTime:xr,lane:0,tag:He.tag,payload:He.payload,callback:He.callback,next:null});e:{var Cr=p,Er=He;switch(Wt=y,xr=C,Er.tag){case 1:if(Cr=Er.payload,typeof Cr=="function"){Jt=Cr.call(xr,Jt,Wt);break e}Jt=Cr;break e;case 3:Cr.flags=Cr.flags&-65537|128;case 0:if(Cr=Er.payload,Wt=typeof Cr=="function"?Cr.call(xr,Jt,Wt):Cr,Wt==null)break e;Jt=Y({},Jt,Wt);break e;case 2:si=!0}}He.callback!==null&&He.lane!==0&&(p.flags|=64,Wt=W.effects,Wt===null?W.effects=[He]:Wt.push(He))}else xr={eventTime:xr,lane:Wt,tag:He.tag,payload:He.payload,callback:He.callback,next:null},Kt===null?(bt=Kt=xr,Ye=Jt):Kt=Kt.next=xr,Ae|=Wt;if(He=He.next,He===null){if(He=W.shared.pending,He===null)break;Wt=He,He=Wt.next,Wt.next=null,W.lastBaseUpdate=Wt,W.shared.pending=null}}while(!0);if(Kt===null&&(Ye=Jt),W.baseState=Ye,W.firstBaseUpdate=bt,W.lastBaseUpdate=Kt,y=W.shared.interleaved,y!==null){W=y;do Ae|=W.lane,W=W.next;while(W!==y)}else te===null&&(W.shared.lanes=0);pp|=Ae,p.lanes=Ae,p.memoizedState=Jt}}function _o(p,y,C){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var R=p[y],W=R.callback;if(W!==null){if(R.callback=null,R=C,typeof W!="function")throw Error(r(191,W));W.call(R)}}}var ao=new t.Component().refs;function io(p,y,C,R){y=p.memoizedState,C=C(R,y),C=C==null?y:Y({},y,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var sn={isMounted:function(p){return(p=p._reactInternals)?Be(p)===p:!1},enqueueSetState:function(p,y,C){p=p._reactInternals;var R=al(),W=S0(p),te=Es(R,W);te.payload=y,C!=null&&(te.callback=C),y=_n(p,te,W),y!==null&&(Hd(y,p,W,R),Oi(y,p,W))},enqueueReplaceState:function(p,y,C){p=p._reactInternals;var R=al(),W=S0(p),te=Es(R,W);te.tag=1,te.payload=y,C!=null&&(te.callback=C),y=_n(p,te,W),y!==null&&(Hd(y,p,W,R),Oi(y,p,W))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var C=al(),R=S0(p),W=Es(C,R);W.tag=2,y!=null&&(W.callback=y),y=_n(p,W,R),y!==null&&(Hd(y,p,R,C),Oi(y,p,R))}};function Co(p,y,C,R,W,te,Ae){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,te,Ae):y.prototype&&y.prototype.isPureReactComponent?!bo(C,R)||!bo(W,te):!0}function _l(p,y,C){var R=!1,W=Mu,te=y.contextType;return typeof te=="object"&&te!==null?te=ss(te):(W=So(y)?$h:xi.current,R=y.contextTypes,te=(R=R!=null)?v0(p,W):Mu),y=new y(C,te),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=sn,p.stateNode=y,y._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=te),y}function Fu(p,y,C,R){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(C,R),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(C,R),y.state!==p&&sn.enqueueReplaceState(y,y.state,null)}function nc(p,y,C,R){var W=p.stateNode;W.props=C,W.state=p.memoizedState,W.refs=ao,ta(p);var te=y.contextType;typeof te=="object"&&te!==null?W.context=ss(te):(te=So(y)?$h:xi.current,W.context=v0(p,te)),W.state=p.memoizedState,te=y.getDerivedStateFromProps,typeof te=="function"&&(io(p,y,te,C),W.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(y=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),y!==W.state&&sn.enqueueReplaceState(W,W.state,null),Hi(p,C,W,R),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}function ya(p,y,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(r(309));var R=C.stateNode}if(!R)throw Error(r(147,p));var W=R,te=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===te?y.ref:(y=function(Ae){var He=W.refs;He===ao&&(He=W.refs={}),Ae===null?delete He[te]:He[te]=Ae},y._stringRef=te,y)}if(typeof p!="string")throw Error(r(284));if(!C._owner)throw Error(r(290,p))}return p}function Vh(p,y){throw p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p))}function yx(p){var y=p._init;return y(p._payload)}function ap(p){function y(mt,nt){if(p){var gt=mt.deletions;gt===null?(mt.deletions=[nt],mt.flags|=16):gt.push(nt)}}function C(mt,nt){if(!p)return null;for(;nt!==null;)y(mt,nt),nt=nt.sibling;return null}function R(mt,nt){for(mt=new Map;nt!==null;)nt.key!==null?mt.set(nt.key,nt):mt.set(nt.index,nt),nt=nt.sibling;return mt}function W(mt,nt){return mt=C0(mt,nt),mt.index=0,mt.sibling=null,mt}function te(mt,nt,gt){return mt.index=gt,p?(gt=mt.alternate,gt!==null?(gt=gt.index,gt<nt?(mt.flags|=2,nt):gt):(mt.flags|=2,nt)):(mt.flags|=1048576,nt)}function Ae(mt){return p&&mt.alternate===null&&(mt.flags|=2),mt}function He(mt,nt,gt,rr){return nt===null||nt.tag!==6?(nt=eC(gt,mt.mode,rr),nt.return=mt,nt):(nt=W(nt,gt),nt.return=mt,nt)}function Ye(mt,nt,gt,rr){var Fr=gt.type;return Fr===E?Kt(mt,nt,gt.props.children,rr,gt.key):nt!==null&&(nt.elementType===Fr||typeof Fr=="object"&&Fr!==null&&Fr.$$typeof===Q&&yx(Fr)===nt.type)?(rr=W(nt,gt.props),rr.ref=ya(mt,nt,gt),rr.return=mt,rr):(rr=P2(gt.type,gt.key,gt.props,null,mt.mode,rr),rr.ref=ya(mt,nt,gt),rr.return=mt,rr)}function bt(mt,nt,gt,rr){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==gt.containerInfo||nt.stateNode.implementation!==gt.implementation?(nt=tC(gt,mt.mode,rr),nt.return=mt,nt):(nt=W(nt,gt.children||[]),nt.return=mt,nt)}function Kt(mt,nt,gt,rr,Fr){return nt===null||nt.tag!==7?(nt=vp(gt,mt.mode,rr,Fr),nt.return=mt,nt):(nt=W(nt,gt),nt.return=mt,nt)}function Jt(mt,nt,gt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return nt=eC(""+nt,mt.mode,gt),nt.return=mt,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case w:return gt=P2(nt.type,nt.key,nt.props,null,mt.mode,gt),gt.ref=ya(mt,null,nt),gt.return=mt,gt;case N:return nt=tC(nt,mt.mode,gt),nt.return=mt,nt;case Q:var rr=nt._init;return Jt(mt,rr(nt._payload),gt)}if(ze(nt)||ee(nt))return nt=vp(nt,mt.mode,gt,null),nt.return=mt,nt;Vh(mt,nt)}return null}function Wt(mt,nt,gt,rr){var Fr=nt!==null?nt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return Fr!==null?null:He(mt,nt,""+gt,rr);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:return gt.key===Fr?Ye(mt,nt,gt,rr):null;case N:return gt.key===Fr?bt(mt,nt,gt,rr):null;case Q:return Fr=gt._init,Wt(mt,nt,Fr(gt._payload),rr)}if(ze(gt)||ee(gt))return Fr!==null?null:Kt(mt,nt,gt,rr,null);Vh(mt,gt)}return null}function xr(mt,nt,gt,rr,Fr){if(typeof rr=="string"&&rr!==""||typeof rr=="number")return mt=mt.get(gt)||null,He(nt,mt,""+rr,Fr);if(typeof rr=="object"&&rr!==null){switch(rr.$$typeof){case w:return mt=mt.get(rr.key===null?gt:rr.key)||null,Ye(nt,mt,rr,Fr);case N:return mt=mt.get(rr.key===null?gt:rr.key)||null,bt(nt,mt,rr,Fr);case Q:var zr=rr._init;return xr(mt,nt,gt,zr(rr._payload),Fr)}if(ze(rr)||ee(rr))return mt=mt.get(gt)||null,Kt(nt,mt,rr,Fr,null);Vh(nt,rr)}return null}function Cr(mt,nt,gt,rr){for(var Fr=null,zr=null,$r=nt,Zr=nt=0,zi=null;$r!==null&&Zr<gt.length;Zr++){$r.index>Zr?(zi=$r,$r=null):zi=$r.sibling;var qs=Wt(mt,$r,gt[Zr],rr);if(qs===null){$r===null&&($r=zi);break}p&&$r&&qs.alternate===null&&y(mt,$r),nt=te(qs,nt,Zr),zr===null?Fr=qs:zr.sibling=qs,zr=qs,$r=zi}if(Zr===gt.length)return C(mt,$r),Pt&&rt(mt,Zr),Fr;if($r===null){for(;Zr<gt.length;Zr++)$r=Jt(mt,gt[Zr],rr),$r!==null&&(nt=te($r,nt,Zr),zr===null?Fr=$r:zr.sibling=$r,zr=$r);return Pt&&rt(mt,Zr),Fr}for($r=R(mt,$r);Zr<gt.length;Zr++)zi=xr($r,mt,Zr,gt[Zr],rr),zi!==null&&(p&&zi.alternate!==null&&$r.delete(zi.key===null?Zr:zi.key),nt=te(zi,nt,Zr),zr===null?Fr=zi:zr.sibling=zi,zr=zi);return p&&$r.forEach(function(E0){return y(mt,E0)}),Pt&&rt(mt,Zr),Fr}function Er(mt,nt,gt,rr){var Fr=ee(gt);if(typeof Fr!="function")throw Error(r(150));if(gt=Fr.call(gt),gt==null)throw Error(r(151));for(var zr=Fr=null,$r=nt,Zr=nt=0,zi=null,qs=gt.next();$r!==null&&!qs.done;Zr++,qs=gt.next()){$r.index>Zr?(zi=$r,$r=null):zi=$r.sibling;var E0=Wt(mt,$r,qs.value,rr);if(E0===null){$r===null&&($r=zi);break}p&&$r&&E0.alternate===null&&y(mt,$r),nt=te(E0,nt,Zr),zr===null?Fr=E0:zr.sibling=E0,zr=E0,$r=zi}if(qs.done)return C(mt,$r),Pt&&rt(mt,Zr),Fr;if($r===null){for(;!qs.done;Zr++,qs=gt.next())qs=Jt(mt,qs.value,rr),qs!==null&&(nt=te(qs,nt,Zr),zr===null?Fr=qs:zr.sibling=qs,zr=qs);return Pt&&rt(mt,Zr),Fr}for($r=R(mt,$r);!qs.done;Zr++,qs=gt.next())qs=xr($r,mt,Zr,qs.value,rr),qs!==null&&(p&&qs.alternate!==null&&$r.delete(qs.key===null?Zr:qs.key),nt=te(qs,nt,Zr),zr===null?Fr=qs:zr.sibling=qs,zr=qs);return p&&$r.forEach(function(Boe){return y(mt,Boe)}),Pt&&rt(mt,Zr),Fr}function Oa(mt,nt,gt,rr){if(typeof gt=="object"&&gt!==null&&gt.type===E&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:e:{for(var Fr=gt.key,zr=nt;zr!==null;){if(zr.key===Fr){if(Fr=gt.type,Fr===E){if(zr.tag===7){C(mt,zr.sibling),nt=W(zr,gt.props.children),nt.return=mt,mt=nt;break e}}else if(zr.elementType===Fr||typeof Fr=="object"&&Fr!==null&&Fr.$$typeof===Q&&yx(Fr)===zr.type){C(mt,zr.sibling),nt=W(zr,gt.props),nt.ref=ya(mt,zr,gt),nt.return=mt,mt=nt;break e}C(mt,zr);break}else y(mt,zr);zr=zr.sibling}gt.type===E?(nt=vp(gt.props.children,mt.mode,rr,gt.key),nt.return=mt,mt=nt):(rr=P2(gt.type,gt.key,gt.props,null,mt.mode,rr),rr.ref=ya(mt,nt,gt),rr.return=mt,mt=rr)}return Ae(mt);case N:e:{for(zr=gt.key;nt!==null;){if(nt.key===zr)if(nt.tag===4&&nt.stateNode.containerInfo===gt.containerInfo&&nt.stateNode.implementation===gt.implementation){C(mt,nt.sibling),nt=W(nt,gt.children||[]),nt.return=mt,mt=nt;break e}else{C(mt,nt);break}else y(mt,nt);nt=nt.sibling}nt=tC(gt,mt.mode,rr),nt.return=mt,mt=nt}return Ae(mt);case Q:return zr=gt._init,Oa(mt,nt,zr(gt._payload),rr)}if(ze(gt))return Cr(mt,nt,gt,rr);if(ee(gt))return Er(mt,nt,gt,rr);Vh(mt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,nt!==null&&nt.tag===6?(C(mt,nt.sibling),nt=W(nt,gt),nt.return=mt,mt=nt):(C(mt,nt),nt=eC(gt,mt.mode,rr),nt.return=mt,mt=nt),Ae(mt)):C(mt,nt)}return Oa}var Hc=ap(!0),A2=ap(!1),ip={},Cl=sc(ip),El=sc(ip),op=sc(ip);function Wh(p){if(p===ip)throw Error(r(174));return p}function wy(p,y){switch(cn(op,y),cn(El,p),cn(Cl,ip),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:Tt(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=Tt(y,p)}rn(Cl),cn(Cl,y)}function qh(){rn(Cl),rn(El),rn(op)}function lp(p){Wh(op.current);var y=Wh(Cl.current),C=Tt(y,p.type);y!==C&&(cn(El,p),cn(Cl,C))}function bx(p){El.current===p&&(rn(Cl),rn(El))}var $n=sc(0);function Kh(p){for(var y=p;y!==null;){if(y.tag===13){var C=y.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var cp=[];function Xh(){for(var p=0;p<cp.length;p++)cp[p]._workInProgressVersionPrimary=null;cp.length=0}var dp=S.ReactCurrentDispatcher,jy=S.ReactCurrentBatchConfig,Qc=0,Gn=null,ba=null,Dn=null,up=!1,y0=!1,hp=0,x2=0;function wa(){throw Error(r(321))}function Ny(p,y){if(y===null)return!1;for(var C=0;C<y.length&&C<p.length;C++)if(!ca(p[C],y[C]))return!1;return!0}function wx(p,y,C,R,W,te){if(Qc=te,Gn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,dp.current=p===null||p.memoizedState===null?roe:soe,p=C(R,W),y0){te=0;do{if(y0=!1,hp=0,25<=te)throw Error(r(301));te+=1,Dn=ba=null,y.updateQueue=null,dp.current=noe,p=C(R,W)}while(y0)}if(dp.current=b2,y=ba!==null&&ba.next!==null,Qc=0,Dn=ba=Gn=null,up=!1,y)throw Error(r(300));return p}function Sy(){var p=hp!==0;return hp=0,p}function ac(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Gn.memoizedState=Dn=p:Dn=Dn.next=p,Dn}function kl(){if(ba===null){var p=Gn.alternate;p=p!==null?p.memoizedState:null}else p=ba.next;var y=Dn===null?Gn.memoizedState:Dn.next;if(y!==null)Dn=y,ba=p;else{if(p===null)throw Error(r(310));ba=p,p={memoizedState:ba.memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},Dn===null?Gn.memoizedState=Dn=p:Dn=Dn.next=p}return Dn}function Dd(p,y){return typeof y=="function"?y(p):y}function fp(p){var y=kl(),C=y.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=p;var R=ba,W=R.baseQueue,te=C.pending;if(te!==null){if(W!==null){var Ae=W.next;W.next=te.next,te.next=Ae}R.baseQueue=W=te,C.pending=null}if(W!==null){te=W.next,R=R.baseState;var He=Ae=null,Ye=null,bt=te;do{var Kt=bt.lane;if((Qc&Kt)===Kt)Ye!==null&&(Ye=Ye.next={lane:0,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),R=bt.hasEagerState?bt.eagerState:p(R,bt.action);else{var Jt={lane:Kt,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null};Ye===null?(He=Ye=Jt,Ae=R):Ye=Ye.next=Jt,Gn.lanes|=Kt,pp|=Kt}bt=bt.next}while(bt!==null&&bt!==te);Ye===null?Ae=R:Ye.next=He,ca(R,y.memoizedState)||(Bl=!0),y.memoizedState=R,y.baseState=Ae,y.baseQueue=Ye,C.lastRenderedState=R}if(p=C.interleaved,p!==null){W=p;do te=W.lane,Gn.lanes|=te,pp|=te,W=W.next;while(W!==p)}else W===null&&(C.lanes=0);return[y.memoizedState,C.dispatch]}function b0(p){var y=kl(),C=y.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=p;var R=C.dispatch,W=C.pending,te=y.memoizedState;if(W!==null){C.pending=null;var Ae=W=W.next;do te=p(te,Ae.action),Ae=Ae.next;while(Ae!==W);ca(te,y.memoizedState)||(Bl=!0),y.memoizedState=te,y.baseQueue===null&&(y.baseState=te),C.lastRenderedState=te}return[te,R]}function zc(){}function Ld(p,y){var C=Gn,R=kl(),W=y(),te=!ca(R.memoizedState,W);if(te&&(R.memoizedState=W,Bl=!0),R=R.queue,E_(jx.bind(null,C,R,p),[p]),R.getSnapshot!==y||te||Dn!==null&&Dn.memoizedState.tag&1){if(C.flags|=2048,Yh(9,mp.bind(null,C,R,W,y),void 0,null),Qi===null)throw Error(r(349));(Qc&30)!==0||Rd(C,y,W)}return W}function Rd(p,y,C){p.flags|=16384,p={getSnapshot:y,value:C},y=Gn.updateQueue,y===null?(y={lastEffect:null,stores:null},Gn.updateQueue=y,y.stores=[p]):(C=y.stores,C===null?y.stores=[p]:C.push(p))}function mp(p,y,C,R){y.value=C,y.getSnapshot=R,_y(y)&&g2(p)}function jx(p,y,C){return C(function(){_y(y)&&g2(p)})}function _y(p){var y=p.getSnapshot;p=p.value;try{var C=y();return!ca(p,C)}catch{return!0}}function g2(p){var y=In(p,1);y!==null&&Hd(y,p,1,-1)}function Nx(p){var y=ac();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:p},y.queue=p,p=p.dispatch=toe.bind(null,Gn,p),[y.memoizedState,p]}function Yh(p,y,C,R){return p={tag:p,create:y,destroy:C,deps:R,next:null},y=Gn.updateQueue,y===null?(y={lastEffect:null,stores:null},Gn.updateQueue=y,y.lastEffect=p.next=p):(C=y.lastEffect,C===null?y.lastEffect=p.next=p:(R=C.next,C.next=p,p.next=R,y.lastEffect=p)),p}function hL(){return kl().memoizedState}function v2(p,y,C,R){var W=ac();Gn.flags|=p,W.memoizedState=Yh(1|y,C,void 0,R===void 0?null:R)}function y2(p,y,C,R){var W=kl();R=R===void 0?null:R;var te=void 0;if(ba!==null){var Ae=ba.memoizedState;if(te=Ae.destroy,R!==null&&Ny(R,Ae.deps)){W.memoizedState=Yh(y,C,te,R);return}}Gn.flags|=p,W.memoizedState=Yh(1|y,C,te,R)}function fL(p,y){return v2(8390656,8,p,y)}function E_(p,y){return y2(2048,8,p,y)}function mL(p,y){return y2(4,2,p,y)}function pL(p,y){return y2(4,4,p,y)}function AL(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function xL(p,y,C){return C=C!=null?C.concat([p]):null,y2(4,4,AL.bind(null,y,p),C)}function k_(){}function gL(p,y){var C=kl();y=y===void 0?null:y;var R=C.memoizedState;return R!==null&&y!==null&&Ny(y,R[1])?R[0]:(C.memoizedState=[p,y],p)}function vL(p,y){var C=kl();y=y===void 0?null:y;var R=C.memoizedState;return R!==null&&y!==null&&Ny(y,R[1])?R[0]:(p=p(),C.memoizedState=[p,y],p)}function yL(p,y,C){return(Qc&21)===0?(p.baseState&&(p.baseState=!1,Bl=!0),p.memoizedState=C):(ca(C,y)||(C=ei(),Gn.lanes|=C,pp|=C,p.baseState=!0),y)}function Zie(p,y){var C=ms;ms=C!==0&&4>C?C:4,p(!0);var R=jy.transition;jy.transition={};try{p(!1),y()}finally{ms=C,jy.transition=R}}function bL(){return kl().memoizedState}function eoe(p,y,C){var R=S0(p);if(C={lane:R,action:C,hasEagerState:!1,eagerState:null,next:null},wL(p))jL(y,C);else if(C=Ws(p,y,C,R),C!==null){var W=al();Hd(C,p,R,W),NL(C,y,R)}}function toe(p,y,C){var R=S0(p),W={lane:R,action:C,hasEagerState:!1,eagerState:null,next:null};if(wL(p))jL(y,W);else{var te=p.alternate;if(p.lanes===0&&(te===null||te.lanes===0)&&(te=y.lastRenderedReducer,te!==null))try{var Ae=y.lastRenderedState,He=te(Ae,C);if(W.hasEagerState=!0,W.eagerState=He,ca(He,Ae)){var Ye=y.interleaved;Ye===null?(W.next=W,zn(y)):(W.next=Ye.next,Ye.next=W),y.interleaved=W;return}}catch{}finally{}C=Ws(p,y,W,R),C!==null&&(W=al(),Hd(C,p,R,W),NL(C,y,R))}}function wL(p){var y=p.alternate;return p===Gn||y!==null&&y===Gn}function jL(p,y){y0=up=!0;var C=p.pending;C===null?y.next=y:(y.next=C.next,C.next=y),p.pending=y}function NL(p,y,C){if((C&4194240)!==0){var R=y.lanes;R&=p.pendingLanes,C|=R,y.lanes=C,Tc(p,C)}}var b2={readContext:ss,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},roe={readContext:ss,useCallback:function(p,y){return ac().memoizedState=[p,y===void 0?null:y],p},useContext:ss,useEffect:fL,useImperativeHandle:function(p,y,C){return C=C!=null?C.concat([p]):null,v2(4194308,4,AL.bind(null,y,p),C)},useLayoutEffect:function(p,y){return v2(4194308,4,p,y)},useInsertionEffect:function(p,y){return v2(4,2,p,y)},useMemo:function(p,y){var C=ac();return y=y===void 0?null:y,p=p(),C.memoizedState=[p,y],p},useReducer:function(p,y,C){var R=ac();return y=C!==void 0?C(y):y,R.memoizedState=R.baseState=y,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},R.queue=p,p=p.dispatch=eoe.bind(null,Gn,p),[R.memoizedState,p]},useRef:function(p){var y=ac();return p={current:p},y.memoizedState=p},useState:Nx,useDebugValue:k_,useDeferredValue:function(p){return ac().memoizedState=p},useTransition:function(){var p=Nx(!1),y=p[0];return p=Zie.bind(null,p[1]),ac().memoizedState=p,[y,p]},useMutableSource:function(){},useSyncExternalStore:function(p,y,C){var R=Gn,W=ac();if(Pt){if(C===void 0)throw Error(r(407));C=C()}else{if(C=y(),Qi===null)throw Error(r(349));(Qc&30)!==0||Rd(R,y,C)}W.memoizedState=C;var te={value:C,getSnapshot:y};return W.queue=te,fL(jx.bind(null,R,te,p),[p]),R.flags|=2048,Yh(9,mp.bind(null,R,te,C,y),void 0,null),C},useId:function(){var p=ac(),y=Qi.identifierPrefix;if(Pt){var C=Me,R=ht;C=(R&~(1<<32-Yt(R)-1)).toString(32)+C,y=":"+y+"R"+C,C=hp++,0<C&&(y+="H"+C.toString(32)),y+=":"}else C=x2++,y=":"+y+"r"+C.toString(32)+":";return p.memoizedState=y},unstable_isNewReconciler:!1},soe={readContext:ss,useCallback:gL,useContext:ss,useEffect:E_,useImperativeHandle:xL,useInsertionEffect:mL,useLayoutEffect:pL,useMemo:vL,useReducer:fp,useRef:hL,useState:function(){return fp(Dd)},useDebugValue:k_,useDeferredValue:function(p){var y=kl();return yL(y,ba.memoizedState,p)},useTransition:function(){var p=fp(Dd)[0],y=kl().memoizedState;return[p,y]},useMutableSource:zc,useSyncExternalStore:Ld,useId:bL,unstable_isNewReconciler:!1},noe={readContext:ss,useCallback:gL,useContext:ss,useEffect:E_,useImperativeHandle:xL,useInsertionEffect:mL,useLayoutEffect:pL,useMemo:vL,useReducer:b0,useRef:hL,useState:function(){return b0(Dd)},useDebugValue:k_,useDeferredValue:function(p){var y=kl();return ba===null?y.memoizedState=p:yL(y,ba.memoizedState,p)},useTransition:function(){var p=b0(Dd)[0],y=kl().memoizedState;return[p,y]},useMutableSource:zc,useSyncExternalStore:Ld,useId:bL,unstable_isNewReconciler:!1};function Sx(p,y){try{var C="",R=y;do C+=K(R),R=R.return;while(R);var W=C}catch(te){W=`
Error generating stack: `+te.message+`
`+te.stack}return{value:p,source:y,stack:W,digest:null}}function B_(p,y,C){return{value:p,source:null,stack:C??null,digest:y??null}}function T_(p,y){try{console.error(y.value)}catch(C){setTimeout(function(){throw C})}}var aoe=typeof WeakMap=="function"?WeakMap:Map;function SL(p,y,C){C=Es(-1,C),C.tag=3,C.payload={element:null};var R=y.value;return C.callback=function(){E2||(E2=!0,V_=R),T_(p,y)},C}function _L(p,y,C){C=Es(-1,C),C.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var W=y.value;C.payload=function(){return R(W)},C.callback=function(){T_(p,y)}}var te=p.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(C.callback=function(){T_(p,y),typeof R!="function"&&(j0===null?j0=new Set([this]):j0.add(this));var Ae=y.stack;this.componentDidCatch(y.value,{componentStack:Ae!==null?Ae:""})}),C}function CL(p,y,C){var R=p.pingCache;if(R===null){R=p.pingCache=new aoe;var W=new Set;R.set(y,W)}else W=R.get(y),W===void 0&&(W=new Set,R.set(y,W));W.has(C)||(W.add(C),p=voe.bind(null,p,y,C),y.then(p,p))}function EL(p){do{var y;if((y=p.tag===13)&&(y=p.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return p;p=p.return}while(p!==null);return null}function kL(p,y,C,R,W){return(p.mode&1)===0?(p===y?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(y=Es(-1,1),y.tag=2,_n(C,y,1))),C.lanes|=1),p):(p.flags|=65536,p.lanes=W,p)}var ioe=S.ReactCurrentOwner,Bl=!1;function nl(p,y,C,R){y.child=p===null?A2(y,null,C,R):Hc(y,p.child,C,R)}function BL(p,y,C,R,W){C=C.render;var te=y.ref;return Qn(y,W),R=wx(p,y,C,R,te,W),C=Sy(),p!==null&&!Bl?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~W,Jh(p,y,W)):(Pt&&C&&kt(y),y.flags|=1,nl(p,y,R,W),y.child)}function TL(p,y,C,R,W){if(p===null){var te=C.type;return typeof te=="function"&&!Z_(te)&&te.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(y.tag=15,y.type=te,ML(p,y,te,R,W)):(p=P2(C.type,null,R,y,y.mode,W),p.ref=y.ref,p.return=y,y.child=p)}if(te=p.child,(p.lanes&W)===0){var Ae=te.memoizedProps;if(C=C.compare,C=C!==null?C:bo,C(Ae,R)&&p.ref===y.ref)return Jh(p,y,W)}return y.flags|=1,p=C0(te,R),p.ref=y.ref,p.return=y,y.child=p}function ML(p,y,C,R,W){if(p!==null){var te=p.memoizedProps;if(bo(te,R)&&p.ref===y.ref)if(Bl=!1,y.pendingProps=R=te,(p.lanes&W)!==0)(p.flags&131072)!==0&&(Bl=!0);else return y.lanes=p.lanes,Jh(p,y,W)}return M_(p,y,C,R,W)}function FL(p,y,C){var R=y.pendingProps,W=R.children,te=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Cx,ic),ic|=C;else{if((C&1073741824)===0)return p=te!==null?te.baseLanes|C:C,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p,cachePool:null,transitions:null},y.updateQueue=null,cn(Cx,ic),ic|=p,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=te!==null?te.baseLanes:C,cn(Cx,ic),ic|=R}else te!==null?(R=te.baseLanes|C,y.memoizedState=null):R=C,cn(Cx,ic),ic|=R;return nl(p,y,W,C),y.child}function PL(p,y){var C=y.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(y.flags|=512,y.flags|=2097152)}function M_(p,y,C,R,W){var te=So(C)?$h:xi.current;return te=v0(y,te),Qn(y,W),C=wx(p,y,C,R,te,W),R=Sy(),p!==null&&!Bl?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~W,Jh(p,y,W)):(Pt&&R&&kt(y),y.flags|=1,nl(p,y,C,W),y.child)}function IL(p,y,C,R,W){if(So(C)){var te=!0;Gh(y)}else te=!1;if(Qn(y,W),y.stateNode===null)j2(p,y),_l(y,C,R),nc(y,C,R,W),R=!0;else if(p===null){var Ae=y.stateNode,He=y.memoizedProps;Ae.props=He;var Ye=Ae.context,bt=C.contextType;typeof bt=="object"&&bt!==null?bt=ss(bt):(bt=So(C)?$h:xi.current,bt=v0(y,bt));var Kt=C.getDerivedStateFromProps,Jt=typeof Kt=="function"||typeof Ae.getSnapshotBeforeUpdate=="function";Jt||typeof Ae.UNSAFE_componentWillReceiveProps!="function"&&typeof Ae.componentWillReceiveProps!="function"||(He!==R||Ye!==bt)&&Fu(y,Ae,R,bt),si=!1;var Wt=y.memoizedState;Ae.state=Wt,Hi(y,R,Ae,W),Ye=y.memoizedState,He!==R||Wt!==Ye||No.current||si?(typeof Kt=="function"&&(io(y,C,Kt,R),Ye=y.memoizedState),(He=si||Co(y,C,He,R,Wt,Ye,bt))?(Jt||typeof Ae.UNSAFE_componentWillMount!="function"&&typeof Ae.componentWillMount!="function"||(typeof Ae.componentWillMount=="function"&&Ae.componentWillMount(),typeof Ae.UNSAFE_componentWillMount=="function"&&Ae.UNSAFE_componentWillMount()),typeof Ae.componentDidMount=="function"&&(y.flags|=4194308)):(typeof Ae.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=R,y.memoizedState=Ye),Ae.props=R,Ae.state=Ye,Ae.context=bt,R=He):(typeof Ae.componentDidMount=="function"&&(y.flags|=4194308),R=!1)}else{Ae=y.stateNode,no(p,y),He=y.memoizedProps,bt=y.type===y.elementType?He:Ur(y.type,He),Ae.props=bt,Jt=y.pendingProps,Wt=Ae.context,Ye=C.contextType,typeof Ye=="object"&&Ye!==null?Ye=ss(Ye):(Ye=So(C)?$h:xi.current,Ye=v0(y,Ye));var xr=C.getDerivedStateFromProps;(Kt=typeof xr=="function"||typeof Ae.getSnapshotBeforeUpdate=="function")||typeof Ae.UNSAFE_componentWillReceiveProps!="function"&&typeof Ae.componentWillReceiveProps!="function"||(He!==Jt||Wt!==Ye)&&Fu(y,Ae,R,Ye),si=!1,Wt=y.memoizedState,Ae.state=Wt,Hi(y,R,Ae,W);var Cr=y.memoizedState;He!==Jt||Wt!==Cr||No.current||si?(typeof xr=="function"&&(io(y,C,xr,R),Cr=y.memoizedState),(bt=si||Co(y,C,bt,R,Wt,Cr,Ye)||!1)?(Kt||typeof Ae.UNSAFE_componentWillUpdate!="function"&&typeof Ae.componentWillUpdate!="function"||(typeof Ae.componentWillUpdate=="function"&&Ae.componentWillUpdate(R,Cr,Ye),typeof Ae.UNSAFE_componentWillUpdate=="function"&&Ae.UNSAFE_componentWillUpdate(R,Cr,Ye)),typeof Ae.componentDidUpdate=="function"&&(y.flags|=4),typeof Ae.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof Ae.componentDidUpdate!="function"||He===p.memoizedProps&&Wt===p.memoizedState||(y.flags|=4),typeof Ae.getSnapshotBeforeUpdate!="function"||He===p.memoizedProps&&Wt===p.memoizedState||(y.flags|=1024),y.memoizedProps=R,y.memoizedState=Cr),Ae.props=R,Ae.state=Cr,Ae.context=Ye,R=bt):(typeof Ae.componentDidUpdate!="function"||He===p.memoizedProps&&Wt===p.memoizedState||(y.flags|=4),typeof Ae.getSnapshotBeforeUpdate!="function"||He===p.memoizedProps&&Wt===p.memoizedState||(y.flags|=1024),R=!1)}return F_(p,y,C,R,te,W)}function F_(p,y,C,R,W,te){PL(p,y);var Ae=(y.flags&128)!==0;if(!R&&!Ae)return W&&p2(y,C,!1),Jh(p,y,te);R=y.stateNode,ioe.current=y;var He=Ae&&typeof C.getDerivedStateFromError!="function"?null:R.render();return y.flags|=1,p!==null&&Ae?(y.child=Hc(y,p.child,null,te),y.child=Hc(y,null,He,te)):nl(p,y,He,te),y.memoizedState=R.state,W&&p2(y,C,!0),y.child}function DL(p){var y=p.stateNode;y.pendingContext?m2(p,y.pendingContext,y.pendingContext!==y.context):y.context&&m2(p,y.context,!1),wy(p,y.containerInfo)}function LL(p,y,C,R,W){return br(),or(W),y.flags|=256,nl(p,y,C,R),y.child}var P_={dehydrated:null,treeContext:null,retryLane:0};function I_(p){return{baseLanes:p,cachePool:null,transitions:null}}function RL(p,y,C){var R=y.pendingProps,W=$n.current,te=!1,Ae=(y.flags&128)!==0,He;if((He=Ae)||(He=p!==null&&p.memoizedState===null?!1:(W&2)!==0),He?(te=!0,y.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),cn($n,W&1),p===null)return Sr(y),p=y.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((y.mode&1)===0?y.lanes=1:p.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(Ae=R.children,p=R.fallback,te?(R=y.mode,te=y.child,Ae={mode:"hidden",children:Ae},(R&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=Ae):te=I2(Ae,R,0,null),p=vp(p,R,C,null),te.return=y,p.return=y,te.sibling=p,y.child=te,y.child.memoizedState=I_(C),y.memoizedState=P_,p):D_(y,Ae));if(W=p.memoizedState,W!==null&&(He=W.dehydrated,He!==null))return ooe(p,y,Ae,R,He,W,C);if(te){te=R.fallback,Ae=y.mode,W=p.child,He=W.sibling;var Ye={mode:"hidden",children:R.children};return(Ae&1)===0&&y.child!==W?(R=y.child,R.childLanes=0,R.pendingProps=Ye,y.deletions=null):(R=C0(W,Ye),R.subtreeFlags=W.subtreeFlags&14680064),He!==null?te=C0(He,te):(te=vp(te,Ae,C,null),te.flags|=2),te.return=y,R.return=y,R.sibling=te,y.child=R,R=te,te=y.child,Ae=p.child.memoizedState,Ae=Ae===null?I_(C):{baseLanes:Ae.baseLanes|C,cachePool:null,transitions:Ae.transitions},te.memoizedState=Ae,te.childLanes=p.childLanes&~C,y.memoizedState=P_,R}return te=p.child,p=te.sibling,R=C0(te,{mode:"visible",children:R.children}),(y.mode&1)===0&&(R.lanes=C),R.return=y,R.sibling=null,p!==null&&(C=y.deletions,C===null?(y.deletions=[p],y.flags|=16):C.push(p)),y.child=R,y.memoizedState=null,R}function D_(p,y){return y=I2({mode:"visible",children:y},p.mode,0,null),y.return=p,p.child=y}function w2(p,y,C,R){return R!==null&&or(R),Hc(y,p.child,null,C),p=D_(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function ooe(p,y,C,R,W,te,Ae){if(C)return y.flags&256?(y.flags&=-257,R=B_(Error(r(422))),w2(p,y,Ae,R)):y.memoizedState!==null?(y.child=p.child,y.flags|=128,null):(te=R.fallback,W=y.mode,R=I2({mode:"visible",children:R.children},W,0,null),te=vp(te,W,Ae,null),te.flags|=2,R.return=y,te.return=y,R.sibling=te,y.child=R,(y.mode&1)!==0&&Hc(y,p.child,null,Ae),y.child.memoizedState=I_(Ae),y.memoizedState=P_,te);if((y.mode&1)===0)return w2(p,y,Ae,null);if(W.data==="$!"){if(R=W.nextSibling&&W.nextSibling.dataset,R)var He=R.dgst;return R=He,te=Error(r(419)),R=B_(te,R,void 0),w2(p,y,Ae,R)}if(He=(Ae&p.childLanes)!==0,Bl||He){if(R=Qi,R!==null){switch(Ae&-Ae){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(R.suspendedLanes|Ae))!==0?0:W,W!==0&&W!==te.retryLane&&(te.retryLane=W,In(p,W),Hd(R,p,W,-1))}return J_(),R=B_(Error(r(421))),w2(p,y,Ae,R)}return W.data==="$?"?(y.flags|=128,y.child=p.child,y=yoe.bind(null,p),W._reactRetry=y,null):(p=te.treeContext,Ct=so(W.nextSibling),Nt=y,Pt=!0,Dt=null,p!==null&&(Ne[Te++]=ht,Ne[Te++]=Me,Ne[Te++]=Xe,ht=p.id,Me=p.overflow,Xe=y),y=D_(y,R.children),y.flags|=4096,y)}function OL(p,y,C){p.lanes|=y;var R=p.alternate;R!==null&&(R.lanes|=y),vi(p.return,y,C)}function L_(p,y,C,R,W){var te=p.memoizedState;te===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:R,tail:C,tailMode:W}:(te.isBackwards=y,te.rendering=null,te.renderingStartTime=0,te.last=R,te.tail=C,te.tailMode=W)}function UL(p,y,C){var R=y.pendingProps,W=R.revealOrder,te=R.tail;if(nl(p,y,R.children,C),R=$n.current,(R&2)!==0)R=R&1|2,y.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&OL(p,C,y);else if(p.tag===19)OL(p,C,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(cn($n,R),(y.mode&1)===0)y.memoizedState=null;else switch(W){case"forwards":for(C=y.child,W=null;C!==null;)p=C.alternate,p!==null&&Kh(p)===null&&(W=C),C=C.sibling;C=W,C===null?(W=y.child,y.child=null):(W=C.sibling,C.sibling=null),L_(y,!1,W,C,te);break;case"backwards":for(C=null,W=y.child,y.child=null;W!==null;){if(p=W.alternate,p!==null&&Kh(p)===null){y.child=W;break}p=W.sibling,W.sibling=C,C=W,W=p}L_(y,!0,C,null,te);break;case"together":L_(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function j2(p,y){(y.mode&1)===0&&p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2)}function Jh(p,y,C){if(p!==null&&(y.dependencies=p.dependencies),pp|=y.lanes,(C&y.childLanes)===0)return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,C=C0(p,p.pendingProps),y.child=C,C.return=y;p.sibling!==null;)p=p.sibling,C=C.sibling=C0(p,p.pendingProps),C.return=y;C.sibling=null}return y.child}function loe(p,y,C){switch(y.tag){case 3:DL(y),br();break;case 5:lp(y);break;case 1:So(y.type)&&Gh(y);break;case 4:wy(y,y.stateNode.containerInfo);break;case 10:var R=y.type._context,W=y.memoizedProps.value;cn(ws,R._currentValue),R._currentValue=W;break;case 13:if(R=y.memoizedState,R!==null)return R.dehydrated!==null?(cn($n,$n.current&1),y.flags|=128,null):(C&y.child.childLanes)!==0?RL(p,y,C):(cn($n,$n.current&1),p=Jh(p,y,C),p!==null?p.sibling:null);cn($n,$n.current&1);break;case 19:if(R=(C&y.childLanes)!==0,(p.flags&128)!==0){if(R)return UL(p,y,C);y.flags|=128}if(W=y.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),cn($n,$n.current),R)break;return null;case 22:case 23:return y.lanes=0,FL(p,y,C)}return Jh(p,y,C)}var HL,R_,QL,zL;HL=function(p,y){for(var C=y.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===y)break;for(;C.sibling===null;){if(C.return===null||C.return===y)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},R_=function(){},QL=function(p,y,C,R){var W=p.memoizedProps;if(W!==R){p=y.stateNode,Wh(Cl.current);var te=null;switch(C){case"input":W=ne(p,W),R=ne(p,R),te=[];break;case"select":W=Y({},W,{value:void 0}),R=Y({},R,{value:void 0}),te=[];break;case"textarea":W=ae(p,W),R=ae(p,R),te=[];break;default:typeof W.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=A0)}mr(C,R);var Ae;C=null;for(bt in W)if(!R.hasOwnProperty(bt)&&W.hasOwnProperty(bt)&&W[bt]!=null)if(bt==="style"){var He=W[bt];for(Ae in He)He.hasOwnProperty(Ae)&&(C||(C={}),C[Ae]="")}else bt!=="dangerouslySetInnerHTML"&&bt!=="children"&&bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&bt!=="autoFocus"&&(a.hasOwnProperty(bt)?te||(te=[]):(te=te||[]).push(bt,null));for(bt in R){var Ye=R[bt];if(He=W!=null?W[bt]:void 0,R.hasOwnProperty(bt)&&Ye!==He&&(Ye!=null||He!=null))if(bt==="style")if(He){for(Ae in He)!He.hasOwnProperty(Ae)||Ye&&Ye.hasOwnProperty(Ae)||(C||(C={}),C[Ae]="");for(Ae in Ye)Ye.hasOwnProperty(Ae)&&He[Ae]!==Ye[Ae]&&(C||(C={}),C[Ae]=Ye[Ae])}else C||(te||(te=[]),te.push(bt,C)),C=Ye;else bt==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0,He=He?He.__html:void 0,Ye!=null&&He!==Ye&&(te=te||[]).push(bt,Ye)):bt==="children"?typeof Ye!="string"&&typeof Ye!="number"||(te=te||[]).push(bt,""+Ye):bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&(a.hasOwnProperty(bt)?(Ye!=null&&bt==="onScroll"&&xn("scroll",p),te||He===Ye||(te=[])):(te=te||[]).push(bt,Ye))}C&&(te=te||[]).push("style",C);var bt=te;(y.updateQueue=bt)&&(y.flags|=4)}},zL=function(p,y,C,R){C!==R&&(y.flags|=4)};function Cy(p,y){if(!Pt)switch(p.tailMode){case"hidden":y=p.tail;for(var C=null;y!==null;)y.alternate!==null&&(C=y),y=y.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var R=null;C!==null;)C.alternate!==null&&(R=C),C=C.sibling;R===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function Eo(p){var y=p.alternate!==null&&p.alternate.child===p.child,C=0,R=0;if(y)for(var W=p.child;W!==null;)C|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)C|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=R,p.childLanes=C,y}function coe(p,y,C){var R=y.pendingProps;switch(At(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Eo(y),null;case 1:return So(y.type)&&vx(),Eo(y),null;case 3:return R=y.stateNode,qh(),rn(No),rn(xi),Xh(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(ua(y)?y.flags|=4:p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Dt!==null&&(K_(Dt),Dt=null))),R_(p,y),Eo(y),null;case 5:bx(y);var W=Wh(op.current);if(C=y.type,p!==null&&y.stateNode!=null)QL(p,y,C,R,W),p.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!R){if(y.stateNode===null)throw Error(r(166));return Eo(y),null}if(p=Wh(Cl.current),ua(y)){R=y.stateNode,C=y.type;var te=y.memoizedProps;switch(R[Uc]=y,R[x0]=te,p=(y.mode&1)!==0,C){case"dialog":xn("cancel",R),xn("close",R);break;case"iframe":case"object":case"embed":xn("load",R);break;case"video":case"audio":for(W=0;W<Bu.length;W++)xn(Bu[W],R);break;case"source":xn("error",R);break;case"img":case"image":case"link":xn("error",R),xn("load",R);break;case"details":xn("toggle",R);break;case"input":J(R,te),xn("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!te.multiple},xn("invalid",R);break;case"textarea":Se(R,te),xn("invalid",R)}mr(C,te),W=null;for(var Ae in te)if(te.hasOwnProperty(Ae)){var He=te[Ae];Ae==="children"?typeof He=="string"?R.textContent!==He&&(te.suppressHydrationWarning!==!0&&gx(R.textContent,He,p),W=["children",He]):typeof He=="number"&&R.textContent!==""+He&&(te.suppressHydrationWarning!==!0&&gx(R.textContent,He,p),W=["children",""+He]):a.hasOwnProperty(Ae)&&He!=null&&Ae==="onScroll"&&xn("scroll",R)}switch(C){case"input":Pe(R),Oe(R,te,!0);break;case"textarea":Pe(R),Je(R);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(R.onclick=A0)}R=W,y.updateQueue=R,R!==null&&(y.flags|=4)}else{Ae=W.nodeType===9?W:W.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=tt(C)),p==="http://www.w3.org/1999/xhtml"?C==="script"?(p=Ae.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=Ae.createElement(C,{is:R.is}):(p=Ae.createElement(C),C==="select"&&(Ae=p,R.multiple?Ae.multiple=!0:R.size&&(Ae.size=R.size))):p=Ae.createElementNS(p,C),p[Uc]=y,p[x0]=R,HL(p,y,!1,!1),y.stateNode=p;e:{switch(Ae=Ht(C,R),C){case"dialog":xn("cancel",p),xn("close",p),W=R;break;case"iframe":case"object":case"embed":xn("load",p),W=R;break;case"video":case"audio":for(W=0;W<Bu.length;W++)xn(Bu[W],p);W=R;break;case"source":xn("error",p),W=R;break;case"img":case"image":case"link":xn("error",p),xn("load",p),W=R;break;case"details":xn("toggle",p),W=R;break;case"input":J(p,R),W=ne(p,R),xn("invalid",p);break;case"option":W=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},W=Y({},R,{value:void 0}),xn("invalid",p);break;case"textarea":Se(p,R),W=ae(p,R),xn("invalid",p);break;default:W=R}mr(C,W),He=W;for(te in He)if(He.hasOwnProperty(te)){var Ye=He[te];te==="style"?Gt(p,Ye):te==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0,Ye!=null&&vt(p,Ye)):te==="children"?typeof Ye=="string"?(C!=="textarea"||Ye!=="")&&_t(p,Ye):typeof Ye=="number"&&_t(p,""+Ye):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?Ye!=null&&te==="onScroll"&&xn("scroll",p):Ye!=null&&b(p,te,Ye,Ae))}switch(C){case"input":Pe(p),Oe(p,R,!1);break;case"textarea":Pe(p),Je(p);break;case"option":R.value!=null&&p.setAttribute("value",""+ge(R.value));break;case"select":p.multiple=!!R.multiple,te=R.value,te!=null?ce(p,!!R.multiple,te,!1):R.defaultValue!=null&&ce(p,!!R.multiple,R.defaultValue,!0);break;default:typeof W.onClick=="function"&&(p.onclick=A0)}switch(C){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return Eo(y),null;case 6:if(p&&y.stateNode!=null)zL(p,y,p.memoizedProps,R);else{if(typeof R!="string"&&y.stateNode===null)throw Error(r(166));if(C=Wh(op.current),Wh(Cl.current),ua(y)){if(R=y.stateNode,C=y.memoizedProps,R[Uc]=y,(te=R.nodeValue!==C)&&(p=Nt,p!==null))switch(p.tag){case 3:gx(R.nodeValue,C,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&gx(R.nodeValue,C,(p.mode&1)!==0)}te&&(y.flags|=4)}else R=(C.nodeType===9?C:C.ownerDocument).createTextNode(R),R[Uc]=y,y.stateNode=R}return Eo(y),null;case 13:if(rn($n),R=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Pt&&Ct!==null&&(y.mode&1)!==0&&(y.flags&128)===0)os(),br(),y.flags|=98560,te=!1;else if(te=ua(y),R!==null&&R.dehydrated!==null){if(p===null){if(!te)throw Error(r(318));if(te=y.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(r(317));te[Uc]=y}else br(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Eo(y),te=!1}else Dt!==null&&(K_(Dt),Dt=null),te=!0;if(!te)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=C,y):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(y.child.flags|=8192,(y.mode&1)!==0&&(p===null||($n.current&1)!==0?yi===0&&(yi=3):J_())),y.updateQueue!==null&&(y.flags|=4),Eo(y),null);case 4:return qh(),R_(p,y),p===null&&Uh(y.stateNode.containerInfo),Eo(y),null;case 10:return ri(y.type._context),Eo(y),null;case 17:return So(y.type)&&vx(),Eo(y),null;case 19:if(rn($n),te=y.memoizedState,te===null)return Eo(y),null;if(R=(y.flags&128)!==0,Ae=te.rendering,Ae===null)if(R)Cy(te,!1);else{if(yi!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(Ae=Kh(p),Ae!==null){for(y.flags|=128,Cy(te,!1),R=Ae.updateQueue,R!==null&&(y.updateQueue=R,y.flags|=4),y.subtreeFlags=0,R=C,C=y.child;C!==null;)te=C,p=R,te.flags&=14680066,Ae=te.alternate,Ae===null?(te.childLanes=0,te.lanes=p,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=Ae.childLanes,te.lanes=Ae.lanes,te.child=Ae.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=Ae.memoizedProps,te.memoizedState=Ae.memoizedState,te.updateQueue=Ae.updateQueue,te.type=Ae.type,p=Ae.dependencies,te.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),C=C.sibling;return cn($n,$n.current&1|2),y.child}p=p.sibling}te.tail!==null&&De()>Ex&&(y.flags|=128,R=!0,Cy(te,!1),y.lanes=4194304)}else{if(!R)if(p=Kh(Ae),p!==null){if(y.flags|=128,R=!0,C=p.updateQueue,C!==null&&(y.updateQueue=C,y.flags|=4),Cy(te,!0),te.tail===null&&te.tailMode==="hidden"&&!Ae.alternate&&!Pt)return Eo(y),null}else 2*De()-te.renderingStartTime>Ex&&C!==1073741824&&(y.flags|=128,R=!0,Cy(te,!1),y.lanes=4194304);te.isBackwards?(Ae.sibling=y.child,y.child=Ae):(C=te.last,C!==null?C.sibling=Ae:y.child=Ae,te.last=Ae)}return te.tail!==null?(y=te.tail,te.rendering=y,te.tail=y.sibling,te.renderingStartTime=De(),y.sibling=null,C=$n.current,cn($n,R?C&1|2:C&1),y):(Eo(y),null);case 22:case 23:return Y_(),R=y.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(y.flags|=8192),R&&(y.mode&1)!==0?(ic&1073741824)!==0&&(Eo(y),y.subtreeFlags&6&&(y.flags|=8192)):Eo(y),null;case 24:return null;case 25:return null}throw Error(r(156,y.tag))}function doe(p,y){switch(At(y),y.tag){case 1:return So(y.type)&&vx(),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return qh(),rn(No),rn(xi),Xh(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 5:return bx(y),null;case 13:if(rn($n),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));br()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return rn($n),null;case 4:return qh(),null;case 10:return ri(y.type._context),null;case 22:case 23:return Y_(),null;case 24:return null;default:return null}}var N2=!1,ko=!1,uoe=typeof WeakSet=="function"?WeakSet:Set,wr=null;function _x(p,y){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(R){ka(p,y,R)}else C.current=null}function O_(p,y,C){try{C()}catch(R){ka(p,y,R)}}var $L=!1;function hoe(p,y){if(rp=n0,p=Ea(),rc(p)){if("selectionStart"in p)var C={start:p.selectionStart,end:p.selectionEnd};else e:{C=(C=p.ownerDocument)&&C.defaultView||window;var R=C.getSelection&&C.getSelection();if(R&&R.rangeCount!==0){C=R.anchorNode;var W=R.anchorOffset,te=R.focusNode;R=R.focusOffset;try{C.nodeType,te.nodeType}catch{C=null;break e}var Ae=0,He=-1,Ye=-1,bt=0,Kt=0,Jt=p,Wt=null;t:for(;;){for(var xr;Jt!==C||W!==0&&Jt.nodeType!==3||(He=Ae+W),Jt!==te||R!==0&&Jt.nodeType!==3||(Ye=Ae+R),Jt.nodeType===3&&(Ae+=Jt.nodeValue.length),(xr=Jt.firstChild)!==null;)Wt=Jt,Jt=xr;for(;;){if(Jt===p)break t;if(Wt===C&&++bt===W&&(He=Ae),Wt===te&&++Kt===R&&(Ye=Ae),(xr=Jt.nextSibling)!==null)break;Jt=Wt,Wt=Jt.parentNode}Jt=xr}C=He===-1||Ye===-1?null:{start:He,end:Ye}}else C=null}C=C||{start:0,end:0}}else C=null;for(Qh={focusedElem:p,selectionRange:C},n0=!1,wr=y;wr!==null;)if(y=wr,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,wr=p;else for(;wr!==null;){y=wr;try{var Cr=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(Cr!==null){var Er=Cr.memoizedProps,Oa=Cr.memoizedState,mt=y.stateNode,nt=mt.getSnapshotBeforeUpdate(y.elementType===y.type?Er:Ur(y.type,Er),Oa);mt.__reactInternalSnapshotBeforeUpdate=nt}break;case 3:var gt=y.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(rr){ka(y,y.return,rr)}if(p=y.sibling,p!==null){p.return=y.return,wr=p;break}wr=y.return}return Cr=$L,$L=!1,Cr}function Ey(p,y,C){var R=y.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&p)===p){var te=W.destroy;W.destroy=void 0,te!==void 0&&O_(y,C,te)}W=W.next}while(W!==R)}}function S2(p,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var C=y=y.next;do{if((C.tag&p)===p){var R=C.create;C.destroy=R()}C=C.next}while(C!==y)}}function U_(p){var y=p.ref;if(y!==null){var C=p.stateNode;switch(p.tag){case 5:p=C;break;default:p=C}typeof y=="function"?y(p):y.current=p}}function GL(p){var y=p.alternate;y!==null&&(p.alternate=null,GL(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&(delete y[Uc],delete y[x0],delete y[jo],delete y[__],delete y[C_])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function VL(p){return p.tag===5||p.tag===3||p.tag===4}function WL(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||VL(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function H_(p,y,C){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?C.nodeType===8?C.parentNode.insertBefore(p,y):C.insertBefore(p,y):(C.nodeType===8?(y=C.parentNode,y.insertBefore(p,C)):(y=C,y.appendChild(p)),C=C._reactRootContainer,C!=null||y.onclick!==null||(y.onclick=A0));else if(R!==4&&(p=p.child,p!==null))for(H_(p,y,C),p=p.sibling;p!==null;)H_(p,y,C),p=p.sibling}function Q_(p,y,C){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?C.insertBefore(p,y):C.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(Q_(p,y,C),p=p.sibling;p!==null;)Q_(p,y,C),p=p.sibling}var oo=null,Od=!1;function w0(p,y,C){for(C=C.child;C!==null;)qL(p,y,C),C=C.sibling}function qL(p,y,C){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount($e,C)}catch{}switch(C.tag){case 5:ko||_x(C,y);case 6:var R=oo,W=Od;oo=null,w0(p,y,C),oo=R,Od=W,oo!==null&&(Od?(p=oo,C=C.stateNode,p.nodeType===8?p.parentNode.removeChild(C):p.removeChild(C)):oo.removeChild(C.stateNode));break;case 18:oo!==null&&(Od?(p=oo,C=C.stateNode,p.nodeType===8?vy(p.parentNode,C):p.nodeType===1&&vy(p,C),Sh(p)):vy(oo,C.stateNode));break;case 4:R=oo,W=Od,oo=C.stateNode.containerInfo,Od=!0,w0(p,y,C),oo=R,Od=W;break;case 0:case 11:case 14:case 15:if(!ko&&(R=C.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){W=R=R.next;do{var te=W,Ae=te.destroy;te=te.tag,Ae!==void 0&&((te&2)!==0||(te&4)!==0)&&O_(C,y,Ae),W=W.next}while(W!==R)}w0(p,y,C);break;case 1:if(!ko&&(_x(C,y),R=C.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=C.memoizedProps,R.state=C.memoizedState,R.componentWillUnmount()}catch(He){ka(C,y,He)}w0(p,y,C);break;case 21:w0(p,y,C);break;case 22:C.mode&1?(ko=(R=ko)||C.memoizedState!==null,w0(p,y,C),ko=R):w0(p,y,C);break;default:w0(p,y,C)}}function KL(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new uoe),y.forEach(function(R){var W=boe.bind(null,p,R);C.has(R)||(C.add(R),R.then(W,W))})}}function Ud(p,y){var C=y.deletions;if(C!==null)for(var R=0;R<C.length;R++){var W=C[R];try{var te=p,Ae=y,He=Ae;e:for(;He!==null;){switch(He.tag){case 5:oo=He.stateNode,Od=!1;break e;case 3:oo=He.stateNode.containerInfo,Od=!0;break e;case 4:oo=He.stateNode.containerInfo,Od=!0;break e}He=He.return}if(oo===null)throw Error(r(160));qL(te,Ae,W),oo=null,Od=!1;var Ye=W.alternate;Ye!==null&&(Ye.return=null),W.return=null}catch(bt){ka(W,y,bt)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)XL(y,p),y=y.sibling}function XL(p,y){var C=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Ud(y,p),Pu(p),R&4){try{Ey(3,p,p.return),S2(3,p)}catch(Er){ka(p,p.return,Er)}try{Ey(5,p,p.return)}catch(Er){ka(p,p.return,Er)}}break;case 1:Ud(y,p),Pu(p),R&512&&C!==null&&_x(C,C.return);break;case 5:if(Ud(y,p),Pu(p),R&512&&C!==null&&_x(C,C.return),p.flags&32){var W=p.stateNode;try{_t(W,"")}catch(Er){ka(p,p.return,Er)}}if(R&4&&(W=p.stateNode,W!=null)){var te=p.memoizedProps,Ae=C!==null?C.memoizedProps:te,He=p.type,Ye=p.updateQueue;if(p.updateQueue=null,Ye!==null)try{He==="input"&&te.type==="radio"&&te.name!=null&&ie(W,te),Ht(He,Ae);var bt=Ht(He,te);for(Ae=0;Ae<Ye.length;Ae+=2){var Kt=Ye[Ae],Jt=Ye[Ae+1];Kt==="style"?Gt(W,Jt):Kt==="dangerouslySetInnerHTML"?vt(W,Jt):Kt==="children"?_t(W,Jt):b(W,Kt,Jt,bt)}switch(He){case"input":Ce(W,te);break;case"textarea":We(W,te);break;case"select":var Wt=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!te.multiple;var xr=te.value;xr!=null?ce(W,!!te.multiple,xr,!1):Wt!==!!te.multiple&&(te.defaultValue!=null?ce(W,!!te.multiple,te.defaultValue,!0):ce(W,!!te.multiple,te.multiple?[]:"",!1))}W[x0]=te}catch(Er){ka(p,p.return,Er)}}break;case 6:if(Ud(y,p),Pu(p),R&4){if(p.stateNode===null)throw Error(r(162));W=p.stateNode,te=p.memoizedProps;try{W.nodeValue=te}catch(Er){ka(p,p.return,Er)}}break;case 3:if(Ud(y,p),Pu(p),R&4&&C!==null&&C.memoizedState.isDehydrated)try{Sh(y.containerInfo)}catch(Er){ka(p,p.return,Er)}break;case 4:Ud(y,p),Pu(p);break;case 13:Ud(y,p),Pu(p),W=p.child,W.flags&8192&&(te=W.memoizedState!==null,W.stateNode.isHidden=te,!te||W.alternate!==null&&W.alternate.memoizedState!==null||(G_=De())),R&4&&KL(p);break;case 22:if(Kt=C!==null&&C.memoizedState!==null,p.mode&1?(ko=(bt=ko)||Kt,Ud(y,p),ko=bt):Ud(y,p),Pu(p),R&8192){if(bt=p.memoizedState!==null,(p.stateNode.isHidden=bt)&&!Kt&&(p.mode&1)!==0)for(wr=p,Kt=p.child;Kt!==null;){for(Jt=wr=Kt;wr!==null;){switch(Wt=wr,xr=Wt.child,Wt.tag){case 0:case 11:case 14:case 15:Ey(4,Wt,Wt.return);break;case 1:_x(Wt,Wt.return);var Cr=Wt.stateNode;if(typeof Cr.componentWillUnmount=="function"){R=Wt,C=Wt.return;try{y=R,Cr.props=y.memoizedProps,Cr.state=y.memoizedState,Cr.componentWillUnmount()}catch(Er){ka(R,C,Er)}}break;case 5:_x(Wt,Wt.return);break;case 22:if(Wt.memoizedState!==null){ZL(Jt);continue}}xr!==null?(xr.return=Wt,wr=xr):ZL(Jt)}Kt=Kt.sibling}e:for(Kt=null,Jt=p;;){if(Jt.tag===5){if(Kt===null){Kt=Jt;try{W=Jt.stateNode,bt?(te=W.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(He=Jt.stateNode,Ye=Jt.memoizedProps.style,Ae=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null,He.style.display=Lt("display",Ae))}catch(Er){ka(p,p.return,Er)}}}else if(Jt.tag===6){if(Kt===null)try{Jt.stateNode.nodeValue=bt?"":Jt.memoizedProps}catch(Er){ka(p,p.return,Er)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===p)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===p)break e;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===p)break e;Kt===Jt&&(Kt=null),Jt=Jt.return}Kt===Jt&&(Kt=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}break;case 19:Ud(y,p),Pu(p),R&4&&KL(p);break;case 21:break;default:Ud(y,p),Pu(p)}}function Pu(p){var y=p.flags;if(y&2){try{e:{for(var C=p.return;C!==null;){if(VL(C)){var R=C;break e}C=C.return}throw Error(r(160))}switch(R.tag){case 5:var W=R.stateNode;R.flags&32&&(_t(W,""),R.flags&=-33);var te=WL(p);Q_(p,te,W);break;case 3:case 4:var Ae=R.stateNode.containerInfo,He=WL(p);H_(p,He,Ae);break;default:throw Error(r(161))}}catch(Ye){ka(p,p.return,Ye)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function foe(p,y,C){wr=p,YL(p)}function YL(p,y,C){for(var R=(p.mode&1)!==0;wr!==null;){var W=wr,te=W.child;if(W.tag===22&&R){var Ae=W.memoizedState!==null||N2;if(!Ae){var He=W.alternate,Ye=He!==null&&He.memoizedState!==null||ko;He=N2;var bt=ko;if(N2=Ae,(ko=Ye)&&!bt)for(wr=W;wr!==null;)Ae=wr,Ye=Ae.child,Ae.tag===22&&Ae.memoizedState!==null?eR(W):Ye!==null?(Ye.return=Ae,wr=Ye):eR(W);for(;te!==null;)wr=te,YL(te),te=te.sibling;wr=W,N2=He,ko=bt}JL(p)}else(W.subtreeFlags&8772)!==0&&te!==null?(te.return=W,wr=te):JL(p)}}function JL(p){for(;wr!==null;){var y=wr;if((y.flags&8772)!==0){var C=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:ko||S2(5,y);break;case 1:var R=y.stateNode;if(y.flags&4&&!ko)if(C===null)R.componentDidMount();else{var W=y.elementType===y.type?C.memoizedProps:Ur(y.type,C.memoizedProps);R.componentDidUpdate(W,C.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var te=y.updateQueue;te!==null&&_o(y,te,R);break;case 3:var Ae=y.updateQueue;if(Ae!==null){if(C=null,y.child!==null)switch(y.child.tag){case 5:C=y.child.stateNode;break;case 1:C=y.child.stateNode}_o(y,Ae,C)}break;case 5:var He=y.stateNode;if(C===null&&y.flags&4){C=He;var Ye=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":Ye.autoFocus&&C.focus();break;case"img":Ye.src&&(C.src=Ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var bt=y.alternate;if(bt!==null){var Kt=bt.memoizedState;if(Kt!==null){var Jt=Kt.dehydrated;Jt!==null&&Sh(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ko||y.flags&512&&U_(y)}catch(Wt){ka(y,y.return,Wt)}}if(y===p){wr=null;break}if(C=y.sibling,C!==null){C.return=y.return,wr=C;break}wr=y.return}}function ZL(p){for(;wr!==null;){var y=wr;if(y===p){wr=null;break}var C=y.sibling;if(C!==null){C.return=y.return,wr=C;break}wr=y.return}}function eR(p){for(;wr!==null;){var y=wr;try{switch(y.tag){case 0:case 11:case 15:var C=y.return;try{S2(4,y)}catch(Ye){ka(y,C,Ye)}break;case 1:var R=y.stateNode;if(typeof R.componentDidMount=="function"){var W=y.return;try{R.componentDidMount()}catch(Ye){ka(y,W,Ye)}}var te=y.return;try{U_(y)}catch(Ye){ka(y,te,Ye)}break;case 5:var Ae=y.return;try{U_(y)}catch(Ye){ka(y,Ae,Ye)}}}catch(Ye){ka(y,y.return,Ye)}if(y===p){wr=null;break}var He=y.sibling;if(He!==null){He.return=y.return,wr=He;break}wr=y.return}}var moe=Math.ceil,_2=S.ReactCurrentDispatcher,z_=S.ReactCurrentOwner,$c=S.ReactCurrentBatchConfig,Us=0,Qi=null,ni=null,lo=0,ic=0,Cx=sc(0),yi=0,ky=null,pp=0,C2=0,$_=0,By=null,Tl=null,G_=0,Ex=1/0,Zh=null,E2=!1,V_=null,j0=null,k2=!1,N0=null,B2=0,Ty=0,W_=null,T2=-1,M2=0;function al(){return(Us&6)!==0?De():T2!==-1?T2:T2=De()}function S0(p){return(p.mode&1)===0?1:(Us&2)!==0&&lo!==0?lo&-lo:va.transition!==null?(M2===0&&(M2=ei()),M2):(p=ms,p!==0||(p=window.event,p=p===void 0?16:Ch(p.type)),p)}function Hd(p,y,C,R){if(50<Ty)throw Ty=0,W_=null,Error(r(185));Zn(p,C,R),((Us&2)===0||p!==Qi)&&(p===Qi&&((Us&2)===0&&(C2|=C),yi===4&&_0(p,lo)),Ml(p,R),C===1&&Us===0&&(y.mode&1)===0&&(Ex=De()+500,np&&se()))}function Ml(p,y){var C=p.callbackNode;Fn(p,y);var R=_a(p,p===Qi?lo:0);if(R===0)C!==null&&Le(C),p.callbackNode=null,p.callbackPriority=0;else if(y=R&-R,p.callbackPriority!==y){if(C!=null&&Le(C),y===1)p.tag===0?Z(rR.bind(null,p)):U(rR.bind(null,p)),N_(function(){(Us&6)===0&&se()}),C=null;else{switch(wh(R)){case 1:C=Ut;break;case 4:C=zt;break;case 16:C=Zt;break;case 536870912:C=_e;break;default:C=Zt}C=dR(C,tR.bind(null,p))}p.callbackPriority=y,p.callbackNode=C}}function tR(p,y){if(T2=-1,M2=0,(Us&6)!==0)throw Error(r(327));var C=p.callbackNode;if(kx()&&p.callbackNode!==C)return null;var R=_a(p,p===Qi?lo:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||y)y=F2(p,R);else{y=R;var W=Us;Us|=2;var te=nR();(Qi!==p||lo!==y)&&(Zh=null,Ex=De()+500,xp(p,y));do try{xoe();break}catch(He){sR(p,He)}while(!0);Hn(),_2.current=te,Us=W,ni!==null?y=0:(Qi=null,lo=0,y=yi)}if(y!==0){if(y===2&&(W=Ns(p),W!==0&&(R=W,y=q_(p,W))),y===1)throw C=ky,xp(p,0),_0(p,R),Ml(p,De()),C;if(y===6)_0(p,R);else{if(W=p.current.alternate,(R&30)===0&&!poe(W)&&(y=F2(p,R),y===2&&(te=Ns(p),te!==0&&(R=te,y=q_(p,te))),y===1))throw C=ky,xp(p,0),_0(p,R),Ml(p,De()),C;switch(p.finishedWork=W,p.finishedLanes=R,y){case 0:case 1:throw Error(r(345));case 2:gp(p,Tl,Zh);break;case 3:if(_0(p,R),(R&130023424)===R&&(y=G_+500-De(),10<y)){if(_a(p,0)!==0)break;if(W=p.suspendedLanes,(W&R)!==R){al(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=gy(gp.bind(null,p,Tl,Zh),y);break}gp(p,Tl,Zh);break;case 4:if(_0(p,R),(R&4194240)===R)break;for(y=p.eventTimes,W=-1;0<R;){var Ae=31-Yt(R);te=1<<Ae,Ae=y[Ae],Ae>W&&(W=Ae),R&=~te}if(R=W,R=De()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*moe(R/1960))-R,10<R){p.timeoutHandle=gy(gp.bind(null,p,Tl,Zh),R);break}gp(p,Tl,Zh);break;case 5:gp(p,Tl,Zh);break;default:throw Error(r(329))}}}return Ml(p,De()),p.callbackNode===C?tR.bind(null,p):null}function q_(p,y){var C=By;return p.current.memoizedState.isDehydrated&&(xp(p,y).flags|=256),p=F2(p,y),p!==2&&(y=Tl,Tl=C,y!==null&&K_(y)),p}function K_(p){Tl===null?Tl=p:Tl.push.apply(Tl,p)}function poe(p){for(var y=p;;){if(y.flags&16384){var C=y.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var R=0;R<C.length;R++){var W=C[R],te=W.getSnapshot;W=W.value;try{if(!ca(te(),W))return!1}catch{return!1}}}if(C=y.child,y.subtreeFlags&16384&&C!==null)C.return=y,y=C;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function _0(p,y){for(y&=~$_,y&=~C2,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var C=31-Yt(y),R=1<<C;p[C]=-1,y&=~R}}function rR(p){if((Us&6)!==0)throw Error(r(327));kx();var y=_a(p,0);if((y&1)===0)return Ml(p,De()),null;var C=F2(p,y);if(p.tag!==0&&C===2){var R=Ns(p);R!==0&&(y=R,C=q_(p,R))}if(C===1)throw C=ky,xp(p,0),_0(p,y),Ml(p,De()),C;if(C===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=y,gp(p,Tl,Zh),Ml(p,De()),null}function X_(p,y){var C=Us;Us|=1;try{return p(y)}finally{Us=C,Us===0&&(Ex=De()+500,np&&se())}}function Ap(p){N0!==null&&N0.tag===0&&(Us&6)===0&&kx();var y=Us;Us|=1;var C=$c.transition,R=ms;try{if($c.transition=null,ms=1,p)return p()}finally{ms=R,$c.transition=C,Us=y,(Us&6)===0&&se()}}function Y_(){ic=Cx.current,rn(Cx)}function xp(p,y){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==-1&&(p.timeoutHandle=-1,h2(C)),ni!==null)for(C=ni.return;C!==null;){var R=C;switch(At(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&vx();break;case 3:qh(),rn(No),rn(xi),Xh();break;case 5:bx(R);break;case 4:qh();break;case 13:rn($n);break;case 19:rn($n);break;case 10:ri(R.type._context);break;case 22:case 23:Y_()}C=C.return}if(Qi=p,ni=p=C0(p.current,null),lo=ic=y,yi=0,ky=null,$_=C2=pp=0,Tl=By=null,Cs!==null){for(y=0;y<Cs.length;y++)if(C=Cs[y],R=C.interleaved,R!==null){C.interleaved=null;var W=R.next,te=C.pending;if(te!==null){var Ae=te.next;te.next=W,R.next=Ae}C.pending=R}Cs=null}return p}function sR(p,y){do{var C=ni;try{if(Hn(),dp.current=b2,up){for(var R=Gn.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}up=!1}if(Qc=0,Dn=ba=Gn=null,y0=!1,hp=0,z_.current=null,C===null||C.return===null){yi=1,ky=y,ni=null;break}e:{var te=p,Ae=C.return,He=C,Ye=y;if(y=lo,He.flags|=32768,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var bt=Ye,Kt=He,Jt=Kt.tag;if((Kt.mode&1)===0&&(Jt===0||Jt===11||Jt===15)){var Wt=Kt.alternate;Wt?(Kt.updateQueue=Wt.updateQueue,Kt.memoizedState=Wt.memoizedState,Kt.lanes=Wt.lanes):(Kt.updateQueue=null,Kt.memoizedState=null)}var xr=EL(Ae);if(xr!==null){xr.flags&=-257,kL(xr,Ae,He,te,y),xr.mode&1&&CL(te,bt,y),y=xr,Ye=bt;var Cr=y.updateQueue;if(Cr===null){var Er=new Set;Er.add(Ye),y.updateQueue=Er}else Cr.add(Ye);break e}else{if((y&1)===0){CL(te,bt,y),J_();break e}Ye=Error(r(426))}}else if(Pt&&He.mode&1){var Oa=EL(Ae);if(Oa!==null){(Oa.flags&65536)===0&&(Oa.flags|=256),kL(Oa,Ae,He,te,y),or(Sx(Ye,He));break e}}te=Ye=Sx(Ye,He),yi!==4&&(yi=2),By===null?By=[te]:By.push(te),te=Ae;do{switch(te.tag){case 3:te.flags|=65536,y&=-y,te.lanes|=y;var mt=SL(te,Ye,y);Ui(te,mt);break e;case 1:He=Ye;var nt=te.type,gt=te.stateNode;if((te.flags&128)===0&&(typeof nt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(j0===null||!j0.has(gt)))){te.flags|=65536,y&=-y,te.lanes|=y;var rr=_L(te,He,y);Ui(te,rr);break e}}te=te.return}while(te!==null)}iR(C)}catch(Fr){y=Fr,ni===C&&C!==null&&(ni=C=C.return);continue}break}while(!0)}function nR(){var p=_2.current;return _2.current=b2,p===null?b2:p}function J_(){(yi===0||yi===3||yi===2)&&(yi=4),Qi===null||(pp&268435455)===0&&(C2&268435455)===0||_0(Qi,lo)}function F2(p,y){var C=Us;Us|=2;var R=nR();(Qi!==p||lo!==y)&&(Zh=null,xp(p,y));do try{Aoe();break}catch(W){sR(p,W)}while(!0);if(Hn(),Us=C,_2.current=R,ni!==null)throw Error(r(261));return Qi=null,lo=0,yi}function Aoe(){for(;ni!==null;)aR(ni)}function xoe(){for(;ni!==null&&!Ve();)aR(ni)}function aR(p){var y=cR(p.alternate,p,ic);p.memoizedProps=p.pendingProps,y===null?iR(p):ni=y,z_.current=null}function iR(p){var y=p;do{var C=y.alternate;if(p=y.return,(y.flags&32768)===0){if(C=coe(C,y,ic),C!==null){ni=C;return}}else{if(C=doe(C,y),C!==null){C.flags&=32767,ni=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{yi=6,ni=null;return}}if(y=y.sibling,y!==null){ni=y;return}ni=y=p}while(y!==null);yi===0&&(yi=5)}function gp(p,y,C){var R=ms,W=$c.transition;try{$c.transition=null,ms=1,goe(p,y,C,R)}finally{$c.transition=W,ms=R}return null}function goe(p,y,C,R){do kx();while(N0!==null);if((Us&6)!==0)throw Error(r(327));C=p.finishedWork;var W=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var te=C.lanes|C.childLanes;if(Pn(p,te),p===Qi&&(ni=Qi=null,lo=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||k2||(k2=!0,dR(Zt,function(){return kx(),null})),te=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||te){te=$c.transition,$c.transition=null;var Ae=ms;ms=1;var He=Us;Us|=4,z_.current=null,hoe(p,C),XL(C,p),qm(Qh),n0=!!rp,Qh=rp=null,p.current=C,foe(C),Qe(),Us=He,ms=Ae,$c.transition=te}else p.current=C;if(k2&&(k2=!1,N0=p,B2=W),te=p.pendingLanes,te===0&&(j0=null),lr(C.stateNode),Ml(p,De()),y!==null)for(R=p.onRecoverableError,C=0;C<y.length;C++)W=y[C],R(W.value,{componentStack:W.stack,digest:W.digest});if(E2)throw E2=!1,p=V_,V_=null,p;return(B2&1)!==0&&p.tag!==0&&kx(),te=p.pendingLanes,(te&1)!==0?p===W_?Ty++:(Ty=0,W_=p):Ty=0,se(),null}function kx(){if(N0!==null){var p=wh(B2),y=$c.transition,C=ms;try{if($c.transition=null,ms=16>p?16:p,N0===null)var R=!1;else{if(p=N0,N0=null,B2=0,(Us&6)!==0)throw Error(r(331));var W=Us;for(Us|=4,wr=p.current;wr!==null;){var te=wr,Ae=te.child;if((wr.flags&16)!==0){var He=te.deletions;if(He!==null){for(var Ye=0;Ye<He.length;Ye++){var bt=He[Ye];for(wr=bt;wr!==null;){var Kt=wr;switch(Kt.tag){case 0:case 11:case 15:Ey(8,Kt,te)}var Jt=Kt.child;if(Jt!==null)Jt.return=Kt,wr=Jt;else for(;wr!==null;){Kt=wr;var Wt=Kt.sibling,xr=Kt.return;if(GL(Kt),Kt===bt){wr=null;break}if(Wt!==null){Wt.return=xr,wr=Wt;break}wr=xr}}}var Cr=te.alternate;if(Cr!==null){var Er=Cr.child;if(Er!==null){Cr.child=null;do{var Oa=Er.sibling;Er.sibling=null,Er=Oa}while(Er!==null)}}wr=te}}if((te.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=te,wr=Ae;else e:for(;wr!==null;){if(te=wr,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Ey(9,te,te.return)}var mt=te.sibling;if(mt!==null){mt.return=te.return,wr=mt;break e}wr=te.return}}var nt=p.current;for(wr=nt;wr!==null;){Ae=wr;var gt=Ae.child;if((Ae.subtreeFlags&2064)!==0&&gt!==null)gt.return=Ae,wr=gt;else e:for(Ae=nt;wr!==null;){if(He=wr,(He.flags&2048)!==0)try{switch(He.tag){case 0:case 11:case 15:S2(9,He)}}catch(Fr){ka(He,He.return,Fr)}if(He===Ae){wr=null;break e}var rr=He.sibling;if(rr!==null){rr.return=He.return,wr=rr;break e}wr=He.return}}if(Us=W,se(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot($e,p)}catch{}R=!0}return R}finally{ms=C,$c.transition=y}}return!1}function oR(p,y,C){y=Sx(C,y),y=SL(p,y,1),p=_n(p,y,1),y=al(),p!==null&&(Zn(p,1,y),Ml(p,y))}function ka(p,y,C){if(p.tag===3)oR(p,p,C);else for(;y!==null;){if(y.tag===3){oR(y,p,C);break}else if(y.tag===1){var R=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(j0===null||!j0.has(R))){p=Sx(C,p),p=_L(y,p,1),y=_n(y,p,1),p=al(),y!==null&&(Zn(y,1,p),Ml(y,p));break}}y=y.return}}function voe(p,y,C){var R=p.pingCache;R!==null&&R.delete(y),y=al(),p.pingedLanes|=p.suspendedLanes&C,Qi===p&&(lo&C)===C&&(yi===4||yi===3&&(lo&130023424)===lo&&500>De()-G_?xp(p,0):$_|=C),Ml(p,y)}function lR(p,y){y===0&&((p.mode&1)===0?y=1:(y=Or,Or<<=1,(Or&130023424)===0&&(Or=4194304)));var C=al();p=In(p,y),p!==null&&(Zn(p,y,C),Ml(p,C))}function yoe(p){var y=p.memoizedState,C=0;y!==null&&(C=y.retryLane),lR(p,C)}function boe(p,y){var C=0;switch(p.tag){case 13:var R=p.stateNode,W=p.memoizedState;W!==null&&(C=W.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(y),lR(p,C)}var cR;cR=function(p,y,C){if(p!==null)if(p.memoizedProps!==y.pendingProps||No.current)Bl=!0;else{if((p.lanes&C)===0&&(y.flags&128)===0)return Bl=!1,loe(p,y,C);Bl=(p.flags&131072)!==0}else Bl=!1,Pt&&(y.flags&1048576)!==0&&ot(y,be,y.index);switch(y.lanes=0,y.tag){case 2:var R=y.type;j2(p,y),p=y.pendingProps;var W=v0(y,xi.current);Qn(y,C),W=wx(null,y,R,p,W,C);var te=Sy();return y.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,So(R)?(te=!0,Gh(y)):te=!1,y.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,ta(y),W.updater=sn,y.stateNode=W,W._reactInternals=y,nc(y,R,p,C),y=F_(null,y,R,!0,te,C)):(y.tag=0,Pt&&te&&kt(y),nl(null,y,W,C),y=y.child),y;case 16:R=y.elementType;e:{switch(j2(p,y),p=y.pendingProps,W=R._init,R=W(R._payload),y.type=R,W=y.tag=joe(R),p=Ur(R,p),W){case 0:y=M_(null,y,R,p,C);break e;case 1:y=IL(null,y,R,p,C);break e;case 11:y=BL(null,y,R,p,C);break e;case 14:y=TL(null,y,R,Ur(R.type,p),C);break e}throw Error(r(306,R,""))}return y;case 0:return R=y.type,W=y.pendingProps,W=y.elementType===R?W:Ur(R,W),M_(p,y,R,W,C);case 1:return R=y.type,W=y.pendingProps,W=y.elementType===R?W:Ur(R,W),IL(p,y,R,W,C);case 3:e:{if(DL(y),p===null)throw Error(r(387));R=y.pendingProps,te=y.memoizedState,W=te.element,no(p,y),Hi(y,R,null,C);var Ae=y.memoizedState;if(R=Ae.element,te.isDehydrated)if(te={element:R,isDehydrated:!1,cache:Ae.cache,pendingSuspenseBoundaries:Ae.pendingSuspenseBoundaries,transitions:Ae.transitions},y.updateQueue.baseState=te,y.memoizedState=te,y.flags&256){W=Sx(Error(r(423)),y),y=LL(p,y,R,C,W);break e}else if(R!==W){W=Sx(Error(r(424)),y),y=LL(p,y,R,C,W);break e}else for(Ct=so(y.stateNode.containerInfo.firstChild),Nt=y,Pt=!0,Dt=null,C=A2(y,null,R,C),y.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(br(),R===W){y=Jh(p,y,C);break e}nl(p,y,R,C)}y=y.child}return y;case 5:return lp(y),p===null&&Sr(y),R=y.type,W=y.pendingProps,te=p!==null?p.memoizedProps:null,Ae=W.children,xy(R,W)?Ae=null:te!==null&&xy(R,te)&&(y.flags|=32),PL(p,y),nl(p,y,Ae,C),y.child;case 6:return p===null&&Sr(y),null;case 13:return RL(p,y,C);case 4:return wy(y,y.stateNode.containerInfo),R=y.pendingProps,p===null?y.child=Hc(y,null,R,C):nl(p,y,R,C),y.child;case 11:return R=y.type,W=y.pendingProps,W=y.elementType===R?W:Ur(R,W),BL(p,y,R,W,C);case 7:return nl(p,y,y.pendingProps,C),y.child;case 8:return nl(p,y,y.pendingProps.children,C),y.child;case 12:return nl(p,y,y.pendingProps.children,C),y.child;case 10:e:{if(R=y.type._context,W=y.pendingProps,te=y.memoizedProps,Ae=W.value,cn(ws,R._currentValue),R._currentValue=Ae,te!==null)if(ca(te.value,Ae)){if(te.children===W.children&&!No.current){y=Jh(p,y,C);break e}}else for(te=y.child,te!==null&&(te.return=y);te!==null;){var He=te.dependencies;if(He!==null){Ae=te.child;for(var Ye=He.firstContext;Ye!==null;){if(Ye.context===R){if(te.tag===1){Ye=Es(-1,C&-C),Ye.tag=2;var bt=te.updateQueue;if(bt!==null){bt=bt.shared;var Kt=bt.pending;Kt===null?Ye.next=Ye:(Ye.next=Kt.next,Kt.next=Ye),bt.pending=Ye}}te.lanes|=C,Ye=te.alternate,Ye!==null&&(Ye.lanes|=C),vi(te.return,C,y),He.lanes|=C;break}Ye=Ye.next}}else if(te.tag===10)Ae=te.type===y.type?null:te.child;else if(te.tag===18){if(Ae=te.return,Ae===null)throw Error(r(341));Ae.lanes|=C,He=Ae.alternate,He!==null&&(He.lanes|=C),vi(Ae,C,y),Ae=te.sibling}else Ae=te.child;if(Ae!==null)Ae.return=te;else for(Ae=te;Ae!==null;){if(Ae===y){Ae=null;break}if(te=Ae.sibling,te!==null){te.return=Ae.return,Ae=te;break}Ae=Ae.return}te=Ae}nl(p,y,W.children,C),y=y.child}return y;case 9:return W=y.type,R=y.pendingProps.children,Qn(y,C),W=ss(W),R=R(W),y.flags|=1,nl(p,y,R,C),y.child;case 14:return R=y.type,W=Ur(R,y.pendingProps),W=Ur(R.type,W),TL(p,y,R,W,C);case 15:return ML(p,y,y.type,y.pendingProps,C);case 17:return R=y.type,W=y.pendingProps,W=y.elementType===R?W:Ur(R,W),j2(p,y),y.tag=1,So(R)?(p=!0,Gh(y)):p=!1,Qn(y,C),_l(y,R,W),nc(y,R,W,C),F_(null,y,R,!0,p,C);case 19:return UL(p,y,C);case 22:return FL(p,y,C)}throw Error(r(156,y.tag))};function dR(p,y){return de(p,y)}function woe(p,y,C,R){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gc(p,y,C,R){return new woe(p,y,C,R)}function Z_(p){return p=p.prototype,!(!p||!p.isReactComponent)}function joe(p){if(typeof p=="function")return Z_(p)?1:0;if(p!=null){if(p=p.$$typeof,p===M)return 11;if(p===L)return 14}return 2}function C0(p,y){var C=p.alternate;return C===null?(C=Gc(p.tag,y,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=y,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,y=p.dependencies,C.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function P2(p,y,C,R,W,te){var Ae=2;if(R=p,typeof p=="function")Z_(p)&&(Ae=1);else if(typeof p=="string")Ae=5;else e:switch(p){case E:return vp(C.children,W,te,y);case P:Ae=8,W|=8;break;case _:return p=Gc(12,C,y,W|2),p.elementType=_,p.lanes=te,p;case T:return p=Gc(13,C,y,W),p.elementType=T,p.lanes=te,p;case H:return p=Gc(19,C,y,W),p.elementType=H,p.lanes=te,p;case O:return I2(C,W,te,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case B:Ae=10;break e;case k:Ae=9;break e;case M:Ae=11;break e;case L:Ae=14;break e;case Q:Ae=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return y=Gc(Ae,C,y,W),y.elementType=p,y.type=R,y.lanes=te,y}function vp(p,y,C,R){return p=Gc(7,p,R,y),p.lanes=C,p}function I2(p,y,C,R){return p=Gc(22,p,R,y),p.elementType=O,p.lanes=C,p.stateNode={isHidden:!1},p}function eC(p,y,C){return p=Gc(6,p,null,y),p.lanes=C,p}function tC(p,y,C){return y=Gc(4,p.children!==null?p.children:[],p.key,y),y.lanes=C,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function Noe(p,y,C,R,W){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=R,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function rC(p,y,C,R,W,te,Ae,He,Ye){return p=new Noe(p,y,C,He,Ye),y===1?(y=1,te===!0&&(y|=8)):y=0,te=Gc(3,null,null,y),p.current=te,te.stateNode=p,te.memoizedState={element:R,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},ta(te),p}function Soe(p,y,C){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:R==null?null:""+R,children:p,containerInfo:y,implementation:C}}function uR(p){if(!p)return Mu;p=p._reactInternals;e:{if(Be(p)!==p||p.tag!==1)throw Error(r(170));var y=p;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(So(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(r(171))}if(p.tag===1){var C=p.type;if(So(C))return by(p,C,y)}return y}function hR(p,y,C,R,W,te,Ae,He,Ye){return p=rC(C,R,!0,p,W,te,Ae,He,Ye),p.context=uR(null),C=p.current,R=al(),W=S0(C),te=Es(R,W),te.callback=y??null,_n(C,te,W),p.current.lanes=W,Zn(p,W,R),Ml(p,R),p}function D2(p,y,C,R){var W=y.current,te=al(),Ae=S0(W);return C=uR(C),y.context===null?y.context=C:y.pendingContext=C,y=Es(te,Ae),y.payload={element:p},R=R===void 0?null:R,R!==null&&(y.callback=R),p=_n(W,y,Ae),p!==null&&(Hd(p,W,Ae,te),Oi(p,W,Ae)),Ae}function L2(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function fR(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<y?C:y}}function sC(p,y){fR(p,y),(p=p.alternate)&&fR(p,y)}function _oe(){return null}var mR=typeof reportError=="function"?reportError:function(p){console.error(p)};function nC(p){this._internalRoot=p}R2.prototype.render=nC.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(r(409));D2(p,y,null,null)},R2.prototype.unmount=nC.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;Ap(function(){D2(null,p,null,null)}),y[Ri]=null}};function R2(p){this._internalRoot=p}R2.prototype.unstable_scheduleHydration=function(p){if(p){var y=cx();p={blockedOn:null,target:p,priority:y};for(var C=0;C<Fc.length&&y!==0&&y<Fc[C].priority;C++);Fc.splice(C,0,p),C===0&&ux(p)}};function aC(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function O2(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function pR(){}function Coe(p,y,C,R,W){if(W){if(typeof R=="function"){var te=R;R=function(){var bt=L2(Ae);te.call(bt)}}var Ae=hR(y,R,p,0,null,!1,!1,"",pR);return p._reactRootContainer=Ae,p[Ri]=Ae.current,Uh(p.nodeType===8?p.parentNode:p),Ap(),Ae}for(;W=p.lastChild;)p.removeChild(W);if(typeof R=="function"){var He=R;R=function(){var bt=L2(Ye);He.call(bt)}}var Ye=rC(p,0,!1,null,null,!1,!1,"",pR);return p._reactRootContainer=Ye,p[Ri]=Ye.current,Uh(p.nodeType===8?p.parentNode:p),Ap(function(){D2(y,Ye,C,R)}),Ye}function U2(p,y,C,R,W){var te=C._reactRootContainer;if(te){var Ae=te;if(typeof W=="function"){var He=W;W=function(){var Ye=L2(Ae);He.call(Ye)}}D2(y,Ae,p,W)}else Ae=Coe(C,y,p,W,R);return L2(Ae)}yu=function(p){switch(p.tag){case 3:var y=p.stateNode;if(y.current.memoizedState.isDehydrated){var C=us(y.pendingLanes);C!==0&&(Tc(y,C|1),Ml(y,De()),(Us&6)===0&&(Ex=De()+500,se()))}break;case 13:Ap(function(){var R=In(p,1);if(R!==null){var W=al();Hd(R,p,1,W)}}),sC(p,1)}},Hm=function(p){if(p.tag===13){var y=In(p,134217728);if(y!==null){var C=al();Hd(y,p,134217728,C)}sC(p,134217728)}},lx=function(p){if(p.tag===13){var y=S0(p),C=In(p,y);if(C!==null){var R=al();Hd(C,p,y,R)}sC(p,y)}},cx=function(){return ms},t0=function(p,y){var C=ms;try{return ms=p,y()}finally{ms=C}},Ze=function(p,y,C){switch(y){case"input":if(Ce(p,C),y=C.name,C.type==="radio"&&y!=null){for(C=p;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<C.length;y++){var R=C[y];if(R!==p&&R.form===p.form){var W=sp(R);if(!W)throw Error(r(90));le(R),Ce(R,W)}}}break;case"textarea":We(p,C);break;case"select":y=C.value,y!=null&&ce(p,!!C.multiple,y,!1)}},Vt=X_,Pr=Ap;var Eoe={usingClientEntryPoint:!1,Events:[g0,zh,sp,St,Xt,X_]},My={findFiberByHostInstance:Tu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},koe={bundleType:My.bundleType,version:My.version,rendererPackageName:My.rendererPackageName,rendererConfig:My.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ut(p),p===null?null:p.stateNode},findFiberByHostInstance:My.findFiberByHostInstance||_oe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H2.isDisabled&&H2.supportsFiber)try{$e=H2.inject(koe),Ot=H2}catch{}}return Fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eoe,Fl.createPortal=function(p,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aC(y))throw Error(r(200));return Soe(p,y,null,C)},Fl.createRoot=function(p,y){if(!aC(p))throw Error(r(299));var C=!1,R="",W=mR;return y!=null&&(y.unstable_strictMode===!0&&(C=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(W=y.onRecoverableError)),y=rC(p,1,!1,null,null,C,!1,R,W),p[Ri]=y.current,Uh(p.nodeType===8?p.parentNode:p),new nC(y)},Fl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=ut(y),p=p===null?null:p.stateNode,p},Fl.flushSync=function(p){return Ap(p)},Fl.hydrate=function(p,y,C){if(!O2(y))throw Error(r(200));return U2(null,p,y,!0,C)},Fl.hydrateRoot=function(p,y,C){if(!aC(p))throw Error(r(405));var R=C!=null&&C.hydratedSources||null,W=!1,te="",Ae=mR;if(C!=null&&(C.unstable_strictMode===!0&&(W=!0),C.identifierPrefix!==void 0&&(te=C.identifierPrefix),C.onRecoverableError!==void 0&&(Ae=C.onRecoverableError)),y=hR(y,null,p,1,C??null,W,!1,te,Ae),p[Ri]=y.current,Uh(p),R)for(p=0;p<R.length;p++)C=R[p],W=C._getVersion,W=W(C._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[C,W]:y.mutableSourceEagerHydrationData.push(C,W);return new R2(y)},Fl.render=function(p,y,C){if(!O2(y))throw Error(r(200));return U2(null,p,y,!1,C)},Fl.unmountComponentAtNode=function(p){if(!O2(p))throw Error(r(40));return p._reactRootContainer?(Ap(function(){U2(null,null,p,!1,function(){p._reactRootContainer=null,p[Ri]=null})}),!0):!1},Fl.unstable_batchedUpdates=X_,Fl.unstable_renderSubtreeIntoContainer=function(p,y,C,R){if(!O2(C))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return U2(p,y,C,!1,R)},Fl.version="18.2.0-next-9e3b772b8-20220608",Fl}var jR;function Ooe(){if(jR)return lC.exports;jR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lC.exports=Roe(),lC.exports}var NR;function Uoe(){if(NR)return z2;NR=1;var t=Ooe();return z2.createRoot=t.createRoot,z2.hydrateRoot=t.hydrateRoot,z2}var Hoe=Uoe(),F=YP();const Ue=Nn(F);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SR="popstate";function Qoe(t={}){function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return kT("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:i1(a)}return $oe(e,r,null,t)}function Aa(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zoe(){return Math.random().toString(36).substring(2,10)}function _R(t,e){return{usr:t.state,key:t.key,idx:e}}function kT(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pv(e):e,state:r,key:e&&e.key||n||zoe()}}function i1({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pv(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function $oe(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let x=u(),v=x==null?null:x-d;d=x,c&&c({action:l,location:g.location,delta:v})}function m(x,v){l="PUSH";let j=kT(g.location,x,v);d=u()+1;let b=_R(j,d),S=g.createHref(j);try{o.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(S)}i&&c&&c({action:l,location:g.location,delta:1})}function f(x,v){l="REPLACE";let j=kT(g.location,x,v);d=u();let b=_R(j,d),S=g.createHref(j);o.replaceState(b,"",S),i&&c&&c({action:l,location:g.location,delta:0})}function A(x){return Goe(x)}let g={get action(){return l},get location(){return t(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(SR,h),c=x,()=>{a.removeEventListener(SR,h),c=null}},createHref(x){return e(a,x)},createURL:A,encodeLocation(x){let v=A(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(x){return o.go(x)}};return g}function Goe(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Aa(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:i1(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function cX(t,e,r="/"){return Voe(t,e,r,!1)}function Voe(t,e,r,n){let a=typeof e=="string"?Pv(e):e,i=Rf(a.pathname||"/",r);if(i==null)return null;let o=dX(t);Woe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=nle(i);l=rle(o[c],d,n)}return l}function dX(t,e=[],r=[],n="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;Aa(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=Ef([n,u.relativePath]),m=r.concat(u);o.children&&o.children.length>0&&(Aa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),dX(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:ele(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of uX(o.path))i(o,l,!0,d)}),e}function uX(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=uX(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Woe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tle(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var qoe=/^:[\w-]+$/,Koe=3,Xoe=2,Yoe=1,Joe=10,Zoe=-2,CR=t=>t==="*";function ele(t,e){let r=t.split("/"),n=r.length;return r.some(CR)&&(n+=Zoe),e&&(n+=Xoe),r.filter(a=>!CR(a)).reduce((a,i)=>a+(qoe.test(i)?Koe:i===""?Yoe:Joe),n)}function tle(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function rle(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=r5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=r5({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ef([i,h.pathname]),pathnameBase:cle(Ef([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ef([i,h.pathnameBase]))}return o}function r5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sle(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let A=l[m]||"";o=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const f=l[m];return h&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function sle(t,e=!1,r=!0){Sc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function nle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sc(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var ale=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ile=t=>ale.test(t);function ole(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Pv(t):t,i;if(r)if(ile(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Sc(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=ER(r.substring(1),"/"):i=ER(r,e)}else i=e;return{pathname:i,search:dle(n),hash:ule(a)}}function ER(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uC(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lle(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function JP(t){let e=lle(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function ZP(t,e,r,n=!1){let a;typeof t=="string"?a=Pv(t):(a={...t},Aa(!a.pathname||!a.pathname.includes("?"),uC("?","pathname","search",a)),Aa(!a.pathname||!a.pathname.includes("#"),uC("#","pathname","hash",a)),Aa(!a.search||!a.search.includes("#"),uC("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=ole(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ef=t=>t.join("/").replace(/\/\/+/g,"/"),cle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ule=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hX=["POST","PUT","PATCH","DELETE"];new Set(hX);var fle=["GET",...hX];new Set(fle);var Iv=F.createContext(null);Iv.displayName="DataRouter";var s4=F.createContext(null);s4.displayName="DataRouterState";F.createContext(!1);var fX=F.createContext({isTransitioning:!1});fX.displayName="ViewTransition";var mle=F.createContext(new Map);mle.displayName="Fetchers";var ple=F.createContext(null);ple.displayName="Await";var fu=F.createContext(null);fu.displayName="Navigation";var vw=F.createContext(null);vw.displayName="Location";var mu=F.createContext({outlet:null,matches:[],isDataRoute:!1});mu.displayName="Route";var eI=F.createContext(null);eI.displayName="RouteError";function Ale(t,{relative:e}={}){Aa(Dv(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=F.useContext(fu),{hash:a,pathname:i,search:o}=yw(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:Ef([r,i])),n.createHref({pathname:l,search:o,hash:a})}function Dv(){return F.useContext(vw)!=null}function Ec(){return Aa(Dv(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(vw).location}var mX="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pX(t){F.useContext(fu).static||F.useLayoutEffect(t)}function mi(){let{isDataRoute:t}=F.useContext(mu);return t?kle():xle()}function xle(){Aa(Dv(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Iv),{basename:e,navigator:r}=F.useContext(fu),{matches:n}=F.useContext(mu),{pathname:a}=Ec(),i=JSON.stringify(JP(n)),o=F.useRef(!1);return pX(()=>{o.current=!0}),F.useCallback((c,d={})=>{if(Sc(o.current,mX),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=ZP(c,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ef([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,i,a,t])}F.createContext(null);function AX(){let{matches:t}=F.useContext(mu),e=t[t.length-1];return e?e.params:{}}function yw(t,{relative:e}={}){let{matches:r}=F.useContext(mu),{pathname:n}=Ec(),a=JSON.stringify(JP(r));return F.useMemo(()=>ZP(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function gle(t,e){return xX(t,e)}function xX(t,e,r,n,a){var j;Aa(Dv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(fu),{matches:o}=F.useContext(mu),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let b=h&&h.path||"";gX(d,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let m=Ec(),f;if(e){let b=typeof e=="string"?Pv(e):e;Aa(u==="/"||((j=b.pathname)==null?void 0:j.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=m;let A=f.pathname||"/",g=A;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+A.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=cX(t,{pathname:g});Sc(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Sc(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=jle(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Ef([u,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Ef([u,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),o,r,n,a);return e&&v?F.createElement(vw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function vle(){let t=Ele(),e=hle(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:i},"ErrorBoundary")," or"," ",F.createElement("code",{style:i},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:a},r):null,o)}var yle=F.createElement(vle,null),ble=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?F.createElement(mu.Provider,{value:this.props.routeContext},F.createElement(eI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wle({routeContext:t,match:e,children:r}){let n=F.useContext(Iv);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(mu.Provider,{value:t},r)}function jle(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Aa(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:f}=r,A=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||A){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=r&&n?(u,h)=>{var m,f;n(u,{location:r.location,params:((f=(m=r.matches)==null?void 0:m[0])==null?void 0:f.params)??{},errorInfo:h})}:void 0;return i.reduceRight((u,h,m)=>{let f,A=!1,g=null,x=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||yle,l&&(c<0&&m===0?(gX("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):c===m&&(A=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),j=()=>{let b;return f?b=g:A?b=x:h.route.Component?b=F.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,F.createElement(wle,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?F.createElement(ble,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:j(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:d}):j()},null)}function tI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nle(t){let e=F.useContext(Iv);return Aa(e,tI(t)),e}function Sle(t){let e=F.useContext(s4);return Aa(e,tI(t)),e}function _le(t){let e=F.useContext(mu);return Aa(e,tI(t)),e}function rI(t){let e=_le(t),r=e.matches[e.matches.length-1];return Aa(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Cle(){return rI("useRouteId")}function Ele(){var n;let t=F.useContext(eI),e=Sle("useRouteError"),r=rI("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function kle(){let{router:t}=Nle("useNavigate"),e=rI("useNavigate"),r=F.useRef(!1);return pX(()=>{r.current=!0}),F.useCallback(async(a,i={})=>{Sc(r.current,mX),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var kR={};function gX(t,e,r){!e&&!kR[t]&&(kR[t]=!0,Sc(!1,r))}F.memo(Ble);function Ble({routes:t,future:e,state:r,unstable_onError:n}){return xX(t,void 0,r,n,e)}function s5({to:t,replace:e,state:r,relative:n}){Aa(Dv(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(fu);Sc(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=F.useContext(mu),{pathname:o}=Ec(),l=mi(),c=ZP(t,JP(i),o,n==="path"),d=JSON.stringify(c);return F.useEffect(()=>{l(JSON.parse(d),{replace:e,state:r,relative:n})},[l,d,n,e,r]),null}function qt(t){Aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tle({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Aa(!Dv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Pv(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=r,f=F.useMemo(()=>{let A=Rf(c,o);return A==null?null:{location:{pathname:A,search:d,hash:u,state:h,key:m},navigationType:n}},[o,c,d,u,h,m,n]);return Sc(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:F.createElement(fu.Provider,{value:l},F.createElement(vw.Provider,{children:e,value:f}))}function bw({children:t,location:e}){return gle(BT(t),e)}function BT(t,e=[]){let r=[];return F.Children.forEach(t,(n,a)=>{if(!F.isValidElement(n))return;let i=[...e,a];if(n.type===F.Fragment){r.push.apply(r,BT(n.props.children,i));return}Aa(n.type===qt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Aa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=BT(n.props.children,i)),r.push(o)}),r}var IN="get",DN="application/x-www-form-urlencoded";function n4(t){return t!=null&&typeof t.tagName=="string"}function Mle(t){return n4(t)&&t.tagName.toLowerCase()==="button"}function Fle(t){return n4(t)&&t.tagName.toLowerCase()==="form"}function Ple(t){return n4(t)&&t.tagName.toLowerCase()==="input"}function Ile(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dle(t,e){return t.button===0&&(!e||e==="_self")&&!Ile(t)}function TT(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Lle(t,e){let r=TT(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var $2=null;function Rle(){if($2===null)try{new FormData(document.createElement("form"),0),$2=!1}catch{$2=!0}return $2}var Ole=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hC(t){return t!=null&&!Ole.has(t)?(Sc(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${DN}"`),null):t}function Ule(t,e){let r,n,a,i,o;if(Fle(t)){let l=t.getAttribute("action");n=l?Rf(l,e):null,r=t.getAttribute("method")||IN,a=hC(t.getAttribute("enctype"))||DN,i=new FormData(t)}else if(Mle(t)||Ple(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Rf(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||IN,a=hC(t.getAttribute("formenctype"))||hC(l.getAttribute("enctype"))||DN,i=new FormData(l,t),!Rle()){let{name:d,type:u,value:h}=t;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(n4(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=IN,n=null,a=DN,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hle(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Rf(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Qle(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zle(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $le(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await Qle(i,r);return o.links?o.links():[]}return[]}));return qle(n.flat(1).filter(zle).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function BR(t,e,r,n,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Gle(t,e,{includeHydrateFallback:r}={}){return Vle(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Vle(t){return[...new Set(t)]}function Wle(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function qle(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(Wle(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function vX(){let t=F.useContext(Iv);return sI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Kle(){let t=F.useContext(s4);return sI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var nI=F.createContext(void 0);nI.displayName="FrameworkContext";function yX(){let t=F.useContext(nI);return sI(t,"You must render this element inside a <HydratedRouter> element"),t}function Xle(t,e){let r=F.useContext(nI),[n,a]=F.useState(!1),[i,o]=F.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,m=F.useRef(null);F.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=v=>{v.forEach(j=>{o(j.isIntersecting)})},x=new IntersectionObserver(g,{threshold:.5});return m.current&&x.observe(m.current),()=>{x.disconnect()}}},[t]),F.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{a(!0)},A=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Py(l,f),onBlur:Py(c,A),onMouseEnter:Py(d,f),onMouseLeave:Py(u,A),onTouchStart:Py(h,f)}]:[!1,m,{}]}function Py(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Yle({page:t,...e}){let{router:r}=vX(),n=F.useMemo(()=>cX(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?F.createElement(Zle,{page:t,matches:n,...e}):null}function Jle(t){let{manifest:e,routeModules:r}=yX(),[n,a]=F.useState([]);return F.useEffect(()=>{let i=!1;return $le(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function Zle({page:t,matches:e,...r}){let n=Ec(),{manifest:a,routeModules:i}=yX(),{basename:o}=vX(),{loaderData:l,matches:c}=Kle(),d=F.useMemo(()=>BR(t,e,c,a,n,"data"),[t,e,c,a,n]),u=F.useMemo(()=>BR(t,e,c,a,n,"assets"),[t,e,c,a,n]),h=F.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let A=new Set,g=!1;if(e.forEach(v=>{var b;let j=a.routes[v.route.id];!j||!j.hasLoader||(!d.some(S=>S.route.id===v.route.id)&&v.route.id in l&&((b=i[v.route.id])!=null&&b.shouldRevalidate)||j.hasClientLoader?g=!0:A.add(v.route.id))}),A.size===0)return[];let x=Hle(t,o,"data");return g&&A.size>0&&x.searchParams.set("_routes",e.filter(v=>A.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[o,l,n,a,d,e,t,i]),m=F.useMemo(()=>Gle(u,a),[u,a]),f=Jle(u);return F.createElement(F.Fragment,null,h.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),m.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),f.map(({key:A,link:g})=>F.createElement("link",{key:A,nonce:r.nonce,...g})))}function ece(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var bX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bX&&(window.__reactRouterVersion="7.9.6")}catch{}function tce({basename:t,children:e,window:r}){let n=F.useRef();n.current==null&&(n.current=Qoe({window:r,v5Compat:!0}));let a=n.current,[i,o]=F.useState({action:a.action,location:a.location}),l=F.useCallback(c=>{F.startTransition(()=>o(c))},[o]);return F.useLayoutEffect(()=>a.listen(l),[a,l]),F.createElement(Tle,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var wX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qg=F.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},f){let{basename:A}=F.useContext(fu),g=typeof d=="string"&&wX.test(d),x,v=!1;if(typeof d=="string"&&g&&(x=d,bX))try{let _=new URL(window.location.href),B=d.startsWith("//")?new URL(_.protocol+d):new URL(d),k=Rf(B.pathname,A);B.origin===_.origin&&k!=null?d=k+B.search+B.hash:v=!0}catch{Sc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Ale(d,{relative:a}),[b,S,w]=Xle(n,m),N=nce(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function E(_){e&&e(_),_.defaultPrevented||N(_)}let P=F.createElement("a",{...m,...w,href:x||j,onClick:v||i?e:E,ref:ece(f,S),target:c,"data-discover":!g&&r==="render"?"true":void 0});return b&&!g?F.createElement(F.Fragment,null,P,F.createElement(Yle,{page:j})):P});Qg.displayName="Link";var n5=F.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=yw(o,{relative:d.relative}),m=Ec(),f=F.useContext(s4),{navigator:A,basename:g}=F.useContext(fu),x=f!=null&&dce(h)&&l===!0,v=A.encodeLocation?A.encodeLocation(h).pathname:h.pathname,j=m.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(j=j.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&g&&(b=Rf(b,g)||b);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let w=j===v||!a&&j.startsWith(v)&&j.charAt(S)==="/",N=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),E={isActive:w,isPending:N,isTransitioning:x},P=w?e:void 0,_;typeof n=="function"?_=n(E):_=[n,w?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(E):i;return F.createElement(Qg,{...d,"aria-current":P,className:_,ref:u,style:B,to:o,viewTransition:l},typeof c=="function"?c(E):c)});n5.displayName="NavLink";var rce=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=IN,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},f)=>{let A=lce(),g=cce(l,{relative:d}),x=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&wX.test(l),j=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let S=b.nativeEvent.submitter,w=(S==null?void 0:S.getAttribute("formmethod"))||o;A(S||b.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return F.createElement("form",{ref:f,method:x,action:g,onSubmit:n?c:j,...m,"data-discover":!v&&t==="render"?"true":void 0})});rce.displayName="Form";function sce(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jX(t){let e=F.useContext(Iv);return Aa(e,sce(t)),e}function nce(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=mi(),c=Ec(),d=yw(t,{relative:i});return F.useCallback(u=>{if(Dle(u,e)){u.preventDefault();let h=r!==void 0?r:i1(c)===i1(d);l(t,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,n,e,t,a,i,o])}function ace(t){Sc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(TT(t)),r=F.useRef(!1),n=Ec(),a=F.useMemo(()=>Lle(n.search,r.current?null:e.current),[n.search]),i=mi(),o=F.useCallback((l,c)=>{const d=TT(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var ice=0,oce=()=>`__${String(++ice)}__`;function lce(){let{router:t}=jX("useSubmit"),{basename:e}=F.useContext(fu),r=Cle();return F.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Ule(n,e);if(a.navigate===!1){let u=a.fetcherKey||oce();await t.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function cce(t,{relative:e}={}){let{basename:r}=F.useContext(fu),n=F.useContext(mu);Aa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...yw(t||".",{relative:e})},o=Ec();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ef([r,i.pathname])),i1(i)}function dce(t,{relative:e}={}){let r=F.useContext(fX);Aa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jX("useViewTransitionState"),a=yw(t,{relative:e});if(!r.isTransitioning)return!1;let i=Rf(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return r5(a.pathname,o)!=null||r5(a.pathname,i)!=null}/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),TR=t=>{const e=hce(t);return e.charAt(0).toUpperCase()+e.slice(1)},NX=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),fce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>F.createElement("svg",{ref:c,...mce,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:NX("lucide",a),...!i&&!fce(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>F.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const r=F.forwardRef(({className:n,...a},i)=>F.createElement(pce,{ref:i,iconNode:e,className:NX(`lucide-${uce(TR(t))}`,`lucide-${t}`,n),...a}));return r.displayName=TR(t),r};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ya=pt("activity",Ace);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],MT=pt("archive",xce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],FT=pt("arrow-down",gce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],MR=pt("arrow-left-right",vce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wl=pt("arrow-left",yce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zg=pt("arrow-right",bce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],FR=pt("arrow-up-right",wce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$g=pt("arrow-up",jce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Sce=pt("at-sign",Nce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pn=pt("award",_ce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Ece=pt("baby",Cce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PT=pt("badge-check",kce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Tce=pt("battery",Bce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Fce=pt("bell-ring",Mce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Kn=pt("bell",Pce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qr=pt("book-open",Ice);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],a4=pt("book",Dce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Rce=pt("bookmark-check",Lce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],a5=pt("bookmark",Oce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],SX=pt("bot",Uce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Js=pt("brain",Hce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],aI=pt("briefcase",Qce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Xu=pt("building-2",zce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Gce=pt("building",$ce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],_X=pt("bus",Vce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],i4=pt("calculator",Wce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Kce=pt("calendar-check",qce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Yce=pt("calendar-days",Xce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tr=pt("calendar",Jce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iI=pt("camera",Zce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tde=pt("chart-column-increasing",ede);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Mn=pt("chart-column",rde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],nde=pt("chart-no-axes-column",sde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],CX=pt("chart-pie",ade);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ode=pt("check-check",ide);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jA=pt("check",lde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mn=pt("chevron-down",cde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wd=pt("chevron-left",dde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aa=pt("chevron-right",ude);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EX=pt("chevron-up",hde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],mde=pt("chevrons-up-down",fde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ir=pt("circle-alert",pde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lr=pt("circle-check-big",Ade);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iA=pt("circle-check",xde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vde=pt("circle-help",gde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bde=pt("circle-plus",yde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],jde=pt("circle-user",wde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ka=pt("circle-x",Nde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Bb=pt("clipboard-check",Sde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],i5=pt("clipboard-list",_de);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],dr=pt("clock",Cde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],PR=pt("coffee",Ede);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],oI=pt("coins",kde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vm=pt("copy",Bde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vc=pt("credit-card",Tde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dh=pt("dollar-sign",Mde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],is=pt("download",Fde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],md=pt("ellipsis-vertical",Pde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Dde=pt("ellipsis",Ide);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rde=pt("external-link",Lde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gg=pt("eye-off",Ode);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Is=pt("eye",Ude);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Qde=pt("file-chart-column-increasing",Hde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],$de=pt("file-check",zde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],kX=pt("file-down",Gde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],IR=pt("file-spreadsheet",Vde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kr=pt("file-text",Wde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Kde=pt("file",qde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],DR=pt("flag",Xde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],o1=pt("frown",Yde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xo=pt("funnel",Jde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],eue=pt("gamepad-2",Zde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Of=pt("globe",tue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Yn=pt("graduation-cap",rue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],o4=pt("grid-3x3",sue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aue=pt("hash",nue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ql=pt("heart",iue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Lv=pt("house",oue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],cue=pt("id-card",lue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],$0=pt("indian-rupee",due);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ww=pt("info",uue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],BX=pt("key-round",hue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],mue=pt("key-square",fue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jw=pt("layers",pue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xue=pt("layout-dashboard",Aue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],TX=pt("life-buoy",gue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Nw=pt("lightbulb",vue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],bue=pt("list-ordered",yue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],l4=pt("list",wue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],au=pt("loader-circle",jue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ym=pt("lock",Nue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l1=pt("log-out",Sue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yi=pt("mail",_ue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ml=pt("map-pin",Cue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],IT=pt("maximize-2",Eue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],MX=pt("medal",kue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],o5=pt("meh",Bue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Sw=pt("menu",Tue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],du=pt("message-circle",Mue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],kn=pt("message-square",Fue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],FX=pt("mic",Pue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Due=pt("minimize-2",Iue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"M5 12h14",key:"1ays0h"}]],Rue=pt("minus",Lue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Uue=pt("monitor",Oue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Que=pt("moon",Hue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],$ue=pt("network",zue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],lI=pt("paperclip",Gue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Wue=pt("pause",Vue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],ki=pt("pen-line",que);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],sh=pt("pen-tool",Kue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_w=pt("pen",Xue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Mi=pt("phone",Yue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Zue=pt("piggy-bank",Jue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],LR=pt("pin",ehe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ji=pt("play",the);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$s=pt("plus",rhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nhe=pt("printer",she);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],PX=pt("receipt",ahe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ohe=pt("refresh-ccw",ihe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wf=pt("refresh-cw",lhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],dhe=pt("rocket",che);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xo=pt("rotate-ccw",uhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],IX=pt("ruler",hhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cI=pt("save",fhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],dm=pt("school",mhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ds=pt("search",phe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qf=pt("send",Ahe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bm=pt("settings",xhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Cw=pt("share-2",ghe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],yhe=pt("share",vhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jg=pt("shield-check",bhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vg=pt("shield",whe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Nhe=pt("shopping-cart",jhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],DX=pt("shuffle",She);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Yu=pt("smile",_he);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],LX=pt("sparkles",Che);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dI=pt("square-pen",Ehe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ds=pt("star",khe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],l5=pt("sun",Bhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],jn=pt("target",The);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ni=pt("trash-2",Mhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],RR=pt("trash",Fhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Ihe=pt("tree-pine",Phe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],uI=pt("trending-down",Dhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vo=pt("triangle-alert",Lhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cs=pt("trending-up",Rhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hl=pt("trophy",Ohe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ew=pt("upload",Uhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pd=pt("user-check",Hhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zhe=pt("user-cog",Qhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hI=pt("user-plus",$he);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],Vhe=pt("user-search",Ghe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],qhe=pt("user-x",Whe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],As=pt("user",Khe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Yhe=pt("users-round",Xhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pr=pt("users",Jhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],NA=pt("video",Zhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tfe=pt("volume-2",efe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],sfe=pt("volume-x",rfe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],afe=pt("wallet",nfe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],ofe=pt("weight",ife);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],cfe=pt("wifi",lfe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gs=pt("x",dfe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uh=pt("zap",ufe),hfe=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState({username:"",password:"",rememberMe:!1}),[a,i]=F.useState({}),[o,l]=F.useState(!1),c=mi(),d=m=>{const{name:f,value:A,type:g,checked:x}=m.target;n(v=>({...v,[f]:g==="checkbox"?x:A})),a[f]&&i(v=>({...v,[f]:""}))},u=()=>{const m={};return r.username.trim()||(m.username="Username is required"),r.password?r.password.length<6&&(m.password="Password must be at least 6 characters"):m.password="Password is required",i(m),Object.keys(m).length===0},h=async m=>{if(m.preventDefault(),!!u()){l(!0);try{const f=[{userType:"Student",url:"/api/student/auth/login",redirect:"/dashboard"},{userType:"Teacher",url:"/api/teacher/auth/login",redirect:"/teachers"},{userType:"Parent",url:"/api/parent/auth/login",redirect:"/parents"},{userType:"Principal",url:"/api/principal/auth/login",redirect:"/principal"},{userType:"Admin",url:"/api/admin/auth/login",redirect:"/admin/dashboard"}];let A=!1;for(const g of f){const x=await fetch(`http://localhost:5000${g.url}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,password:r.password})});if(!x.ok)continue;const v=await x.json();localStorage.setItem("token",v.token),localStorage.setItem("userType",g.userType),c(g.redirect),A=!0;break}if(!A)throw new Error("Login failed")}catch(f){console.error("Login failed:",f)}finally{l(!1)}}};return s.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-[url('/xavier.jpeg')] bg-no-repeat bg-cover bg-center",children:s.jsxs("div",{className:"bg-white/90  backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full mx-auto space-y-6 border border-purple-600",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(ym,{className:"w-8 h-8 text-white"})}),s.jsx("h4",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-amber-600 bg-clip-text text-transparent",children:"Welcome to EEC"}),s.jsx("p",{className:"text-gray-600",children:"Please sign in to your account"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"username",value:r.username,onChange:d,placeholder:"Enter your username",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${a.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),a.username&&s.jsx("p",{className:"text-red-500 text-sm",children:a.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Password"}),s.jsx("button",{type:"button",className:"text-sm text-yellow-600 hover:text-amber-700 transition-colors duration-200",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ym,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:t?"text":"password",name:"password",value:r.password,onChange:d,placeholder:"Enter your password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${a.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("button",{type:"button",className:"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600",onClick:()=>e(!t),children:t?s.jsx(Gg,{size:20}):s.jsx(Is,{size:20})})})]}),a.password&&s.jsx("p",{className:"text-red-500 text-sm ",children:a.password})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"remember",name:"rememberMe",checked:r.rememberMe,onChange:d,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),s.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me for 30 days"})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 text-white py-3 rounded-xl hover:from-yellow-600 hover:to-amber-600 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]})]})})},ffe=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState(!1),[a,i]=F.useState({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[o,l]=F.useState({}),[c,d]=F.useState(!1),u=g=>{const{name:x,value:v,type:j,checked:b}=g.target;i(S=>({...S,[x]:j==="checkbox"?b:v})),o[x]&&l(S=>({...S,[x]:""}))},h=()=>{const g={};return a.username.trim()?a.username.length<3&&(g.username="Username must be at least 3 characters"):g.username="Username is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(g.email="Please enter a valid email address"):g.email="Email is required",a.password?a.password.length<8?g.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a.password)||(g.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):g.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(g.confirmPassword="Passwords do not match"):g.confirmPassword="Please confirm your password",a.agreeToTerms||(g.agreeToTerms="You must agree to the terms and conditions"),l(g),Object.keys(g).length===0},m=async g=>{if(g.preventDefault(),!!h()){d(!0);try{await new Promise(x=>setTimeout(x,2e3)),console.log("Registration attempt:",{username:a.username,email:a.email,password:a.password})}catch(x){console.error("Registration failed:",x)}finally{d(!1)}}},f=()=>{console.log("Redirect to Google OAuth for signup")},A=()=>{console.log("Redirect to login page")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 px-4 py-8",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full space-y-6 border border-white/20",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-yellow-500 to-amber-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(hI,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent",children:"Join EEC"}),s.jsx("p",{className:"text-gray-600",children:"Create your account to get started"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"username",value:a.username,onChange:u,placeholder:"Choose a username",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.username&&s.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.username})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:u,placeholder:"Enter your email",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.email&&s.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ym,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:t?"text":"password",name:"password",value:a.password,onChange:u,placeholder:"Create a strong password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>e(!t),children:t?s.jsx(Gg,{size:20}):s.jsx(Is,{size:20})})]}),o.password&&s.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ym,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:u,placeholder:"Confirm your password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>n(!r),children:r?s.jsx(Gg,{size:20}):s.jsx(Is,{size:20})})]}),o.confirmPassword&&s.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.confirmPassword})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",id:"terms",name:"agreeToTerms",checked:a.agreeToTerms,onChange:u,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500 mt-1"}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-5",children:["I agree to the"," ",s.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Privacy Policy"})]})]}),o.agreeToTerms&&s.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.agreeToTerms})]}),s.jsx("button",{type:"submit",disabled:c,onClick:m,className:"w-full bg-gradient-to-r from-yellow-600 to-amber-600 text-white py-3 rounded-xl hover:from-yellow-700 hover:to-amber-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:A,className:"text-yellow-600 hover:text-yellow-800 font-semibold transition-colors duration-200",children:"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500 font-medium",children:"or continue with"})})]}),s.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-center gap-3 border border-gray-300 py-3 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 group",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Sign up with Google"})]})]})]})})},mfe=({activeView:t,isOpen:e,setIsOpen:r})=>{const n=mi(),[a,i]=F.useState({}),o=!e,[l,c]=F.useState({name:"Student",username:"",grade:"",section:""});F.useEffect(()=>{(async()=>{try{const A=localStorage.getItem("token"),g=localStorage.getItem("userType");if(console.log("Fetching profile - Token:",A?"exists":"missing"),console.log("User Type:",g),!A||g!=="Student"){console.log("Skipping profile fetch - no token or not a student");return}const x="http://localhost:5000/api/student/auth/profile";console.log("Fetching from:",x);const v=await fetch(x,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(console.log("Response status:",v.status),v.ok){const j=await v.json();console.log("Profile data received:",j),c({name:j.name||"Student",username:j.username||"",grade:j.grade||"",section:j.section||""})}else{const j=await v.text();console.error("Profile fetch failed:",v.status,j)}}catch(A){console.error("Failed to fetch student profile:",A)}})()},[]);const d=f=>{const A=f==="dashboard"?"/dashboard":`/dashboard/${f}`;n(A)},u=f=>{d(f),typeof window<"u"&&window.innerWidth<768&&r(!1)},h=[{id:"dashboard",name:"Dashboard",icon:Lv,gradient:"from-blue-500 to-blue-600",description:"Overview & Analytics"},{id:"ai-learning",name:"AI Learning",icon:Js,gradient:"from-purple-500 to-purple-600",description:"Smart Learning Hub",children:[{id:"ai-learning-courses",name:"AI Courses",icon:Yn},{id:"ai-learning-tutor",name:"AI Tutor",icon:Js}]},{id:"academics",name:"Academics",icon:Qr,gradient:"from-emerald-500 to-emerald-600",description:"Learning Materials",children:[{id:"assignments",name:"Assignments",icon:kr},{id:"assignments-journal",name:"Journal",icon:Kde},{id:"assignments-academic-alcove",name:"Study Hub",icon:jn},{id:"results",name:"Results",icon:Mn}]},{id:"schedule",name:"Schedule",icon:tr,gradient:"from-orange-500 to-orange-600",description:"Time Management",children:[{id:"routine",name:"Daily Routine",icon:tr},{id:"attendance",name:"Attendance",icon:pr}]},{id:"communication",name:"Communication",icon:kn,gradient:"from-indigo-500 to-indigo-600",description:"Connect & Collaborate",children:[{id:"chat",name:"Messages",icon:du},{id:"teacherfeedback",name:"Teacher Feedback",icon:ds},{id:"excuse-letter",name:"Excuse Letter",icon:kr},{id:"noticeboard",name:"Notice Board",icon:Kn}]},{id:"wellness",name:"Wellness",icon:ql,gradient:"from-pink-500 to-pink-600",description:"Health & Wellbeing",children:[{id:"wellbeing",name:"Mental Health",icon:ql},{id:"achievements",name:"Achievements",icon:Hl}]}],m=()=>{localStorage.removeItem("token"),n("/")};return F.useEffect(()=>{const f=A=>{window.innerWidth<768&&e&&!A.target.closest(".sidebar")&&r(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[e,r]),s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden transition-opacity duration-300",onClick:()=>r(!1)}),s.jsxs("div",{className:`sidebar fixed md:relative h-screen bg-white shadow-2xl transition-all duration-500 ease-in-out z-50 flex flex-col border-r border-gray-200 overflow-x-hidden ${e?"w-80":"w-20"} ${e?"translate-x-0":"-translate-x-full md:translate-x-0"} ${e?"":"overflow-hidden"}`,style:{transitionProperty:"width, transform, box-shadow",transitionDuration:"0.4s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"aria-label":"Sidebar",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsxs("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-100 transform translate-x-0":"opacity-0 transform -translate-x-4 pointer-events-none absolute inset-0"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-600 via-yellow-600 to-yellow-500 opacity-90"}),s.jsx("div",{className:"relative p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-lg border border-white/30",children:s.jsx("img",{src:"/harrow-hall-school.png",className:"w-6 h-6 rounded-lg",alt:"School Logo"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"font-bold text-lg",children:l.name}),s.jsx("div",{className:"text-white/80 text-xs",children:l.grade&&l.section?`${l.grade} - Section ${l.section}`:`${l.name}'s Portal`})]})]}),s.jsx("button",{onClick:()=>r(!e),className:"md:hidden p-2 rounded-lg bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-colors border border-white/30",children:s.jsx(Gs,{size:20})})]})})]}),s.jsx("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-0 transform translate-x-4 pointer-events-none absolute inset-0":"opacity-100 transform translate-x-0"}`,children:s.jsx("div",{className:"p-2 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx("img",{src:"/harrow-hall-school.png",className:"w-6 h-6 rounded-lg",alt:"School Logo"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsx("div",{className:"w-8 h-px bg-gray-300"})]})})})]}),s.jsx("nav",{className:`flex-1 overflow-y-auto overflow-x-hidden modern-scrollbar ${e?"px-4 py-6":"px-1 py-2"}`,children:s.jsx("div",{className:`${e?"space-y-2":"space-y-1"}`,children:h.map(f=>{var w,N;const A=f.icon,g=!!((w=f.children)!=null&&w.length),x=t===f.id||g&&t.startsWith(`${f.id}-`)||g&&((N=f.children)==null?void 0:N.some(E=>E.id===t)),v=g&&x,j=a[f.id]===void 0?v:a[f.id],b=g&&j&&!o,S=E=>{if(E.preventDefault(),E.stopPropagation(),g){if(o){u(f.id);return}i(P=>({...P,[f.id]:!j}))}else u(f.id)};return s.jsxs("div",{className:"mb-1",children:[s.jsxs("button",{onClick:S,className:`
                      ${g?"w-full flex items-center space-x-3 px-3 py-3 rounded-lg":"w-full flex items-center space-x-3 px-4 py-3 rounded-lg"}
                      group transition-all duration-300 ease-out transform
                      ${g?"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95":x?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-md border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95 hover:border-l-4 hover:border-blue-300"}
                    `,children:[s.jsx(A,{size:20,className:`flex-shrink-0 transition-all duration-300 ${!g&&x?"text-yellow-600":"text-gray-600 group-hover:text-blue-600 group-hover:scale-110"}`}),!o&&s.jsx("span",{className:"font-medium flex-1 text-left transition-all duration-300",children:f.name}),!o&&g&&(b?s.jsx(mn,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:rotate-180"}):s.jsx(aa,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:translate-x-1"}))]}),b&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.children.map(E=>{const P=E.icon,_=t===E.id;return s.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),u(E.id)},className:`
                              w-full flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-300 ease-out transform
                              ${_?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:scale-105 active:scale-95 hover:border-l-2 hover:border-blue-200"}
                            `,children:[s.jsx(P,{size:16,className:`flex-shrink-0 transition-all duration-300 ${_?"text-yellow-600":"group-hover:text-blue-600 group-hover:scale-110"}`}),s.jsx("span",{className:"text-sm font-medium transition-all duration-300",children:E.name})]},E.id)})})]},f.id)})})}),s.jsx("div",{className:`border-t border-gray-200 ${e?"p-4":"p-2"}`,children:s.jsxs("div",{className:`${e?"space-y-2":"space-y-1"}`,children:[e?s.jsxs("button",{className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 group-hover:bg-blue-100 group-hover:text-blue-600 group-hover:scale-110 transition-all duration-300",children:s.jsx(bm,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Settings"}),s.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-all duration-300",children:"Preferences & Config"})]})]}):s.jsxs("button",{className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:scale-105 hover:shadow-md hover:text-gray-900 transition-all duration-300 ease-out transform active:scale-95",children:[s.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-gray-600 group-hover:text-blue-600 group-hover:scale-110",children:s.jsx(bm,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),s.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:s.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Settings"}),s.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Preferences & Config"}),s.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:s.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),s.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-gray-300/30 transition-all duration-300"})]}),e?s.jsxs("button",{onClick:m,className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-700 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-red-100 text-red-600 group-hover:bg-red-200 group-hover:scale-110 transition-all duration-300",children:s.jsx(l1,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Logout"}),s.jsx("div",{className:"text-xs text-red-500 group-hover:text-red-600 transition-all duration-300",children:"Sign out securely"})]})]}):s.jsxs("button",{onClick:m,className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-red-500 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:scale-105 hover:shadow-md hover:text-red-600 transition-all duration-300 ease-out transform active:scale-95",children:[s.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-red-500 group-hover:text-red-600 group-hover:scale-110",children:s.jsx(l1,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),s.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:s.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Logout"}),s.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Sign out securely"}),s.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:s.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),s.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-red-300/30 transition-all duration-300"})]})]})})]})]})},pfe=({sidebarOpen:t,setSidebarOpen:e,onOpenProfile:r})=>{const n=mi(),[a]=F.useState(3),[i,o]=F.useState(!1),l=[{id:1,type:"assignment",message:"Math Assignment due tomorrow!",time:"2 hours ago"},{id:2,type:"exam",message:"Science Exam scheduled for Friday.",time:"1 day ago"},{id:3,type:"general",message:"School will be closed next Monday.",time:"3 days ago"}],[c,d]=F.useState(!1),[u,h]=F.useState({name:"Student",avatar:null,grade:"",section:""});F.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("token"),v=localStorage.getItem("userType");if(console.log("Header - Token:",x?"exists":"missing","UserType:",v),!x||v!=="Student")return;const j="http://localhost:5000/api/student/auth/profile";console.log("Header - Fetching from:",j);const b=await fetch(j,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(console.log("Header - Response status:",b.status),b.ok){const S=await b.json();console.log("Header - Profile data received:",S),h({name:S.name||"Student",avatar:S.profilePic||null,grade:S.grade||"",section:S.section||""})}else{const S=await b.text();console.error("Header - Profile fetch failed:",b.status,S)}}catch(x){console.error("Header - Failed to fetch student profile:",x)}})()},[]);const{greeting:m,dateLabel:f}=F.useMemo(()=>{const g=new Date,x=g.getHours(),v=x<12?"Good morning":x<18?"Good afternoon":"Good evening",j=g.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"});return{greeting:v,dateLabel:j}},[]),A=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),n("/")};return s.jsx("header",{className:"sticky top-0 z-40 w-full backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/80 border-b border-gray-200",children:s.jsx("div",{className:"px-2 sm:px-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors","aria-label":"Toggle sidebar",children:s.jsx(Sw,{size:22,className:"text-gray-700"})}),s.jsxs("div",{className:"hidden xs:block",children:[s.jsxs("div",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:[m,", ",u.name.split(" ")[0]]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Yce,{size:14}),s.jsx("span",{children:f})]})]})]}),s.jsx("div",{className:"flex-1 max-w-xl",children:s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search courses, assignments, or results",className:"w-full pl-9 pr-24 py-2 rounded-lg border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none shadow-sm"}),s.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md transition-colors","aria-label":"Search",children:"Search"})]})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",onClick:()=>o(g=>!g),"aria-label":"Show notifications",children:[s.jsx(Kn,{size:20,className:"text-gray-700"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center",children:a})]}),i&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-xs bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b bg-gray-50 font-semibold text-gray-800",children:"Notifications"}),s.jsx("ul",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:l.map(g=>s.jsxs("li",{className:"px-4 py-3 flex items-start gap-3 hover:bg-gray-50 transition-colors",children:[s.jsx("span",{className:`mt-1 w-2 h-2 rounded-full ${g.type==="assignment"?"bg-yellow-500":g.type==="exam"?"bg-blue-500":"bg-gray-400"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-800 truncate",children:g.message}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:g.time})]})]},g.id))}),l.length===0&&s.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No new notifications"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"flex items-center gap-2 rounded-lg p-1 hover:bg-gray-100",onClick:()=>d(!c),"aria-label":"Open profile menu",children:[s.jsx("img",{src:u.avatar,alt:"Profile",className:"w-9 h-9 rounded-full border-2 border-gray-200",onError:g=>{g.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),s.jsxs("div",{className:"hidden sm:block text-left",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 leading-tight",children:u.name}),s.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"Student"})]})]}),c&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:u.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),s.jsxs("div",{className:"py-1",children:[s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{r&&r(),d(!1)},children:"Profile"}),s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Settings"})]}),s.jsx("button",{onClick:A,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 border-t",children:"Logout"})]})]})]})]})})})},Afe=()=>{const[t,e]=F.useState({name:"Student",username:"",grade:"",section:"",avatar:null});F.useEffect(()=>{(async()=>{try{const j=localStorage.getItem("token"),b=localStorage.getItem("userType");if(console.log("WelcomeCard - Token:",j?"exists":"missing","UserType:",b),!j||b!=="Student")return;const S="http://localhost:5000/api/student/auth/profile";console.log("WelcomeCard - Fetching from:",S);const w=await fetch(S,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(console.log("WelcomeCard - Response status:",w.status),w.ok){const N=await w.json();console.log("WelcomeCard - Profile data received:",N),e({name:N.name||"Student",username:N.username||"",grade:N.grade||"",section:N.section||"",avatar:N.profilePic||null})}else{const N=await w.text();console.error("WelcomeCard - Profile fetch failed:",w.status,N)}}catch(j){console.error("WelcomeCard - Failed to fetch student profile:",j)}})()},[]);const n=(()=>{const v=new Date().getHours();return v<12?{text:"Good Morning",icon:l5}:v<17?{text:"Good Afternoon",icon:l5}:{text:"Good Evening",icon:Que}})(),a=n.icon,i=[{text:"Success is the sum of small efforts repeated day in and day out. Keep up the great work!",emoji:"",icon:dhe,color:"text-yellow-200"},{text:"The future belongs to those who believe in the beauty of their dreams. Dream big today!",emoji:"",icon:ds,color:"text-purple-200"},{text:"Learning never exhausts the mind. Every new thing you discover makes you stronger!",emoji:"",icon:Qr,color:"text-blue-200"},{text:"Your potential is endless. Go do what you were created to do!",emoji:"",icon:uh,color:"text-orange-200"},{text:"Believe in yourself and all that you are. You're capable of amazing things!",emoji:"",icon:ql,color:"text-pink-200"},{text:"Champions are made from something deep inside them - desire, dream, and vision!",emoji:"",icon:Hl,color:"text-gold-200"},{text:"Every expert was once a beginner. Every pro was once an amateur. Keep learning!",emoji:"",icon:jn,color:"text-green-200"},{text:"The only way to do great work is to love what you do. Find your passion!",emoji:"",icon:ql,color:"text-red-200"},{text:"Innovation distinguishes between a leader and a follower. Think differently!",emoji:"",icon:Nw,color:"text-yellow-200"},{text:"Don't watch the clock; do what it does. Keep going and make every moment count!",emoji:"",icon:uh,color:"text-cyan-200"},{text:"The beautiful thing about learning is nobody can take it away from you!",emoji:"",icon:Qr,color:"text-indigo-200"},{text:"Your limitationit's only your imagination. Break through and achieve more!",emoji:"",icon:ds,color:"text-violet-200"}],[o,l]=F.useState(0),[c,d]=F.useState(!1),[u,h]=F.useState(!1);F.useEffect(()=>{if(c)return;const v=setInterval(()=>{h(!0),setTimeout(()=>{l(j=>(j+1)%i.length),h(!1)},200)},1e4);return()=>clearInterval(v)},[c]);const m=()=>{h(!0),setTimeout(()=>{l(v=>(v+1)%i.length),h(!1)},200)},f=()=>{h(!0),setTimeout(()=>{l(v=>(v-1+i.length)%i.length),h(!1)},200)},A=()=>{d(!c)},g=i[o],x=g.icon;return s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:t.avatar,alt:"Profile",className:"w-16 h-16 rounded-full border-4 border-white/20 shadow-lg",onError:v=>{v.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),s.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(a,{size:20,className:"text-yellow-100"}),s.jsxs("span",{className:"text-lg font-medium opacity-90",children:[n.text,","]})]}),s.jsxs("h1",{className:"text-2xl font-bold mb-1",children:[t.name,"!"]}),s.jsxs("p",{className:"text-yellow-100 text-sm",children:[t.username&&`Student ID: ${t.username}`,t.grade&&t.section&&`  ${t.grade} - Section ${t.section}`]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-yellow-100 text-sm mb-2",children:"Today's Date"}),s.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 relative overflow-hidden group hover:bg-white/15 transition-all duration-300",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -skew-x-12 transform translate-x-full animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{size:16,className:`${g.color} transition-colors duration-300`}),s.jsx("p",{className:"text-sm text-yellow-100 font-semibold",children:"Quick Tip"}),s.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full text-white/80",children:[o+1,"/",i.length]})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("button",{onClick:f,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Previous tip",children:s.jsx(wd,{size:14,className:"text-white/80"})}),s.jsx("button",{onClick:A,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:c?"Resume auto-change":"Pause auto-change",children:c?s.jsx(Ji,{size:14,className:"text-white/80"}):s.jsx(Wue,{size:14,className:"text-white/80"})}),s.jsx("button",{onClick:m,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Next tip",children:s.jsx(aa,{size:14,className:"text-white/80"})})]})]}),s.jsx("div",{className:"flex items-start gap-3",children:s.jsx("div",{className:`flex-1 transition-all duration-500 ${u?"opacity-0 translate-x-2":"opacity-100 translate-x-0"}`,children:s.jsxs("p",{className:"text-white font-medium leading-relaxed",children:['"',g.text,'" ',g.emoji]})},o)}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5",children:s.jsx("div",{className:`bg-gradient-to-r from-white/60 to-white/80 h-1.5 rounded-full transition-all duration-500 ${c?"":"animate-pulse"}`,style:{width:`${(o+1)/i.length*100}%`}})}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("p",{className:"text-xs text-white/60",children:c?"Auto-change paused":"Changes every 10 seconds"}),s.jsx("div",{className:"flex gap-1",children:i.map((v,j)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${j===o?"bg-white/80 scale-125":"bg-white/30"}`},j))})]})]})]}),s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx("div",{className:"text-xs text-white/60 bg-black/20 px-2 py-1 rounded",children:"Hover to control"})})]})]})]})},xfe=()=>{const[t,e]=F.useState(null),[r,n]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("token"),o=localStorage.getItem("userType");if(!i||o!=="Student")return;const l=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(l.ok){const c=await l.json();console.log("Course data received:",c.course),e(c.course)}}catch(i){console.error("Failed to fetch course data:",i)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"})})}),s.jsx("div",{className:"p-6",children:t?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"group hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-500 flex items-center justify-center shadow-md",children:s.jsx(Yn,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t.name}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{size:14}),s.jsx("span",{children:t.grade})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(As,{size:14}),s.jsxs("span",{children:["Section ",t.section]})]}),t.duration&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{size:14}),s.jsx("span",{children:t.duration})]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.status||"Active"}),t.batchCode&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Batch: ",t.batchCode]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.grade}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Grade"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.section}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Section"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.status==="Active"?"":""}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Status"})]})]})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yn,{size:48,className:"mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No Course Assigned"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator"})]})})]})},RX=[{id:"attendance-75",title:"Attendance Star",description:"Maintain attendance above 75%.",icon:"",points:120,target:75,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"attendance-90",title:"Consistency Champ",description:"Keep attendance at 90% or higher.",icon:"",points:200,target:90,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"streak-5",title:"Presence Streak",description:"Attend 5 classes in a row.",icon:"",points:150,target:5,metric:(t,e)=>e.attendanceStreak,unit:"days"},{id:"present-20",title:"On-Time Hero",description:"Be present for 20 classes.",icon:"",points:180,target:20,metric:t=>t.presentDays||0,unit:"classes"},{id:"course-active",title:"Course Explorer",description:"Enroll in an active course.",icon:"",points:100,target:1,metric:t=>t.activeCourses||0,unit:"course"}],gfe=()=>{const[t,e]=F.useState({earned:[],upcoming:[]}),[r,n]=F.useState(!0),[a,i]=F.useState(null),[o,l]=F.useState(null);F.useEffect(()=>{(async()=>{try{n(!0),i(null);const h=localStorage.getItem("token"),m=localStorage.getItem("userType");if(!h||m!=="Student"){n(!1),e({earned:[],upcoming:[]});return}const f=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error("Unable to load dashboard achievements");const A=await f.json(),g=vfe(A.recentAttendance||[]),x=yfe(A.stats||{},g);e({earned:x.filter(v=>v.earned),upcoming:x.filter(v=>!v.earned)}),l(new Date)}catch(h){console.error("Failed to load achievements:",h),i(h.message)}finally{n(!1)}})()},[]);const c=t.earned.length,d=F.useMemo(()=>RX.length,[]);return r?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((u,h)=>s.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"},h))})]})}):a?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[s.jsx(Ir,{size:20}),s.jsx("p",{className:"font-medium",children:"Unable to load achievements right now."})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:a})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pn,{className:"text-yellow-500",size:24}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Achievements"})]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[s.jsxs("span",{children:[c," of ",d," earned"]}),o&&s.jsxs("span",{className:"inline-flex items-center text-xs text-gray-400",children:[s.jsx(ohe,{size:12,className:"mr-1"}),"Updated ",o.toLocaleDateString()]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(ds,{className:"text-yellow-500",size:20}),s.jsx("span",{children:"Recent Achievements"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.earned.length===0&&s.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"No milestones unlocked yet. Keep progressing!"}),t.earned.slice(0,4).map(u=>s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:s.jsx(pn,{size:14,className:"text-white"})})}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"text-2xl",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",u.points," points"]}),s.jsx("span",{className:"text-xs text-gray-500",children:u.achievedOn?new Date(u.achievedOn).toLocaleDateString():"Recently"})]})]})]})]},u.id))]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(ym,{className:"text-gray-400",size:20}),s.jsx("span",{children:"Upcoming Achievements"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.upcoming.length===0&&s.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"You're all caught up. New goals will appear here soon."}),t.upcoming.map(u=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx(ym,{size:14,className:"text-white"})})}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"text-2xl",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${u.progress}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",u.points," points"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[u.currentValue,u.unit?` / ${u.target} ${u.unit}`:""]})]})]})]})]},u.id))]})]})]})]})};function vfe(t=[]){var i;if(!t.length)return 0;const e=[...t].sort((o,l)=>new Date(l.date)-new Date(o.date));let r=0;const n=new Date;let a=new Date(((i=e[0])==null?void 0:i.date)||n);for(const o of e){const l=new Date(o.date);if(o.status!=="present"){if(l.toDateString()===a.toDateString())break;break}if(r===0){r=1,a=l;continue}const c=new Date(a);if(c.setDate(c.getDate()-1),l.toDateString()===c.toDateString())r+=1,a=l;else break}return r}function yfe(t,e){return RX.map(r=>{const n=r.metric(t,{attendanceStreak:e})||0,a=n>=r.target,i=r.target?Math.min(100,Math.round(n/r.target*100)):a?100:0;return{...r,earned:a,progress:i,currentValue:n,target:r.target,achievedOn:a?new Date().toISOString():null}})}const DT={present:{label:"Present",color:"bg-green-500"},absent:{label:"Absent",color:"bg-red-500"},late:{label:"Late",color:"bg-yellow-500"},leave:{label:"Leave",color:"bg-yellow-500"}},bfe=[{value:"quiz",label:"Quiz",color:"bg-red-500"},{value:"assignment",label:"Assignment",color:"bg-blue-500"},{value:"class",label:"Class",color:"bg-green-500"},{value:"meeting",label:"Meeting",color:"bg-purple-500"},{value:"exam",label:"Exam",color:"bg-orange-500"},{value:"project",label:"Project",color:"bg-indigo-500"}],wfe=Object.entries(DT).map(([t,e])=>({value:t,label:e.label,color:e.color})),OR=[...bfe,...wfe],fC={title:"",date:"",time:"",type:"assignment",description:"",color:"bg-blue-500"},jfe=()=>{const[t,e]=F.useState(new Date),[r,n]=F.useState(null),[a,i]=F.useState(!1),[o,l]=F.useState(null),[c,d]=F.useState([]),[u,h]=F.useState(fC),[m,f]=F.useState(!0),[A,g]=F.useState(null),[x,v]=F.useState(null);F.useEffect(()=>{(async()=>{try{f(!0),g(null);const Q=localStorage.getItem("token"),O=localStorage.getItem("userType");if(!Q||O!=="Student"){f(!1);return}const V=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Unable to load attendance calendar.");const Y=((await V.json()).attendance||[]).map((re,D)=>{const G=DT[re.status]||{color:"bg-blue-500",label:"Class"};return{id:re._id||`attendance-${D}`,title:G.label,date:new Date(re.date).toISOString().split("T")[0],time:re.time||"",type:re.status||"class",color:G.color,description:re.subject?re.subject:"Attendance entry",notes:re.notes,readOnly:!0}});d(Y),v(new Date)}catch(Q){console.error("Failed to fetch attendance calendar:",Q),g(Q.message)}finally{f(!1)}})()},[]);const j=F.useMemo(()=>["January","February","March","April","May","June","July","August","September","October","November","December"],[]),b=F.useMemo(()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],[]),S=L=>{const Q=L.getFullYear(),O=L.getMonth(),V=new Date(Q,O,1),ee=new Date(V);ee.setDate(ee.getDate()-V.getDay());const Y=[],re=new Date(ee);for(let D=0;D<42;D++){const G=c.filter(z=>new Date(z.date).toDateString()===re.toDateString());Y.push({date:new Date(re),isCurrentMonth:re.getMonth()===O,isToday:re.toDateString()===new Date().toDateString(),events:G}),re.setDate(re.getDate()+1)}return Y},w=L=>{var Q,O;return((Q=DT[L])==null?void 0:Q.color)||((O=OR.find(V=>V.value===L))==null?void 0:O.color)||"bg-blue-500"},N=L=>{const Q=new Date(t);Q.setMonth(Q.getMonth()+L),e(Q)},E=L=>{n(L.date);const Q=L.date.toISOString().split("T")[0];h(O=>({...O,date:Q}))},P=()=>{i(!0),l(null),h({...fC,date:r?r.toISOString().split("T")[0]:""})},_=L=>{L.readOnly||(l(L),h({...L}),i(!0))},B=L=>{const Q=c.find(O=>O.id===L);Q!=null&&Q.readOnly||d(c.filter(O=>O.id!==L))},k=()=>{if(!u.title||!u.date||!u.time)return;const L={...u,color:w(u.type),id:o?o.id:Date.now(),readOnly:!1};d(o?c.map(Q=>Q.id===o.id?L:Q):[...c,L]),i(!1),h(fC)},M=()=>{const L=new Date;return c.filter(Q=>new Date(Q.date)>=L).sort((Q,O)=>new Date(Q.date)-new Date(O.date)).slice(0,5)},T=S(t),H=M();return s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-sm border border-purple-200 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-6 border-b border-purple-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"text-purple-500",size:20}),s.jsx("h2",{className:"text-lg font-semibold text-purple-900",children:"Calendar"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[x&&s.jsxs("span",{className:"text-xs text-purple-800 bg-purple-100 px-2 py-1 rounded-full",children:["Synced ",x.toLocaleDateString()]}),s.jsxs("button",{onClick:P,className:"flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx($s,{size:16}),s.jsx("span",{children:"Add Event"})]})]})]}),A&&s.jsxs("div",{className:"mt-3 flex items-center text-sm text-red-600 bg-white border border-red-100 rounded-lg px-3 py-2",children:[s.jsx(Ir,{size:16,className:"mr-2"}),A]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>N(-1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:s.jsx(wd,{size:20,className:"text-purple-700"})}),s.jsxs("h3",{className:"text-lg font-semibold text-purple-900",children:[j[t.getMonth()]," ",t.getFullYear()]}),s.jsx("button",{onClick:()=>N(1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:s.jsx(aa,{size:20,className:"text-purple-900"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:b.map(L=>s.jsx("div",{className:"text-center text-xs font-medium text-purple-600 py-2",children:L},L))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-6",children:T.map((L,Q)=>s.jsxs("button",{onClick:()=>E(L),className:`
                aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-colors relative p-1
                ${L.isCurrentMonth?L.isToday?"bg-purple-500 text-black font-semibold hover:bg-purple-600":"text-purple-900 hover:bg-purple-100":"text-purple-300 hover:bg-purple-50"}
                ${r&&L.date.toDateString()===r.toDateString()?"ring-2 ring-purple-400":""}
              `,children:[s.jsx("span",{className:"text-xs",children:L.date.getDate()}),L.events.length>0&&s.jsxs("div",{className:"flex space-x-1 mt-1",children:[L.events.slice(0,2).map((O,V)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${O.color}`,title:O.title},`${O.id}-${V}`)),L.events.length>2&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400",title:`+${L.events.length-2} more`})]})]},`${L.date.toISOString()}-${Q}`))}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2",children:[s.jsx(dr,{size:16,className:"text-purple-600"}),s.jsx("span",{children:"Upcoming Events"})]}),s.jsxs("div",{className:"space-y-3",children:[m&&s.jsx("div",{className:"space-y-2",children:[...Array(3)].map((L,Q)=>s.jsx("div",{className:"h-16 bg-white border border-purple-100 rounded-lg animate-pulse"},Q))}),!m&&H.length===0&&!A&&s.jsx("p",{className:"text-sm text-purple-500 text-center py-4",children:"No upcoming classes or events recorded yet."}),!m&&H.map(L=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50/50 hover:bg-purple-100/50 transition-colors rounded-lg border border-purple-100 group",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${L.color} mt-1.5 flex-shrink-0`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900 truncate",children:L.title}),s.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(L.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L.time&&` at ${L.time}`]}),L.description&&s.jsxs("p",{className:"text-xs text-purple-500 mt-1 truncate",children:[L.description,L.notes?`  ${L.notes}`:""]})]}),!L.readOnly&&s.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>_(L),className:"p-1 text-purple-600 hover:text-purple-800 hover:bg-purple-200 rounded",children:s.jsx(ki,{size:12})}),s.jsx("button",{onClick:()=>B(L.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded",children:s.jsx(Ni,{size:12})})]})]},L.id))]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Edit Event":"Add New Event"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Gs,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title"}),s.jsx("input",{type:"text",value:u.title,onChange:L=>h({...u,title:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",placeholder:"Enter event title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:u.date,onChange:L=>h({...u,date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),s.jsx("input",{type:"time",value:u.time,onChange:L=>h({...u,time:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),s.jsx("select",{value:u.type,onChange:L=>h({...u,type:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:OR.map(L=>s.jsx("option",{value:L.value,children:L.label},L.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{value:u.description,onChange:L=>h({...u,description:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",rows:"3",placeholder:"Enter event description"})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:k,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Event"})]})]})})]})},Nfe=()=>{const[t,e]=F.useState([{title:"Active Courses",value:"0",change:"Loading...",changeType:"neutral",icon:Qr,color:"bg-blue-500"},{title:"Achievements",value:"0",change:"Loading...",changeType:"neutral",icon:Hl,color:"bg-yellow-500"},{title:"Attendance",value:"0%",change:"Loading...",changeType:"neutral",icon:dr,color:"bg-green-500"},{title:"Overall Progress",value:"0%",change:"Loading...",changeType:"neutral",icon:cs,color:"bg-purple-500"}]);return F.useEffect(()=>{(async()=>{try{const n=localStorage.getItem("token"),a=localStorage.getItem("userType");if(!n||a!=="Student")return;const i=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(i.ok){const o=await i.json();console.log("Dashboard data received:",o);const l=o.stats.attendancePercentage>=75?"Good attendance":o.stats.attendancePercentage>=50?"Needs improvement":"Low attendance",c=o.stats.attendancePercentage>=75?"positive":o.stats.attendancePercentage>=50?"neutral":"negative";e([{title:"Active Courses",value:o.stats.activeCourses.toString(),change:o.course?o.course.name:"No course assigned",changeType:o.stats.activeCourses>0?"positive":"neutral",icon:Qr,color:"bg-blue-500"},{title:"Achievements",value:o.stats.achievements.toString(),change:"Keep learning!",changeType:"neutral",icon:Hl,color:"bg-yellow-500"},{title:"Attendance",value:`${o.stats.attendancePercentage}%`,change:`${o.stats.presentDays}/${o.stats.totalClasses} days`,changeType:c,icon:dr,color:"bg-green-500"},{title:"Overall Progress",value:`${o.stats.overallProgress}%`,change:l,changeType:c,icon:cs,color:"bg-purple-500"}])}}catch(n){console.error("Failed to fetch dashboard data:",n)}})()},[]),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>{const a=r.icon;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-purple-400 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${r.color}`,children:s.jsx(a,{size:24,className:"text-white"})}),s.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${r.changeType==="positive"?"text-green-700 bg-green-100":r.changeType==="negative"?"text-red-700 bg-red-100":"text-gray-700 bg-gray-100"}`,children:r.change})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:r.value}),s.jsx("p",{className:"text-sm text-gray-600",children:r.title})]})]},n)})})},Sfe=({onAddPet:t,activePets:e=[]})=>null,_fe=({pet:t,onRemove:e,containerBounds:r})=>{const[n,a]=F.useState({x:100,y:100}),[i,o]=F.useState({x:1,y:1}),[l,c]=F.useState(!1),[d,u]=F.useState(!1),[h,m]=F.useState({x:0,y:0}),[f,A]=F.useState(!1),[g,x]=F.useState("happy"),v=F.useRef(),j=F.useRef(),b=60,S=.5,w=()=>{const B={puppy:{happy:"",sleeping:"",playing:"",excited:""},cat:{happy:"",sleeping:"",playing:"",excited:""}};return B[t.type][g]||B[t.type].happy};F.useEffect(()=>{const B=setInterval(()=>{const k=["happy","sleeping","playing"],M=k[Math.floor(Math.random()*k.length)];x(M)},8e3);return()=>clearInterval(B)},[]),F.useEffect(()=>{if(d)return;const B=()=>{a(k=>{let M=k.x+i.x*S,T=k.y+i.y*S,H=i.x,L=i.y;return(M<=0||M>=r.width-b)&&(H=-i.x,M=Math.max(0,Math.min(M,r.width-b))),(T<=0||T>=r.height-b)&&(L=-i.y,T=Math.max(0,Math.min(T,r.height-b))),Math.random()<.02&&(H=(Math.random()-.5)*2,L=(Math.random()-.5)*2),o({x:H,y:L}),{x:M,y:T}}),v.current=requestAnimationFrame(B)};return v.current=requestAnimationFrame(B),()=>{v.current&&cancelAnimationFrame(v.current)}},[i,r,d,g]);const N=B=>{u(!0),x("excited");const k=j.current.getBoundingClientRect();m({x:B.clientX-k.left,y:B.clientY-k.top})},E=B=>{if(!d)return;const k=Math.max(0,Math.min(B.clientX-h.x,r.width-b)),M=Math.max(0,Math.min(B.clientY-h.y,r.height-b));a({x:k,y:M})},P=()=>{u(!1),setTimeout(()=>x("happy"),1e3)},_=()=>{A(!0),x("excited"),setTimeout(()=>{A(!1),x("happy")},1500)};return F.useEffect(()=>{if(d)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",P)}},[d,h,r]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:j,className:`absolute cursor-pointer select-none transition-transform duration-200 ${l?"scale-110":"scale-100"} ${d?"z-50":"z-40"}`,style:{left:`${n.x}px`,top:`${n.y}px`,width:`${b}px`,height:`${b}px`},onMouseDown:N,onClick:_,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[s.jsxs("div",{className:`relative w-full h-full flex items-center justify-center text-4xl ${g==="sleeping"?"animate-pulse":g==="playing"?"animate-bounce":"animate-none"}`,children:[w(),l&&s.jsx("button",{onClick:B=>{B.stopPropagation(),e(t.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",children:s.jsx(Gs,{className:"w-3 h-3"})}),f&&s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(3)].map((B,k)=>s.jsx(ql,{className:"absolute w-4 h-4 text-pink-500 animate-ping",style:{left:`${Math.random()*40+10}px`,top:`${Math.random()*40+10}px`,animationDelay:`${k*200}ms`,animationDuration:"1s"}},k))})]}),s.jsx("div",{className:"absolute bottom-0 w-8 h-2 bg-gray-400 rounded-full opacity-20 left-1/2 transform -translate-x-1/2",style:{filter:"blur(2px)"}}),l&&s.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:t.name})]}),!d&&g==="sleeping"&&s.jsx("div",{className:"absolute text-xl opacity-60 animate-bounce pointer-events-none z-30",style:{left:`${n.x+b+10}px`,top:`${n.y}px`},children:""})]})},mC=()=>{const[t,e]=F.useState([]),[r,n]=F.useState({width:0,height:0}),a=F.useRef();F.useEffect(()=>{const c=()=>{if(a.current){const u=a.current.getBoundingClientRect();n({width:u.width,height:u.height})}};c(),window.addEventListener("resize",c);const d=new ResizeObserver(c);return a.current&&d.observe(a.current),()=>{window.removeEventListener("resize",c),d.disconnect()}},[]);const i={puppy:["Buddy","Max","Luna","Charlie","Bailey","Rocky","Bella","Duke"],cat:["Whiskers","Shadow","Mittens","Luna","Simba","Chloe","Tiger","Princess"]},o=c=>{console.log("DashboardHome addPet called with:",c);const d=i[c],u=d[Math.floor(Math.random()*d.length)],h={id:Date.now()+Math.random(),type:c,name:u,createdAt:Date.now()};console.log("Creating new pet:",h),e(m=>{const f=[...m,h];return console.log("Updated pets array:",f),f})},l=c=>{e(d=>d.filter(u=>u.id!==c))};return s.jsxs("div",{ref:a,className:"relative space-y-4 sm:space-y-6 p-2 sm:p-0 min-h-screen",children:[s.jsx(Afe,{}),s.jsx(Nfe,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[s.jsx(xfe,{}),s.jsx(gfe,{})]}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.jsx(jfe,{})})]}),t.map(c=>s.jsx(_fe,{pet:c,onRemove:l,containerBounds:r},c.id)),s.jsx(Sfe,{onAddPet:o,activePets:t})]})},Cfe=()=>{const[t,e]=F.useState("thisMonth"),[r,n]=F.useState(new Date),[a,i]=F.useState(null),[o,l]=F.useState(!1),[c,d]=F.useState(null),[u,h]=F.useState(!0),[m,f]=F.useState({totalClasses:0,attended:0,absent:0,late:0,percentage:0}),[A,g]=F.useState([]);F.useEffect(()=>{(async()=>{try{const V=localStorage.getItem("token"),ee=localStorage.getItem("userType");if(!V||ee!=="Student"){h(!1);return}const Y=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(Y.ok){const re=await Y.json();console.log("Attendance data received:",re),f({totalClasses:re.summary.totalClasses,attended:re.summary.presentDays,absent:re.summary.absentDays,late:re.summary.leaveDays,percentage:re.summary.attendancePercentage});const D=re.attendance.map((G,z)=>({id:z+1,date:new Date(G.date).toISOString().split("T")[0],course:G.subject||"General",status:G.status||"present",time:G.time||"N/A",description:G.notes||""}));g(D)}else console.error("Failed to fetch attendance:",Y.status)}catch(V){console.error("Error fetching attendance:",V)}finally{h(!1)}})()},[]);const[x,v]=F.useState({course:"",date:"",time:"",status:"present",description:""}),j=["January","February","March","April","May","June","July","August","September","October","November","December"],b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["JavaScript Fundamentals","React Development","Database Design","UI/UX Design","Node.js Backend","Python Programming"],w=[{value:"present",label:"Present",color:"bg-green-500",textColor:"text-green-800",bgColor:"bg-green-100"},{value:"absent",label:"Absent",color:"bg-red-500",textColor:"text-red-800",bgColor:"bg-red-100"},{value:"late",label:"Late",color:"bg-yellow-500",textColor:"text-yellow-800",bgColor:"bg-yellow-100"}],N=O=>{const V=O.getFullYear(),ee=O.getMonth(),Y=new Date(V,ee,1),re=new Date(Y);re.setDate(re.getDate()-Y.getDay());const D=[],G=new Date(re);for(let z=0;z<42;z++){const K=A.filter(oe=>new Date(oe.date).toDateString()===G.toDateString());D.push({date:new Date(G),isCurrentMonth:G.getMonth()===ee,isToday:G.toDateString()===new Date().toDateString(),records:K}),G.setDate(G.getDate()+1)}return D},E=O=>{const V=new Date(r);V.setMonth(V.getMonth()+O),n(V)},P=O=>{i(O.date);const V=O.date.toISOString().split("T")[0];v(ee=>({...ee,date:V}))},_=O=>{d(O),v({...O}),l(!0)},B=O=>{g(A.filter(V=>V.id!==O))},k=()=>{if(!x.course||!x.date||!x.time)return;const O={...x,id:c?c.id:Date.now()};g(c?A.map(V=>V.id===c.id?O:V):[...A,O]),l(!1),v({course:"",date:"",time:"",status:"present",description:""})},M=O=>{switch(O){case"present":return s.jsx(Lr,{className:"text-green-500",size:20});case"absent":return s.jsx(Ka,{className:"text-red-500",size:20});case"late":return s.jsx(dr,{className:"text-yellow-500",size:20});default:return null}},T=O=>{const V=w.find(ee=>ee.value===O);return V?s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${V.bgColor} ${V.textColor}`,children:V.label}):null},H=()=>A.sort((O,V)=>new Date(V.date)-new Date(O.date)).slice(0,8),L=N(r),Q=H();return s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-6 bg-gray-50 min-h-screen w-full overflow-x-hidden",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(pr,{className:"text-blue-600",size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Attendance Tracker"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Track your class attendance and patterns"})]})]}),s.jsxs("select",{value:t,onChange:O=>e(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent mt-2 sm:mt-0",children:[s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"thisMonth",children:"This Month"}),s.jsx("option",{value:"semester",children:"This Semester"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Classes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalClasses})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(tr,{className:"text-blue-600",size:20})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Attended"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.attended})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Lr,{className:"text-green-600",size:20})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Absent"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.absent})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Ka,{className:"text-red-600",size:20})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Attendance Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[m.percentage,"%"]})]}),s.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:s.jsx(cs,{className:"text-indigo-600",size:20})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"text-indigo-500",size:20}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Attendance Calendar"})]})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(wd,{size:20,className:"text-gray-700"})}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[j[r.getMonth()]," ",r.getFullYear()]}),s.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(aa,{size:20,className:"text-gray-700"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:b.map(O=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-2",children:O},O))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-6",children:L.map((O,V)=>s.jsxs("button",{onClick:()=>P(O),className:`
                  aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-colors relative p-1
                  ${O.isCurrentMonth?O.isToday?"bg-indigo-500 text-white font-semibold hover:bg-indigo-600":"text-gray-900 hover:bg-gray-100":"text-gray-300 hover:bg-gray-50"}
                  ${a&&O.date.toDateString()===a.toDateString()?"ring-2 ring-indigo-400":""}
                `,children:[s.jsx("span",{className:"text-xs",children:O.date.getDate()}),O.records.length>0&&s.jsxs("div",{className:"flex flex-wrap justify-center gap-0.5 mt-1",children:[O.records.slice(0,3).map((ee,Y)=>{const re=w.find(D=>D.value===ee.status);return s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${(re==null?void 0:re.color)||"bg-gray-400"}`,title:`${ee.course} - ${re==null?void 0:re.label}`},Y)}),O.records.length>3&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400",title:`+${O.records.length-3} more`})]})]},V))})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Attendance"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:Q.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[M(O.status),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:O.course}),s.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(O.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",O.time]}),O.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:O.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[T(O.status),s.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>_(O),className:"p-1 text-indigo-600 hover:text-indigo-800 hover:bg-indigo-100 rounded",children:s.jsx(ki,{size:12})}),s.jsx("button",{onClick:()=>B(O.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded",children:s.jsx(Ni,{size:12})})]})]})]},O.id))})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c?"Edit Attendance Record":"Add Attendance Record"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Gs,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),s.jsxs("select",{value:x.course,onChange:O=>v({...x,course:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"",children:"Select a course"}),S.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:x.date,onChange:O=>v({...x,date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),s.jsx("input",{type:"time",value:x.time,onChange:O=>v({...x,time:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attendance Status"}),s.jsx("select",{value:x.status,onChange:O=>v({...x,status:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:w.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{value:x.description,onChange:O=>v({...x,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",rows:"3",placeholder:"Enter class topic or notes"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:c?"Update Record":"Add Record"})]})]})})]})},Lp=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],pC={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},UR=()=>{const[t,e]=F.useState({}),[r,n]=F.useState(Lp[0]),[a,i]=F.useState(!0),[o,l]=F.useState(null),[c,d]=F.useState(null);F.useEffect(()=>{(async()=>{try{i(!0),l(null);const f=localStorage.getItem("token"),A=localStorage.getItem("userType");if(!f||A!=="Student"){i(!1);return}const g=await fetch("http://localhost:5000/api/student/auth/schedule",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(!g.ok)throw new Error("Unable to load routine.");const x=await g.json(),v=Efe(x.schedule);e(v);const j=Lp.find(b=>{var S;return(S=v[b])==null?void 0:S.length})||Lp[0];n(j),d(new Date)}catch(f){console.error("Failed to fetch schedule:",f),l(f.message)}finally{i(!1)}})()},[]);const u=t[r]||[],h=F.useMemo(()=>Lp.reduce((m,f)=>{var A;return m+(((A=t[f])==null?void 0:A.length)||0)},0),[t]);return a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-purple-50 p-4 sm:p-6 space-y-4",children:[s.jsx("div",{className:"h-32 bg-white rounded-2xl shadow animate-pulse"}),s.jsx("div",{className:"h-48 bg-white rounded-2xl shadow animate-pulse"})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-purple-50 p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-yellow-200 p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(tr,{className:"w-6 h-6 text-amber-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Weekly Routine"})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Synced with your timetable from the school portal"})]}),s.jsxs("div",{className:"text-right text-sm text-gray-500",children:[s.jsxs("p",{children:["Total sessions this week: ",s.jsx("span",{className:"font-semibold text-gray-900",children:h})]}),c&&s.jsxs("p",{children:["Updated ",c.toLocaleDateString()]})]})]}),o&&s.jsxs("div",{className:"mt-4 flex items-center text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:[s.jsx(Ir,{size:16,className:"mr-2"}),o]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Lp.map(m=>{var f;return s.jsxs("button",{onClick:()=>n(m),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${r===m?"bg-purple-600 text-white shadow":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[pC[m],(f=t[m])!=null&&f.length?s.jsx("span",{className:"ml-2 text-xs text-purple-100 bg-purple-500 rounded-full px-2 py-0.5",children:t[m].length}):null]},m)})}),u.length>0?s.jsx("div",{className:"space-y-4",children:u.map((m,f)=>s.jsxs("div",{className:"p-4 border border-purple-100 rounded-2xl bg-gradient-to-r from-white to-purple-50 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase font-medium text-purple-500",children:m.type||"Session"}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Qr,{size:16,className:"text-purple-500"}),m.course||m.subject||m.title||"Class"]}),m.instructor&&s.jsxs("p",{className:"text-sm text-gray-500",children:["By ",m.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dr,{size:16,className:"text-purple-500"}),s.jsx("span",{children:m.time||`${m.startTime||"--"}${m.endTime?` - ${m.endTime}`:""}`})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ml,{size:16,className:"text-purple-500"}),s.jsx("span",{children:m.room||m.location||"TBD"})]})]})]},m.id||`${r}-${f}`))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No classes scheduled for ",pC[r],". Enjoy your day!"]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Week At a Glance"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Lp.map(m=>{var f,A;return s.jsxs("div",{className:"border border-gray-100 rounded-xl p-4 bg-gray-50",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:pC[m]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[((f=t[m])==null?void 0:f.length)||0," sessions"]}),s.jsxs("ul",{className:"space-y-2",children:[(t[m]||[]).slice(0,3).map((g,x)=>s.jsxs("li",{className:"text-sm text-gray-600 flex justify-between",children:[s.jsx("span",{className:"truncate mr-2",children:g.course||g.subject||"Class"}),s.jsx("span",{className:"text-xs text-gray-400",children:g.time||g.startTime||""})]},`${m}-session-${x}`)),(((A=t[m])==null?void 0:A.length)||0)>3&&s.jsxs("li",{className:"text-xs text-gray-400",children:["+",t[m].length-3," more"]})]})]},`overview-${m}`)})})]})]})},Efe=t=>t?Array.isArray(t)?t.reduce((e,r)=>{const n=HR(r.day||r.weekday||r.dayOfWeek);return n&&(e[n]=e[n]||[],e[n].push(r)),e},{}):typeof t=="object"?Object.entries(t).reduce((e,[r,n])=>{const a=HR(r);return a&&(e[a]=Array.isArray(n)?n:[]),e},{}):{}:{},HR=t=>{if(!t)return null;const e=String(t).trim().toLowerCase();return Lp.includes(e)?e:null},OX="eec_points_total";function Wg(){try{const t=localStorage.getItem(OX),e=parseInt(t||"0",10);return Number.isNaN(e)?0:e}catch{return 0}}function kfe(t){try{const e=Math.max(0,Math.floor(t||0));return localStorage.setItem(OX,String(e)),window.dispatchEvent(new CustomEvent("points:update",{detail:{total:e}})),e}catch{return 0}}function UX(t){const e=Math.max(0,Math.floor(t||0));if(!e)return Wg();const r=Wg()+e;return kfe(r)}function Bfe(t){try{return localStorage.getItem(`eec_points_awarded_${t}`)==="1"}catch{return!1}}function Tfe(t){try{localStorage.setItem(`eec_points_awarded_${t}`,"1")}catch{}}const Mfe=({className:t=""})=>{const[e,r]=F.useState(0);return F.useEffect(()=>{r(Wg());const n=a=>{var i;return r(((i=a==null?void 0:a.detail)==null?void 0:i.total)??Wg())};return window.addEventListener("points:update",n),()=>window.removeEventListener("points:update",n)},[]),s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-100 border border-amber-300 text-amber-800 text-sm font-semibold shadow-sm ${t}`,children:[s.jsx(oI,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{children:e}),s.jsx("span",{className:"hidden sm:inline",children:"Points"})]})},Ffe="modulepreload",Pfe=function(t){return"/"+t},QR={},LN=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(d=>{if(d=Pfe(d),d in QR)return;QR[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Ffe,u||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((f,A)=>{m.addEventListener("load",f),m.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const fI="171",Ife=0,zR=1,Dfe=2,HX=1,QX=2,mf=3,wm=0,Ql=1,yf=2,um=0,Ng=1,$R=2,GR=3,VR=4,Lfe=5,$p=100,Rfe=101,Ofe=102,Ufe=103,Hfe=104,Qfe=200,zfe=201,$fe=202,Gfe=203,LT=204,RT=205,Vfe=206,Wfe=207,qfe=208,Kfe=209,Xfe=210,Yfe=211,Jfe=212,Zfe=213,e0e=214,OT=0,UT=1,HT=2,qg=3,QT=4,zT=5,$T=6,GT=7,mI=0,t0e=1,r0e=2,hm=0,s0e=1,n0e=2,a0e=3,i0e=4,o0e=5,l0e=6,c0e=7,zX=300,Kg=301,Xg=302,VT=303,WT=304,c4=306,qT=1e3,Kp=1001,KT=1002,iu=1003,d0e=1004,G2=1005,Ju=1006,AC=1007,Xp=1008,Uf=1009,$X=1010,GX=1011,c1=1012,pI=1013,SA=1014,bf=1015,kw=1016,AI=1017,xI=1018,Yg=1020,VX=35902,WX=1021,qX=1022,eu=1023,KX=1024,XX=1025,Sg=1026,Jg=1027,YX=1028,gI=1029,JX=1030,vI=1031,yI=1033,RN=33776,ON=33777,UN=33778,HN=33779,XT=35840,YT=35841,JT=35842,ZT=35843,eM=36196,tM=37492,rM=37496,sM=37808,nM=37809,aM=37810,iM=37811,oM=37812,lM=37813,cM=37814,dM=37815,uM=37816,hM=37817,fM=37818,mM=37819,pM=37820,AM=37821,QN=36492,xM=36494,gM=36495,ZX=36283,vM=36284,yM=36285,bM=36286,u0e=3200,h0e=3201,eY=0,f0e=1,W0="",ad="srgb",Zg="srgb-linear",c5="linear",Cn="srgb",Bx=7680,WR=519,m0e=512,p0e=513,A0e=514,tY=515,x0e=516,g0e=517,v0e=518,y0e=519,qR=35044,KR="300 es",wf=2e3,d5=2001;class Rv{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const i=a.indexOf(r);i!==-1&&a.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}}const Bo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],xC=Math.PI/180,wM=180/Math.PI;function Bw(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Bo[t&255]+Bo[t>>8&255]+Bo[t>>16&255]+Bo[t>>24&255]+"-"+Bo[e&255]+Bo[e>>8&255]+"-"+Bo[e>>16&15|64]+Bo[e>>24&255]+"-"+Bo[r&63|128]+Bo[r>>8&255]+"-"+Bo[r>>16&255]+Bo[r>>24&255]+Bo[n&255]+Bo[n>>8&255]+Bo[n>>16&255]+Bo[n>>24&255]).toLowerCase()}function Ps(t,e,r){return Math.max(e,Math.min(r,t))}function b0e(t,e){return(t%e+e)%e}function gC(t,e,r){return(1-r)*t+r*e}function Iy(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class An{constructor(e=0,r=0){An.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,n=this.y,a=e.elements;return this.x=a[0]*r+a[3]*n+a[6],this.y=a[1]*r+a[4]*n+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Ps(this.x,e.x,r.x),this.y=Ps(this.y,e.y,r.y),this}clampScalar(e,r){return this.x=Ps(this.x,e,r),this.y=Ps(this.y,e,r),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ps(n,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(e)/r;return Math.acos(Ps(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y;return r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const n=Math.cos(r),a=Math.sin(r),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*a+e.x,this.y=i*a+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vs{constructor(e,r,n,a,i,o,l,c,d){vs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,r,n,a,i,o,l,c,d)}set(e,r,n,a,i,o,l,c,d){const u=this.elements;return u[0]=e,u[1]=a,u[2]=l,u[3]=r,u[4]=i,u[5]=c,u[6]=n,u[7]=o,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this}extractBasis(e,r,n){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,a=r.elements,i=this.elements,o=n[0],l=n[3],c=n[6],d=n[1],u=n[4],h=n[7],m=n[2],f=n[5],A=n[8],g=a[0],x=a[3],v=a[6],j=a[1],b=a[4],S=a[7],w=a[2],N=a[5],E=a[8];return i[0]=o*g+l*j+c*w,i[3]=o*x+l*b+c*N,i[6]=o*v+l*S+c*E,i[1]=d*g+u*j+h*w,i[4]=d*x+u*b+h*N,i[7]=d*v+u*S+h*E,i[2]=m*g+f*j+A*w,i[5]=m*x+f*b+A*N,i[8]=m*v+f*S+A*E,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8];return r*o*u-r*l*d-n*i*u+n*l*c+a*i*d-a*o*c}invert(){const e=this.elements,r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=u*o-l*d,m=l*c-u*i,f=d*i-o*c,A=r*h+n*m+a*f;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/A;return e[0]=h*g,e[1]=(a*d-u*n)*g,e[2]=(l*n-a*o)*g,e[3]=m*g,e[4]=(u*r-a*c)*g,e[5]=(a*i-l*r)*g,e[6]=f*g,e[7]=(n*c-d*r)*g,e[8]=(o*r-n*i)*g,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,n,a,i,o,l){const c=Math.cos(i),d=Math.sin(i);return this.set(n*c,n*d,-n*(c*o+d*l)+o+e,-a*d,a*c,-a*(-d*o+c*l)+l+r,0,0,1),this}scale(e,r){return this.premultiply(vC.makeScale(e,r)),this}rotate(e){return this.premultiply(vC.makeRotation(-e)),this}translate(e,r){return this.premultiply(vC.makeTranslation(e,r)),this}makeTranslation(e,r){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,n,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,n=e.elements;for(let a=0;a<9;a++)if(r[a]!==n[a])return!1;return!0}fromArray(e,r=0){for(let n=0;n<9;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const vC=new vs;function rY(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function u5(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function w0e(){const t=u5("canvas");return t.style.display="block",t}const XR={};function lg(t){t in XR||(XR[t]=!0,console.warn(t))}function j0e(t,e,r){return new Promise(function(n,a){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:a();break;case t.TIMEOUT_EXPIRED:setTimeout(i,r);break;default:n()}}setTimeout(i,r)})}function N0e(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function S0e(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const YR=new vs().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),JR=new vs().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function _0e(){const t={enabled:!0,workingColorSpace:Zg,spaces:{},convert:function(a,i,o){return this.enabled===!1||i===o||!i||!o||(this.spaces[i].transfer===Cn&&(a.r=kf(a.r),a.g=kf(a.g),a.b=kf(a.b)),this.spaces[i].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Cn&&(a.r=_g(a.r),a.g=_g(a.g),a.b=_g(a.b))),a},fromWorkingColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},toWorkingColorSpace:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===W0?c5:this.spaces[a].transfer},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,o){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],r=[.2126,.7152,.0722],n=[.3127,.329];return t.define({[Zg]:{primaries:e,whitePoint:n,transfer:c5,toXYZ:YR,fromXYZ:JR,luminanceCoefficients:r,workingColorSpaceConfig:{unpackColorSpace:ad},outputColorSpaceConfig:{drawingBufferColorSpace:ad}},[ad]:{primaries:e,whitePoint:n,transfer:Cn,toXYZ:YR,fromXYZ:JR,luminanceCoefficients:r,outputColorSpaceConfig:{drawingBufferColorSpace:ad}}}),t}const Xs=_0e();function kf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function _g(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Tx;class C0e{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Tx===void 0&&(Tx=u5("canvas")),Tx.width=e.width,Tx.height=e.height;const n=Tx.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),r=Tx}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=u5("canvas");r.width=e.width,r.height=e.height;const n=r.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const a=n.getImageData(0,0,e.width,e.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=kf(i[o]/255)*255;return n.putImageData(a,0,0),r}else if(e.data){const r=e.data.slice(0);for(let n=0;n<r.length;n++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[n]=Math.floor(kf(r[n]/255)*255):r[n]=kf(r[n]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let E0e=0;class sY{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:E0e++}),this.uuid=Bw(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,l=a.length;o<l;o++)a[o].isDataTexture?i.push(yC(a[o].image)):i.push(yC(a[o]))}else i=yC(a);n.url=i}return r||(e.images[this.uuid]=n),n}}function yC(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?C0e.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let k0e=0;class zl extends Rv{constructor(e=zl.DEFAULT_IMAGE,r=zl.DEFAULT_MAPPING,n=Kp,a=Kp,i=Ju,o=Xp,l=eu,c=Uf,d=zl.DEFAULT_ANISOTROPY,u=W0){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:k0e++}),this.uuid=Bw(),this.name="",this.source=new sY(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new An(0,0),this.repeat=new An(1,1),this.center=new An(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),r||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zX)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qT:e.x=e.x-Math.floor(e.x);break;case Kp:e.x=e.x<0?0:1;break;case KT:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qT:e.y=e.y-Math.floor(e.y);break;case Kp:e.y=e.y<0?0:1;break;case KT:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zl.DEFAULT_IMAGE=null;zl.DEFAULT_MAPPING=zX;zl.DEFAULT_ANISOTROPY=1;class Pa{constructor(e=0,r=0,n=0,a=1){Pa.prototype.isVector4=!0,this.x=e,this.y=r,this.z=n,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,n,a){return this.x=e,this.y=r,this.z=n,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,n=this.y,a=this.z,i=this.w,o=e.elements;return this.x=o[0]*r+o[4]*n+o[8]*a+o[12]*i,this.y=o[1]*r+o[5]*n+o[9]*a+o[13]*i,this.z=o[2]*r+o[6]*n+o[10]*a+o[14]*i,this.w=o[3]*r+o[7]*n+o[11]*a+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,n,a,i;const c=e.elements,d=c[0],u=c[4],h=c[8],m=c[1],f=c[5],A=c[9],g=c[2],x=c[6],v=c[10];if(Math.abs(u-m)<.01&&Math.abs(h-g)<.01&&Math.abs(A-x)<.01){if(Math.abs(u+m)<.1&&Math.abs(h+g)<.1&&Math.abs(A+x)<.1&&Math.abs(d+f+v-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const b=(d+1)/2,S=(f+1)/2,w=(v+1)/2,N=(u+m)/4,E=(h+g)/4,P=(A+x)/4;return b>S&&b>w?b<.01?(n=0,a=.707106781,i=.707106781):(n=Math.sqrt(b),a=N/n,i=E/n):S>w?S<.01?(n=.707106781,a=0,i=.707106781):(a=Math.sqrt(S),n=N/a,i=P/a):w<.01?(n=.707106781,a=.707106781,i=0):(i=Math.sqrt(w),n=E/i,a=P/i),this.set(n,a,i,r),this}let j=Math.sqrt((x-A)*(x-A)+(h-g)*(h-g)+(m-u)*(m-u));return Math.abs(j)<.001&&(j=1),this.x=(x-A)/j,this.y=(h-g)/j,this.z=(m-u)/j,this.w=Math.acos((d+f+v-1)/2),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this.w=r[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Ps(this.x,e.x,r.x),this.y=Ps(this.y,e.y,r.y),this.z=Ps(this.z,e.z,r.z),this.w=Ps(this.w,e.w,r.w),this}clampScalar(e,r){return this.x=Ps(this.x,e,r),this.y=Ps(this.y,e,r),this.z=Ps(this.z,e,r),this.w=Ps(this.w,e,r),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ps(n,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this.w=e.w+(r.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class B0e extends Rv{constructor(e=1,r=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new Pa(0,0,e,r),this.scissorTest=!1,this.viewport=new Pa(0,0,e,r);const a={width:e,height:r,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ju,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new zl(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let l=0;l<o;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,r,n=1){if(this.width!==e||this.height!==r||this.depth!==n){this.width=e,this.height=r,this.depth=n;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=r,this.textures[a].image.depth=n;this.dispose()}this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,a=e.textures.length;n<a;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new sY(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _A extends B0e{constructor(e=1,r=1,n={}){super(e,r,n),this.isWebGLRenderTarget=!0}}class nY extends zl{constructor(e=null,r=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:n,depth:a},this.magFilter=iu,this.minFilter=iu,this.wrapR=Kp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class T0e extends zl{constructor(e=null,r=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:n,depth:a},this.magFilter=iu,this.minFilter=iu,this.wrapR=Kp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tw{constructor(e=0,r=0,n=0,a=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=n,this._w=a}static slerpFlat(e,r,n,a,i,o,l){let c=n[a+0],d=n[a+1],u=n[a+2],h=n[a+3];const m=i[o+0],f=i[o+1],A=i[o+2],g=i[o+3];if(l===0){e[r+0]=c,e[r+1]=d,e[r+2]=u,e[r+3]=h;return}if(l===1){e[r+0]=m,e[r+1]=f,e[r+2]=A,e[r+3]=g;return}if(h!==g||c!==m||d!==f||u!==A){let x=1-l;const v=c*m+d*f+u*A+h*g,j=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const w=Math.sqrt(b),N=Math.atan2(w,v*j);x=Math.sin(x*N)/w,l=Math.sin(l*N)/w}const S=l*j;if(c=c*x+m*S,d=d*x+f*S,u=u*x+A*S,h=h*x+g*S,x===1-l){const w=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=w,d*=w,u*=w,h*=w}}e[r]=c,e[r+1]=d,e[r+2]=u,e[r+3]=h}static multiplyQuaternionsFlat(e,r,n,a,i,o){const l=n[a],c=n[a+1],d=n[a+2],u=n[a+3],h=i[o],m=i[o+1],f=i[o+2],A=i[o+3];return e[r]=l*A+u*h+c*f-d*m,e[r+1]=c*A+u*m+d*h-l*f,e[r+2]=d*A+u*f+l*m-c*h,e[r+3]=u*A-l*h-c*m-d*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,n,a){return this._x=e,this._y=r,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r=!0){const n=e._x,a=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(n/2),u=l(a/2),h=l(i/2),m=c(n/2),f=c(a/2),A=c(i/2);switch(o){case"XYZ":this._x=m*u*h+d*f*A,this._y=d*f*h-m*u*A,this._z=d*u*A+m*f*h,this._w=d*u*h-m*f*A;break;case"YXZ":this._x=m*u*h+d*f*A,this._y=d*f*h-m*u*A,this._z=d*u*A-m*f*h,this._w=d*u*h+m*f*A;break;case"ZXY":this._x=m*u*h-d*f*A,this._y=d*f*h+m*u*A,this._z=d*u*A+m*f*h,this._w=d*u*h-m*f*A;break;case"ZYX":this._x=m*u*h-d*f*A,this._y=d*f*h+m*u*A,this._z=d*u*A-m*f*h,this._w=d*u*h+m*f*A;break;case"YZX":this._x=m*u*h+d*f*A,this._y=d*f*h+m*u*A,this._z=d*u*A-m*f*h,this._w=d*u*h-m*f*A;break;case"XZY":this._x=m*u*h-d*f*A,this._y=d*f*h-m*u*A,this._z=d*u*A+m*f*h,this._w=d*u*h+m*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return r===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const n=r/2,a=Math.sin(n);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,n=r[0],a=r[4],i=r[8],o=r[1],l=r[5],c=r[9],d=r[2],u=r[6],h=r[10],m=n+l+h;if(m>0){const f=.5/Math.sqrt(m+1);this._w=.25/f,this._x=(u-c)*f,this._y=(i-d)*f,this._z=(o-a)*f}else if(n>l&&n>h){const f=2*Math.sqrt(1+n-l-h);this._w=(u-c)/f,this._x=.25*f,this._y=(a+o)/f,this._z=(i+d)/f}else if(l>h){const f=2*Math.sqrt(1+l-n-h);this._w=(i-d)/f,this._x=(a+o)/f,this._y=.25*f,this._z=(c+u)/f}else{const f=2*Math.sqrt(1+h-n-l);this._w=(o-a)/f,this._x=(i+d)/f,this._y=(c+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let n=e.dot(r)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ps(this.dot(e),-1,1)))}rotateTowards(e,r){const n=this.angleTo(e);if(n===0)return this;const a=Math.min(1,r/n);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const n=e._x,a=e._y,i=e._z,o=e._w,l=r._x,c=r._y,d=r._z,u=r._w;return this._x=n*u+o*l+a*d-i*c,this._y=a*u+o*c+i*l-n*d,this._z=i*u+o*d+n*c-a*l,this._w=o*u-n*l-a*c-i*d,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const n=this._x,a=this._y,i=this._z,o=this._w;let l=o*e._w+n*e._x+a*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=n,this._y=a,this._z=i,this;const c=1-l*l;if(c<=Number.EPSILON){const f=1-r;return this._w=f*o+r*this._w,this._x=f*n+r*this._x,this._y=f*a+r*this._y,this._z=f*i+r*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,l),h=Math.sin((1-r)*u)/d,m=Math.sin(r*u)/d;return this._w=o*h+this._w*m,this._x=n*h+this._x*m,this._y=a*h+this._y*m,this._z=i*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,r,n){return this.copy(e).slerp(r,n)}random(){const e=2*Math.PI*Math.random(),r=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(r),i*Math.cos(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class jt{constructor(e=0,r=0,n=0){jt.prototype.isVector3=!0,this.x=e,this.y=r,this.z=n}set(e,r,n){return n===void 0&&(n=this.z),this.x=e,this.y=r,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(ZR.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(ZR.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*r+i[3]*n+i[6]*a,this.y=i[1]*r+i[4]*n+i[7]*a,this.z=i[2]*r+i[5]*n+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,n=this.y,a=this.z,i=e.elements,o=1/(i[3]*r+i[7]*n+i[11]*a+i[15]);return this.x=(i[0]*r+i[4]*n+i[8]*a+i[12])*o,this.y=(i[1]*r+i[5]*n+i[9]*a+i[13])*o,this.z=(i[2]*r+i[6]*n+i[10]*a+i[14])*o,this}applyQuaternion(e){const r=this.x,n=this.y,a=this.z,i=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*a-l*n),u=2*(l*r-i*a),h=2*(i*n-o*r);return this.x=r+c*d+o*h-l*u,this.y=n+c*u+l*d-i*h,this.z=a+c*h+i*u-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*r+i[4]*n+i[8]*a,this.y=i[1]*r+i[5]*n+i[9]*a,this.z=i[2]*r+i[6]*n+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Ps(this.x,e.x,r.x),this.y=Ps(this.y,e.y,r.y),this.z=Ps(this.z,e.z,r.z),this}clampScalar(e,r){return this.x=Ps(this.x,e,r),this.y=Ps(this.y,e,r),this.z=Ps(this.z,e,r),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ps(n,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const n=e.x,a=e.y,i=e.z,o=r.x,l=r.y,c=r.z;return this.x=a*c-i*l,this.y=i*o-n*c,this.z=n*l-a*o,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const n=e.dot(this)/r;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return bC.copy(this).projectOnVector(e),this.sub(bC)}reflect(e){return this.sub(bC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(e)/r;return Math.acos(Ps(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return r*r+n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,n){const a=Math.sin(r)*e;return this.x=a*Math.sin(n),this.y=Math.cos(r)*e,this.z=a*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,n){return this.x=e*Math.sin(r),this.y=n,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=n,this.z=a,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,r=Math.random()*2-1,n=Math.sqrt(1-r*r);return this.x=n*Math.cos(e),this.y=r,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bC=new jt,ZR=new Tw;class Mw{constructor(e=new jt(1/0,1/0,1/0),r=new jt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r+=3)this.expandByPoint(Qd.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,n=e.count;r<n;r++)this.expandByPoint(Qd.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const n=Qd.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const i=n.getAttribute("position");if(r===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=i.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Qd):Qd.fromBufferAttribute(i,o),Qd.applyMatrix4(e.matrixWorld),this.expandByPoint(Qd);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),V2.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),V2.copy(n.boundingBox)),V2.applyMatrix4(e.matrixWorld),this.union(V2)}const a=e.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],r);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qd),Qd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,n;return e.normal.x>0?(r=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),r<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dy),W2.subVectors(this.max,Dy),Mx.subVectors(e.a,Dy),Fx.subVectors(e.b,Dy),Px.subVectors(e.c,Dy),k0.subVectors(Fx,Mx),B0.subVectors(Px,Fx),yp.subVectors(Mx,Px);let r=[0,-k0.z,k0.y,0,-B0.z,B0.y,0,-yp.z,yp.y,k0.z,0,-k0.x,B0.z,0,-B0.x,yp.z,0,-yp.x,-k0.y,k0.x,0,-B0.y,B0.x,0,-yp.y,yp.x,0];return!wC(r,Mx,Fx,Px,W2)||(r=[1,0,0,0,1,0,0,0,1],!wC(r,Mx,Fx,Px,W2))?!1:(q2.crossVectors(k0,B0),r=[q2.x,q2.y,q2.z],wC(r,Mx,Fx,Px,W2))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qd).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qd).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ef[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ef[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ef[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ef[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ef[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ef[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ef[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ef[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ef),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ef=[new jt,new jt,new jt,new jt,new jt,new jt,new jt,new jt],Qd=new jt,V2=new Mw,Mx=new jt,Fx=new jt,Px=new jt,k0=new jt,B0=new jt,yp=new jt,Dy=new jt,W2=new jt,q2=new jt,bp=new jt;function wC(t,e,r,n,a){for(let i=0,o=t.length-3;i<=o;i+=3){bp.fromArray(t,i);const l=a.x*Math.abs(bp.x)+a.y*Math.abs(bp.y)+a.z*Math.abs(bp.z),c=e.dot(bp),d=r.dot(bp),u=n.dot(bp);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>l)return!1}return!0}const M0e=new Mw,Ly=new jt,jC=new jt;class bI{constructor(e=new jt,r=-1){this.isSphere=!0,this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const n=this.center;r!==void 0?n.copy(r):M0e.setFromPoints(e).getCenter(n);let a=0;for(let i=0,o=e.length;i<o;i++)a=Math.max(a,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const n=this.center.distanceToSquared(e);return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ly.subVectors(e,this.center);const r=Ly.lengthSq();if(r>this.radius*this.radius){const n=Math.sqrt(r),a=(n-this.radius)*.5;this.center.addScaledVector(Ly,a/n),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ly.copy(e.center).add(jC)),this.expandByPoint(Ly.copy(e.center).sub(jC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const tf=new jt,NC=new jt,K2=new jt,T0=new jt,SC=new jt,X2=new jt,_C=new jt;class F0e{constructor(e=new jt,r=new jt(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,tf)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=tf.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(tf.copy(this.origin).addScaledVector(this.direction,r),tf.distanceToSquared(e))}distanceSqToSegment(e,r,n,a){NC.copy(e).add(r).multiplyScalar(.5),K2.copy(r).sub(e).normalize(),T0.copy(this.origin).sub(NC);const i=e.distanceTo(r)*.5,o=-this.direction.dot(K2),l=T0.dot(this.direction),c=-T0.dot(K2),d=T0.lengthSq(),u=Math.abs(1-o*o);let h,m,f,A;if(u>0)if(h=o*c-l,m=o*l-c,A=i*u,h>=0)if(m>=-A)if(m<=A){const g=1/u;h*=g,m*=g,f=h*(h+o*m+2*l)+m*(o*h+m+2*c)+d}else m=i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m=-i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m<=-A?(h=Math.max(0,-(-o*i+l)),m=h>0?-i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d):m<=A?(h=0,m=Math.min(Math.max(-i,-c),i),f=m*(m+2*c)+d):(h=Math.max(0,-(o*i+l)),m=h>0?i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d);else m=o>0?-i:i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,h),a&&a.copy(NC).addScaledVector(K2,m),f}intersectSphere(e,r){tf.subVectors(e.center,this.origin);const n=tf.dot(this.direction),a=tf.dot(tf)-n*n,i=e.radius*e.radius;if(a>i)return null;const o=Math.sqrt(i-a),l=n-o,c=n+o;return c<0?null:l<0?this.at(c,r):this.at(l,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/r;return n>=0?n:null}intersectPlane(e,r){const n=this.distanceToPlane(e);return n===null?null:this.at(n,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let n,a,i,o,l,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,m=this.origin;return d>=0?(n=(e.min.x-m.x)*d,a=(e.max.x-m.x)*d):(n=(e.max.x-m.x)*d,a=(e.min.x-m.x)*d),u>=0?(i=(e.min.y-m.y)*u,o=(e.max.y-m.y)*u):(i=(e.max.y-m.y)*u,o=(e.min.y-m.y)*u),n>o||i>a||((i>n||isNaN(n))&&(n=i),(o<a||isNaN(a))&&(a=o),h>=0?(l=(e.min.z-m.z)*h,c=(e.max.z-m.z)*h):(l=(e.max.z-m.z)*h,c=(e.min.z-m.z)*h),n>c||l>a)||((l>n||n!==n)&&(n=l),(c<a||a!==a)&&(a=c),a<0)?null:this.at(n>=0?n:a,r)}intersectsBox(e){return this.intersectBox(e,tf)!==null}intersectTriangle(e,r,n,a,i){SC.subVectors(r,e),X2.subVectors(n,e),_C.crossVectors(SC,X2);let o=this.direction.dot(_C),l;if(o>0){if(a)return null;l=1}else if(o<0)l=-1,o=-o;else return null;T0.subVectors(this.origin,e);const c=l*this.direction.dot(X2.crossVectors(T0,X2));if(c<0)return null;const d=l*this.direction.dot(SC.cross(T0));if(d<0||c+d>o)return null;const u=-l*T0.dot(_C);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ia{constructor(e,r,n,a,i,o,l,c,d,u,h,m,f,A,g,x){Ia.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,r,n,a,i,o,l,c,d,u,h,m,f,A,g,x)}set(e,r,n,a,i,o,l,c,d,u,h,m,f,A,g,x){const v=this.elements;return v[0]=e,v[4]=r,v[8]=n,v[12]=a,v[1]=i,v[5]=o,v[9]=l,v[13]=c,v[2]=d,v[6]=u,v[10]=h,v[14]=m,v[3]=f,v[7]=A,v[11]=g,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ia().fromArray(this.elements)}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this}copyPosition(e){const r=this.elements,n=e.elements;return r[12]=n[12],r[13]=n[13],r[14]=n[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,n){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,r,n){return this.set(e.x,r.x,n.x,0,e.y,r.y,n.y,0,e.z,r.z,n.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,n=e.elements,a=1/Ix.setFromMatrixColumn(e,0).length(),i=1/Ix.setFromMatrixColumn(e,1).length(),o=1/Ix.setFromMatrixColumn(e,2).length();return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=0,r[4]=n[4]*i,r[5]=n[5]*i,r[6]=n[6]*i,r[7]=0,r[8]=n[8]*o,r[9]=n[9]*o,r[10]=n[10]*o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,n=e.x,a=e.y,i=e.z,o=Math.cos(n),l=Math.sin(n),c=Math.cos(a),d=Math.sin(a),u=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const m=o*u,f=o*h,A=l*u,g=l*h;r[0]=c*u,r[4]=-c*h,r[8]=d,r[1]=f+A*d,r[5]=m-g*d,r[9]=-l*c,r[2]=g-m*d,r[6]=A+f*d,r[10]=o*c}else if(e.order==="YXZ"){const m=c*u,f=c*h,A=d*u,g=d*h;r[0]=m+g*l,r[4]=A*l-f,r[8]=o*d,r[1]=o*h,r[5]=o*u,r[9]=-l,r[2]=f*l-A,r[6]=g+m*l,r[10]=o*c}else if(e.order==="ZXY"){const m=c*u,f=c*h,A=d*u,g=d*h;r[0]=m-g*l,r[4]=-o*h,r[8]=A+f*l,r[1]=f+A*l,r[5]=o*u,r[9]=g-m*l,r[2]=-o*d,r[6]=l,r[10]=o*c}else if(e.order==="ZYX"){const m=o*u,f=o*h,A=l*u,g=l*h;r[0]=c*u,r[4]=A*d-f,r[8]=m*d+g,r[1]=c*h,r[5]=g*d+m,r[9]=f*d-A,r[2]=-d,r[6]=l*c,r[10]=o*c}else if(e.order==="YZX"){const m=o*c,f=o*d,A=l*c,g=l*d;r[0]=c*u,r[4]=g-m*h,r[8]=A*h+f,r[1]=h,r[5]=o*u,r[9]=-l*u,r[2]=-d*u,r[6]=f*h+A,r[10]=m-g*h}else if(e.order==="XZY"){const m=o*c,f=o*d,A=l*c,g=l*d;r[0]=c*u,r[4]=-h,r[8]=d*u,r[1]=m*h+g,r[5]=o*u,r[9]=f*h-A,r[2]=A*h-f,r[6]=l*u,r[10]=g*h+m}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(P0e,e,I0e)}lookAt(e,r,n){const a=this.elements;return oc.subVectors(e,r),oc.lengthSq()===0&&(oc.z=1),oc.normalize(),M0.crossVectors(n,oc),M0.lengthSq()===0&&(Math.abs(n.z)===1?oc.x+=1e-4:oc.z+=1e-4,oc.normalize(),M0.crossVectors(n,oc)),M0.normalize(),Y2.crossVectors(oc,M0),a[0]=M0.x,a[4]=Y2.x,a[8]=oc.x,a[1]=M0.y,a[5]=Y2.y,a[9]=oc.y,a[2]=M0.z,a[6]=Y2.z,a[10]=oc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,a=r.elements,i=this.elements,o=n[0],l=n[4],c=n[8],d=n[12],u=n[1],h=n[5],m=n[9],f=n[13],A=n[2],g=n[6],x=n[10],v=n[14],j=n[3],b=n[7],S=n[11],w=n[15],N=a[0],E=a[4],P=a[8],_=a[12],B=a[1],k=a[5],M=a[9],T=a[13],H=a[2],L=a[6],Q=a[10],O=a[14],V=a[3],ee=a[7],Y=a[11],re=a[15];return i[0]=o*N+l*B+c*H+d*V,i[4]=o*E+l*k+c*L+d*ee,i[8]=o*P+l*M+c*Q+d*Y,i[12]=o*_+l*T+c*O+d*re,i[1]=u*N+h*B+m*H+f*V,i[5]=u*E+h*k+m*L+f*ee,i[9]=u*P+h*M+m*Q+f*Y,i[13]=u*_+h*T+m*O+f*re,i[2]=A*N+g*B+x*H+v*V,i[6]=A*E+g*k+x*L+v*ee,i[10]=A*P+g*M+x*Q+v*Y,i[14]=A*_+g*T+x*O+v*re,i[3]=j*N+b*B+S*H+w*V,i[7]=j*E+b*k+S*L+w*ee,i[11]=j*P+b*M+S*Q+w*Y,i[15]=j*_+b*T+S*O+w*re,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[4],a=e[8],i=e[12],o=e[1],l=e[5],c=e[9],d=e[13],u=e[2],h=e[6],m=e[10],f=e[14],A=e[3],g=e[7],x=e[11],v=e[15];return A*(+i*c*h-a*d*h-i*l*m+n*d*m+a*l*f-n*c*f)+g*(+r*c*f-r*d*m+i*o*m-a*o*f+a*d*u-i*c*u)+x*(+r*d*h-r*l*f-i*o*h+n*o*f+i*l*u-n*d*u)+v*(-a*l*u-r*c*h+r*l*m+a*o*h-n*o*m+n*c*u)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,n){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=r,a[14]=n),this}invert(){const e=this.elements,r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],m=e[10],f=e[11],A=e[12],g=e[13],x=e[14],v=e[15],j=h*x*d-g*m*d+g*c*f-l*x*f-h*c*v+l*m*v,b=A*m*d-u*x*d-A*c*f+o*x*f+u*c*v-o*m*v,S=u*g*d-A*h*d+A*l*f-o*g*f-u*l*v+o*h*v,w=A*h*c-u*g*c-A*l*m+o*g*m+u*l*x-o*h*x,N=r*j+n*b+a*S+i*w;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/N;return e[0]=j*E,e[1]=(g*m*i-h*x*i-g*a*f+n*x*f+h*a*v-n*m*v)*E,e[2]=(l*x*i-g*c*i+g*a*d-n*x*d-l*a*v+n*c*v)*E,e[3]=(h*c*i-l*m*i-h*a*d+n*m*d+l*a*f-n*c*f)*E,e[4]=b*E,e[5]=(u*x*i-A*m*i+A*a*f-r*x*f-u*a*v+r*m*v)*E,e[6]=(A*c*i-o*x*i-A*a*d+r*x*d+o*a*v-r*c*v)*E,e[7]=(o*m*i-u*c*i+u*a*d-r*m*d-o*a*f+r*c*f)*E,e[8]=S*E,e[9]=(A*h*i-u*g*i-A*n*f+r*g*f+u*n*v-r*h*v)*E,e[10]=(o*g*i-A*l*i+A*n*d-r*g*d-o*n*v+r*l*v)*E,e[11]=(u*l*i-o*h*i-u*n*d+r*h*d+o*n*f-r*l*f)*E,e[12]=w*E,e[13]=(u*g*a-A*h*a+A*n*m-r*g*m-u*n*x+r*h*x)*E,e[14]=(A*l*a-o*g*a-A*n*c+r*g*c+o*n*x-r*l*x)*E,e[15]=(o*h*a-u*l*a+u*n*c-r*h*c-o*n*m+r*l*m)*E,this}scale(e){const r=this.elements,n=e.x,a=e.y,i=e.z;return r[0]*=n,r[4]*=a,r[8]*=i,r[1]*=n,r[5]*=a,r[9]*=i,r[2]*=n,r[6]*=a,r[10]*=i,r[3]*=n,r[7]*=a,r[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,n,a))}makeTranslation(e,r,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,r,0,0,1,n,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const n=Math.cos(r),a=Math.sin(r),i=1-n,o=e.x,l=e.y,c=e.z,d=i*o,u=i*l;return this.set(d*o+n,d*l-a*c,d*c+a*l,0,d*l+a*c,u*l+n,u*c-a*o,0,d*c-a*l,u*c+a*o,i*c*c+n,0,0,0,0,1),this}makeScale(e,r,n){return this.set(e,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,r,n,a,i,o){return this.set(1,n,i,0,e,1,o,0,r,a,1,0,0,0,0,1),this}compose(e,r,n){const a=this.elements,i=r._x,o=r._y,l=r._z,c=r._w,d=i+i,u=o+o,h=l+l,m=i*d,f=i*u,A=i*h,g=o*u,x=o*h,v=l*h,j=c*d,b=c*u,S=c*h,w=n.x,N=n.y,E=n.z;return a[0]=(1-(g+v))*w,a[1]=(f+S)*w,a[2]=(A-b)*w,a[3]=0,a[4]=(f-S)*N,a[5]=(1-(m+v))*N,a[6]=(x+j)*N,a[7]=0,a[8]=(A+b)*E,a[9]=(x-j)*E,a[10]=(1-(m+g))*E,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,r,n){const a=this.elements;let i=Ix.set(a[0],a[1],a[2]).length();const o=Ix.set(a[4],a[5],a[6]).length(),l=Ix.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),e.x=a[12],e.y=a[13],e.z=a[14],zd.copy(this);const d=1/i,u=1/o,h=1/l;return zd.elements[0]*=d,zd.elements[1]*=d,zd.elements[2]*=d,zd.elements[4]*=u,zd.elements[5]*=u,zd.elements[6]*=u,zd.elements[8]*=h,zd.elements[9]*=h,zd.elements[10]*=h,r.setFromRotationMatrix(zd),n.x=i,n.y=o,n.z=l,this}makePerspective(e,r,n,a,i,o,l=wf){const c=this.elements,d=2*i/(r-e),u=2*i/(n-a),h=(r+e)/(r-e),m=(n+a)/(n-a);let f,A;if(l===wf)f=-(o+i)/(o-i),A=-2*o*i/(o-i);else if(l===d5)f=-o/(o-i),A=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=u,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=f,c[14]=A,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,r,n,a,i,o,l=wf){const c=this.elements,d=1/(r-e),u=1/(n-a),h=1/(o-i),m=(r+e)*d,f=(n+a)*u;let A,g;if(l===wf)A=(o+i)*h,g=-2*h;else if(l===d5)A=i*h,g=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=g,c[14]=-A,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const r=this.elements,n=e.elements;for(let a=0;a<16;a++)if(r[a]!==n[a])return!1;return!0}fromArray(e,r=0){for(let n=0;n<16;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e[r+9]=n[9],e[r+10]=n[10],e[r+11]=n[11],e[r+12]=n[12],e[r+13]=n[13],e[r+14]=n[14],e[r+15]=n[15],e}}const Ix=new jt,zd=new Ia,P0e=new jt(0,0,0),I0e=new jt(1,1,1),M0=new jt,Y2=new jt,oc=new jt,eO=new Ia,tO=new Tw;class hh{constructor(e=0,r=0,n=0,a=hh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=n,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,n,a=this._order){return this._x=e,this._y=r,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,n=!0){const a=e.elements,i=a[0],o=a[4],l=a[8],c=a[1],d=a[5],u=a[9],h=a[2],m=a[6],f=a[10];switch(r){case"XYZ":this._y=Math.asin(Ps(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ps(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ps(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Ps(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,f),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Ps(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,f));break;case"XZY":this._z=Math.asin(-Ps(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,n){return eO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(eO,r,n)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return tO.setFromEuler(this),this.setFromQuaternion(tO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hh.DEFAULT_ORDER="XYZ";class aY{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let D0e=0;const rO=new jt,Dx=new Tw,rf=new Ia,J2=new jt,Ry=new jt,L0e=new jt,R0e=new Tw,sO=new jt(1,0,0),nO=new jt(0,1,0),aO=new jt(0,0,1),iO={type:"added"},O0e={type:"removed"},Lx={type:"childadded",child:null},CC={type:"childremoved",child:null};class qo extends Rv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:D0e++}),this.uuid=Bw(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qo.DEFAULT_UP.clone();const e=new jt,r=new hh,n=new Tw,a=new jt(1,1,1);function i(){n.setFromEuler(r,!1)}function o(){r.setFromQuaternion(n,void 0,!1)}r._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Ia},normalMatrix:{value:new vs}}),this.matrix=new Ia,this.matrixWorld=new Ia,this.matrixAutoUpdate=qo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new aY,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return Dx.setFromAxisAngle(e,r),this.quaternion.multiply(Dx),this}rotateOnWorldAxis(e,r){return Dx.setFromAxisAngle(e,r),this.quaternion.premultiply(Dx),this}rotateX(e){return this.rotateOnAxis(sO,e)}rotateY(e){return this.rotateOnAxis(nO,e)}rotateZ(e){return this.rotateOnAxis(aO,e)}translateOnAxis(e,r){return rO.copy(e).applyQuaternion(this.quaternion),this.position.add(rO.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(sO,e)}translateY(e){return this.translateOnAxis(nO,e)}translateZ(e){return this.translateOnAxis(aO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(rf.copy(this.matrixWorld).invert())}lookAt(e,r,n){e.isVector3?J2.copy(e):J2.set(e,r,n);const a=this.parent;this.updateWorldMatrix(!0,!1),Ry.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?rf.lookAt(Ry,J2,this.up):rf.lookAt(J2,Ry,this.up),this.quaternion.setFromRotationMatrix(rf),a&&(rf.extractRotation(a.matrixWorld),Dx.setFromRotationMatrix(rf),this.quaternion.premultiply(Dx.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(iO),Lx.child=e,this.dispatchEvent(Lx),Lx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(O0e),CC.child=e,this.dispatchEvent(CC),CC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),rf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),rf.multiply(e.parent.matrixWorld)),e.applyMatrix4(rf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(iO),Lx.child=e,this.dispatchEvent(Lx),Lx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let n=0,a=this.children.length;n<a;n++){const o=this.children[n].getObjectByProperty(e,r);if(o!==void 0)return o}}getObjectsByProperty(e,r,n=[]){this[e]===r&&n.push(this);const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(e,r,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,e,L0e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,R0e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let n=0,a=r.length;n<a;n++)r[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let n=0,a=r.length;n<a;n++)r[n].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let n=0,a=r.length;n<a;n++)r[n].updateMatrixWorld(e)}updateWorldMatrix(e,r){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),r===!0){const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){const r=e===void 0||typeof e=="string",n={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(i(e.materials,this.material[c]));a.material=l}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];a.animations.push(i(e.animations,c))}}if(r){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),u=o(e.images),h=o(e.shapes),m=o(e.skeletons),f=o(e.animations),A=o(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),m.length>0&&(n.skeletons=m),f.length>0&&(n.animations=f),A.length>0&&(n.nodes=A)}return n.object=a,n;function o(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let n=0;n<e.children.length;n++){const a=e.children[n];this.add(a.clone())}return this}}qo.DEFAULT_UP=new jt(0,1,0);qo.DEFAULT_MATRIX_AUTO_UPDATE=!0;qo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $d=new jt,sf=new jt,EC=new jt,nf=new jt,Rx=new jt,Ox=new jt,oO=new jt,kC=new jt,BC=new jt,TC=new jt,MC=new Pa,FC=new Pa,PC=new Pa;class Jd{constructor(e=new jt,r=new jt,n=new jt){this.a=e,this.b=r,this.c=n}static getNormal(e,r,n,a){a.subVectors(n,r),$d.subVectors(e,r),a.cross($d);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,r,n,a,i){$d.subVectors(a,r),sf.subVectors(n,r),EC.subVectors(e,r);const o=$d.dot($d),l=$d.dot(sf),c=$d.dot(EC),d=sf.dot(sf),u=sf.dot(EC),h=o*d-l*l;if(h===0)return i.set(0,0,0),null;const m=1/h,f=(d*c-l*u)*m,A=(o*u-l*c)*m;return i.set(1-f-A,A,f)}static containsPoint(e,r,n,a){return this.getBarycoord(e,r,n,a,nf)===null?!1:nf.x>=0&&nf.y>=0&&nf.x+nf.y<=1}static getInterpolation(e,r,n,a,i,o,l,c){return this.getBarycoord(e,r,n,a,nf)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,nf.x),c.addScaledVector(o,nf.y),c.addScaledVector(l,nf.z),c)}static getInterpolatedAttribute(e,r,n,a,i,o){return MC.setScalar(0),FC.setScalar(0),PC.setScalar(0),MC.fromBufferAttribute(e,r),FC.fromBufferAttribute(e,n),PC.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(MC,i.x),o.addScaledVector(FC,i.y),o.addScaledVector(PC,i.z),o}static isFrontFacing(e,r,n,a){return $d.subVectors(n,r),sf.subVectors(e,r),$d.cross(sf).dot(a)<0}set(e,r,n){return this.a.copy(e),this.b.copy(r),this.c.copy(n),this}setFromPointsAndIndices(e,r,n,a){return this.a.copy(e[r]),this.b.copy(e[n]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,r,n,a){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $d.subVectors(this.c,this.b),sf.subVectors(this.a,this.b),$d.cross(sf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jd.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return Jd.getBarycoord(e,this.a,this.b,this.c,r)}getInterpolation(e,r,n,a,i){return Jd.getInterpolation(e,this.a,this.b,this.c,r,n,a,i)}containsPoint(e){return Jd.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jd.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const n=this.a,a=this.b,i=this.c;let o,l;Rx.subVectors(a,n),Ox.subVectors(i,n),kC.subVectors(e,n);const c=Rx.dot(kC),d=Ox.dot(kC);if(c<=0&&d<=0)return r.copy(n);BC.subVectors(e,a);const u=Rx.dot(BC),h=Ox.dot(BC);if(u>=0&&h<=u)return r.copy(a);const m=c*h-u*d;if(m<=0&&c>=0&&u<=0)return o=c/(c-u),r.copy(n).addScaledVector(Rx,o);TC.subVectors(e,i);const f=Rx.dot(TC),A=Ox.dot(TC);if(A>=0&&f<=A)return r.copy(i);const g=f*d-c*A;if(g<=0&&d>=0&&A<=0)return l=d/(d-A),r.copy(n).addScaledVector(Ox,l);const x=u*A-f*h;if(x<=0&&h-u>=0&&f-A>=0)return oO.subVectors(i,a),l=(h-u)/(h-u+(f-A)),r.copy(a).addScaledVector(oO,l);const v=1/(x+g+m);return o=g*v,l=m*v,r.copy(n).addScaledVector(Rx,o).addScaledVector(Ox,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const iY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},F0={h:0,s:0,l:0},Z2={h:0,s:0,l:0};function IC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*6*(2/3-r):t}let Ys=class{constructor(e,r,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,n)}set(e,r,n){if(r===void 0&&n===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,r,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=ad){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xs.toWorkingColorSpace(this,r),this}setRGB(e,r,n,a=Xs.workingColorSpace){return this.r=e,this.g=r,this.b=n,Xs.toWorkingColorSpace(this,a),this}setHSL(e,r,n,a=Xs.workingColorSpace){if(e=b0e(e,1),r=Ps(r,0,1),n=Ps(n,0,1),r===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=IC(o,i,e+1/3),this.g=IC(o,i,e),this.b=IC(o,i,e-1/3)}return Xs.toWorkingColorSpace(this,a),this}setStyle(e,r=ad){function n(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=a[1],l=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,r);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,r);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,r);if(o===6)return this.setHex(parseInt(i,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=ad){const n=iY[e.toLowerCase()];return n!==void 0?this.setHex(n,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=kf(e.r),this.g=kf(e.g),this.b=kf(e.b),this}copyLinearToSRGB(e){return this.r=_g(e.r),this.g=_g(e.g),this.b=_g(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ad){return Xs.fromWorkingColorSpace(To.copy(this),e),Math.round(Ps(To.r*255,0,255))*65536+Math.round(Ps(To.g*255,0,255))*256+Math.round(Ps(To.b*255,0,255))}getHexString(e=ad){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=Xs.workingColorSpace){Xs.fromWorkingColorSpace(To.copy(this),r);const n=To.r,a=To.g,i=To.b,o=Math.max(n,a,i),l=Math.min(n,a,i);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case n:c=(a-i)/h+(a<i?6:0);break;case a:c=(i-n)/h+2;break;case i:c=(n-a)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,r=Xs.workingColorSpace){return Xs.fromWorkingColorSpace(To.copy(this),r),e.r=To.r,e.g=To.g,e.b=To.b,e}getStyle(e=ad){Xs.fromWorkingColorSpace(To.copy(this),e);const r=To.r,n=To.g,a=To.b;return e!==ad?`color(${e} ${r.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(e,r,n){return this.getHSL(F0),this.setHSL(F0.h+e,F0.s+r,F0.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,n){return this.r=e.r+(r.r-e.r)*n,this.g=e.g+(r.g-e.g)*n,this.b=e.b+(r.b-e.b)*n,this}lerpHSL(e,r){this.getHSL(F0),e.getHSL(Z2);const n=gC(F0.h,Z2.h,r),a=gC(F0.s,Z2.s,r),i=gC(F0.l,Z2.l,r);return this.setHSL(n,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,n=this.g,a=this.b,i=e.elements;return this.r=i[0]*r+i[3]*n+i[6]*a,this.g=i[1]*r+i[4]*n+i[7]*a,this.b=i[2]*r+i[5]*n+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const To=new Ys;Ys.NAMES=iY;let U0e=0;class Fw extends Rv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:U0e++}),this.uuid=Bw(),this.name="",this.type="Material",this.blending=Ng,this.side=wm,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=LT,this.blendDst=RT,this.blendEquation=$p,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ys(0,0,0),this.blendAlpha=0,this.depthFunc=qg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=WR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bx,this.stencilZFail=Bx,this.stencilZPass=Bx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const n=e[r];if(n===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const a=this[r];if(a===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[r]=n}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ng&&(n.blending=this.blending),this.side!==wm&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==LT&&(n.blendSrc=this.blendSrc),this.blendDst!==RT&&(n.blendDst=this.blendDst),this.blendEquation!==$p&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==qg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==WR&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bx&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Bx&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Bx&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(i){const o=[];for(const l in i){const c=i[l];delete c.metadata,o.push(c)}return o}if(r){const i=a(e.textures),o=a(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let n=null;if(r!==null){const a=r.length;n=new Array(a);for(let i=0;i!==a;++i)n[i]=r[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class oY extends Fw{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ys(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hh,this.combine=mI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ai=new jt,ej=new An;class nh{constructor(e,r,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=n,this.usage=qR,this.updateRanges=[],this.gpuType=bf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,r){this.updateRanges.push({start:e,count:r})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,r,n){e*=this.itemSize,n*=r.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=r.array[n+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,n=this.count;r<n;r++)ej.fromBufferAttribute(this,r),ej.applyMatrix3(e),this.setXY(r,ej.x,ej.y);else if(this.itemSize===3)for(let r=0,n=this.count;r<n;r++)ai.fromBufferAttribute(this,r),ai.applyMatrix3(e),this.setXYZ(r,ai.x,ai.y,ai.z);return this}applyMatrix4(e){for(let r=0,n=this.count;r<n;r++)ai.fromBufferAttribute(this,r),ai.applyMatrix4(e),this.setXYZ(r,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let r=0,n=this.count;r<n;r++)ai.fromBufferAttribute(this,r),ai.applyNormalMatrix(e),this.setXYZ(r,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let r=0,n=this.count;r<n;r++)ai.fromBufferAttribute(this,r),ai.transformDirection(e),this.setXYZ(r,ai.x,ai.y,ai.z);return this}set(e,r=0){return this.array.set(e,r),this}getComponent(e,r){let n=this.array[e*this.itemSize+r];return this.normalized&&(n=Iy(n,this.array)),n}setComponent(e,r,n){return this.normalized&&(n=Pl(n,this.array)),this.array[e*this.itemSize+r]=n,this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=Iy(r,this.array)),r}setX(e,r){return this.normalized&&(r=Pl(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=Iy(r,this.array)),r}setY(e,r){return this.normalized&&(r=Pl(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=Iy(r,this.array)),r}setZ(e,r){return this.normalized&&(r=Pl(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=Iy(r,this.array)),r}setW(e,r){return this.normalized&&(r=Pl(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,n){return e*=this.itemSize,this.normalized&&(r=Pl(r,this.array),n=Pl(n,this.array)),this.array[e+0]=r,this.array[e+1]=n,this}setXYZ(e,r,n,a){return e*=this.itemSize,this.normalized&&(r=Pl(r,this.array),n=Pl(n,this.array),a=Pl(a,this.array)),this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=a,this}setXYZW(e,r,n,a,i){return e*=this.itemSize,this.normalized&&(r=Pl(r,this.array),n=Pl(n,this.array),a=Pl(a,this.array),i=Pl(i,this.array)),this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qR&&(e.usage=this.usage),e}}class lY extends nh{constructor(e,r,n){super(new Uint16Array(e),r,n)}}class cY extends nh{constructor(e,r,n){super(new Uint32Array(e),r,n)}}class oA extends nh{constructor(e,r,n){super(new Float32Array(e),r,n)}}let H0e=0;const Vc=new Ia,DC=new qo,Ux=new jt,lc=new Mw,Oy=new Mw,$i=new jt;class GA extends Rv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:H0e++}),this.uuid=Bw(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rY(e)?cY:lY)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,n=0){this.groups.push({start:e,count:r,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const i=new vs().getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Vc.makeRotationFromQuaternion(e),this.applyMatrix4(Vc),this}rotateX(e){return Vc.makeRotationX(e),this.applyMatrix4(Vc),this}rotateY(e){return Vc.makeRotationY(e),this.applyMatrix4(Vc),this}rotateZ(e){return Vc.makeRotationZ(e),this.applyMatrix4(Vc),this}translate(e,r,n){return Vc.makeTranslation(e,r,n),this.applyMatrix4(Vc),this}scale(e,r,n){return Vc.makeScale(e,r,n),this.applyMatrix4(Vc),this}lookAt(e){return DC.lookAt(e),DC.updateMatrix(),this.applyMatrix4(DC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ux).negate(),this.translate(Ux.x,Ux.y,Ux.z),this}setFromPoints(e){const r=this.getAttribute("position");if(r===void 0){const n=[];for(let a=0,i=e.length;a<i;a++){const o=e[a];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new oA(n,3))}else{const n=Math.min(e.length,r.count);for(let a=0;a<n;a++){const i=e[a];r.setXYZ(a,i.x,i.y,i.z||0)}e.length>r.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),r.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mw);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new jt(-1/0,-1/0,-1/0),new jt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let n=0,a=r.length;n<a;n++){const i=r[n];lc.setFromBufferAttribute(i),this.morphTargetsRelative?($i.addVectors(this.boundingBox.min,lc.min),this.boundingBox.expandByPoint($i),$i.addVectors(this.boundingBox.max,lc.max),this.boundingBox.expandByPoint($i)):(this.boundingBox.expandByPoint(lc.min),this.boundingBox.expandByPoint(lc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bI);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new jt,1/0);return}if(e){const n=this.boundingSphere.center;if(lc.setFromBufferAttribute(e),r)for(let i=0,o=r.length;i<o;i++){const l=r[i];Oy.setFromBufferAttribute(l),this.morphTargetsRelative?($i.addVectors(lc.min,Oy.min),lc.expandByPoint($i),$i.addVectors(lc.max,Oy.max),lc.expandByPoint($i)):(lc.expandByPoint(Oy.min),lc.expandByPoint(Oy.max))}lc.getCenter(n);let a=0;for(let i=0,o=e.count;i<o;i++)$i.fromBufferAttribute(e,i),a=Math.max(a,n.distanceToSquared($i));if(r)for(let i=0,o=r.length;i<o;i++){const l=r[i],c=this.morphTargetsRelative;for(let d=0,u=l.count;d<u;d++)$i.fromBufferAttribute(l,d),c&&(Ux.fromBufferAttribute(e,d),$i.add(Ux)),a=Math.max(a,n.distanceToSquared($i))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=r.position,a=r.normal,i=r.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new nh(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let P=0;P<n.count;P++)l[P]=new jt,c[P]=new jt;const d=new jt,u=new jt,h=new jt,m=new An,f=new An,A=new An,g=new jt,x=new jt;function v(P,_,B){d.fromBufferAttribute(n,P),u.fromBufferAttribute(n,_),h.fromBufferAttribute(n,B),m.fromBufferAttribute(i,P),f.fromBufferAttribute(i,_),A.fromBufferAttribute(i,B),u.sub(d),h.sub(d),f.sub(m),A.sub(m);const k=1/(f.x*A.y-A.x*f.y);isFinite(k)&&(g.copy(u).multiplyScalar(A.y).addScaledVector(h,-f.y).multiplyScalar(k),x.copy(h).multiplyScalar(f.x).addScaledVector(u,-A.x).multiplyScalar(k),l[P].add(g),l[_].add(g),l[B].add(g),c[P].add(x),c[_].add(x),c[B].add(x))}let j=this.groups;j.length===0&&(j=[{start:0,count:e.count}]);for(let P=0,_=j.length;P<_;++P){const B=j[P],k=B.start,M=B.count;for(let T=k,H=k+M;T<H;T+=3)v(e.getX(T+0),e.getX(T+1),e.getX(T+2))}const b=new jt,S=new jt,w=new jt,N=new jt;function E(P){w.fromBufferAttribute(a,P),N.copy(w);const _=l[P];b.copy(_),b.sub(w.multiplyScalar(w.dot(_))).normalize(),S.crossVectors(N,_);const k=S.dot(c[P])<0?-1:1;o.setXYZW(P,b.x,b.y,b.z,k)}for(let P=0,_=j.length;P<_;++P){const B=j[P],k=B.start,M=B.count;for(let T=k,H=k+M;T<H;T+=3)E(e.getX(T+0)),E(e.getX(T+1)),E(e.getX(T+2))}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new nh(new Float32Array(r.count*3),3),this.setAttribute("normal",n);else for(let m=0,f=n.count;m<f;m++)n.setXYZ(m,0,0,0);const a=new jt,i=new jt,o=new jt,l=new jt,c=new jt,d=new jt,u=new jt,h=new jt;if(e)for(let m=0,f=e.count;m<f;m+=3){const A=e.getX(m+0),g=e.getX(m+1),x=e.getX(m+2);a.fromBufferAttribute(r,A),i.fromBufferAttribute(r,g),o.fromBufferAttribute(r,x),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),l.fromBufferAttribute(n,A),c.fromBufferAttribute(n,g),d.fromBufferAttribute(n,x),l.add(u),c.add(u),d.add(u),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z),n.setXYZ(x,d.x,d.y,d.z)}else for(let m=0,f=r.count;m<f;m+=3)a.fromBufferAttribute(r,m+0),i.fromBufferAttribute(r,m+1),o.fromBufferAttribute(r,m+2),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),n.setXYZ(m+0,u.x,u.y,u.z),n.setXYZ(m+1,u.x,u.y,u.z),n.setXYZ(m+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let r=0,n=e.count;r<n;r++)$i.fromBufferAttribute(e,r),$i.normalize(),e.setXYZ(r,$i.x,$i.y,$i.z)}toNonIndexed(){function e(l,c){const d=l.array,u=l.itemSize,h=l.normalized,m=new d.constructor(c.length*u);let f=0,A=0;for(let g=0,x=c.length;g<x;g++){l.isInterleavedBufferAttribute?f=c[g]*l.data.stride+l.offset:f=c[g]*u;for(let v=0;v<u;v++)m[A++]=d[f++]}return new nh(m,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new GA,n=this.index.array,a=this.attributes;for(const l in a){const c=a[l],d=e(c,n);r.setAttribute(l,d)}const i=this.morphAttributes;for(const l in i){const c=[],d=i[l];for(let u=0,h=d.length;u<h;u++){const m=d[u],f=e(m,n);c.push(f)}r.morphAttributes[l]=c}r.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];r.addGroup(d.start,d.count,d.materialIndex)}return r}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const a={};let i=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,m=d.length;h<m;h++){const f=d[h];u.push(f.toJSON(e.data))}u.length>0&&(a[c]=u,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(r));const a=e.attributes;for(const d in a){const u=a[d];this.setAttribute(d,u.clone(r))}const i=e.morphAttributes;for(const d in i){const u=[],h=i[d];for(let m=0,f=h.length;m<f;m++)u.push(h[m].clone(r));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,u=o.length;d<u;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const lO=new Ia,wp=new F0e,tj=new bI,cO=new jt,rj=new jt,sj=new jt,nj=new jt,LC=new jt,aj=new jt,dO=new jt,ij=new jt;class tu extends qo{constructor(e=new GA,r=new oY){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,n=Object.keys(r);if(n.length>0){const a=r[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,r){const n=this.geometry,a=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;r.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(i&&l){aj.set(0,0,0);for(let c=0,d=i.length;c<d;c++){const u=l[c],h=i[c];u!==0&&(LC.fromBufferAttribute(h,e),o?aj.addScaledVector(LC,u):aj.addScaledVector(LC.sub(r),u))}r.add(aj)}return r}raycast(e,r){const n=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),tj.copy(n.boundingSphere),tj.applyMatrix4(i),wp.copy(e.ray).recast(e.near),!(tj.containsPoint(wp.origin)===!1&&(wp.intersectSphere(tj,cO)===null||wp.origin.distanceToSquared(cO)>(e.far-e.near)**2))&&(lO.copy(i).invert(),wp.copy(e.ray).applyMatrix4(lO),!(n.boundingBox!==null&&wp.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,r,wp)))}_computeIntersections(e,r,n){let a;const i=this.geometry,o=this.material,l=i.index,c=i.attributes.position,d=i.attributes.uv,u=i.attributes.uv1,h=i.attributes.normal,m=i.groups,f=i.drawRange;if(l!==null)if(Array.isArray(o))for(let A=0,g=m.length;A<g;A++){const x=m[A],v=o[x.materialIndex],j=Math.max(x.start,f.start),b=Math.min(l.count,Math.min(x.start+x.count,f.start+f.count));for(let S=j,w=b;S<w;S+=3){const N=l.getX(S),E=l.getX(S+1),P=l.getX(S+2);a=oj(this,v,e,n,d,u,h,N,E,P),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=x.materialIndex,r.push(a))}}else{const A=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let x=A,v=g;x<v;x+=3){const j=l.getX(x),b=l.getX(x+1),S=l.getX(x+2);a=oj(this,o,e,n,d,u,h,j,b,S),a&&(a.faceIndex=Math.floor(x/3),r.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let A=0,g=m.length;A<g;A++){const x=m[A],v=o[x.materialIndex],j=Math.max(x.start,f.start),b=Math.min(c.count,Math.min(x.start+x.count,f.start+f.count));for(let S=j,w=b;S<w;S+=3){const N=S,E=S+1,P=S+2;a=oj(this,v,e,n,d,u,h,N,E,P),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=x.materialIndex,r.push(a))}}else{const A=Math.max(0,f.start),g=Math.min(c.count,f.start+f.count);for(let x=A,v=g;x<v;x+=3){const j=x,b=x+1,S=x+2;a=oj(this,o,e,n,d,u,h,j,b,S),a&&(a.faceIndex=Math.floor(x/3),r.push(a))}}}}function Q0e(t,e,r,n,a,i,o,l){let c;if(e.side===Ql?c=n.intersectTriangle(o,i,a,!0,l):c=n.intersectTriangle(a,i,o,e.side===wm,l),c===null)return null;ij.copy(l),ij.applyMatrix4(t.matrixWorld);const d=r.ray.origin.distanceTo(ij);return d<r.near||d>r.far?null:{distance:d,point:ij.clone(),object:t}}function oj(t,e,r,n,a,i,o,l,c,d){t.getVertexPosition(l,rj),t.getVertexPosition(c,sj),t.getVertexPosition(d,nj);const u=Q0e(t,e,r,n,rj,sj,nj,dO);if(u){const h=new jt;Jd.getBarycoord(dO,rj,sj,nj,h),a&&(u.uv=Jd.getInterpolatedAttribute(a,l,c,d,h,new An)),i&&(u.uv1=Jd.getInterpolatedAttribute(i,l,c,d,h,new An)),o&&(u.normal=Jd.getInterpolatedAttribute(o,l,c,d,h,new jt),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const m={a:l,b:c,c:d,normal:new jt,materialIndex:0};Jd.getNormal(rj,sj,nj,m.normal),u.face=m,u.barycoord=h}return u}class Ov extends GA{constructor(e=1,r=1,n=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:n,widthSegments:a,heightSegments:i,depthSegments:o};const l=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);const c=[],d=[],u=[],h=[];let m=0,f=0;A("z","y","x",-1,-1,n,r,e,o,i,0),A("z","y","x",1,-1,n,r,-e,o,i,1),A("x","z","y",1,1,e,n,r,a,o,2),A("x","z","y",1,-1,e,n,-r,a,o,3),A("x","y","z",1,-1,e,r,n,a,i,4),A("x","y","z",-1,-1,e,r,-n,a,i,5),this.setIndex(c),this.setAttribute("position",new oA(d,3)),this.setAttribute("normal",new oA(u,3)),this.setAttribute("uv",new oA(h,2));function A(g,x,v,j,b,S,w,N,E,P,_){const B=S/E,k=w/P,M=S/2,T=w/2,H=N/2,L=E+1,Q=P+1;let O=0,V=0;const ee=new jt;for(let Y=0;Y<Q;Y++){const re=Y*k-T;for(let D=0;D<L;D++){const G=D*B-M;ee[g]=G*j,ee[x]=re*b,ee[v]=H,d.push(ee.x,ee.y,ee.z),ee[g]=0,ee[x]=0,ee[v]=N>0?1:-1,u.push(ee.x,ee.y,ee.z),h.push(D/E),h.push(1-Y/P),O+=1}}for(let Y=0;Y<P;Y++)for(let re=0;re<E;re++){const D=m+re+L*Y,G=m+re+L*(Y+1),z=m+(re+1)+L*(Y+1),K=m+(re+1)+L*Y;c.push(D,G,K),c.push(G,z,K),V+=6}l.addGroup(f,V,_),f+=V,m+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ov(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ev(t){const e={};for(const r in t){e[r]={};for(const n in t[r]){const a=t[r][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][n]=null):e[r][n]=a.clone():Array.isArray(a)?e[r][n]=a.slice():e[r][n]=a}}return e}function ol(t){const e={};for(let r=0;r<t.length;r++){const n=ev(t[r]);for(const a in n)e[a]=n[a]}return e}function z0e(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}function dY(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xs.workingColorSpace}const $0e={clone:ev,merge:ol};var G0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,V0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jm extends Fw{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=G0e,this.fragmentShader=V0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ev(e.uniforms),this.uniformsGroups=z0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?r.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?r.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?r.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?r.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?r.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?r.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?r.uniforms[a]={type:"m4",value:o.toArray()}:r.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(r.extensions=n),r}}class uY extends qo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ia,this.projectionMatrix=new Ia,this.projectionMatrixInverse=new Ia,this.coordinateSystem=wf}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const P0=new jt,uO=new An,hO=new An;class id extends uY{constructor(e=50,r=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=wM*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(xC*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wM*2*Math.atan(Math.tan(xC*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,r,n){P0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(P0.x,P0.y).multiplyScalar(-e/P0.z),P0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(P0.x,P0.y).multiplyScalar(-e/P0.z)}getViewSize(e,r){return this.getViewBounds(e,uO,hO),r.subVectors(hO,uO)}setViewOffset(e,r,n,a,i,o){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(xC*.5*this.fov)/this.zoom,n=2*r,a=this.aspect*n,i=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;i+=o.offsetX*a/c,r-=o.offsetY*n/d,a*=o.width/c,n*=o.height/d}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,r,r-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const Hx=-90,Qx=1;class W0e extends qo{constructor(e,r,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new id(Hx,Qx,e,r);a.layers=this.layers,this.add(a);const i=new id(Hx,Qx,e,r);i.layers=this.layers,this.add(i);const o=new id(Hx,Qx,e,r);o.layers=this.layers,this.add(o);const l=new id(Hx,Qx,e,r);l.layers=this.layers,this.add(l);const c=new id(Hx,Qx,e,r);c.layers=this.layers,this.add(c);const d=new id(Hx,Qx,e,r);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,r=this.children.concat(),[n,a,i,o,l,c]=r;for(const d of r)this.remove(d);if(e===wf)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===d5)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of r)this.add(d),d.updateMatrixWorld()}update(e,r){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,c,d,u]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,a),e.render(r,i),e.setRenderTarget(n,1,a),e.render(r,o),e.setRenderTarget(n,2,a),e.render(r,l),e.setRenderTarget(n,3,a),e.render(r,c),e.setRenderTarget(n,4,a),e.render(r,d),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,a),e.render(r,u),e.setRenderTarget(h,m,f),e.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class hY extends zl{constructor(e,r,n,a,i,o,l,c,d,u){e=e!==void 0?e:[],r=r!==void 0?r:Kg,super(e,r,n,a,i,o,l,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class q0e extends _A{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},a=[n,n,n,n,n,n];this.texture=new hY(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ju}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Ov(5,5,5),i=new jm({name:"CubemapFromEquirect",uniforms:ev(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ql,blending:um});i.uniforms.tEquirect.value=r;const o=new tu(a,i),l=r.minFilter;return r.minFilter===Xp&&(r.minFilter=Ju),new W0e(1,10,this).update(e,o),r.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,r,n,a){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(r,n,a);e.setRenderTarget(i)}}class K0e extends qo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new hh,this.environmentIntensity=1,this.environmentRotation=new hh,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(r.object.environmentIntensity=this.environmentIntensity),r.object.environmentRotation=this.environmentRotation.toArray(),r}}const RC=new jt,X0e=new jt,Y0e=new vs;class Rp{constructor(e=new jt(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,n,a){return this.normal.set(e,r,n),this.constant=a,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,n){const a=RC.subVectors(n,r).cross(X0e.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const n=e.delta(RC),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:r.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const r=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return r<0&&n>0||n<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const n=r||Y0e.getNormalMatrix(e),a=this.coplanarPoint(RC).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jp=new bI,lj=new jt;class wI{constructor(e=new Rp,r=new Rp,n=new Rp,a=new Rp,i=new Rp,o=new Rp){this.planes=[e,r,n,a,i,o]}set(e,r,n,a,i,o){const l=this.planes;return l[0].copy(e),l[1].copy(r),l[2].copy(n),l[3].copy(a),l[4].copy(i),l[5].copy(o),this}copy(e){const r=this.planes;for(let n=0;n<6;n++)r[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,r=wf){const n=this.planes,a=e.elements,i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],A=a[9],g=a[10],x=a[11],v=a[12],j=a[13],b=a[14],S=a[15];if(n[0].setComponents(c-i,m-d,x-f,S-v).normalize(),n[1].setComponents(c+i,m+d,x+f,S+v).normalize(),n[2].setComponents(c+o,m+u,x+A,S+j).normalize(),n[3].setComponents(c-o,m-u,x-A,S-j).normalize(),n[4].setComponents(c-l,m-h,x-g,S-b).normalize(),r===wf)n[5].setComponents(c+l,m+h,x+g,S+b).normalize();else if(r===d5)n[5].setComponents(l,h,g,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),jp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),jp.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(jp)}intersectsSprite(e){return jp.center.set(0,0,0),jp.radius=.7071067811865476,jp.applyMatrix4(e.matrixWorld),this.intersectsSphere(jp)}intersectsSphere(e){const r=this.planes,n=e.center,a=-e.radius;for(let i=0;i<6;i++)if(r[i].distanceToPoint(n)<a)return!1;return!0}intersectsBox(e){const r=this.planes;for(let n=0;n<6;n++){const a=r[n];if(lj.x=a.normal.x>0?e.max.x:e.min.x,lj.y=a.normal.y>0?e.max.y:e.min.y,lj.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(lj)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let n=0;n<6;n++)if(r[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class cj extends qo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class fY extends zl{constructor(e,r,n,a,i,o,l,c,d,u=Sg){if(u!==Sg&&u!==Jg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===Sg&&(n=SA),n===void 0&&u===Jg&&(n=Yg),super(null,a,i,o,l,c,u,n,d),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=l!==void 0?l:iu,this.minFilter=c!==void 0?c:iu,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const r=super.toJSON(e);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}class Pw extends GA{constructor(e=1,r=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:n,heightSegments:a};const i=e/2,o=r/2,l=Math.floor(n),c=Math.floor(a),d=l+1,u=c+1,h=e/l,m=r/c,f=[],A=[],g=[],x=[];for(let v=0;v<u;v++){const j=v*m-o;for(let b=0;b<d;b++){const S=b*h-i;A.push(S,-j,0),g.push(0,0,1),x.push(b/l),x.push(1-v/c)}}for(let v=0;v<c;v++)for(let j=0;j<l;j++){const b=j+d*v,S=j+d*(v+1),w=j+1+d*(v+1),N=j+1+d*v;f.push(b,S,N),f.push(S,w,N)}this.setIndex(f),this.setAttribute("position",new oA(A,3)),this.setAttribute("normal",new oA(g,3)),this.setAttribute("uv",new oA(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pw(e.width,e.height,e.widthSegments,e.heightSegments)}}class fO extends Fw{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ys(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ys(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eY,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hh,this.combine=mI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J0e extends Fw{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=u0e,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Z0e extends Fw{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class mY extends qo{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new Ys(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(r.object.target=this.target.uuid),r}}const OC=new Ia,mO=new jt,pO=new jt;class eme{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new An(512,512),this.map=null,this.mapPass=null,this.matrix=new Ia,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wI,this._frameExtents=new An(1,1),this._viewportCount=1,this._viewports=[new Pa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,n=this.matrix;mO.setFromMatrixPosition(e.matrixWorld),r.position.copy(mO),pO.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(pO),r.updateMatrixWorld(),OC.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(OC),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(OC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pY extends uY{constructor(e=-1,r=1,n=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=n,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,n,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=n-e,o=n+e,l=a+r,c=a-r;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=d*this.view.offsetX,o=i+d*this.view.width,l-=u*this.view.offsetY,c=l-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}class tme extends eme{constructor(){super(new pY(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class rme extends mY{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qo.DEFAULT_UP),this.updateMatrix(),this.target=new qo,this.shadow=new tme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sme extends mY{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class nme extends id{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}function AO(t,e,r,n){const a=ame(n);switch(r){case WX:return t*e;case KX:return t*e;case XX:return t*e*2;case YX:return t*e/a.components*a.byteLength;case gI:return t*e/a.components*a.byteLength;case JX:return t*e*2/a.components*a.byteLength;case vI:return t*e*2/a.components*a.byteLength;case qX:return t*e*3/a.components*a.byteLength;case eu:return t*e*4/a.components*a.byteLength;case yI:return t*e*4/a.components*a.byteLength;case RN:case ON:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case UN:case HN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case YT:case ZT:return Math.max(t,16)*Math.max(e,8)/4;case XT:case JT:return Math.max(t,8)*Math.max(e,8)/2;case eM:case tM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case rM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case sM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case nM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case aM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case iM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case oM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case lM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case cM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case dM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case uM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case hM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case fM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case mM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case pM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case AM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case QN:case xM:case gM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case ZX:case vM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case yM:case bM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${r} format.`)}function ame(t){switch(t){case Uf:case $X:return{byteLength:1,components:1};case c1:case GX:case kw:return{byteLength:2,components:1};case AI:case xI:return{byteLength:2,components:4};case SA:case pI:case bf:return{byteLength:4,components:1};case VX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fI}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fI);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function AY(){let t=null,e=!1,r=null,n=null;function a(i,o){r(i,o),n=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&r!==null&&(n=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(i){r=i},setContext:function(i){t=i}}}function ime(t){const e=new WeakMap;function r(l,c){const d=l.array,u=l.usage,h=d.byteLength,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,u),l.onUploadCallback();let f;if(d instanceof Float32Array)f=t.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)f=t.SHORT;else if(d instanceof Uint32Array)f=t.UNSIGNED_INT;else if(d instanceof Int32Array)f=t.INT;else if(d instanceof Int8Array)f=t.BYTE;else if(d instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:f,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:h}}function n(l,c,d){const u=c.array,h=c.updateRanges;if(t.bindBuffer(d,l),h.length===0)t.bufferSubData(d,0,u);else{h.sort((f,A)=>f.start-A.start);let m=0;for(let f=1;f<h.length;f++){const A=h[m],g=h[f];g.start<=A.start+A.count+1?A.count=Math.max(A.count,g.start+g.count-A.start):(++m,h[m]=g)}h.length=m+1;for(let f=0,A=h.length;f<A;f++){const g=h[f];t.bufferSubData(d,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const u=e.get(l);(!u||u.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,r(l,c));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(d.buffer,l,c),d.version=l.version}}return{get:a,remove:i,update:o}}var ome=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lme=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cme=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dme=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ume=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hme=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,fme=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mme=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pme=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ame=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,xme=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,gme=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,vme=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,yme=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bme=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,wme=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Nme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Sme=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_me=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Cme=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Eme=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,kme=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Bme=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tme=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Mme=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Fme=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Pme=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ime=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Dme=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Lme="gl_FragColor = linearToOutputTexel( gl_FragColor );",Rme=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Ome=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ume=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Hme=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Qme=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zme=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$me=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Gme=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vme=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Wme=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qme=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kme=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xme=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Yme=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Jme=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Zme=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,epe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,rpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,spe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,npe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ape=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ipe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ope=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cpe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dpe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,upe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hpe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,fpe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mpe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ppe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ape=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xpe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vpe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ype=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bpe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wpe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,jpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Npe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Spe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_pe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Epe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Bpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Tpe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Mpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Fpe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ppe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ipe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Dpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ope=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Upe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Qpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$pe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Gpe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Wpe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,qpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Kpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Xpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ype=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Jpe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eAe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tAe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,rAe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sAe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nAe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,aAe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const iAe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,oAe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cAe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uAe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fAe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mAe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,pAe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,AAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xAe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gAe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vAe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bAe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wAe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jAe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NAe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,SAe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Ae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,CAe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,EAe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kAe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BAe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TAe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MAe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FAe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PAe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,IAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DAe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LAe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,RAe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,OAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ys={alphahash_fragment:ome,alphahash_pars_fragment:lme,alphamap_fragment:cme,alphamap_pars_fragment:dme,alphatest_fragment:ume,alphatest_pars_fragment:hme,aomap_fragment:fme,aomap_pars_fragment:mme,batching_pars_vertex:pme,batching_vertex:Ame,begin_vertex:xme,beginnormal_vertex:gme,bsdfs:vme,iridescence_fragment:yme,bumpmap_pars_fragment:bme,clipping_planes_fragment:wme,clipping_planes_pars_fragment:jme,clipping_planes_pars_vertex:Nme,clipping_planes_vertex:Sme,color_fragment:_me,color_pars_fragment:Cme,color_pars_vertex:Eme,color_vertex:kme,common:Bme,cube_uv_reflection_fragment:Tme,defaultnormal_vertex:Mme,displacementmap_pars_vertex:Fme,displacementmap_vertex:Pme,emissivemap_fragment:Ime,emissivemap_pars_fragment:Dme,colorspace_fragment:Lme,colorspace_pars_fragment:Rme,envmap_fragment:Ome,envmap_common_pars_fragment:Ume,envmap_pars_fragment:Hme,envmap_pars_vertex:Qme,envmap_physical_pars_fragment:Zme,envmap_vertex:zme,fog_vertex:$me,fog_pars_vertex:Gme,fog_fragment:Vme,fog_pars_fragment:Wme,gradientmap_pars_fragment:qme,lightmap_pars_fragment:Kme,lights_lambert_fragment:Xme,lights_lambert_pars_fragment:Yme,lights_pars_begin:Jme,lights_toon_fragment:epe,lights_toon_pars_fragment:tpe,lights_phong_fragment:rpe,lights_phong_pars_fragment:spe,lights_physical_fragment:npe,lights_physical_pars_fragment:ape,lights_fragment_begin:ipe,lights_fragment_maps:ope,lights_fragment_end:lpe,logdepthbuf_fragment:cpe,logdepthbuf_pars_fragment:dpe,logdepthbuf_pars_vertex:upe,logdepthbuf_vertex:hpe,map_fragment:fpe,map_pars_fragment:mpe,map_particle_fragment:ppe,map_particle_pars_fragment:Ape,metalnessmap_fragment:xpe,metalnessmap_pars_fragment:gpe,morphinstance_vertex:vpe,morphcolor_vertex:ype,morphnormal_vertex:bpe,morphtarget_pars_vertex:wpe,morphtarget_vertex:jpe,normal_fragment_begin:Npe,normal_fragment_maps:Spe,normal_pars_fragment:_pe,normal_pars_vertex:Cpe,normal_vertex:Epe,normalmap_pars_fragment:kpe,clearcoat_normal_fragment_begin:Bpe,clearcoat_normal_fragment_maps:Tpe,clearcoat_pars_fragment:Mpe,iridescence_pars_fragment:Fpe,opaque_fragment:Ppe,packing:Ipe,premultiplied_alpha_fragment:Dpe,project_vertex:Lpe,dithering_fragment:Rpe,dithering_pars_fragment:Ope,roughnessmap_fragment:Upe,roughnessmap_pars_fragment:Hpe,shadowmap_pars_fragment:Qpe,shadowmap_pars_vertex:zpe,shadowmap_vertex:$pe,shadowmask_pars_fragment:Gpe,skinbase_vertex:Vpe,skinning_pars_vertex:Wpe,skinning_vertex:qpe,skinnormal_vertex:Kpe,specularmap_fragment:Xpe,specularmap_pars_fragment:Ype,tonemapping_fragment:Jpe,tonemapping_pars_fragment:Zpe,transmission_fragment:eAe,transmission_pars_fragment:tAe,uv_pars_fragment:rAe,uv_pars_vertex:sAe,uv_vertex:nAe,worldpos_vertex:aAe,background_vert:iAe,background_frag:oAe,backgroundCube_vert:lAe,backgroundCube_frag:cAe,cube_vert:dAe,cube_frag:uAe,depth_vert:hAe,depth_frag:fAe,distanceRGBA_vert:mAe,distanceRGBA_frag:pAe,equirect_vert:AAe,equirect_frag:xAe,linedashed_vert:gAe,linedashed_frag:vAe,meshbasic_vert:yAe,meshbasic_frag:bAe,meshlambert_vert:wAe,meshlambert_frag:jAe,meshmatcap_vert:NAe,meshmatcap_frag:SAe,meshnormal_vert:_Ae,meshnormal_frag:CAe,meshphong_vert:EAe,meshphong_frag:kAe,meshphysical_vert:BAe,meshphysical_frag:TAe,meshtoon_vert:MAe,meshtoon_frag:FAe,points_vert:PAe,points_frag:IAe,shadow_vert:DAe,shadow_frag:LAe,sprite_vert:RAe,sprite_frag:OAe},fr={common:{diffuse:{value:new Ys(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new vs},alphaMap:{value:null},alphaMapTransform:{value:new vs},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new vs}},envmap:{envMap:{value:null},envMapRotation:{value:new vs},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new vs}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new vs}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new vs},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new vs},normalScale:{value:new An(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new vs},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new vs}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new vs}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new vs}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ys(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ys(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new vs},alphaTest:{value:0},uvTransform:{value:new vs}},sprite:{diffuse:{value:new Ys(16777215)},opacity:{value:1},center:{value:new An(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new vs},alphaMap:{value:null},alphaMapTransform:{value:new vs},alphaTest:{value:0}}},qu={basic:{uniforms:ol([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.fog]),vertexShader:ys.meshbasic_vert,fragmentShader:ys.meshbasic_frag},lambert:{uniforms:ol([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.fog,fr.lights,{emissive:{value:new Ys(0)}}]),vertexShader:ys.meshlambert_vert,fragmentShader:ys.meshlambert_frag},phong:{uniforms:ol([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.fog,fr.lights,{emissive:{value:new Ys(0)},specular:{value:new Ys(1118481)},shininess:{value:30}}]),vertexShader:ys.meshphong_vert,fragmentShader:ys.meshphong_frag},standard:{uniforms:ol([fr.common,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.roughnessmap,fr.metalnessmap,fr.fog,fr.lights,{emissive:{value:new Ys(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ys.meshphysical_vert,fragmentShader:ys.meshphysical_frag},toon:{uniforms:ol([fr.common,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.gradientmap,fr.fog,fr.lights,{emissive:{value:new Ys(0)}}]),vertexShader:ys.meshtoon_vert,fragmentShader:ys.meshtoon_frag},matcap:{uniforms:ol([fr.common,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.fog,{matcap:{value:null}}]),vertexShader:ys.meshmatcap_vert,fragmentShader:ys.meshmatcap_frag},points:{uniforms:ol([fr.points,fr.fog]),vertexShader:ys.points_vert,fragmentShader:ys.points_frag},dashed:{uniforms:ol([fr.common,fr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ys.linedashed_vert,fragmentShader:ys.linedashed_frag},depth:{uniforms:ol([fr.common,fr.displacementmap]),vertexShader:ys.depth_vert,fragmentShader:ys.depth_frag},normal:{uniforms:ol([fr.common,fr.bumpmap,fr.normalmap,fr.displacementmap,{opacity:{value:1}}]),vertexShader:ys.meshnormal_vert,fragmentShader:ys.meshnormal_frag},sprite:{uniforms:ol([fr.sprite,fr.fog]),vertexShader:ys.sprite_vert,fragmentShader:ys.sprite_frag},background:{uniforms:{uvTransform:{value:new vs},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ys.background_vert,fragmentShader:ys.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new vs}},vertexShader:ys.backgroundCube_vert,fragmentShader:ys.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ys.cube_vert,fragmentShader:ys.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ys.equirect_vert,fragmentShader:ys.equirect_frag},distanceRGBA:{uniforms:ol([fr.common,fr.displacementmap,{referencePosition:{value:new jt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ys.distanceRGBA_vert,fragmentShader:ys.distanceRGBA_frag},shadow:{uniforms:ol([fr.lights,fr.fog,{color:{value:new Ys(0)},opacity:{value:1}}]),vertexShader:ys.shadow_vert,fragmentShader:ys.shadow_frag}};qu.physical={uniforms:ol([qu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new vs},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new vs},clearcoatNormalScale:{value:new An(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new vs},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new vs},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new vs},sheen:{value:0},sheenColor:{value:new Ys(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new vs},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new vs},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new vs},transmissionSamplerSize:{value:new An},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new vs},attenuationDistance:{value:0},attenuationColor:{value:new Ys(0)},specularColor:{value:new Ys(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new vs},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new vs},anisotropyVector:{value:new An},anisotropyMap:{value:null},anisotropyMapTransform:{value:new vs}}]),vertexShader:ys.meshphysical_vert,fragmentShader:ys.meshphysical_frag};const dj={r:0,b:0,g:0},Np=new hh,UAe=new Ia;function HAe(t,e,r,n,a,i,o){const l=new Ys(0);let c=i===!0?0:1,d,u,h=null,m=0,f=null;function A(b){let S=b.isScene===!0?b.background:null;return S&&S.isTexture&&(S=(b.backgroundBlurriness>0?r:e).get(S)),S}function g(b){let S=!1;const w=A(b);w===null?v(l,c):w&&w.isColor&&(v(w,1),S=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?n.buffers.color.setClear(0,0,0,1,o):N==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(b,S){const w=A(S);w&&(w.isCubeTexture||w.mapping===c4)?(u===void 0&&(u=new tu(new Ov(1,1,1),new jm({name:"BackgroundCubeMaterial",uniforms:ev(qu.backgroundCube.uniforms),vertexShader:qu.backgroundCube.vertexShader,fragmentShader:qu.backgroundCube.fragmentShader,side:Ql,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(N,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),Np.copy(S.backgroundRotation),Np.x*=-1,Np.y*=-1,Np.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Np.y*=-1,Np.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(UAe.makeRotationFromEuler(Np)),u.material.toneMapped=Xs.getTransfer(w.colorSpace)!==Cn,(h!==w||m!==w.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,h=w,m=w.version,f=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(d===void 0&&(d=new tu(new Pw(2,2),new jm({name:"BackgroundMaterial",uniforms:ev(qu.background.uniforms),vertexShader:qu.background.vertexShader,fragmentShader:qu.background.fragmentShader,side:wm,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=w,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.toneMapped=Xs.getTransfer(w.colorSpace)!==Cn,w.matrixAutoUpdate===!0&&w.updateMatrix(),d.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||m!==w.version||f!==t.toneMapping)&&(d.material.needsUpdate=!0,h=w,m=w.version,f=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null))}function v(b,S){b.getRGB(dj,dY(t)),n.buffers.color.setClear(dj.r,dj.g,dj.b,S,o)}function j(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),d!==void 0&&(d.geometry.dispose(),d.material.dispose())}return{getClearColor:function(){return l},setClearColor:function(b,S=1){l.set(b),c=S,v(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,v(l,c)},render:g,addToRenderList:x,dispose:j}}function QAe(t,e){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),n={},a=m(null);let i=a,o=!1;function l(B,k,M,T,H){let L=!1;const Q=h(T,M,k);i!==Q&&(i=Q,d(i.object)),L=f(B,T,M,H),L&&A(B,T,M,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),(L||o)&&(o=!1,S(B,k,M,T),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function c(){return t.createVertexArray()}function d(B){return t.bindVertexArray(B)}function u(B){return t.deleteVertexArray(B)}function h(B,k,M){const T=M.wireframe===!0;let H=n[B.id];H===void 0&&(H={},n[B.id]=H);let L=H[k.id];L===void 0&&(L={},H[k.id]=L);let Q=L[T];return Q===void 0&&(Q=m(c()),L[T]=Q),Q}function m(B){const k=[],M=[],T=[];for(let H=0;H<r;H++)k[H]=0,M[H]=0,T[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:M,attributeDivisors:T,object:B,attributes:{},index:null}}function f(B,k,M,T){const H=i.attributes,L=k.attributes;let Q=0;const O=M.getAttributes();for(const V in O)if(O[V].location>=0){const Y=H[V];let re=L[V];if(re===void 0&&(V==="instanceMatrix"&&B.instanceMatrix&&(re=B.instanceMatrix),V==="instanceColor"&&B.instanceColor&&(re=B.instanceColor)),Y===void 0||Y.attribute!==re||re&&Y.data!==re.data)return!0;Q++}return i.attributesNum!==Q||i.index!==T}function A(B,k,M,T){const H={},L=k.attributes;let Q=0;const O=M.getAttributes();for(const V in O)if(O[V].location>=0){let Y=L[V];Y===void 0&&(V==="instanceMatrix"&&B.instanceMatrix&&(Y=B.instanceMatrix),V==="instanceColor"&&B.instanceColor&&(Y=B.instanceColor));const re={};re.attribute=Y,Y&&Y.data&&(re.data=Y.data),H[V]=re,Q++}i.attributes=H,i.attributesNum=Q,i.index=T}function g(){const B=i.newAttributes;for(let k=0,M=B.length;k<M;k++)B[k]=0}function x(B){v(B,0)}function v(B,k){const M=i.newAttributes,T=i.enabledAttributes,H=i.attributeDivisors;M[B]=1,T[B]===0&&(t.enableVertexAttribArray(B),T[B]=1),H[B]!==k&&(t.vertexAttribDivisor(B,k),H[B]=k)}function j(){const B=i.newAttributes,k=i.enabledAttributes;for(let M=0,T=k.length;M<T;M++)k[M]!==B[M]&&(t.disableVertexAttribArray(M),k[M]=0)}function b(B,k,M,T,H,L,Q){Q===!0?t.vertexAttribIPointer(B,k,M,H,L):t.vertexAttribPointer(B,k,M,T,H,L)}function S(B,k,M,T){g();const H=T.attributes,L=M.getAttributes(),Q=k.defaultAttributeValues;for(const O in L){const V=L[O];if(V.location>=0){let ee=H[O];if(ee===void 0&&(O==="instanceMatrix"&&B.instanceMatrix&&(ee=B.instanceMatrix),O==="instanceColor"&&B.instanceColor&&(ee=B.instanceColor)),ee!==void 0){const Y=ee.normalized,re=ee.itemSize,D=e.get(ee);if(D===void 0)continue;const G=D.buffer,z=D.type,K=D.bytesPerElement,oe=z===t.INT||z===t.UNSIGNED_INT||ee.gpuType===pI;if(ee.isInterleavedBufferAttribute){const ue=ee.data,ge=ue.stride,pe=ee.offset;if(ue.isInstancedInterleavedBuffer){for(let ye=0;ye<V.locationSize;ye++)v(V.location+ye,ue.meshPerAttribute);B.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let ye=0;ye<V.locationSize;ye++)x(V.location+ye);t.bindBuffer(t.ARRAY_BUFFER,G);for(let ye=0;ye<V.locationSize;ye++)b(V.location+ye,re/V.locationSize,z,Y,ge*K,(pe+re/V.locationSize*ye)*K,oe)}else{if(ee.isInstancedBufferAttribute){for(let ue=0;ue<V.locationSize;ue++)v(V.location+ue,ee.meshPerAttribute);B.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let ue=0;ue<V.locationSize;ue++)x(V.location+ue);t.bindBuffer(t.ARRAY_BUFFER,G);for(let ue=0;ue<V.locationSize;ue++)b(V.location+ue,re/V.locationSize,z,Y,re*K,re/V.locationSize*ue*K,oe)}}else if(Q!==void 0){const Y=Q[O];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(V.location,Y);break;case 3:t.vertexAttrib3fv(V.location,Y);break;case 4:t.vertexAttrib4fv(V.location,Y);break;default:t.vertexAttrib1fv(V.location,Y)}}}}j()}function w(){P();for(const B in n){const k=n[B];for(const M in k){const T=k[M];for(const H in T)u(T[H].object),delete T[H];delete k[M]}delete n[B]}}function N(B){if(n[B.id]===void 0)return;const k=n[B.id];for(const M in k){const T=k[M];for(const H in T)u(T[H].object),delete T[H];delete k[M]}delete n[B.id]}function E(B){for(const k in n){const M=n[k];if(M[B.id]===void 0)continue;const T=M[B.id];for(const H in T)u(T[H].object),delete T[H];delete M[B.id]}}function P(){_(),o=!0,i!==a&&(i=a,d(i.object))}function _(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:l,reset:P,resetDefaultState:_,dispose:w,releaseStatesOfGeometry:N,releaseStatesOfProgram:E,initAttributes:g,enableAttribute:x,disableUnusedAttributes:j}}function zAe(t,e,r){let n;function a(d){n=d}function i(d,u){t.drawArrays(n,d,u),r.update(u,n,1)}function o(d,u,h){h!==0&&(t.drawArraysInstanced(n,d,u,h),r.update(u,n,h))}function l(d,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,d,0,u,0,h);let f=0;for(let A=0;A<h;A++)f+=u[A];r.update(f,n,1)}function c(d,u,h,m){if(h===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let A=0;A<d.length;A++)o(d[A],u[A],m[A]);else{f.multiDrawArraysInstancedWEBGL(n,d,0,u,0,m,0,h);let A=0;for(let g=0;g<h;g++)A+=u[g]*m[g];r.update(A,n,1)}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function $Ae(t,e,r,n){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(E){return!(E!==eu&&n.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(E){const P=E===kw&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==Uf&&n.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==bf&&!P)}function c(E){if(E==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=r.precision!==void 0?r.precision:"highp";const u=c(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const h=r.logarithmicDepthBuffer===!0,m=r.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),j=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=A>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:h,reverseDepthBuffer:m,maxTextures:f,maxVertexTextures:A,maxTextureSize:g,maxCubemapSize:x,maxAttributes:v,maxVertexUniforms:j,maxVaryings:b,maxFragmentUniforms:S,vertexTextures:w,maxSamples:N}}function GAe(t){const e=this;let r=null,n=0,a=!1,i=!1;const o=new Rp,l=new vs,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const f=h.length!==0||m||n!==0||a;return a=m,n=h.length,f},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,m){r=u(h,m,0)},this.setState=function(h,m,f){const A=h.clippingPlanes,g=h.clipIntersection,x=h.clipShadows,v=t.get(h);if(!a||A===null||A.length===0||i&&!x)i?u(null):d();else{const j=i?0:n,b=j*4;let S=v.clippingState||null;c.value=S,S=u(A,m,b,f);for(let w=0;w!==b;++w)S[w]=r[w];v.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=j}};function d(){c.value!==r&&(c.value=r,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,m,f,A){const g=h!==null?h.length:0;let x=null;if(g!==0){if(x=c.value,A!==!0||x===null){const v=f+g*4,j=m.matrixWorldInverse;l.getNormalMatrix(j),(x===null||x.length<v)&&(x=new Float32Array(v));for(let b=0,S=f;b!==g;++b,S+=4)o.copy(h[b]).applyMatrix4(j,l),o.normal.toArray(x,S),x[S+3]=o.constant}c.value=x,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,x}}function VAe(t){let e=new WeakMap;function r(o,l){return l===VT?o.mapping=Kg:l===WT&&(o.mapping=Xg),o}function n(o){if(o&&o.isTexture){const l=o.mapping;if(l===VT||l===WT)if(e.has(o)){const c=e.get(o).texture;return r(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new q0e(c.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",a),r(d.texture,o.mapping)}else return null}}return o}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:n,dispose:i}}const mg=4,xO=[.125,.215,.35,.446,.526,.582],Gp=20,UC=new pY,gO=new Ys;let HC=null,QC=0,zC=0,$C=!1;const Op=(1+Math.sqrt(5))/2,zx=1/Op,vO=[new jt(-Op,zx,0),new jt(Op,zx,0),new jt(-zx,0,Op),new jt(zx,0,Op),new jt(0,Op,-zx),new jt(0,Op,zx),new jt(-1,1,-1),new jt(1,1,-1),new jt(-1,1,1),new jt(1,1,1)];class yO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,n=.1,a=100){HC=this._renderer.getRenderTarget(),QC=this._renderer.getActiveCubeFace(),zC=this._renderer.getActiveMipmapLevel(),$C=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,a,i),r>0&&this._blur(i,0,0,r),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(HC,QC,zC),this._renderer.xr.enabled=$C,e.scissorTest=!1,uj(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===Kg||e.mapping===Xg?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HC=this._renderer.getRenderTarget(),QC=this._renderer.getActiveCubeFace(),zC=this._renderer.getActiveMipmapLevel(),$C=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=r||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,n={magFilter:Ju,minFilter:Ju,generateMipmaps:!1,type:kw,format:eu,colorSpace:Zg,depthBuffer:!1},a=bO(e,r,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bO(e,r,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=WAe(i)),this._blurMaterial=qAe(i,e,r)}return a}_compileMaterial(e){const r=new tu(this._lodPlanes[0],e);this._renderer.compile(r,UC)}_sceneToCubeUV(e,r,n,a){const l=new id(90,1,r,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,m=u.toneMapping;u.getClearColor(gO),u.toneMapping=hm,u.autoClear=!1;const f=new oY({name:"PMREM.Background",side:Ql,depthWrite:!1,depthTest:!1}),A=new tu(new Ov,f);let g=!1;const x=e.background;x?x.isColor&&(f.color.copy(x),e.background=null,g=!0):(f.color.copy(gO),g=!0);for(let v=0;v<6;v++){const j=v%3;j===0?(l.up.set(0,c[v],0),l.lookAt(d[v],0,0)):j===1?(l.up.set(0,0,c[v]),l.lookAt(0,d[v],0)):(l.up.set(0,c[v],0),l.lookAt(0,0,d[v]));const b=this._cubeSize;uj(a,j*b,v>2?b:0,b,b),u.setRenderTarget(a),g&&u.render(A,l),u.render(e,l)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=m,u.autoClear=h,e.background=x}_textureToCubeUV(e,r){const n=this._renderer,a=e.mapping===Kg||e.mapping===Xg;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=jO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wO());const i=a?this._cubemapMaterial:this._equirectMaterial,o=new tu(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;uj(r,0,0,3*c,2*c),n.setRenderTarget(r),n.render(o,UC)}_applyPMREM(e){const r=this._renderer,n=r.autoClear;r.autoClear=!1;const a=this._lodPlanes.length;for(let i=1;i<a;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=vO[(a-i-1)%vO.length];this._blur(e,i-1,i,o,l)}r.autoClear=n}_blur(e,r,n,a,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,r,n,a,"latitudinal",i),this._halfBlur(o,e,n,n,a,"longitudinal",i)}_halfBlur(e,r,n,a,i,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new tu(this._lodPlanes[a],d),m=d.uniforms,f=this._sizeLods[n]-1,A=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*Gp-1),g=i/A,x=isFinite(i)?1+Math.floor(u*g):Gp;x>Gp&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Gp}`);const v=[];let j=0;for(let E=0;E<Gp;++E){const P=E/g,_=Math.exp(-P*P/2);v.push(_),E===0?j+=_:E<x&&(j+=2*_)}for(let E=0;E<v.length;E++)v[E]=v[E]/j;m.envMap.value=e.texture,m.samples.value=x,m.weights.value=v,m.latitudinal.value=o==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:b}=this;m.dTheta.value=A,m.mipInt.value=b-n;const S=this._sizeLods[a],w=3*S*(a>b-mg?a-b+mg:0),N=4*(this._cubeSize-S);uj(r,w,N,3*S,2*S),c.setRenderTarget(r),c.render(h,UC)}}function WAe(t){const e=[],r=[],n=[];let a=t;const i=t-mg+1+xO.length;for(let o=0;o<i;o++){const l=Math.pow(2,a);r.push(l);let c=1/l;o>t-mg?c=xO[o-t+mg-1]:o===0&&(c=0),n.push(c);const d=1/(l-2),u=-d,h=1+d,m=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,A=6,g=3,x=2,v=1,j=new Float32Array(g*A*f),b=new Float32Array(x*A*f),S=new Float32Array(v*A*f);for(let N=0;N<f;N++){const E=N%3*2/3-1,P=N>2?0:-1,_=[E,P,0,E+2/3,P,0,E+2/3,P+1,0,E,P,0,E+2/3,P+1,0,E,P+1,0];j.set(_,g*A*N),b.set(m,x*A*N);const B=[N,N,N,N,N,N];S.set(B,v*A*N)}const w=new GA;w.setAttribute("position",new nh(j,g)),w.setAttribute("uv",new nh(b,x)),w.setAttribute("faceIndex",new nh(S,v)),e.push(w),a>mg&&a--}return{lodPlanes:e,sizeLods:r,sigmas:n}}function bO(t,e,r){const n=new _A(t,e,r);return n.texture.mapping=c4,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function uj(t,e,r,n,a){t.viewport.set(e,r,n,a),t.scissor.set(e,r,n,a)}function qAe(t,e,r){const n=new Float32Array(Gp),a=new jt(0,1,0);return new jm({name:"SphericalGaussianBlur",defines:{n:Gp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:jI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:um,depthTest:!1,depthWrite:!1})}function wO(){return new jm({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:um,depthTest:!1,depthWrite:!1})}function jO(){return new jm({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:um,depthTest:!1,depthWrite:!1})}function jI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KAe(t){let e=new WeakMap,r=null;function n(l){if(l&&l.isTexture){const c=l.mapping,d=c===VT||c===WT,u=c===Kg||c===Xg;if(d||u){let h=e.get(l);const m=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==m)return r===null&&(r=new yO(t)),h=d?r.fromEquirectangular(l,h):r.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const f=l.image;return d&&f&&f.height>0||u&&f&&a(f)?(r===null&&(r=new yO(t)),h=d?r.fromEquirectangular(l):r.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function a(l){let c=0;const d=6;for(let u=0;u<d;u++)l[u]!==void 0&&c++;return c===d}function i(l){const c=l.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:o}}function XAe(t){const e={};function r(n){if(e[n]!==void 0)return e[n];let a;switch(n){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(n)}return e[n]=a,a}return{has:function(n){return r(n)!==null},init:function(){r("EXT_color_buffer_float"),r("WEBGL_clip_cull_distance"),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture"),r("WEBGL_render_shared_exponent")},get:function(n){const a=r(n);return a===null&&lg("THREE.WebGLRenderer: "+n+" extension not supported."),a}}}function YAe(t,e,r,n){const a={},i=new WeakMap;function o(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const A in m.attributes)e.remove(m.attributes[A]);m.removeEventListener("dispose",o),delete a[m.id];const f=i.get(m);f&&(e.remove(f),i.delete(m)),n.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,r.memory.geometries--}function l(h,m){return a[m.id]===!0||(m.addEventListener("dispose",o),a[m.id]=!0,r.memory.geometries++),m}function c(h){const m=h.attributes;for(const f in m)e.update(m[f],t.ARRAY_BUFFER)}function d(h){const m=[],f=h.index,A=h.attributes.position;let g=0;if(f!==null){const j=f.array;g=f.version;for(let b=0,S=j.length;b<S;b+=3){const w=j[b+0],N=j[b+1],E=j[b+2];m.push(w,N,N,E,E,w)}}else if(A!==void 0){const j=A.array;g=A.version;for(let b=0,S=j.length/3-1;b<S;b+=3){const w=b+0,N=b+1,E=b+2;m.push(w,N,N,E,E,w)}}else return;const x=new(rY(m)?cY:lY)(m,1);x.version=g;const v=i.get(h);v&&e.remove(v),i.set(h,x)}function u(h){const m=i.get(h);if(m){const f=h.index;f!==null&&m.version<f.version&&d(h)}else d(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:u}}function JAe(t,e,r){let n;function a(m){n=m}let i,o;function l(m){i=m.type,o=m.bytesPerElement}function c(m,f){t.drawElements(n,f,i,m*o),r.update(f,n,1)}function d(m,f,A){A!==0&&(t.drawElementsInstanced(n,f,i,m*o,A),r.update(f,n,A))}function u(m,f,A){if(A===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,f,0,i,m,0,A);let x=0;for(let v=0;v<A;v++)x+=f[v];r.update(x,n,1)}function h(m,f,A,g){if(A===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let v=0;v<m.length;v++)d(m[v]/o,f[v],g[v]);else{x.multiDrawElementsInstancedWEBGL(n,f,0,i,m,0,g,0,A);let v=0;for(let j=0;j<A;j++)v+=f[j]*g[j];r.update(v,n,1)}}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=d,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function ZAe(t){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(i,o,l){switch(r.calls++,o){case t.TRIANGLES:r.triangles+=l*(i/3);break;case t.LINES:r.lines+=l*(i/2);break;case t.LINE_STRIP:r.lines+=l*(i-1);break;case t.LINE_LOOP:r.lines+=l*i;break;case t.POINTS:r.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:a,update:n}}function exe(t,e,r){const n=new WeakMap,a=new Pa;function i(o,l,c){const d=o.morphTargetInfluences,u=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=u!==void 0?u.length:0;let m=n.get(l);if(m===void 0||m.count!==h){let _=function(){E.dispose(),n.delete(l),l.removeEventListener("dispose",_)};m!==void 0&&m.texture.dispose();const f=l.morphAttributes.position!==void 0,A=l.morphAttributes.normal!==void 0,g=l.morphAttributes.color!==void 0,x=l.morphAttributes.position||[],v=l.morphAttributes.normal||[],j=l.morphAttributes.color||[];let b=0;f===!0&&(b=1),A===!0&&(b=2),g===!0&&(b=3);let S=l.attributes.position.count*b,w=1;S>e.maxTextureSize&&(w=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const N=new Float32Array(S*w*4*h),E=new nY(N,S,w,h);E.type=bf,E.needsUpdate=!0;const P=b*4;for(let B=0;B<h;B++){const k=x[B],M=v[B],T=j[B],H=S*w*4*B;for(let L=0;L<k.count;L++){const Q=L*P;f===!0&&(a.fromBufferAttribute(k,L),N[H+Q+0]=a.x,N[H+Q+1]=a.y,N[H+Q+2]=a.z,N[H+Q+3]=0),A===!0&&(a.fromBufferAttribute(M,L),N[H+Q+4]=a.x,N[H+Q+5]=a.y,N[H+Q+6]=a.z,N[H+Q+7]=0),g===!0&&(a.fromBufferAttribute(T,L),N[H+Q+8]=a.x,N[H+Q+9]=a.y,N[H+Q+10]=a.z,N[H+Q+11]=T.itemSize===4?a.w:1)}}m={count:h,texture:E,size:new An(S,w)},n.set(l,m),l.addEventListener("dispose",_)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",o.morphTexture,r);else{let f=0;for(let g=0;g<d.length;g++)f+=d[g];const A=l.morphTargetsRelative?1:1-f;c.getUniforms().setValue(t,"morphTargetBaseInfluence",A),c.getUniforms().setValue(t,"morphTargetInfluences",d)}c.getUniforms().setValue(t,"morphTargetsTexture",m.texture,r),c.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}return{update:i}}function txe(t,e,r,n){let a=new WeakMap;function i(c){const d=n.render.frame,u=c.geometry,h=e.get(c,u);if(a.get(h)!==d&&(e.update(h),a.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),a.get(c)!==d&&(r.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&r.update(c.instanceColor,t.ARRAY_BUFFER),a.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;a.get(m)!==d&&(m.update(),a.set(m,d))}return h}function o(){a=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),r.remove(d.instanceMatrix),d.instanceColor!==null&&r.remove(d.instanceColor)}return{update:i,dispose:o}}const xY=new zl,NO=new fY(1,1),gY=new nY,vY=new T0e,yY=new hY,SO=[],_O=[],CO=new Float32Array(16),EO=new Float32Array(9),kO=new Float32Array(4);function Uv(t,e,r){const n=t[0];if(n<=0||n>0)return t;const a=e*r;let i=SO[a];if(i===void 0&&(i=new Float32Array(a),SO[a]=i),e!==0){n.toArray(i,0);for(let o=1,l=0;o!==e;++o)l+=r,t[o].toArray(i,l)}return i}function Fi(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Pi(t,e){for(let r=0,n=e.length;r<n;r++)t[r]=e[r]}function d4(t,e){let r=_O[e];r===void 0&&(r=new Int32Array(e),_O[e]=r);for(let n=0;n!==e;++n)r[n]=t.allocateTextureUnit();return r}function rxe(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function sxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Fi(r,e))return;t.uniform2fv(this.addr,e),Pi(r,e)}}function nxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Fi(r,e))return;t.uniform3fv(this.addr,e),Pi(r,e)}}function axe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Fi(r,e))return;t.uniform4fv(this.addr,e),Pi(r,e)}}function ixe(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Fi(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),Pi(r,e)}else{if(Fi(r,n))return;kO.set(n),t.uniformMatrix2fv(this.addr,!1,kO),Pi(r,n)}}function oxe(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Fi(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),Pi(r,e)}else{if(Fi(r,n))return;EO.set(n),t.uniformMatrix3fv(this.addr,!1,EO),Pi(r,n)}}function lxe(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Fi(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),Pi(r,e)}else{if(Fi(r,n))return;CO.set(n),t.uniformMatrix4fv(this.addr,!1,CO),Pi(r,n)}}function cxe(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function dxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Fi(r,e))return;t.uniform2iv(this.addr,e),Pi(r,e)}}function uxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Fi(r,e))return;t.uniform3iv(this.addr,e),Pi(r,e)}}function hxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Fi(r,e))return;t.uniform4iv(this.addr,e),Pi(r,e)}}function fxe(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function mxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Fi(r,e))return;t.uniform2uiv(this.addr,e),Pi(r,e)}}function pxe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Fi(r,e))return;t.uniform3uiv(this.addr,e),Pi(r,e)}}function Axe(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Fi(r,e))return;t.uniform4uiv(this.addr,e),Pi(r,e)}}function xxe(t,e,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a);let i;this.type===t.SAMPLER_2D_SHADOW?(NO.compareFunction=tY,i=NO):i=xY,r.setTexture2D(e||i,a)}function gxe(t,e,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),r.setTexture3D(e||vY,a)}function vxe(t,e,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),r.setTextureCube(e||yY,a)}function yxe(t,e,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),r.setTexture2DArray(e||gY,a)}function bxe(t){switch(t){case 5126:return rxe;case 35664:return sxe;case 35665:return nxe;case 35666:return axe;case 35674:return ixe;case 35675:return oxe;case 35676:return lxe;case 5124:case 35670:return cxe;case 35667:case 35671:return dxe;case 35668:case 35672:return uxe;case 35669:case 35673:return hxe;case 5125:return fxe;case 36294:return mxe;case 36295:return pxe;case 36296:return Axe;case 35678:case 36198:case 36298:case 36306:case 35682:return xxe;case 35679:case 36299:case 36307:return gxe;case 35680:case 36300:case 36308:case 36293:return vxe;case 36289:case 36303:case 36311:case 36292:return yxe}}function wxe(t,e){t.uniform1fv(this.addr,e)}function jxe(t,e){const r=Uv(e,this.size,2);t.uniform2fv(this.addr,r)}function Nxe(t,e){const r=Uv(e,this.size,3);t.uniform3fv(this.addr,r)}function Sxe(t,e){const r=Uv(e,this.size,4);t.uniform4fv(this.addr,r)}function _xe(t,e){const r=Uv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function Cxe(t,e){const r=Uv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function Exe(t,e){const r=Uv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function kxe(t,e){t.uniform1iv(this.addr,e)}function Bxe(t,e){t.uniform2iv(this.addr,e)}function Txe(t,e){t.uniform3iv(this.addr,e)}function Mxe(t,e){t.uniform4iv(this.addr,e)}function Fxe(t,e){t.uniform1uiv(this.addr,e)}function Pxe(t,e){t.uniform2uiv(this.addr,e)}function Ixe(t,e){t.uniform3uiv(this.addr,e)}function Dxe(t,e){t.uniform4uiv(this.addr,e)}function Lxe(t,e,r){const n=this.cache,a=e.length,i=d4(r,a);Fi(n,i)||(t.uniform1iv(this.addr,i),Pi(n,i));for(let o=0;o!==a;++o)r.setTexture2D(e[o]||xY,i[o])}function Rxe(t,e,r){const n=this.cache,a=e.length,i=d4(r,a);Fi(n,i)||(t.uniform1iv(this.addr,i),Pi(n,i));for(let o=0;o!==a;++o)r.setTexture3D(e[o]||vY,i[o])}function Oxe(t,e,r){const n=this.cache,a=e.length,i=d4(r,a);Fi(n,i)||(t.uniform1iv(this.addr,i),Pi(n,i));for(let o=0;o!==a;++o)r.setTextureCube(e[o]||yY,i[o])}function Uxe(t,e,r){const n=this.cache,a=e.length,i=d4(r,a);Fi(n,i)||(t.uniform1iv(this.addr,i),Pi(n,i));for(let o=0;o!==a;++o)r.setTexture2DArray(e[o]||gY,i[o])}function Hxe(t){switch(t){case 5126:return wxe;case 35664:return jxe;case 35665:return Nxe;case 35666:return Sxe;case 35674:return _xe;case 35675:return Cxe;case 35676:return Exe;case 5124:case 35670:return kxe;case 35667:case 35671:return Bxe;case 35668:case 35672:return Txe;case 35669:case 35673:return Mxe;case 5125:return Fxe;case 36294:return Pxe;case 36295:return Ixe;case 36296:return Dxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Lxe;case 35679:case 36299:case 36307:return Rxe;case 35680:case 36300:case 36308:case 36293:return Oxe;case 36289:case 36303:case 36311:case 36292:return Uxe}}class Qxe{constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.type=r.type,this.setValue=bxe(r.type)}}class zxe{constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.type=r.type,this.size=r.size,this.setValue=Hxe(r.type)}}class $xe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,n){const a=this.seq;for(let i=0,o=a.length;i!==o;++i){const l=a[i];l.setValue(e,r[l.id],n)}}}const GC=/(\w+)(\])?(\[|\.)?/g;function BO(t,e){t.seq.push(e),t.map[e.id]=e}function Gxe(t,e,r){const n=t.name,a=n.length;for(GC.lastIndex=0;;){const i=GC.exec(n),o=GC.lastIndex;let l=i[1];const c=i[2]==="]",d=i[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===a){BO(r,d===void 0?new Qxe(l,t,e):new zxe(l,t,e));break}else{let h=r.map[l];h===void 0&&(h=new $xe(l),BO(r,h)),r=h}}}class zN{constructor(e,r){this.seq=[],this.map={};const n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const i=e.getActiveUniform(r,a),o=e.getUniformLocation(r,i.name);Gxe(i,o,this)}}setValue(e,r,n,a){const i=this.map[r];i!==void 0&&i.setValue(e,n,a)}setOptional(e,r,n){const a=r[n];a!==void 0&&this.setValue(e,n,a)}static upload(e,r,n,a){for(let i=0,o=r.length;i!==o;++i){const l=r[i],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,a)}}static seqWithValue(e,r){const n=[];for(let a=0,i=e.length;a!==i;++a){const o=e[a];o.id in r&&n.push(o)}return n}}function TO(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}const Vxe=37297;let Wxe=0;function qxe(t,e){const r=t.split(`
`),n=[],a=Math.max(e-6,0),i=Math.min(e+6,r.length);for(let o=a;o<i;o++){const l=o+1;n.push(`${l===e?">":" "} ${l}: ${r[o]}`)}return n.join(`
`)}const MO=new vs;function Kxe(t){Xs._getMatrix(MO,Xs.workingColorSpace,t);const e=`mat3( ${MO.elements.map(r=>r.toFixed(4))} )`;switch(Xs.getTransfer(t)){case c5:return[e,"LinearTransferOETF"];case Cn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function FO(t,e,r){const n=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(n&&a==="")return"";const i=/ERROR: 0:(\d+)/.exec(a);if(i){const o=parseInt(i[1]);return r.toUpperCase()+`

`+a+`

`+qxe(t.getShaderSource(e),o)}else return a}function Xxe(t,e){const r=Kxe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${r[1]}( vec4( value.rgb * ${r[0]}, value.a ) );`,"}"].join(`
`)}function Yxe(t,e){let r;switch(e){case s0e:r="Linear";break;case n0e:r="Reinhard";break;case a0e:r="Cineon";break;case i0e:r="ACESFilmic";break;case l0e:r="AgX";break;case c0e:r="Neutral";break;case o0e:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}const hj=new jt;function Jxe(){Xs.getLuminanceCoefficients(hj);const t=hj.x.toFixed(4),e=hj.y.toFixed(4),r=hj.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${r} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Zxe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(db).join(`
`)}function ege(t){const e=[];for(const r in t){const n=t[r];n!==!1&&e.push("#define "+r+" "+n)}return e.join(`
`)}function tge(t,e){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const i=t.getActiveAttrib(e,a),o=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),r[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:l}}return r}function db(t){return t!==""}function PO(t,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IO(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rge=/^[ \t]*#include +<([\w\d./]+)>/gm;function jM(t){return t.replace(rge,nge)}const sge=new Map;function nge(t,e){let r=ys[e];if(r===void 0){const n=sge.get(e);if(n!==void 0)r=ys[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return jM(r)}const age=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DO(t){return t.replace(age,ige)}function ige(t,e,r,n){let a="";for(let i=parseInt(e);i<parseInt(r);i++)a+=n.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function LO(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function oge(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===HX?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===QX?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===mf&&(e="SHADOWMAP_TYPE_VSM"),e}function lge(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Kg:case Xg:e="ENVMAP_TYPE_CUBE";break;case c4:e="ENVMAP_TYPE_CUBE_UV";break}return e}function cge(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Xg:e="ENVMAP_MODE_REFRACTION";break}return e}function dge(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case mI:e="ENVMAP_BLENDING_MULTIPLY";break;case t0e:e="ENVMAP_BLENDING_MIX";break;case r0e:e="ENVMAP_BLENDING_ADD";break}return e}function uge(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:n,maxMip:r}}function hge(t,e,r,n){const a=t.getContext(),i=r.defines;let o=r.vertexShader,l=r.fragmentShader;const c=oge(r),d=lge(r),u=cge(r),h=dge(r),m=uge(r),f=Zxe(r),A=ege(i),g=a.createProgram();let x,v,j=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(x=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,A].filter(db).join(`
`),x.length>0&&(x+=`
`),v=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,A].filter(db).join(`
`),v.length>0&&(v+=`
`)):(x=[LO(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,A,r.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",r.batching?"#define USE_BATCHING":"",r.batchingColor?"#define USE_BATCHING_COLOR":"",r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.instancingMorph?"#define USE_INSTANCING_MORPH":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(db).join(`
`),v=[LO(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,A,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+u:"",r.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.dispersion?"#define USE_DISPERSION":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor||r.batchingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==hm?"#define TONE_MAPPING":"",r.toneMapping!==hm?ys.tonemapping_pars_fragment:"",r.toneMapping!==hm?Yxe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",ys.colorspace_pars_fragment,Xxe("linearToOutputTexel",r.outputColorSpace),Jxe(),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(db).join(`
`)),o=jM(o),o=PO(o,r),o=IO(o,r),l=jM(l),l=PO(l,r),l=IO(l,r),o=DO(o),l=DO(l),r.isRawShaderMaterial!==!0&&(j=`#version 300 es
`,x=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",r.glslVersion===KR?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===KR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=j+x+o,S=j+v+l,w=TO(a,a.VERTEX_SHADER,b),N=TO(a,a.FRAGMENT_SHADER,S);a.attachShader(g,w),a.attachShader(g,N),r.index0AttributeName!==void 0?a.bindAttribLocation(g,0,r.index0AttributeName):r.morphTargets===!0&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g);function E(k){if(t.debug.checkShaderErrors){const M=a.getProgramInfoLog(g).trim(),T=a.getShaderInfoLog(w).trim(),H=a.getShaderInfoLog(N).trim();let L=!0,Q=!0;if(a.getProgramParameter(g,a.LINK_STATUS)===!1)if(L=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,g,w,N);else{const O=FO(a,w,"vertex"),V=FO(a,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,a.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+M+`
`+O+`
`+V)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(T===""||H==="")&&(Q=!1);Q&&(k.diagnostics={runnable:L,programLog:M,vertexShader:{log:T,prefix:x},fragmentShader:{log:H,prefix:v}})}a.deleteShader(w),a.deleteShader(N),P=new zN(a,g),_=tge(a,g)}let P;this.getUniforms=function(){return P===void 0&&E(this),P};let _;this.getAttributes=function(){return _===void 0&&E(this),_};let B=r.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=a.getProgramParameter(g,Vxe)),B},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=Wxe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=N,this}let fge=0;class mge{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,n=e.fragmentShader,a=this._getShaderStage(r),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const n of r)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let n=r.get(e);return n===void 0&&(n=new Set,r.set(e,n)),n}_getShaderStage(e){const r=this.shaderCache;let n=r.get(e);return n===void 0&&(n=new pge(e),r.set(e,n)),n}}class pge{constructor(e){this.id=fge++,this.code=e,this.usedTimes=0}}function Age(t,e,r,n,a,i,o){const l=new aY,c=new mge,d=new Set,u=[],h=a.logarithmicDepthBuffer,m=a.vertexTextures;let f=a.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(_){return d.add(_),_===0?"uv":`uv${_}`}function x(_,B,k,M,T){const H=M.fog,L=T.geometry,Q=_.isMeshStandardMaterial?M.environment:null,O=(_.isMeshStandardMaterial?r:e).get(_.envMap||Q),V=O&&O.mapping===c4?O.image.height:null,ee=A[_.type];_.precision!==null&&(f=a.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));const Y=L.morphAttributes.position||L.morphAttributes.normal||L.morphAttributes.color,re=Y!==void 0?Y.length:0;let D=0;L.morphAttributes.position!==void 0&&(D=1),L.morphAttributes.normal!==void 0&&(D=2),L.morphAttributes.color!==void 0&&(D=3);let G,z,K,oe;if(ee){const sr=qu[ee];G=sr.vertexShader,z=sr.fragmentShader}else G=_.vertexShader,z=_.fragmentShader,c.update(_),K=c.getVertexShaderID(_),oe=c.getFragmentShaderID(_);const ue=t.getRenderTarget(),ge=t.state.buffers.depth.getReversed(),pe=T.isInstancedMesh===!0,ye=T.isBatchedMesh===!0,Pe=!!_.map,le=!!_.matcap,lt=!!O,ne=!!_.aoMap,J=!!_.lightMap,ie=!!_.bumpMap,Ce=!!_.normalMap,Oe=!!_.displacementMap,Re=!!_.emissiveMap,ze=!!_.metalnessMap,ce=!!_.roughnessMap,ae=_.anisotropy>0,Se=_.clearcoat>0,We=_.dispersion>0,Je=_.iridescence>0,tt=_.sheen>0,Tt=_.transmission>0,ft=ae&&!!_.anisotropyMap,vt=Se&&!!_.clearcoatMap,_t=Se&&!!_.clearcoatNormalMap,et=Se&&!!_.clearcoatRoughnessMap,It=Je&&!!_.iridescenceMap,Lt=Je&&!!_.iridescenceThicknessMap,Gt=tt&&!!_.sheenColorMap,Rt=tt&&!!_.sheenRoughnessMap,mr=!!_.specularMap,Ht=!!_.specularColorMap,Ge=!!_.specularIntensityMap,we=Tt&&!!_.transmissionMap,Ze=Tt&&!!_.thicknessMap,qe=!!_.gradientMap,st=!!_.alphaMap,ct=_.alphaTest>0,St=!!_.alphaHash,Xt=!!_.extensions;let Vt=hm;_.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(Vt=t.toneMapping);const Pr={shaderID:ee,shaderType:_.type,shaderName:_.name,vertexShader:G,fragmentShader:z,defines:_.defines,customVertexShaderID:K,customFragmentShaderID:oe,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,batching:ye,batchingColor:ye&&T._colorsTexture!==null,instancing:pe,instancingColor:pe&&T.instanceColor!==null,instancingMorph:pe&&T.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Zg,alphaToCoverage:!!_.alphaToCoverage,map:Pe,matcap:le,envMap:lt,envMapMode:lt&&O.mapping,envMapCubeUVHeight:V,aoMap:ne,lightMap:J,bumpMap:ie,normalMap:Ce,displacementMap:m&&Oe,emissiveMap:Re,normalMapObjectSpace:Ce&&_.normalMapType===f0e,normalMapTangentSpace:Ce&&_.normalMapType===eY,metalnessMap:ze,roughnessMap:ce,anisotropy:ae,anisotropyMap:ft,clearcoat:Se,clearcoatMap:vt,clearcoatNormalMap:_t,clearcoatRoughnessMap:et,dispersion:We,iridescence:Je,iridescenceMap:It,iridescenceThicknessMap:Lt,sheen:tt,sheenColorMap:Gt,sheenRoughnessMap:Rt,specularMap:mr,specularColorMap:Ht,specularIntensityMap:Ge,transmission:Tt,transmissionMap:we,thicknessMap:Ze,gradientMap:qe,opaque:_.transparent===!1&&_.blending===Ng&&_.alphaToCoverage===!1,alphaMap:st,alphaTest:ct,alphaHash:St,combine:_.combine,mapUv:Pe&&g(_.map.channel),aoMapUv:ne&&g(_.aoMap.channel),lightMapUv:J&&g(_.lightMap.channel),bumpMapUv:ie&&g(_.bumpMap.channel),normalMapUv:Ce&&g(_.normalMap.channel),displacementMapUv:Oe&&g(_.displacementMap.channel),emissiveMapUv:Re&&g(_.emissiveMap.channel),metalnessMapUv:ze&&g(_.metalnessMap.channel),roughnessMapUv:ce&&g(_.roughnessMap.channel),anisotropyMapUv:ft&&g(_.anisotropyMap.channel),clearcoatMapUv:vt&&g(_.clearcoatMap.channel),clearcoatNormalMapUv:_t&&g(_.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:et&&g(_.clearcoatRoughnessMap.channel),iridescenceMapUv:It&&g(_.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&g(_.iridescenceThicknessMap.channel),sheenColorMapUv:Gt&&g(_.sheenColorMap.channel),sheenRoughnessMapUv:Rt&&g(_.sheenRoughnessMap.channel),specularMapUv:mr&&g(_.specularMap.channel),specularColorMapUv:Ht&&g(_.specularColorMap.channel),specularIntensityMapUv:Ge&&g(_.specularIntensityMap.channel),transmissionMapUv:we&&g(_.transmissionMap.channel),thicknessMapUv:Ze&&g(_.thicknessMap.channel),alphaMapUv:st&&g(_.alphaMap.channel),vertexTangents:!!L.attributes.tangent&&(Ce||ae),vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!L.attributes.color&&L.attributes.color.itemSize===4,pointsUvs:T.isPoints===!0&&!!L.attributes.uv&&(Pe||st),fog:!!H,useFog:_.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:_.flatShading===!0,sizeAttenuation:_.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:ge,skinning:T.isSkinnedMesh===!0,morphTargets:L.morphAttributes.position!==void 0,morphNormals:L.morphAttributes.normal!==void 0,morphColors:L.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:D,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Vt,decodeVideoTexture:Pe&&_.map.isVideoTexture===!0&&Xs.getTransfer(_.map.colorSpace)===Cn,decodeVideoTextureEmissive:Re&&_.emissiveMap.isVideoTexture===!0&&Xs.getTransfer(_.emissiveMap.colorSpace)===Cn,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===yf,flipSided:_.side===Ql,useDepthPacking:_.depthPacking>=0,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionClipCullDistance:Xt&&_.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Xt&&_.extensions.multiDraw===!0||ye)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:_.customProgramCacheKey()};return Pr.vertexUv1s=d.has(1),Pr.vertexUv2s=d.has(2),Pr.vertexUv3s=d.has(3),d.clear(),Pr}function v(_){const B=[];if(_.shaderID?B.push(_.shaderID):(B.push(_.customVertexShaderID),B.push(_.customFragmentShaderID)),_.defines!==void 0)for(const k in _.defines)B.push(k),B.push(_.defines[k]);return _.isRawShaderMaterial===!1&&(j(B,_),b(B,_),B.push(t.outputColorSpace)),B.push(_.customProgramCacheKey),B.join()}function j(_,B){_.push(B.precision),_.push(B.outputColorSpace),_.push(B.envMapMode),_.push(B.envMapCubeUVHeight),_.push(B.mapUv),_.push(B.alphaMapUv),_.push(B.lightMapUv),_.push(B.aoMapUv),_.push(B.bumpMapUv),_.push(B.normalMapUv),_.push(B.displacementMapUv),_.push(B.emissiveMapUv),_.push(B.metalnessMapUv),_.push(B.roughnessMapUv),_.push(B.anisotropyMapUv),_.push(B.clearcoatMapUv),_.push(B.clearcoatNormalMapUv),_.push(B.clearcoatRoughnessMapUv),_.push(B.iridescenceMapUv),_.push(B.iridescenceThicknessMapUv),_.push(B.sheenColorMapUv),_.push(B.sheenRoughnessMapUv),_.push(B.specularMapUv),_.push(B.specularColorMapUv),_.push(B.specularIntensityMapUv),_.push(B.transmissionMapUv),_.push(B.thicknessMapUv),_.push(B.combine),_.push(B.fogExp2),_.push(B.sizeAttenuation),_.push(B.morphTargetsCount),_.push(B.morphAttributeCount),_.push(B.numDirLights),_.push(B.numPointLights),_.push(B.numSpotLights),_.push(B.numSpotLightMaps),_.push(B.numHemiLights),_.push(B.numRectAreaLights),_.push(B.numDirLightShadows),_.push(B.numPointLightShadows),_.push(B.numSpotLightShadows),_.push(B.numSpotLightShadowsWithMaps),_.push(B.numLightProbes),_.push(B.shadowMapType),_.push(B.toneMapping),_.push(B.numClippingPlanes),_.push(B.numClipIntersection),_.push(B.depthPacking)}function b(_,B){l.disableAll(),B.supportsVertexTextures&&l.enable(0),B.instancing&&l.enable(1),B.instancingColor&&l.enable(2),B.instancingMorph&&l.enable(3),B.matcap&&l.enable(4),B.envMap&&l.enable(5),B.normalMapObjectSpace&&l.enable(6),B.normalMapTangentSpace&&l.enable(7),B.clearcoat&&l.enable(8),B.iridescence&&l.enable(9),B.alphaTest&&l.enable(10),B.vertexColors&&l.enable(11),B.vertexAlphas&&l.enable(12),B.vertexUv1s&&l.enable(13),B.vertexUv2s&&l.enable(14),B.vertexUv3s&&l.enable(15),B.vertexTangents&&l.enable(16),B.anisotropy&&l.enable(17),B.alphaHash&&l.enable(18),B.batching&&l.enable(19),B.dispersion&&l.enable(20),B.batchingColor&&l.enable(21),_.push(l.mask),l.disableAll(),B.fog&&l.enable(0),B.useFog&&l.enable(1),B.flatShading&&l.enable(2),B.logarithmicDepthBuffer&&l.enable(3),B.reverseDepthBuffer&&l.enable(4),B.skinning&&l.enable(5),B.morphTargets&&l.enable(6),B.morphNormals&&l.enable(7),B.morphColors&&l.enable(8),B.premultipliedAlpha&&l.enable(9),B.shadowMapEnabled&&l.enable(10),B.doubleSided&&l.enable(11),B.flipSided&&l.enable(12),B.useDepthPacking&&l.enable(13),B.dithering&&l.enable(14),B.transmission&&l.enable(15),B.sheen&&l.enable(16),B.opaque&&l.enable(17),B.pointsUvs&&l.enable(18),B.decodeVideoTexture&&l.enable(19),B.decodeVideoTextureEmissive&&l.enable(20),B.alphaToCoverage&&l.enable(21),_.push(l.mask)}function S(_){const B=A[_.type];let k;if(B){const M=qu[B];k=$0e.clone(M.uniforms)}else k=_.uniforms;return k}function w(_,B){let k;for(let M=0,T=u.length;M<T;M++){const H=u[M];if(H.cacheKey===B){k=H,++k.usedTimes;break}}return k===void 0&&(k=new hge(t,B,_,i),u.push(k)),k}function N(_){if(--_.usedTimes===0){const B=u.indexOf(_);u[B]=u[u.length-1],u.pop(),_.destroy()}}function E(_){c.remove(_)}function P(){c.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:S,acquireProgram:w,releaseProgram:N,releaseShaderCache:E,programs:u,dispose:P}}function xge(){let t=new WeakMap;function e(o){return t.has(o)}function r(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function n(o){t.delete(o)}function a(o,l,c){t.get(o)[l]=c}function i(){t=new WeakMap}return{has:e,get:r,remove:n,update:a,dispose:i}}function gge(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function RO(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function OO(){const t=[];let e=0;const r=[],n=[],a=[];function i(){e=0,r.length=0,n.length=0,a.length=0}function o(h,m,f,A,g,x){let v=t[e];return v===void 0?(v={id:h.id,object:h,geometry:m,material:f,groupOrder:A,renderOrder:h.renderOrder,z:g,group:x},t[e]=v):(v.id=h.id,v.object=h,v.geometry=m,v.material=f,v.groupOrder=A,v.renderOrder=h.renderOrder,v.z=g,v.group=x),e++,v}function l(h,m,f,A,g,x){const v=o(h,m,f,A,g,x);f.transmission>0?n.push(v):f.transparent===!0?a.push(v):r.push(v)}function c(h,m,f,A,g,x){const v=o(h,m,f,A,g,x);f.transmission>0?n.unshift(v):f.transparent===!0?a.unshift(v):r.unshift(v)}function d(h,m){r.length>1&&r.sort(h||gge),n.length>1&&n.sort(m||RO),a.length>1&&a.sort(m||RO)}function u(){for(let h=e,m=t.length;h<m;h++){const f=t[h];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:r,transmissive:n,transparent:a,init:i,push:l,unshift:c,finish:u,sort:d}}function vge(){let t=new WeakMap;function e(n,a){const i=t.get(n);let o;return i===void 0?(o=new OO,t.set(n,[o])):a>=i.length?(o=new OO,i.push(o)):o=i[a],o}function r(){t=new WeakMap}return{get:e,dispose:r}}function yge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new jt,color:new Ys};break;case"SpotLight":r={position:new jt,direction:new jt,color:new Ys,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new jt,color:new Ys,distance:0,decay:0};break;case"HemisphereLight":r={direction:new jt,skyColor:new Ys,groundColor:new Ys};break;case"RectAreaLight":r={color:new Ys,position:new jt,halfWidth:new jt,halfHeight:new jt};break}return t[e.id]=r,r}}}function bge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An};break;case"SpotLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An};break;case"PointLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=r,r}}}let wge=0;function jge(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Nge(t){const e=new yge,r=bge(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)n.probe.push(new jt);const a=new jt,i=new Ia,o=new Ia;function l(d){let u=0,h=0,m=0;for(let _=0;_<9;_++)n.probe[_].set(0,0,0);let f=0,A=0,g=0,x=0,v=0,j=0,b=0,S=0,w=0,N=0,E=0;d.sort(jge);for(let _=0,B=d.length;_<B;_++){const k=d[_],M=k.color,T=k.intensity,H=k.distance,L=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)u+=M.r*T,h+=M.g*T,m+=M.b*T;else if(k.isLightProbe){for(let Q=0;Q<9;Q++)n.probe[Q].addScaledVector(k.sh.coefficients[Q],T);E++}else if(k.isDirectionalLight){const Q=e.get(k);if(Q.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const O=k.shadow,V=r.get(k);V.shadowIntensity=O.intensity,V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,n.directionalShadow[f]=V,n.directionalShadowMap[f]=L,n.directionalShadowMatrix[f]=k.shadow.matrix,j++}n.directional[f]=Q,f++}else if(k.isSpotLight){const Q=e.get(k);Q.position.setFromMatrixPosition(k.matrixWorld),Q.color.copy(M).multiplyScalar(T),Q.distance=H,Q.coneCos=Math.cos(k.angle),Q.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),Q.decay=k.decay,n.spot[g]=Q;const O=k.shadow;if(k.map&&(n.spotLightMap[w]=k.map,w++,O.updateMatrices(k),k.castShadow&&N++),n.spotLightMatrix[g]=O.matrix,k.castShadow){const V=r.get(k);V.shadowIntensity=O.intensity,V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,n.spotShadow[g]=V,n.spotShadowMap[g]=L,S++}g++}else if(k.isRectAreaLight){const Q=e.get(k);Q.color.copy(M).multiplyScalar(T),Q.halfWidth.set(k.width*.5,0,0),Q.halfHeight.set(0,k.height*.5,0),n.rectArea[x]=Q,x++}else if(k.isPointLight){const Q=e.get(k);if(Q.color.copy(k.color).multiplyScalar(k.intensity),Q.distance=k.distance,Q.decay=k.decay,k.castShadow){const O=k.shadow,V=r.get(k);V.shadowIntensity=O.intensity,V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,V.shadowCameraNear=O.camera.near,V.shadowCameraFar=O.camera.far,n.pointShadow[A]=V,n.pointShadowMap[A]=L,n.pointShadowMatrix[A]=k.shadow.matrix,b++}n.point[A]=Q,A++}else if(k.isHemisphereLight){const Q=e.get(k);Q.skyColor.copy(k.color).multiplyScalar(T),Q.groundColor.copy(k.groundColor).multiplyScalar(T),n.hemi[v]=Q,v++}}x>0&&(t.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=fr.LTC_FLOAT_1,n.rectAreaLTC2=fr.LTC_FLOAT_2):(n.rectAreaLTC1=fr.LTC_HALF_1,n.rectAreaLTC2=fr.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=m;const P=n.hash;(P.directionalLength!==f||P.pointLength!==A||P.spotLength!==g||P.rectAreaLength!==x||P.hemiLength!==v||P.numDirectionalShadows!==j||P.numPointShadows!==b||P.numSpotShadows!==S||P.numSpotMaps!==w||P.numLightProbes!==E)&&(n.directional.length=f,n.spot.length=g,n.rectArea.length=x,n.point.length=A,n.hemi.length=v,n.directionalShadow.length=j,n.directionalShadowMap.length=j,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=S,n.spotShadowMap.length=S,n.directionalShadowMatrix.length=j,n.pointShadowMatrix.length=b,n.spotLightMatrix.length=S+w-N,n.spotLightMap.length=w,n.numSpotLightShadowsWithMaps=N,n.numLightProbes=E,P.directionalLength=f,P.pointLength=A,P.spotLength=g,P.rectAreaLength=x,P.hemiLength=v,P.numDirectionalShadows=j,P.numPointShadows=b,P.numSpotShadows=S,P.numSpotMaps=w,P.numLightProbes=E,n.version=wge++)}function c(d,u){let h=0,m=0,f=0,A=0,g=0;const x=u.matrixWorldInverse;for(let v=0,j=d.length;v<j;v++){const b=d[v];if(b.isDirectionalLight){const S=n.directional[h];S.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(a),S.direction.transformDirection(x),h++}else if(b.isSpotLight){const S=n.spot[f];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(x),S.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(a),S.direction.transformDirection(x),f++}else if(b.isRectAreaLight){const S=n.rectArea[A];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(x),o.identity(),i.copy(b.matrixWorld),i.premultiply(x),o.extractRotation(i),S.halfWidth.set(b.width*.5,0,0),S.halfHeight.set(0,b.height*.5,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),A++}else if(b.isPointLight){const S=n.point[m];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(x),m++}else if(b.isHemisphereLight){const S=n.hemi[g];S.direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(x),g++}}}return{setup:l,setupView:c,state:n}}function UO(t){const e=new Nge(t),r=[],n=[];function a(u){d.camera=u,r.length=0,n.length=0}function i(u){r.push(u)}function o(u){n.push(u)}function l(){e.setup(r)}function c(u){e.setupView(r,u)}const d={lightsArray:r,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:o}}function Sge(t){let e=new WeakMap;function r(a,i=0){const o=e.get(a);let l;return o===void 0?(l=new UO(t),e.set(a,[l])):i>=o.length?(l=new UO(t),o.push(l)):l=o[i],l}function n(){e=new WeakMap}return{get:r,dispose:n}}const _ge=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Cge=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ege(t,e,r){let n=new wI;const a=new An,i=new An,o=new Pa,l=new J0e({depthPacking:h0e}),c=new Z0e,d={},u=r.maxTextureSize,h={[wm]:Ql,[Ql]:wm,[yf]:yf},m=new jm({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new An},radius:{value:4}},vertexShader:_ge,fragmentShader:Cge}),f=m.clone();f.defines.HORIZONTAL_PASS=1;const A=new GA;A.setAttribute("position",new nh(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new tu(A,m),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=HX;let v=this.type;this.render=function(N,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||N.length===0)return;const _=t.getRenderTarget(),B=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),M=t.state;M.setBlending(um),M.buffers.color.setClear(1,1,1,1),M.buffers.depth.setTest(!0),M.setScissorTest(!1);const T=v!==mf&&this.type===mf,H=v===mf&&this.type!==mf;for(let L=0,Q=N.length;L<Q;L++){const O=N[L],V=O.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;a.copy(V.mapSize);const ee=V.getFrameExtents();if(a.multiply(ee),i.copy(V.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(i.x=Math.floor(u/ee.x),a.x=i.x*ee.x,V.mapSize.x=i.x),a.y>u&&(i.y=Math.floor(u/ee.y),a.y=i.y*ee.y,V.mapSize.y=i.y)),V.map===null||T===!0||H===!0){const re=this.type!==mf?{minFilter:iu,magFilter:iu}:{};V.map!==null&&V.map.dispose(),V.map=new _A(a.x,a.y,re),V.map.texture.name=O.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const Y=V.getViewportCount();for(let re=0;re<Y;re++){const D=V.getViewport(re);o.set(i.x*D.x,i.y*D.y,i.x*D.z,i.y*D.w),M.viewport(o),V.updateMatrices(O,re),n=V.getFrustum(),S(E,P,V.camera,O,this.type)}V.isPointLightShadow!==!0&&this.type===mf&&j(V,P),V.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(_,B,k)};function j(N,E){const P=e.update(g);m.defines.VSM_SAMPLES!==N.blurSamples&&(m.defines.VSM_SAMPLES=N.blurSamples,f.defines.VSM_SAMPLES=N.blurSamples,m.needsUpdate=!0,f.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new _A(a.x,a.y)),m.uniforms.shadow_pass.value=N.map.texture,m.uniforms.resolution.value=N.mapSize,m.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(E,null,P,m,g,null),f.uniforms.shadow_pass.value=N.mapPass.texture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(E,null,P,f,g,null)}function b(N,E,P,_){let B=null;const k=P.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(k!==void 0)B=k;else if(B=P.isPointLight===!0?c:l,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const M=B.uuid,T=E.uuid;let H=d[M];H===void 0&&(H={},d[M]=H);let L=H[T];L===void 0&&(L=B.clone(),H[T]=L,E.addEventListener("dispose",w)),B=L}if(B.visible=E.visible,B.wireframe=E.wireframe,_===mf?B.side=E.shadowSide!==null?E.shadowSide:E.side:B.side=E.shadowSide!==null?E.shadowSide:h[E.side],B.alphaMap=E.alphaMap,B.alphaTest=E.alphaTest,B.map=E.map,B.clipShadows=E.clipShadows,B.clippingPlanes=E.clippingPlanes,B.clipIntersection=E.clipIntersection,B.displacementMap=E.displacementMap,B.displacementScale=E.displacementScale,B.displacementBias=E.displacementBias,B.wireframeLinewidth=E.wireframeLinewidth,B.linewidth=E.linewidth,P.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const M=t.properties.get(B);M.light=P}return B}function S(N,E,P,_,B){if(N.visible===!1)return;if(N.layers.test(E.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&B===mf)&&(!N.frustumCulled||n.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,N.matrixWorld);const T=e.update(N),H=N.material;if(Array.isArray(H)){const L=T.groups;for(let Q=0,O=L.length;Q<O;Q++){const V=L[Q],ee=H[V.materialIndex];if(ee&&ee.visible){const Y=b(N,ee,_,B);N.onBeforeShadow(t,N,E,P,T,Y,V),t.renderBufferDirect(P,null,T,Y,N,V),N.onAfterShadow(t,N,E,P,T,Y,V)}}}else if(H.visible){const L=b(N,H,_,B);N.onBeforeShadow(t,N,E,P,T,L,null),t.renderBufferDirect(P,null,T,L,N,null),N.onAfterShadow(t,N,E,P,T,L,null)}}const M=N.children;for(let T=0,H=M.length;T<H;T++)S(M[T],E,P,_,B)}function w(N){N.target.removeEventListener("dispose",w);for(const P in d){const _=d[P],B=N.target.uuid;B in _&&(_[B].dispose(),delete _[B])}}}const kge={[OT]:UT,[HT]:$T,[QT]:GT,[qg]:zT,[UT]:OT,[$T]:HT,[GT]:QT,[zT]:qg};function Bge(t,e){function r(){let we=!1;const Ze=new Pa;let qe=null;const st=new Pa(0,0,0,0);return{setMask:function(ct){qe!==ct&&!we&&(t.colorMask(ct,ct,ct,ct),qe=ct)},setLocked:function(ct){we=ct},setClear:function(ct,St,Xt,Vt,Pr){Pr===!0&&(ct*=Vt,St*=Vt,Xt*=Vt),Ze.set(ct,St,Xt,Vt),st.equals(Ze)===!1&&(t.clearColor(ct,St,Xt,Vt),st.copy(Ze))},reset:function(){we=!1,qe=null,st.set(-1,0,0,0)}}}function n(){let we=!1,Ze=!1,qe=null,st=null,ct=null;return{setReversed:function(St){if(Ze!==St){const Xt=e.get("EXT_clip_control");Ze?Xt.clipControlEXT(Xt.LOWER_LEFT_EXT,Xt.ZERO_TO_ONE_EXT):Xt.clipControlEXT(Xt.LOWER_LEFT_EXT,Xt.NEGATIVE_ONE_TO_ONE_EXT);const Vt=ct;ct=null,this.setClear(Vt)}Ze=St},getReversed:function(){return Ze},setTest:function(St){St?ue(t.DEPTH_TEST):ge(t.DEPTH_TEST)},setMask:function(St){qe!==St&&!we&&(t.depthMask(St),qe=St)},setFunc:function(St){if(Ze&&(St=kge[St]),st!==St){switch(St){case OT:t.depthFunc(t.NEVER);break;case UT:t.depthFunc(t.ALWAYS);break;case HT:t.depthFunc(t.LESS);break;case qg:t.depthFunc(t.LEQUAL);break;case QT:t.depthFunc(t.EQUAL);break;case zT:t.depthFunc(t.GEQUAL);break;case $T:t.depthFunc(t.GREATER);break;case GT:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}st=St}},setLocked:function(St){we=St},setClear:function(St){ct!==St&&(Ze&&(St=1-St),t.clearDepth(St),ct=St)},reset:function(){we=!1,qe=null,st=null,ct=null,Ze=!1}}}function a(){let we=!1,Ze=null,qe=null,st=null,ct=null,St=null,Xt=null,Vt=null,Pr=null;return{setTest:function(sr){we||(sr?ue(t.STENCIL_TEST):ge(t.STENCIL_TEST))},setMask:function(sr){Ze!==sr&&!we&&(t.stencilMask(sr),Ze=sr)},setFunc:function(sr,cr,Ts){(qe!==sr||st!==cr||ct!==Ts)&&(t.stencilFunc(sr,cr,Ts),qe=sr,st=cr,ct=Ts)},setOp:function(sr,cr,Ts){(St!==sr||Xt!==cr||Vt!==Ts)&&(t.stencilOp(sr,cr,Ts),St=sr,Xt=cr,Vt=Ts)},setLocked:function(sr){we=sr},setClear:function(sr){Pr!==sr&&(t.clearStencil(sr),Pr=sr)},reset:function(){we=!1,Ze=null,qe=null,st=null,ct=null,St=null,Xt=null,Vt=null,Pr=null}}}const i=new r,o=new n,l=new a,c=new WeakMap,d=new WeakMap;let u={},h={},m=new WeakMap,f=[],A=null,g=!1,x=null,v=null,j=null,b=null,S=null,w=null,N=null,E=new Ys(0,0,0),P=0,_=!1,B=null,k=null,M=null,T=null,H=null;const L=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,O=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(V)[1]),Q=O>=1):V.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),Q=O>=2);let ee=null,Y={};const re=t.getParameter(t.SCISSOR_BOX),D=t.getParameter(t.VIEWPORT),G=new Pa().fromArray(re),z=new Pa().fromArray(D);function K(we,Ze,qe,st){const ct=new Uint8Array(4),St=t.createTexture();t.bindTexture(we,St),t.texParameteri(we,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(we,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Xt=0;Xt<qe;Xt++)we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?t.texImage3D(Ze,0,t.RGBA,1,1,st,0,t.RGBA,t.UNSIGNED_BYTE,ct):t.texImage2D(Ze+Xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ct);return St}const oe={};oe[t.TEXTURE_2D]=K(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=K(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=K(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=K(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),ue(t.DEPTH_TEST),o.setFunc(qg),ie(!1),Ce(zR),ue(t.CULL_FACE),ne(um);function ue(we){u[we]!==!0&&(t.enable(we),u[we]=!0)}function ge(we){u[we]!==!1&&(t.disable(we),u[we]=!1)}function pe(we,Ze){return h[we]!==Ze?(t.bindFramebuffer(we,Ze),h[we]=Ze,we===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Ze),we===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Ze),!0):!1}function ye(we,Ze){let qe=f,st=!1;if(we){qe=m.get(Ze),qe===void 0&&(qe=[],m.set(Ze,qe));const ct=we.textures;if(qe.length!==ct.length||qe[0]!==t.COLOR_ATTACHMENT0){for(let St=0,Xt=ct.length;St<Xt;St++)qe[St]=t.COLOR_ATTACHMENT0+St;qe.length=ct.length,st=!0}}else qe[0]!==t.BACK&&(qe[0]=t.BACK,st=!0);st&&t.drawBuffers(qe)}function Pe(we){return A!==we?(t.useProgram(we),A=we,!0):!1}const le={[$p]:t.FUNC_ADD,[Rfe]:t.FUNC_SUBTRACT,[Ofe]:t.FUNC_REVERSE_SUBTRACT};le[Ufe]=t.MIN,le[Hfe]=t.MAX;const lt={[Qfe]:t.ZERO,[zfe]:t.ONE,[$fe]:t.SRC_COLOR,[LT]:t.SRC_ALPHA,[Xfe]:t.SRC_ALPHA_SATURATE,[qfe]:t.DST_COLOR,[Vfe]:t.DST_ALPHA,[Gfe]:t.ONE_MINUS_SRC_COLOR,[RT]:t.ONE_MINUS_SRC_ALPHA,[Kfe]:t.ONE_MINUS_DST_COLOR,[Wfe]:t.ONE_MINUS_DST_ALPHA,[Yfe]:t.CONSTANT_COLOR,[Jfe]:t.ONE_MINUS_CONSTANT_COLOR,[Zfe]:t.CONSTANT_ALPHA,[e0e]:t.ONE_MINUS_CONSTANT_ALPHA};function ne(we,Ze,qe,st,ct,St,Xt,Vt,Pr,sr){if(we===um){g===!0&&(ge(t.BLEND),g=!1);return}if(g===!1&&(ue(t.BLEND),g=!0),we!==Lfe){if(we!==x||sr!==_){if((v!==$p||S!==$p)&&(t.blendEquation(t.FUNC_ADD),v=$p,S=$p),sr)switch(we){case Ng:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case $R:t.blendFunc(t.ONE,t.ONE);break;case GR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case VR:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}else switch(we){case Ng:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case $R:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case GR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case VR:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",we);break}j=null,b=null,w=null,N=null,E.set(0,0,0),P=0,x=we,_=sr}return}ct=ct||Ze,St=St||qe,Xt=Xt||st,(Ze!==v||ct!==S)&&(t.blendEquationSeparate(le[Ze],le[ct]),v=Ze,S=ct),(qe!==j||st!==b||St!==w||Xt!==N)&&(t.blendFuncSeparate(lt[qe],lt[st],lt[St],lt[Xt]),j=qe,b=st,w=St,N=Xt),(Vt.equals(E)===!1||Pr!==P)&&(t.blendColor(Vt.r,Vt.g,Vt.b,Pr),E.copy(Vt),P=Pr),x=we,_=!1}function J(we,Ze){we.side===yf?ge(t.CULL_FACE):ue(t.CULL_FACE);let qe=we.side===Ql;Ze&&(qe=!qe),ie(qe),we.blending===Ng&&we.transparent===!1?ne(um):ne(we.blending,we.blendEquation,we.blendSrc,we.blendDst,we.blendEquationAlpha,we.blendSrcAlpha,we.blendDstAlpha,we.blendColor,we.blendAlpha,we.premultipliedAlpha),o.setFunc(we.depthFunc),o.setTest(we.depthTest),o.setMask(we.depthWrite),i.setMask(we.colorWrite);const st=we.stencilWrite;l.setTest(st),st&&(l.setMask(we.stencilWriteMask),l.setFunc(we.stencilFunc,we.stencilRef,we.stencilFuncMask),l.setOp(we.stencilFail,we.stencilZFail,we.stencilZPass)),Re(we.polygonOffset,we.polygonOffsetFactor,we.polygonOffsetUnits),we.alphaToCoverage===!0?ue(t.SAMPLE_ALPHA_TO_COVERAGE):ge(t.SAMPLE_ALPHA_TO_COVERAGE)}function ie(we){B!==we&&(we?t.frontFace(t.CW):t.frontFace(t.CCW),B=we)}function Ce(we){we!==Ife?(ue(t.CULL_FACE),we!==k&&(we===zR?t.cullFace(t.BACK):we===Dfe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ge(t.CULL_FACE),k=we}function Oe(we){we!==M&&(Q&&t.lineWidth(we),M=we)}function Re(we,Ze,qe){we?(ue(t.POLYGON_OFFSET_FILL),(T!==Ze||H!==qe)&&(t.polygonOffset(Ze,qe),T=Ze,H=qe)):ge(t.POLYGON_OFFSET_FILL)}function ze(we){we?ue(t.SCISSOR_TEST):ge(t.SCISSOR_TEST)}function ce(we){we===void 0&&(we=t.TEXTURE0+L-1),ee!==we&&(t.activeTexture(we),ee=we)}function ae(we,Ze,qe){qe===void 0&&(ee===null?qe=t.TEXTURE0+L-1:qe=ee);let st=Y[qe];st===void 0&&(st={type:void 0,texture:void 0},Y[qe]=st),(st.type!==we||st.texture!==Ze)&&(ee!==qe&&(t.activeTexture(qe),ee=qe),t.bindTexture(we,Ze||oe[we]),st.type=we,st.texture=Ze)}function Se(){const we=Y[ee];we!==void 0&&we.type!==void 0&&(t.bindTexture(we.type,null),we.type=void 0,we.texture=void 0)}function We(){try{t.compressedTexImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Je(){try{t.compressedTexImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function tt(){try{t.texSubImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Tt(){try{t.texSubImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function ft(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function vt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function _t(){try{t.texStorage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function et(){try{t.texStorage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function It(){try{t.texImage2D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Lt(){try{t.texImage3D.apply(t,arguments)}catch(we){console.error("THREE.WebGLState:",we)}}function Gt(we){G.equals(we)===!1&&(t.scissor(we.x,we.y,we.z,we.w),G.copy(we))}function Rt(we){z.equals(we)===!1&&(t.viewport(we.x,we.y,we.z,we.w),z.copy(we))}function mr(we,Ze){let qe=d.get(Ze);qe===void 0&&(qe=new WeakMap,d.set(Ze,qe));let st=qe.get(we);st===void 0&&(st=t.getUniformBlockIndex(Ze,we.name),qe.set(we,st))}function Ht(we,Ze){const st=d.get(Ze).get(we);c.get(Ze)!==st&&(t.uniformBlockBinding(Ze,st,we.__bindingPointIndex),c.set(Ze,st))}function Ge(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ee=null,Y={},h={},m=new WeakMap,f=[],A=null,g=!1,x=null,v=null,j=null,b=null,S=null,w=null,N=null,E=new Ys(0,0,0),P=0,_=!1,B=null,k=null,M=null,T=null,H=null,G.set(0,0,t.canvas.width,t.canvas.height),z.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),l.reset()}return{buffers:{color:i,depth:o,stencil:l},enable:ue,disable:ge,bindFramebuffer:pe,drawBuffers:ye,useProgram:Pe,setBlending:ne,setMaterial:J,setFlipSided:ie,setCullFace:Ce,setLineWidth:Oe,setPolygonOffset:Re,setScissorTest:ze,activeTexture:ce,bindTexture:ae,unbindTexture:Se,compressedTexImage2D:We,compressedTexImage3D:Je,texImage2D:It,texImage3D:Lt,updateUBOMapping:mr,uniformBlockBinding:Ht,texStorage2D:_t,texStorage3D:et,texSubImage2D:tt,texSubImage3D:Tt,compressedTexSubImage2D:ft,compressedTexSubImage3D:vt,scissor:Gt,viewport:Rt,reset:Ge}}function Tge(t,e,r,n,a,i,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new An,u=new WeakMap;let h;const m=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(ce,ae){return f?new OffscreenCanvas(ce,ae):u5("canvas")}function g(ce,ae,Se){let We=1;const Je=ze(ce);if((Je.width>Se||Je.height>Se)&&(We=Se/Math.max(Je.width,Je.height)),We<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const tt=Math.floor(We*Je.width),Tt=Math.floor(We*Je.height);h===void 0&&(h=A(tt,Tt));const ft=ae?A(tt,Tt):h;return ft.width=tt,ft.height=Tt,ft.getContext("2d").drawImage(ce,0,0,tt,Tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Je.width+"x"+Je.height+") to ("+tt+"x"+Tt+")."),ft}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Je.width+"x"+Je.height+")."),ce;return ce}function x(ce){return ce.generateMipmaps}function v(ce){t.generateMipmap(ce)}function j(ce){return ce.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?t.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(ce,ae,Se,We,Je=!1){if(ce!==null){if(t[ce]!==void 0)return t[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let tt=ae;if(ae===t.RED&&(Se===t.FLOAT&&(tt=t.R32F),Se===t.HALF_FLOAT&&(tt=t.R16F),Se===t.UNSIGNED_BYTE&&(tt=t.R8)),ae===t.RED_INTEGER&&(Se===t.UNSIGNED_BYTE&&(tt=t.R8UI),Se===t.UNSIGNED_SHORT&&(tt=t.R16UI),Se===t.UNSIGNED_INT&&(tt=t.R32UI),Se===t.BYTE&&(tt=t.R8I),Se===t.SHORT&&(tt=t.R16I),Se===t.INT&&(tt=t.R32I)),ae===t.RG&&(Se===t.FLOAT&&(tt=t.RG32F),Se===t.HALF_FLOAT&&(tt=t.RG16F),Se===t.UNSIGNED_BYTE&&(tt=t.RG8)),ae===t.RG_INTEGER&&(Se===t.UNSIGNED_BYTE&&(tt=t.RG8UI),Se===t.UNSIGNED_SHORT&&(tt=t.RG16UI),Se===t.UNSIGNED_INT&&(tt=t.RG32UI),Se===t.BYTE&&(tt=t.RG8I),Se===t.SHORT&&(tt=t.RG16I),Se===t.INT&&(tt=t.RG32I)),ae===t.RGB_INTEGER&&(Se===t.UNSIGNED_BYTE&&(tt=t.RGB8UI),Se===t.UNSIGNED_SHORT&&(tt=t.RGB16UI),Se===t.UNSIGNED_INT&&(tt=t.RGB32UI),Se===t.BYTE&&(tt=t.RGB8I),Se===t.SHORT&&(tt=t.RGB16I),Se===t.INT&&(tt=t.RGB32I)),ae===t.RGBA_INTEGER&&(Se===t.UNSIGNED_BYTE&&(tt=t.RGBA8UI),Se===t.UNSIGNED_SHORT&&(tt=t.RGBA16UI),Se===t.UNSIGNED_INT&&(tt=t.RGBA32UI),Se===t.BYTE&&(tt=t.RGBA8I),Se===t.SHORT&&(tt=t.RGBA16I),Se===t.INT&&(tt=t.RGBA32I)),ae===t.RGB&&Se===t.UNSIGNED_INT_5_9_9_9_REV&&(tt=t.RGB9_E5),ae===t.RGBA){const Tt=Je?c5:Xs.getTransfer(We);Se===t.FLOAT&&(tt=t.RGBA32F),Se===t.HALF_FLOAT&&(tt=t.RGBA16F),Se===t.UNSIGNED_BYTE&&(tt=Tt===Cn?t.SRGB8_ALPHA8:t.RGBA8),Se===t.UNSIGNED_SHORT_4_4_4_4&&(tt=t.RGBA4),Se===t.UNSIGNED_SHORT_5_5_5_1&&(tt=t.RGB5_A1)}return(tt===t.R16F||tt===t.R32F||tt===t.RG16F||tt===t.RG32F||tt===t.RGBA16F||tt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),tt}function S(ce,ae){let Se;return ce?ae===null||ae===SA||ae===Yg?Se=t.DEPTH24_STENCIL8:ae===bf?Se=t.DEPTH32F_STENCIL8:ae===c1&&(Se=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ae===null||ae===SA||ae===Yg?Se=t.DEPTH_COMPONENT24:ae===bf?Se=t.DEPTH_COMPONENT32F:ae===c1&&(Se=t.DEPTH_COMPONENT16),Se}function w(ce,ae){return x(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==iu&&ce.minFilter!==Ju?Math.log2(Math.max(ae.width,ae.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?ae.mipmaps.length:1}function N(ce){const ae=ce.target;ae.removeEventListener("dispose",N),P(ae),ae.isVideoTexture&&u.delete(ae)}function E(ce){const ae=ce.target;ae.removeEventListener("dispose",E),B(ae)}function P(ce){const ae=n.get(ce);if(ae.__webglInit===void 0)return;const Se=ce.source,We=m.get(Se);if(We){const Je=We[ae.__cacheKey];Je.usedTimes--,Je.usedTimes===0&&_(ce),Object.keys(We).length===0&&m.delete(Se)}n.remove(ce)}function _(ce){const ae=n.get(ce);t.deleteTexture(ae.__webglTexture);const Se=ce.source,We=m.get(Se);delete We[ae.__cacheKey],o.memory.textures--}function B(ce){const ae=n.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),n.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let We=0;We<6;We++){if(Array.isArray(ae.__webglFramebuffer[We]))for(let Je=0;Je<ae.__webglFramebuffer[We].length;Je++)t.deleteFramebuffer(ae.__webglFramebuffer[We][Je]);else t.deleteFramebuffer(ae.__webglFramebuffer[We]);ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[We])}else{if(Array.isArray(ae.__webglFramebuffer))for(let We=0;We<ae.__webglFramebuffer.length;We++)t.deleteFramebuffer(ae.__webglFramebuffer[We]);else t.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let We=0;We<ae.__webglColorRenderbuffer.length;We++)ae.__webglColorRenderbuffer[We]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[We]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}const Se=ce.textures;for(let We=0,Je=Se.length;We<Je;We++){const tt=n.get(Se[We]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),o.memory.textures--),n.remove(Se[We])}n.remove(ce)}let k=0;function M(){k=0}function T(){const ce=k;return ce>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+a.maxTextures),k+=1,ce}function H(ce){const ae=[];return ae.push(ce.wrapS),ae.push(ce.wrapT),ae.push(ce.wrapR||0),ae.push(ce.magFilter),ae.push(ce.minFilter),ae.push(ce.anisotropy),ae.push(ce.internalFormat),ae.push(ce.format),ae.push(ce.type),ae.push(ce.generateMipmaps),ae.push(ce.premultiplyAlpha),ae.push(ce.flipY),ae.push(ce.unpackAlignment),ae.push(ce.colorSpace),ae.join()}function L(ce,ae){const Se=n.get(ce);if(ce.isVideoTexture&&Oe(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Se.__version!==ce.version){const We=ce.image;if(We===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(We.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{z(Se,ce,ae);return}}r.bindTexture(t.TEXTURE_2D,Se.__webglTexture,t.TEXTURE0+ae)}function Q(ce,ae){const Se=n.get(ce);if(ce.version>0&&Se.__version!==ce.version){z(Se,ce,ae);return}r.bindTexture(t.TEXTURE_2D_ARRAY,Se.__webglTexture,t.TEXTURE0+ae)}function O(ce,ae){const Se=n.get(ce);if(ce.version>0&&Se.__version!==ce.version){z(Se,ce,ae);return}r.bindTexture(t.TEXTURE_3D,Se.__webglTexture,t.TEXTURE0+ae)}function V(ce,ae){const Se=n.get(ce);if(ce.version>0&&Se.__version!==ce.version){K(Se,ce,ae);return}r.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture,t.TEXTURE0+ae)}const ee={[qT]:t.REPEAT,[Kp]:t.CLAMP_TO_EDGE,[KT]:t.MIRRORED_REPEAT},Y={[iu]:t.NEAREST,[d0e]:t.NEAREST_MIPMAP_NEAREST,[G2]:t.NEAREST_MIPMAP_LINEAR,[Ju]:t.LINEAR,[AC]:t.LINEAR_MIPMAP_NEAREST,[Xp]:t.LINEAR_MIPMAP_LINEAR},re={[m0e]:t.NEVER,[y0e]:t.ALWAYS,[p0e]:t.LESS,[tY]:t.LEQUAL,[A0e]:t.EQUAL,[v0e]:t.GEQUAL,[x0e]:t.GREATER,[g0e]:t.NOTEQUAL};function D(ce,ae){if(ae.type===bf&&e.has("OES_texture_float_linear")===!1&&(ae.magFilter===Ju||ae.magFilter===AC||ae.magFilter===G2||ae.magFilter===Xp||ae.minFilter===Ju||ae.minFilter===AC||ae.minFilter===G2||ae.minFilter===Xp)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ce,t.TEXTURE_WRAP_S,ee[ae.wrapS]),t.texParameteri(ce,t.TEXTURE_WRAP_T,ee[ae.wrapT]),(ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ce,t.TEXTURE_WRAP_R,ee[ae.wrapR]),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,Y[ae.magFilter]),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,Y[ae.minFilter]),ae.compareFunction&&(t.texParameteri(ce,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ce,t.TEXTURE_COMPARE_FUNC,re[ae.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ae.magFilter===iu||ae.minFilter!==G2&&ae.minFilter!==Xp||ae.type===bf&&e.has("OES_texture_float_linear")===!1)return;if(ae.anisotropy>1||n.get(ae).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ce,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ae.anisotropy,a.getMaxAnisotropy())),n.get(ae).__currentAnisotropy=ae.anisotropy}}}function G(ce,ae){let Se=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,ae.addEventListener("dispose",N));const We=ae.source;let Je=m.get(We);Je===void 0&&(Je={},m.set(We,Je));const tt=H(ae);if(tt!==ce.__cacheKey){Je[tt]===void 0&&(Je[tt]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),Je[tt].usedTimes++;const Tt=Je[ce.__cacheKey];Tt!==void 0&&(Je[ce.__cacheKey].usedTimes--,Tt.usedTimes===0&&_(ae)),ce.__cacheKey=tt,ce.__webglTexture=Je[tt].texture}return Se}function z(ce,ae,Se){let We=t.TEXTURE_2D;(ae.isDataArrayTexture||ae.isCompressedArrayTexture)&&(We=t.TEXTURE_2D_ARRAY),ae.isData3DTexture&&(We=t.TEXTURE_3D);const Je=G(ce,ae),tt=ae.source;r.bindTexture(We,ce.__webglTexture,t.TEXTURE0+Se);const Tt=n.get(tt);if(tt.version!==Tt.__version||Je===!0){r.activeTexture(t.TEXTURE0+Se);const ft=Xs.getPrimaries(Xs.workingColorSpace),vt=ae.colorSpace===W0?null:Xs.getPrimaries(ae.colorSpace),_t=ae.colorSpace===W0||ft===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let et=g(ae.image,!1,a.maxTextureSize);et=Re(ae,et);const It=i.convert(ae.format,ae.colorSpace),Lt=i.convert(ae.type);let Gt=b(ae.internalFormat,It,Lt,ae.colorSpace,ae.isVideoTexture);D(We,ae);let Rt;const mr=ae.mipmaps,Ht=ae.isVideoTexture!==!0,Ge=Tt.__version===void 0||Je===!0,we=tt.dataReady,Ze=w(ae,et);if(ae.isDepthTexture)Gt=S(ae.format===Jg,ae.type),Ge&&(Ht?r.texStorage2D(t.TEXTURE_2D,1,Gt,et.width,et.height):r.texImage2D(t.TEXTURE_2D,0,Gt,et.width,et.height,0,It,Lt,null));else if(ae.isDataTexture)if(mr.length>0){Ht&&Ge&&r.texStorage2D(t.TEXTURE_2D,Ze,Gt,mr[0].width,mr[0].height);for(let qe=0,st=mr.length;qe<st;qe++)Rt=mr[qe],Ht?we&&r.texSubImage2D(t.TEXTURE_2D,qe,0,0,Rt.width,Rt.height,It,Lt,Rt.data):r.texImage2D(t.TEXTURE_2D,qe,Gt,Rt.width,Rt.height,0,It,Lt,Rt.data);ae.generateMipmaps=!1}else Ht?(Ge&&r.texStorage2D(t.TEXTURE_2D,Ze,Gt,et.width,et.height),we&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,et.width,et.height,It,Lt,et.data)):r.texImage2D(t.TEXTURE_2D,0,Gt,et.width,et.height,0,It,Lt,et.data);else if(ae.isCompressedTexture)if(ae.isCompressedArrayTexture){Ht&&Ge&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,Gt,mr[0].width,mr[0].height,et.depth);for(let qe=0,st=mr.length;qe<st;qe++)if(Rt=mr[qe],ae.format!==eu)if(It!==null)if(Ht){if(we)if(ae.layerUpdates.size>0){const ct=AO(Rt.width,Rt.height,ae.format,ae.type);for(const St of ae.layerUpdates){const Xt=Rt.data.subarray(St*ct/Rt.data.BYTES_PER_ELEMENT,(St+1)*ct/Rt.data.BYTES_PER_ELEMENT);r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,St,Rt.width,Rt.height,1,It,Xt)}ae.clearLayerUpdates()}else r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,0,Rt.width,Rt.height,et.depth,It,Rt.data)}else r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,qe,Gt,Rt.width,Rt.height,et.depth,0,Rt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ht?we&&r.texSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,0,Rt.width,Rt.height,et.depth,It,Lt,Rt.data):r.texImage3D(t.TEXTURE_2D_ARRAY,qe,Gt,Rt.width,Rt.height,et.depth,0,It,Lt,Rt.data)}else{Ht&&Ge&&r.texStorage2D(t.TEXTURE_2D,Ze,Gt,mr[0].width,mr[0].height);for(let qe=0,st=mr.length;qe<st;qe++)Rt=mr[qe],ae.format!==eu?It!==null?Ht?we&&r.compressedTexSubImage2D(t.TEXTURE_2D,qe,0,0,Rt.width,Rt.height,It,Rt.data):r.compressedTexImage2D(t.TEXTURE_2D,qe,Gt,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ht?we&&r.texSubImage2D(t.TEXTURE_2D,qe,0,0,Rt.width,Rt.height,It,Lt,Rt.data):r.texImage2D(t.TEXTURE_2D,qe,Gt,Rt.width,Rt.height,0,It,Lt,Rt.data)}else if(ae.isDataArrayTexture)if(Ht){if(Ge&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,Gt,et.width,et.height,et.depth),we)if(ae.layerUpdates.size>0){const qe=AO(et.width,et.height,ae.format,ae.type);for(const st of ae.layerUpdates){const ct=et.data.subarray(st*qe/et.data.BYTES_PER_ELEMENT,(st+1)*qe/et.data.BYTES_PER_ELEMENT);r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,st,et.width,et.height,1,It,Lt,ct)}ae.clearLayerUpdates()}else r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,It,Lt,et.data)}else r.texImage3D(t.TEXTURE_2D_ARRAY,0,Gt,et.width,et.height,et.depth,0,It,Lt,et.data);else if(ae.isData3DTexture)Ht?(Ge&&r.texStorage3D(t.TEXTURE_3D,Ze,Gt,et.width,et.height,et.depth),we&&r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,It,Lt,et.data)):r.texImage3D(t.TEXTURE_3D,0,Gt,et.width,et.height,et.depth,0,It,Lt,et.data);else if(ae.isFramebufferTexture){if(Ge)if(Ht)r.texStorage2D(t.TEXTURE_2D,Ze,Gt,et.width,et.height);else{let qe=et.width,st=et.height;for(let ct=0;ct<Ze;ct++)r.texImage2D(t.TEXTURE_2D,ct,Gt,qe,st,0,It,Lt,null),qe>>=1,st>>=1}}else if(mr.length>0){if(Ht&&Ge){const qe=ze(mr[0]);r.texStorage2D(t.TEXTURE_2D,Ze,Gt,qe.width,qe.height)}for(let qe=0,st=mr.length;qe<st;qe++)Rt=mr[qe],Ht?we&&r.texSubImage2D(t.TEXTURE_2D,qe,0,0,It,Lt,Rt):r.texImage2D(t.TEXTURE_2D,qe,Gt,It,Lt,Rt);ae.generateMipmaps=!1}else if(Ht){if(Ge){const qe=ze(et);r.texStorage2D(t.TEXTURE_2D,Ze,Gt,qe.width,qe.height)}we&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,It,Lt,et)}else r.texImage2D(t.TEXTURE_2D,0,Gt,It,Lt,et);x(ae)&&v(We),Tt.__version=tt.version,ae.onUpdate&&ae.onUpdate(ae)}ce.__version=ae.version}function K(ce,ae,Se){if(ae.image.length!==6)return;const We=G(ce,ae),Je=ae.source;r.bindTexture(t.TEXTURE_CUBE_MAP,ce.__webglTexture,t.TEXTURE0+Se);const tt=n.get(Je);if(Je.version!==tt.__version||We===!0){r.activeTexture(t.TEXTURE0+Se);const Tt=Xs.getPrimaries(Xs.workingColorSpace),ft=ae.colorSpace===W0?null:Xs.getPrimaries(ae.colorSpace),vt=ae.colorSpace===W0||Tt===ft?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const _t=ae.isCompressedTexture||ae.image[0].isCompressedTexture,et=ae.image[0]&&ae.image[0].isDataTexture,It=[];for(let st=0;st<6;st++)!_t&&!et?It[st]=g(ae.image[st],!0,a.maxCubemapSize):It[st]=et?ae.image[st].image:ae.image[st],It[st]=Re(ae,It[st]);const Lt=It[0],Gt=i.convert(ae.format,ae.colorSpace),Rt=i.convert(ae.type),mr=b(ae.internalFormat,Gt,Rt,ae.colorSpace),Ht=ae.isVideoTexture!==!0,Ge=tt.__version===void 0||We===!0,we=Je.dataReady;let Ze=w(ae,Lt);D(t.TEXTURE_CUBE_MAP,ae);let qe;if(_t){Ht&&Ge&&r.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,mr,Lt.width,Lt.height);for(let st=0;st<6;st++){qe=It[st].mipmaps;for(let ct=0;ct<qe.length;ct++){const St=qe[ct];ae.format!==eu?Gt!==null?Ht?we&&r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct,0,0,St.width,St.height,Gt,St.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct,mr,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ht?we&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct,0,0,St.width,St.height,Gt,Rt,St.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct,mr,St.width,St.height,0,Gt,Rt,St.data)}}}else{if(qe=ae.mipmaps,Ht&&Ge){qe.length>0&&Ze++;const st=ze(It[0]);r.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,mr,st.width,st.height)}for(let st=0;st<6;st++)if(et){Ht?we&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,It[st].width,It[st].height,Gt,Rt,It[st].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,mr,It[st].width,It[st].height,0,Gt,Rt,It[st].data);for(let ct=0;ct<qe.length;ct++){const Xt=qe[ct].image[st].image;Ht?we&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct+1,0,0,Xt.width,Xt.height,Gt,Rt,Xt.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct+1,mr,Xt.width,Xt.height,0,Gt,Rt,Xt.data)}}else{Ht?we&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,Gt,Rt,It[st]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,mr,Gt,Rt,It[st]);for(let ct=0;ct<qe.length;ct++){const St=qe[ct];Ht?we&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct+1,0,0,Gt,Rt,St.image[st]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,ct+1,mr,Gt,Rt,St.image[st])}}}x(ae)&&v(t.TEXTURE_CUBE_MAP),tt.__version=Je.version,ae.onUpdate&&ae.onUpdate(ae)}ce.__version=ae.version}function oe(ce,ae,Se,We,Je,tt){const Tt=i.convert(Se.format,Se.colorSpace),ft=i.convert(Se.type),vt=b(Se.internalFormat,Tt,ft,Se.colorSpace),_t=n.get(ae),et=n.get(Se);if(et.__renderTarget=ae,!_t.__hasExternalTextures){const It=Math.max(1,ae.width>>tt),Lt=Math.max(1,ae.height>>tt);Je===t.TEXTURE_3D||Je===t.TEXTURE_2D_ARRAY?r.texImage3D(Je,tt,vt,It,Lt,ae.depth,0,Tt,ft,null):r.texImage2D(Je,tt,vt,It,Lt,0,Tt,ft,null)}r.bindFramebuffer(t.FRAMEBUFFER,ce),Ce(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,We,Je,et.__webglTexture,0,ie(ae)):(Je===t.TEXTURE_2D||Je>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Je<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,We,Je,et.__webglTexture,tt),r.bindFramebuffer(t.FRAMEBUFFER,null)}function ue(ce,ae,Se){if(t.bindRenderbuffer(t.RENDERBUFFER,ce),ae.depthBuffer){const We=ae.depthTexture,Je=We&&We.isDepthTexture?We.type:null,tt=S(ae.stencilBuffer,Je),Tt=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=ie(ae);Ce(ae)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ft,tt,ae.width,ae.height):Se?t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,tt,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,tt,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Tt,t.RENDERBUFFER,ce)}else{const We=ae.textures;for(let Je=0;Je<We.length;Je++){const tt=We[Je],Tt=i.convert(tt.format,tt.colorSpace),ft=i.convert(tt.type),vt=b(tt.internalFormat,Tt,ft,tt.colorSpace),_t=ie(ae);Se&&Ce(ae)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,vt,ae.width,ae.height):Ce(ae)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_t,vt,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,vt,ae.width,ae.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(ce,ae){if(ae&&ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,ce),!(ae.depthTexture&&ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const We=n.get(ae.depthTexture);We.__renderTarget=ae,(!We.__webglTexture||ae.depthTexture.image.width!==ae.width||ae.depthTexture.image.height!==ae.height)&&(ae.depthTexture.image.width=ae.width,ae.depthTexture.image.height=ae.height,ae.depthTexture.needsUpdate=!0),L(ae.depthTexture,0);const Je=We.__webglTexture,tt=ie(ae);if(ae.depthTexture.format===Sg)Ce(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Je,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Je,0);else if(ae.depthTexture.format===Jg)Ce(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Je,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Je,0);else throw new Error("Unknown depthTexture format")}function pe(ce){const ae=n.get(ce),Se=ce.isWebGLCubeRenderTarget===!0;if(ae.__boundDepthTexture!==ce.depthTexture){const We=ce.depthTexture;if(ae.__depthDisposeCallback&&ae.__depthDisposeCallback(),We){const Je=()=>{delete ae.__boundDepthTexture,delete ae.__depthDisposeCallback,We.removeEventListener("dispose",Je)};We.addEventListener("dispose",Je),ae.__depthDisposeCallback=Je}ae.__boundDepthTexture=We}if(ce.depthTexture&&!ae.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");ge(ae.__webglFramebuffer,ce)}else if(Se){ae.__webglDepthbuffer=[];for(let We=0;We<6;We++)if(r.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer[We]),ae.__webglDepthbuffer[We]===void 0)ae.__webglDepthbuffer[We]=t.createRenderbuffer(),ue(ae.__webglDepthbuffer[We],ce,!1);else{const Je=ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=ae.__webglDepthbuffer[We];t.bindRenderbuffer(t.RENDERBUFFER,tt),t.framebufferRenderbuffer(t.FRAMEBUFFER,Je,t.RENDERBUFFER,tt)}}else if(r.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer),ae.__webglDepthbuffer===void 0)ae.__webglDepthbuffer=t.createRenderbuffer(),ue(ae.__webglDepthbuffer,ce,!1);else{const We=ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Je=ae.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Je),t.framebufferRenderbuffer(t.FRAMEBUFFER,We,t.RENDERBUFFER,Je)}r.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(ce,ae,Se){const We=n.get(ce);ae!==void 0&&oe(We.__webglFramebuffer,ce,ce.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Se!==void 0&&pe(ce)}function Pe(ce){const ae=ce.texture,Se=n.get(ce),We=n.get(ae);ce.addEventListener("dispose",E);const Je=ce.textures,tt=ce.isWebGLCubeRenderTarget===!0,Tt=Je.length>1;if(Tt||(We.__webglTexture===void 0&&(We.__webglTexture=t.createTexture()),We.__version=ae.version,o.memory.textures++),tt){Se.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(ae.mipmaps&&ae.mipmaps.length>0){Se.__webglFramebuffer[ft]=[];for(let vt=0;vt<ae.mipmaps.length;vt++)Se.__webglFramebuffer[ft][vt]=t.createFramebuffer()}else Se.__webglFramebuffer[ft]=t.createFramebuffer()}else{if(ae.mipmaps&&ae.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ft=0;ft<ae.mipmaps.length;ft++)Se.__webglFramebuffer[ft]=t.createFramebuffer()}else Se.__webglFramebuffer=t.createFramebuffer();if(Tt)for(let ft=0,vt=Je.length;ft<vt;ft++){const _t=n.get(Je[ft]);_t.__webglTexture===void 0&&(_t.__webglTexture=t.createTexture(),o.memory.textures++)}if(ce.samples>0&&Ce(ce)===!1){Se.__webglMultisampledFramebuffer=t.createFramebuffer(),Se.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ft=0;ft<Je.length;ft++){const vt=Je[ft];Se.__webglColorRenderbuffer[ft]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Se.__webglColorRenderbuffer[ft]);const _t=i.convert(vt.format,vt.colorSpace),et=i.convert(vt.type),It=b(vt.internalFormat,_t,et,vt.colorSpace,ce.isXRRenderTarget===!0),Lt=ie(ce);t.renderbufferStorageMultisample(t.RENDERBUFFER,Lt,It,ce.width,ce.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,Se.__webglColorRenderbuffer[ft])}t.bindRenderbuffer(t.RENDERBUFFER,null),ce.depthBuffer&&(Se.__webglDepthRenderbuffer=t.createRenderbuffer(),ue(Se.__webglDepthRenderbuffer,ce,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(tt){r.bindTexture(t.TEXTURE_CUBE_MAP,We.__webglTexture),D(t.TEXTURE_CUBE_MAP,ae);for(let ft=0;ft<6;ft++)if(ae.mipmaps&&ae.mipmaps.length>0)for(let vt=0;vt<ae.mipmaps.length;vt++)oe(Se.__webglFramebuffer[ft][vt],ce,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,vt);else oe(Se.__webglFramebuffer[ft],ce,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);x(ae)&&v(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(Tt){for(let ft=0,vt=Je.length;ft<vt;ft++){const _t=Je[ft],et=n.get(_t);r.bindTexture(t.TEXTURE_2D,et.__webglTexture),D(t.TEXTURE_2D,_t),oe(Se.__webglFramebuffer,ce,_t,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,0),x(_t)&&v(t.TEXTURE_2D)}r.unbindTexture()}else{let ft=t.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(ft=ce.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),r.bindTexture(ft,We.__webglTexture),D(ft,ae),ae.mipmaps&&ae.mipmaps.length>0)for(let vt=0;vt<ae.mipmaps.length;vt++)oe(Se.__webglFramebuffer[vt],ce,ae,t.COLOR_ATTACHMENT0,ft,vt);else oe(Se.__webglFramebuffer,ce,ae,t.COLOR_ATTACHMENT0,ft,0);x(ae)&&v(ft),r.unbindTexture()}ce.depthBuffer&&pe(ce)}function le(ce){const ae=ce.textures;for(let Se=0,We=ae.length;Se<We;Se++){const Je=ae[Se];if(x(Je)){const tt=j(ce),Tt=n.get(Je).__webglTexture;r.bindTexture(tt,Tt),v(tt),r.unbindTexture()}}}const lt=[],ne=[];function J(ce){if(ce.samples>0){if(Ce(ce)===!1){const ae=ce.textures,Se=ce.width,We=ce.height;let Je=t.COLOR_BUFFER_BIT;const tt=ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Tt=n.get(ce),ft=ae.length>1;if(ft)for(let vt=0;vt<ae.length;vt++)r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglFramebuffer);for(let vt=0;vt<ae.length;vt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Je|=t.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Je|=t.STENCIL_BUFFER_BIT)),ft){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[vt]);const _t=n.get(ae[vt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_t,0)}t.blitFramebuffer(0,0,Se,We,0,0,Se,We,Je,t.NEAREST),c===!0&&(lt.length=0,ne.length=0,lt.push(t.COLOR_ATTACHMENT0+vt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(lt.push(tt),ne.push(tt),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ne)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,lt))}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ft)for(let vt=0;vt<ae.length;vt++){r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[vt]);const _t=n.get(ae[vt]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,_t,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&c){const ae=ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ae])}}}function ie(ce){return Math.min(a.maxSamples,ce.samples)}function Ce(ce){const ae=n.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ae.__useRenderToTexture!==!1}function Oe(ce){const ae=o.render.frame;u.get(ce)!==ae&&(u.set(ce,ae),ce.update())}function Re(ce,ae){const Se=ce.colorSpace,We=ce.format,Je=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Se!==Zg&&Se!==W0&&(Xs.getTransfer(Se)===Cn?(We!==eu||Je!==Uf)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),ae}function ze(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(d.width=ce.naturalWidth||ce.width,d.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(d.width=ce.displayWidth,d.height=ce.displayHeight):(d.width=ce.width,d.height=ce.height),d}this.allocateTextureUnit=T,this.resetTextureUnits=M,this.setTexture2D=L,this.setTexture2DArray=Q,this.setTexture3D=O,this.setTextureCube=V,this.rebindTextures=ye,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=le,this.updateMultisampleRenderTarget=J,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=Ce}function Mge(t,e){function r(n,a=W0){let i;const o=Xs.getTransfer(a);if(n===Uf)return t.UNSIGNED_BYTE;if(n===AI)return t.UNSIGNED_SHORT_4_4_4_4;if(n===xI)return t.UNSIGNED_SHORT_5_5_5_1;if(n===VX)return t.UNSIGNED_INT_5_9_9_9_REV;if(n===$X)return t.BYTE;if(n===GX)return t.SHORT;if(n===c1)return t.UNSIGNED_SHORT;if(n===pI)return t.INT;if(n===SA)return t.UNSIGNED_INT;if(n===bf)return t.FLOAT;if(n===kw)return t.HALF_FLOAT;if(n===WX)return t.ALPHA;if(n===qX)return t.RGB;if(n===eu)return t.RGBA;if(n===KX)return t.LUMINANCE;if(n===XX)return t.LUMINANCE_ALPHA;if(n===Sg)return t.DEPTH_COMPONENT;if(n===Jg)return t.DEPTH_STENCIL;if(n===YX)return t.RED;if(n===gI)return t.RED_INTEGER;if(n===JX)return t.RG;if(n===vI)return t.RG_INTEGER;if(n===yI)return t.RGBA_INTEGER;if(n===RN||n===ON||n===UN||n===HN)if(o===Cn)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(n===RN)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===ON)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===UN)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===HN)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(n===RN)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ON)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===UN)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===HN)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===XT||n===YT||n===JT||n===ZT)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(n===XT)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===YT)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===JT)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ZT)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===eM||n===tM||n===rM)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(n===eM||n===tM)return o===Cn?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===rM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===sM||n===nM||n===aM||n===iM||n===oM||n===lM||n===cM||n===dM||n===uM||n===hM||n===fM||n===mM||n===pM||n===AM)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(n===sM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===nM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===aM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===iM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===oM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===lM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===cM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===dM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===uM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===hM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===fM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===mM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===pM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===AM)return o===Cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===QN||n===xM||n===gM)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(n===QN)return o===Cn?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===xM)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===gM)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===ZX||n===vM||n===yM||n===bM)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(n===QN)return i.COMPRESSED_RED_RGTC1_EXT;if(n===vM)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===yM)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===bM)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Yg?t.UNSIGNED_INT_24_8:t[n]!==void 0?t[n]:null}return{convert:r}}const Fge={type:"move"};class VC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new cj,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new cj,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new jt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new jt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new cj,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new jt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new jt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const n of e.hand.values())this._getHandJoint(r,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,n){let a=null,i=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const g of e.hand.values()){const x=r.getJointPose(g,n),v=this._getHandJoint(d,g);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],m=u.position.distanceTo(h.position),f=.02,A=.005;d.inputState.pinching&&m>f+A?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=f-A&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=r.getPose(e.gripSpace,n),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(a=r.getPose(e.targetRaySpace,n),a===null&&i!==null&&(a=i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Fge)))}return l!==null&&(l.visible=a!==null),c!==null&&(c.visible=i!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const n=new cj;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[r.jointName]=n,e.add(n)}return e.joints[r.jointName]}}const Pge=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ige=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Dge{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,r,n){if(this.texture===null){const a=new zl,i=e.properties.get(a);i.__webglTexture=r.texture,(r.depthNear!=n.depthNear||r.depthFar!=n.depthFar)&&(this.depthNear=r.depthNear,this.depthFar=r.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const r=e.cameras[0].viewport,n=new jm({vertexShader:Pge,fragmentShader:Ige,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new tu(new Pw(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Lge extends Rv{constructor(e,r){super();const n=this;let a=null,i=1,o=null,l="local-floor",c=1,d=null,u=null,h=null,m=null,f=null,A=null;const g=new Dge,x=r.getContextAttributes();let v=null,j=null;const b=[],S=[],w=new An;let N=null;const E=new id;E.viewport=new Pa;const P=new id;P.viewport=new Pa;const _=[E,P],B=new nme;let k=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let K=b[z];return K===void 0&&(K=new VC,b[z]=K),K.getTargetRaySpace()},this.getControllerGrip=function(z){let K=b[z];return K===void 0&&(K=new VC,b[z]=K),K.getGripSpace()},this.getHand=function(z){let K=b[z];return K===void 0&&(K=new VC,b[z]=K),K.getHandSpace()};function T(z){const K=S.indexOf(z.inputSource);if(K===-1)return;const oe=b[K];oe!==void 0&&(oe.update(z.inputSource,z.frame,d||o),oe.dispatchEvent({type:z.type,data:z.inputSource}))}function H(){a.removeEventListener("select",T),a.removeEventListener("selectstart",T),a.removeEventListener("selectend",T),a.removeEventListener("squeeze",T),a.removeEventListener("squeezestart",T),a.removeEventListener("squeezeend",T),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",L);for(let z=0;z<b.length;z++){const K=S[z];K!==null&&(S[z]=null,b[z].disconnect(K))}k=null,M=null,g.reset(),e.setRenderTarget(v),f=null,m=null,h=null,a=null,j=null,G.stop(),n.isPresenting=!1,e.setPixelRatio(N),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){i=z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){l=z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(z){d=z},this.getBaseLayer=function(){return m!==null?m:f},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return a},this.setSession=async function(z){if(a=z,a!==null){if(v=e.getRenderTarget(),a.addEventListener("select",T),a.addEventListener("selectstart",T),a.addEventListener("selectend",T),a.addEventListener("squeeze",T),a.addEventListener("squeezestart",T),a.addEventListener("squeezeend",T),a.addEventListener("end",H),a.addEventListener("inputsourceschange",L),x.xrCompatible!==!0&&await r.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(w),a.renderState.layers===void 0){const K={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(a,r,K),a.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),j=new _A(f.framebufferWidth,f.framebufferHeight,{format:eu,type:Uf,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let K=null,oe=null,ue=null;x.depth&&(ue=x.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,K=x.stencil?Jg:Sg,oe=x.stencil?Yg:SA);const ge={colorFormat:r.RGBA8,depthFormat:ue,scaleFactor:i};h=new XRWebGLBinding(a,r),m=h.createProjectionLayer(ge),a.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),j=new _A(m.textureWidth,m.textureHeight,{format:eu,type:Uf,depthTexture:new fY(m.textureWidth,m.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1})}j.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await a.requestReferenceSpace(l),G.setContext(a),G.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function L(z){for(let K=0;K<z.removed.length;K++){const oe=z.removed[K],ue=S.indexOf(oe);ue>=0&&(S[ue]=null,b[ue].disconnect(oe))}for(let K=0;K<z.added.length;K++){const oe=z.added[K];let ue=S.indexOf(oe);if(ue===-1){for(let pe=0;pe<b.length;pe++)if(pe>=S.length){S.push(oe),ue=pe;break}else if(S[pe]===null){S[pe]=oe,ue=pe;break}if(ue===-1)break}const ge=b[ue];ge&&ge.connect(oe)}}const Q=new jt,O=new jt;function V(z,K,oe){Q.setFromMatrixPosition(K.matrixWorld),O.setFromMatrixPosition(oe.matrixWorld);const ue=Q.distanceTo(O),ge=K.projectionMatrix.elements,pe=oe.projectionMatrix.elements,ye=ge[14]/(ge[10]-1),Pe=ge[14]/(ge[10]+1),le=(ge[9]+1)/ge[5],lt=(ge[9]-1)/ge[5],ne=(ge[8]-1)/ge[0],J=(pe[8]+1)/pe[0],ie=ye*ne,Ce=ye*J,Oe=ue/(-ne+J),Re=Oe*-ne;if(K.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Re),z.translateZ(Oe),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert(),ge[10]===-1)z.projectionMatrix.copy(K.projectionMatrix),z.projectionMatrixInverse.copy(K.projectionMatrixInverse);else{const ze=ye+Oe,ce=Pe+Oe,ae=ie-Re,Se=Ce+(ue-Re),We=le*Pe/ce*ze,Je=lt*Pe/ce*ze;z.projectionMatrix.makePerspective(ae,Se,We,Je,ze,ce),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}}function ee(z,K){K===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(K.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(a===null)return;let K=z.near,oe=z.far;g.texture!==null&&(g.depthNear>0&&(K=g.depthNear),g.depthFar>0&&(oe=g.depthFar)),B.near=P.near=E.near=K,B.far=P.far=E.far=oe,(k!==B.near||M!==B.far)&&(a.updateRenderState({depthNear:B.near,depthFar:B.far}),k=B.near,M=B.far),E.layers.mask=z.layers.mask|2,P.layers.mask=z.layers.mask|4,B.layers.mask=E.layers.mask|P.layers.mask;const ue=z.parent,ge=B.cameras;ee(B,ue);for(let pe=0;pe<ge.length;pe++)ee(ge[pe],ue);ge.length===2?V(B,E,P):B.projectionMatrix.copy(E.projectionMatrix),Y(z,B,ue)};function Y(z,K,oe){oe===null?z.matrix.copy(K.matrixWorld):(z.matrix.copy(oe.matrixWorld),z.matrix.invert(),z.matrix.multiply(K.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0),z.projectionMatrix.copy(K.projectionMatrix),z.projectionMatrixInverse.copy(K.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=wM*2*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(m===null&&f===null))return c},this.setFoveation=function(z){c=z,m!==null&&(m.fixedFoveation=z),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=z)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(B)};let re=null;function D(z,K){if(u=K.getViewerPose(d||o),A=K,u!==null){const oe=u.views;f!==null&&(e.setRenderTargetFramebuffer(j,f.framebuffer),e.setRenderTarget(j));let ue=!1;oe.length!==B.cameras.length&&(B.cameras.length=0,ue=!0);for(let pe=0;pe<oe.length;pe++){const ye=oe[pe];let Pe=null;if(f!==null)Pe=f.getViewport(ye);else{const lt=h.getViewSubImage(m,ye);Pe=lt.viewport,pe===0&&(e.setRenderTargetTextures(j,lt.colorTexture,m.ignoreDepthValues?void 0:lt.depthStencilTexture),e.setRenderTarget(j))}let le=_[pe];le===void 0&&(le=new id,le.layers.enable(pe),le.viewport=new Pa,_[pe]=le),le.matrix.fromArray(ye.transform.matrix),le.matrix.decompose(le.position,le.quaternion,le.scale),le.projectionMatrix.fromArray(ye.projectionMatrix),le.projectionMatrixInverse.copy(le.projectionMatrix).invert(),le.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),pe===0&&(B.matrix.copy(le.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),ue===!0&&B.cameras.push(le)}const ge=a.enabledFeatures;if(ge&&ge.includes("depth-sensing")){const pe=h.getDepthInformation(oe[0]);pe&&pe.isValid&&pe.texture&&g.init(e,pe,a.renderState)}}for(let oe=0;oe<b.length;oe++){const ue=S[oe],ge=b[oe];ue!==null&&ge!==void 0&&ge.update(ue,K,d||o)}re&&re(z,K),K.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:K}),A=null}const G=new AY;G.setAnimationLoop(D),this.setAnimationLoop=function(z){re=z},this.dispose=function(){}}}const Sp=new hh,Rge=new Ia;function Oge(t,e){function r(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function n(x,v){v.color.getRGB(x.fogColor.value,dY(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function a(x,v,j,b,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(x,v):v.isMeshToonMaterial?(i(x,v),h(x,v)):v.isMeshPhongMaterial?(i(x,v),u(x,v)):v.isMeshStandardMaterial?(i(x,v),m(x,v),v.isMeshPhysicalMaterial&&f(x,v,S)):v.isMeshMatcapMaterial?(i(x,v),A(x,v)):v.isMeshDepthMaterial?i(x,v):v.isMeshDistanceMaterial?(i(x,v),g(x,v)):v.isMeshNormalMaterial?i(x,v):v.isLineBasicMaterial?(o(x,v),v.isLineDashedMaterial&&l(x,v)):v.isPointsMaterial?c(x,v,j,b):v.isSpriteMaterial?d(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,r(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,r(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,r(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Ql&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,r(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Ql&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,r(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,r(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,r(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const j=e.get(v),b=j.envMap,S=j.envMapRotation;b&&(x.envMap.value=b,Sp.copy(S),Sp.x*=-1,Sp.y*=-1,Sp.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Sp.y*=-1,Sp.z*=-1),x.envMapRotation.value.setFromMatrix4(Rge.makeRotationFromEuler(Sp)),x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap&&(x.lightMap.value=v.lightMap,x.lightMapIntensity.value=v.lightMapIntensity,r(v.lightMap,x.lightMapTransform)),v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,r(v.aoMap,x.aoMapTransform))}function o(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,r(v.map,x.mapTransform))}function l(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function c(x,v,j,b){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*j,x.scale.value=b*.5,v.map&&(x.map.value=v.map,r(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,r(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function d(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,r(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,r(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function h(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function m(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,r(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,r(v.roughnessMap,x.roughnessMapTransform)),v.envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function f(x,v,j){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,r(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,r(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,r(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,r(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,r(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ql&&x.clearcoatNormalScale.value.negate())),v.dispersion>0&&(x.dispersion.value=v.dispersion),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,r(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,r(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=j.texture,x.transmissionSamplerSize.value.set(j.width,j.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,r(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,r(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,r(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,r(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,r(v.specularIntensityMap,x.specularIntensityMapTransform))}function A(x,v){v.matcap&&(x.matcap.value=v.matcap)}function g(x,v){const j=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(j.matrixWorld),x.nearDistance.value=j.shadow.camera.near,x.farDistance.value=j.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:a}}function Uge(t,e,r,n){let a={},i={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(j,b){const S=b.program;n.uniformBlockBinding(j,S)}function d(j,b){let S=a[j.id];S===void 0&&(A(j),S=u(j),a[j.id]=S,j.addEventListener("dispose",x));const w=b.program;n.updateUBOMapping(j,w);const N=e.render.frame;i[j.id]!==N&&(m(j),i[j.id]=N)}function u(j){const b=h();j.__bindingPointIndex=b;const S=t.createBuffer(),w=j.__size,N=j.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function h(){for(let j=0;j<l;j++)if(o.indexOf(j)===-1)return o.push(j),j;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(j){const b=a[j.id],S=j.uniforms,w=j.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let N=0,E=S.length;N<E;N++){const P=Array.isArray(S[N])?S[N]:[S[N]];for(let _=0,B=P.length;_<B;_++){const k=P[_];if(f(k,N,_,w)===!0){const M=k.__offset,T=Array.isArray(k.value)?k.value:[k.value];let H=0;for(let L=0;L<T.length;L++){const Q=T[L],O=g(Q);typeof Q=="number"||typeof Q=="boolean"?(k.__data[0]=Q,t.bufferSubData(t.UNIFORM_BUFFER,M+H,k.__data)):Q.isMatrix3?(k.__data[0]=Q.elements[0],k.__data[1]=Q.elements[1],k.__data[2]=Q.elements[2],k.__data[3]=0,k.__data[4]=Q.elements[3],k.__data[5]=Q.elements[4],k.__data[6]=Q.elements[5],k.__data[7]=0,k.__data[8]=Q.elements[6],k.__data[9]=Q.elements[7],k.__data[10]=Q.elements[8],k.__data[11]=0):(Q.toArray(k.__data,H),H+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,M,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(j,b,S,w){const N=j.value,E=b+"_"+S;if(w[E]===void 0)return typeof N=="number"||typeof N=="boolean"?w[E]=N:w[E]=N.clone(),!0;{const P=w[E];if(typeof N=="number"||typeof N=="boolean"){if(P!==N)return w[E]=N,!0}else if(P.equals(N)===!1)return P.copy(N),!0}return!1}function A(j){const b=j.uniforms;let S=0;const w=16;for(let E=0,P=b.length;E<P;E++){const _=Array.isArray(b[E])?b[E]:[b[E]];for(let B=0,k=_.length;B<k;B++){const M=_[B],T=Array.isArray(M.value)?M.value:[M.value];for(let H=0,L=T.length;H<L;H++){const Q=T[H],O=g(Q),V=S%w,ee=V%O.boundary,Y=V+ee;S+=ee,Y!==0&&w-Y<O.storage&&(S+=w-Y),M.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=S,S+=O.storage}}}const N=S%w;return N>0&&(S+=w-N),j.__size=S,j.__cache={},this}function g(j){const b={boundary:0,storage:0};return typeof j=="number"||typeof j=="boolean"?(b.boundary=4,b.storage=4):j.isVector2?(b.boundary=8,b.storage=8):j.isVector3||j.isColor?(b.boundary=16,b.storage=12):j.isVector4?(b.boundary=16,b.storage=16):j.isMatrix3?(b.boundary=48,b.storage=48):j.isMatrix4?(b.boundary=64,b.storage=64):j.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",j),b}function x(j){const b=j.target;b.removeEventListener("dispose",x);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(a[b.id]),delete a[b.id],delete i[b.id]}function v(){for(const j in a)t.deleteBuffer(a[j]);o=[],a={},i={}}return{bind:c,update:d,dispose:v}}class Hge{constructor(e={}){const{canvas:r=w0e(),context:n=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=o;const A=new Uint32Array(4),g=new Int32Array(4);let x=null,v=null;const j=[],b=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ad,this.toneMapping=hm,this.toneMappingExposure=1;const S=this;let w=!1,N=0,E=0,P=null,_=-1,B=null;const k=new Pa,M=new Pa;let T=null;const H=new Ys(0);let L=0,Q=r.width,O=r.height,V=1,ee=null,Y=null;const re=new Pa(0,0,Q,O),D=new Pa(0,0,Q,O);let G=!1;const z=new wI;let K=!1,oe=!1;const ue=new Ia,ge=new Ia,pe=new jt,ye=new Pa,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let le=!1;function lt(){return P===null?V:1}let ne=n;function J(de,Le){return r.getContext(de,Le)}try{const de={alpha:!0,depth:a,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${fI}`),r.addEventListener("webglcontextlost",st,!1),r.addEventListener("webglcontextrestored",ct,!1),r.addEventListener("webglcontextcreationerror",St,!1),ne===null){const Le="webgl2";if(ne=J(Le,de),ne===null)throw J(Le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(de){throw console.error("THREE.WebGLRenderer: "+de.message),de}let ie,Ce,Oe,Re,ze,ce,ae,Se,We,Je,tt,Tt,ft,vt,_t,et,It,Lt,Gt,Rt,mr,Ht,Ge,we;function Ze(){ie=new XAe(ne),ie.init(),Ht=new Mge(ne,ie),Ce=new $Ae(ne,ie,e,Ht),Oe=new Bge(ne,ie),Ce.reverseDepthBuffer&&m&&Oe.buffers.depth.setReversed(!0),Re=new ZAe(ne),ze=new xge,ce=new Tge(ne,ie,Oe,ze,Ce,Ht,Re),ae=new VAe(S),Se=new KAe(S),We=new ime(ne),Ge=new QAe(ne,We),Je=new YAe(ne,We,Re,Ge),tt=new txe(ne,Je,We,Re),Gt=new exe(ne,Ce,ce),et=new GAe(ze),Tt=new Age(S,ae,Se,ie,Ce,Ge,et),ft=new Oge(S,ze),vt=new vge,_t=new Sge(ie),Lt=new HAe(S,ae,Se,Oe,tt,f,c),It=new Ege(S,tt,Ce),we=new Uge(ne,Re,Ce,Oe),Rt=new zAe(ne,ie,Re),mr=new JAe(ne,ie,Re),Re.programs=Tt.programs,S.capabilities=Ce,S.extensions=ie,S.properties=ze,S.renderLists=vt,S.shadowMap=It,S.state=Oe,S.info=Re}Ze();const qe=new Lge(S,ne);this.xr=qe,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const de=ie.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=ie.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(de){de!==void 0&&(V=de,this.setSize(Q,O,!1))},this.getSize=function(de){return de.set(Q,O)},this.setSize=function(de,Le,Ve=!0){if(qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=de,O=Le,r.width=Math.floor(de*V),r.height=Math.floor(Le*V),Ve===!0&&(r.style.width=de+"px",r.style.height=Le+"px"),this.setViewport(0,0,de,Le)},this.getDrawingBufferSize=function(de){return de.set(Q*V,O*V).floor()},this.setDrawingBufferSize=function(de,Le,Ve){Q=de,O=Le,V=Ve,r.width=Math.floor(de*Ve),r.height=Math.floor(Le*Ve),this.setViewport(0,0,de,Le)},this.getCurrentViewport=function(de){return de.copy(k)},this.getViewport=function(de){return de.copy(re)},this.setViewport=function(de,Le,Ve,Qe){de.isVector4?re.set(de.x,de.y,de.z,de.w):re.set(de,Le,Ve,Qe),Oe.viewport(k.copy(re).multiplyScalar(V).round())},this.getScissor=function(de){return de.copy(D)},this.setScissor=function(de,Le,Ve,Qe){de.isVector4?D.set(de.x,de.y,de.z,de.w):D.set(de,Le,Ve,Qe),Oe.scissor(M.copy(D).multiplyScalar(V).round())},this.getScissorTest=function(){return G},this.setScissorTest=function(de){Oe.setScissorTest(G=de)},this.setOpaqueSort=function(de){ee=de},this.setTransparentSort=function(de){Y=de},this.getClearColor=function(de){return de.copy(Lt.getClearColor())},this.setClearColor=function(){Lt.setClearColor.apply(Lt,arguments)},this.getClearAlpha=function(){return Lt.getClearAlpha()},this.setClearAlpha=function(){Lt.setClearAlpha.apply(Lt,arguments)},this.clear=function(de=!0,Le=!0,Ve=!0){let Qe=0;if(de){let De=!1;if(P!==null){const yt=P.texture.format;De=yt===yI||yt===vI||yt===gI}if(De){const yt=P.texture.type,Ut=yt===Uf||yt===SA||yt===c1||yt===Yg||yt===AI||yt===xI,zt=Lt.getClearColor(),Zt=Lt.getClearAlpha(),Br=zt.r,_e=zt.g,$e=zt.b;Ut?(A[0]=Br,A[1]=_e,A[2]=$e,A[3]=Zt,ne.clearBufferuiv(ne.COLOR,0,A)):(g[0]=Br,g[1]=_e,g[2]=$e,g[3]=Zt,ne.clearBufferiv(ne.COLOR,0,g))}else Qe|=ne.COLOR_BUFFER_BIT}Le&&(Qe|=ne.DEPTH_BUFFER_BIT),Ve&&(Qe|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Qe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",st,!1),r.removeEventListener("webglcontextrestored",ct,!1),r.removeEventListener("webglcontextcreationerror",St,!1),Lt.dispose(),vt.dispose(),_t.dispose(),ze.dispose(),ae.dispose(),Se.dispose(),tt.dispose(),Ge.dispose(),we.dispose(),Tt.dispose(),qe.dispose(),qe.removeEventListener("sessionstart",tn),qe.removeEventListener("sessionend",Ls),on.stop()};function st(de){de.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const de=Re.autoReset,Le=It.enabled,Ve=It.autoUpdate,Qe=It.needsUpdate,De=It.type;Ze(),Re.autoReset=de,It.enabled=Le,It.autoUpdate=Ve,It.needsUpdate=Qe,It.type=De}function St(de){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",de.statusMessage)}function Xt(de){const Le=de.target;Le.removeEventListener("dispose",Xt),Vt(Le)}function Vt(de){Pr(de),ze.remove(de)}function Pr(de){const Le=ze.get(de).programs;Le!==void 0&&(Le.forEach(function(Ve){Tt.releaseProgram(Ve)}),de.isShaderMaterial&&Tt.releaseShaderCache(de))}this.renderBufferDirect=function(de,Le,Ve,Qe,De,yt){Le===null&&(Le=Pe);const Ut=De.isMesh&&De.matrixWorld.determinant()<0,zt=it(de,Le,Ve,Qe,De);Oe.setMaterial(Qe,Ut);let Zt=Ve.index,Br=1;if(Qe.wireframe===!0){if(Zt=Je.getWireframeAttribute(Ve),Zt===void 0)return;Br=2}const _e=Ve.drawRange,$e=Ve.attributes.position;let Ot=_e.start*Br,lr=(_e.start+_e.count)*Br;yt!==null&&(Ot=Math.max(Ot,yt.start*Br),lr=Math.min(lr,(yt.start+yt.count)*Br)),Zt!==null?(Ot=Math.max(Ot,0),lr=Math.min(lr,Zt.count)):$e!=null&&(Ot=Math.max(Ot,0),lr=Math.min(lr,$e.count));const Yt=lr-Ot;if(Yt<0||Yt===1/0)return;Ge.setup(De,Qe,zt,Ve,Zt);let hr,Rr=Rt;if(Zt!==null&&(hr=We.get(Zt),Rr=mr,Rr.setIndex(hr)),De.isMesh)Qe.wireframe===!0?(Oe.setLineWidth(Qe.wireframeLinewidth*lt()),Rr.setMode(ne.LINES)):Rr.setMode(ne.TRIANGLES);else if(De.isLine){let nr=Qe.linewidth;nr===void 0&&(nr=1),Oe.setLineWidth(nr*lt()),De.isLineSegments?Rr.setMode(ne.LINES):De.isLineLoop?Rr.setMode(ne.LINE_LOOP):Rr.setMode(ne.LINE_STRIP)}else De.isPoints?Rr.setMode(ne.POINTS):De.isSprite&&Rr.setMode(ne.TRIANGLES);if(De.isBatchedMesh)if(De._multiDrawInstances!==null)Rr.renderMultiDrawInstances(De._multiDrawStarts,De._multiDrawCounts,De._multiDrawCount,De._multiDrawInstances);else if(ie.get("WEBGL_multi_draw"))Rr.renderMultiDraw(De._multiDrawStarts,De._multiDrawCounts,De._multiDrawCount);else{const nr=De._multiDrawStarts,fs=De._multiDrawCounts,Or=De._multiDrawCount,us=Zt?We.get(Zt).bytesPerElement:1,_a=ze.get(Qe).currentProgram.getUniforms();for(let bs=0;bs<Or;bs++)_a.setValue(ne,"_gl_DrawID",bs),Rr.render(nr[bs]/us,fs[bs])}else if(De.isInstancedMesh)Rr.renderInstances(Ot,Yt,De.count);else if(Ve.isInstancedBufferGeometry){const nr=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,fs=Math.min(Ve.instanceCount,nr);Rr.renderInstances(Ot,Yt,fs)}else Rr.render(Ot,Yt)};function sr(de,Le,Ve){de.transparent===!0&&de.side===yf&&de.forceSinglePass===!1?(de.side=Ql,de.needsUpdate=!0,Ee(de,Le,Ve),de.side=wm,de.needsUpdate=!0,Ee(de,Le,Ve),de.side=yf):Ee(de,Le,Ve)}this.compile=function(de,Le,Ve=null){Ve===null&&(Ve=de),v=_t.get(Ve),v.init(Le),b.push(v),Ve.traverseVisible(function(De){De.isLight&&De.layers.test(Le.layers)&&(v.pushLight(De),De.castShadow&&v.pushShadow(De))}),de!==Ve&&de.traverseVisible(function(De){De.isLight&&De.layers.test(Le.layers)&&(v.pushLight(De),De.castShadow&&v.pushShadow(De))}),v.setupLights();const Qe=new Set;return de.traverse(function(De){if(!(De.isMesh||De.isPoints||De.isLine||De.isSprite))return;const yt=De.material;if(yt)if(Array.isArray(yt))for(let Ut=0;Ut<yt.length;Ut++){const zt=yt[Ut];sr(zt,Ve,De),Qe.add(zt)}else sr(yt,Ve,De),Qe.add(yt)}),b.pop(),v=null,Qe},this.compileAsync=function(de,Le,Ve=null){const Qe=this.compile(de,Le,Ve);return new Promise(De=>{function yt(){if(Qe.forEach(function(Ut){ze.get(Ut).currentProgram.isReady()&&Qe.delete(Ut)}),Qe.size===0){De(de);return}setTimeout(yt,10)}ie.get("KHR_parallel_shader_compile")!==null?yt():setTimeout(yt,10)})};let cr=null;function Ts(de){cr&&cr(de)}function tn(){on.stop()}function Ls(){on.start()}const on=new AY;on.setAnimationLoop(Ts),typeof self<"u"&&on.setContext(self),this.setAnimationLoop=function(de){cr=de,qe.setAnimationLoop(de),de===null?on.stop():on.start()},qe.addEventListener("sessionstart",tn),qe.addEventListener("sessionend",Ls),this.render=function(de,Le){if(Le!==void 0&&Le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Le.parent===null&&Le.matrixWorldAutoUpdate===!0&&Le.updateMatrixWorld(),qe.enabled===!0&&qe.isPresenting===!0&&(qe.cameraAutoUpdate===!0&&qe.updateCamera(Le),Le=qe.getCamera()),de.isScene===!0&&de.onBeforeRender(S,de,Le,P),v=_t.get(de,b.length),v.init(Le),b.push(v),ge.multiplyMatrices(Le.projectionMatrix,Le.matrixWorldInverse),z.setFromProjectionMatrix(ge),oe=this.localClippingEnabled,K=et.init(this.clippingPlanes,oe),x=vt.get(de,j.length),x.init(),j.push(x),qe.enabled===!0&&qe.isPresenting===!0){const yt=S.xr.getDepthSensingMesh();yt!==null&&hs(yt,Le,-1/0,S.sortObjects)}hs(de,Le,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(ee,Y),le=qe.enabled===!1||qe.isPresenting===!1||qe.hasDepthSensing()===!1,le&&Lt.addToRenderList(x,de),this.info.render.frame++,K===!0&&et.beginShadows();const Ve=v.state.shadowsArray;It.render(Ve,de,Le),K===!0&&et.endShadows(),this.info.autoReset===!0&&this.info.reset();const Qe=x.opaque,De=x.transmissive;if(v.setupLights(),Le.isArrayCamera){const yt=Le.cameras;if(De.length>0)for(let Ut=0,zt=yt.length;Ut<zt;Ut++){const Zt=yt[Ut];me(Qe,De,de,Zt)}le&&Lt.render(de);for(let Ut=0,zt=yt.length;Ut<zt;Ut++){const Zt=yt[Ut];Rs(x,de,Zt,Zt.viewport)}}else De.length>0&&me(Qe,De,de,Le),le&&Lt.render(de),Rs(x,de,Le);P!==null&&(ce.updateMultisampleRenderTarget(P),ce.updateRenderTargetMipmap(P)),de.isScene===!0&&de.onAfterRender(S,de,Le),Ge.resetDefaultState(),_=-1,B=null,b.pop(),b.length>0?(v=b[b.length-1],K===!0&&et.setGlobalState(S.clippingPlanes,v.state.camera)):v=null,j.pop(),j.length>0?x=j[j.length-1]:x=null};function hs(de,Le,Ve,Qe){if(de.visible===!1)return;if(de.layers.test(Le.layers)){if(de.isGroup)Ve=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(Le);else if(de.isLight)v.pushLight(de),de.castShadow&&v.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||z.intersectsSprite(de)){Qe&&ye.setFromMatrixPosition(de.matrixWorld).applyMatrix4(ge);const Ut=tt.update(de),zt=de.material;zt.visible&&x.push(de,Ut,zt,Ve,ye.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(!de.frustumCulled||z.intersectsObject(de))){const Ut=tt.update(de),zt=de.material;if(Qe&&(de.boundingSphere!==void 0?(de.boundingSphere===null&&de.computeBoundingSphere(),ye.copy(de.boundingSphere.center)):(Ut.boundingSphere===null&&Ut.computeBoundingSphere(),ye.copy(Ut.boundingSphere.center)),ye.applyMatrix4(de.matrixWorld).applyMatrix4(ge)),Array.isArray(zt)){const Zt=Ut.groups;for(let Br=0,_e=Zt.length;Br<_e;Br++){const $e=Zt[Br],Ot=zt[$e.materialIndex];Ot&&Ot.visible&&x.push(de,Ut,Ot,Ve,ye.z,$e)}}else zt.visible&&x.push(de,Ut,zt,Ve,ye.z,null)}}const yt=de.children;for(let Ut=0,zt=yt.length;Ut<zt;Ut++)hs(yt[Ut],Le,Ve,Qe)}function Rs(de,Le,Ve,Qe){const De=de.opaque,yt=de.transmissive,Ut=de.transparent;v.setupLightsView(Ve),K===!0&&et.setGlobalState(S.clippingPlanes,Ve),Qe&&Oe.viewport(k.copy(Qe)),De.length>0&&ke(De,Le,Ve),yt.length>0&&ke(yt,Le,Ve),Ut.length>0&&ke(Ut,Le,Ve),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function me(de,Le,Ve,Qe){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[Qe.id]===void 0&&(v.state.transmissionRenderTarget[Qe.id]=new _A(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")||ie.has("EXT_color_buffer_float")?kw:Uf,minFilter:Xp,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xs.workingColorSpace}));const yt=v.state.transmissionRenderTarget[Qe.id],Ut=Qe.viewport||k;yt.setSize(Ut.z,Ut.w);const zt=S.getRenderTarget();S.setRenderTarget(yt),S.getClearColor(H),L=S.getClearAlpha(),L<1&&S.setClearColor(16777215,.5),S.clear(),le&&Lt.render(Ve);const Zt=S.toneMapping;S.toneMapping=hm;const Br=Qe.viewport;if(Qe.viewport!==void 0&&(Qe.viewport=void 0),v.setupLightsView(Qe),K===!0&&et.setGlobalState(S.clippingPlanes,Qe),ke(de,Ve,Qe),ce.updateMultisampleRenderTarget(yt),ce.updateRenderTargetMipmap(yt),ie.has("WEBGL_multisampled_render_to_texture")===!1){let _e=!1;for(let $e=0,Ot=Le.length;$e<Ot;$e++){const lr=Le[$e],Yt=lr.object,hr=lr.geometry,Rr=lr.material,nr=lr.group;if(Rr.side===yf&&Yt.layers.test(Qe.layers)){const fs=Rr.side;Rr.side=Ql,Rr.needsUpdate=!0,je(Yt,Ve,Qe,hr,Rr,nr),Rr.side=fs,Rr.needsUpdate=!0,_e=!0}}_e===!0&&(ce.updateMultisampleRenderTarget(yt),ce.updateRenderTargetMipmap(yt))}S.setRenderTarget(zt),S.setClearColor(H,L),Br!==void 0&&(Qe.viewport=Br),S.toneMapping=Zt}function ke(de,Le,Ve){const Qe=Le.isScene===!0?Le.overrideMaterial:null;for(let De=0,yt=de.length;De<yt;De++){const Ut=de[De],zt=Ut.object,Zt=Ut.geometry,Br=Qe===null?Ut.material:Qe,_e=Ut.group;zt.layers.test(Ve.layers)&&je(zt,Le,Ve,Zt,Br,_e)}}function je(de,Le,Ve,Qe,De,yt){de.onBeforeRender(S,Le,Ve,Qe,De,yt),de.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),De.onBeforeRender(S,Le,Ve,Qe,de,yt),De.transparent===!0&&De.side===yf&&De.forceSinglePass===!1?(De.side=Ql,De.needsUpdate=!0,S.renderBufferDirect(Ve,Le,Qe,De,de,yt),De.side=wm,De.needsUpdate=!0,S.renderBufferDirect(Ve,Le,Qe,De,de,yt),De.side=yf):S.renderBufferDirect(Ve,Le,Qe,De,de,yt),de.onAfterRender(S,Le,Ve,Qe,De,yt)}function Ee(de,Le,Ve){Le.isScene!==!0&&(Le=Pe);const Qe=ze.get(de),De=v.state.lights,yt=v.state.shadowsArray,Ut=De.state.version,zt=Tt.getParameters(de,De.state,yt,Le,Ve),Zt=Tt.getProgramCacheKey(zt);let Br=Qe.programs;Qe.environment=de.isMeshStandardMaterial?Le.environment:null,Qe.fog=Le.fog,Qe.envMap=(de.isMeshStandardMaterial?Se:ae).get(de.envMap||Qe.environment),Qe.envMapRotation=Qe.environment!==null&&de.envMap===null?Le.environmentRotation:de.envMapRotation,Br===void 0&&(de.addEventListener("dispose",Xt),Br=new Map,Qe.programs=Br);let _e=Br.get(Zt);if(_e!==void 0){if(Qe.currentProgram===_e&&Qe.lightsStateVersion===Ut)return Be(de,zt),_e}else zt.uniforms=Tt.getUniforms(de),de.onBeforeCompile(zt,S),_e=Tt.acquireProgram(zt,Zt),Br.set(Zt,_e),Qe.uniforms=zt.uniforms;const $e=Qe.uniforms;return(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&($e.clippingPlanes=et.uniform),Be(de,zt),Qe.needsLights=dt(de),Qe.lightsStateVersion=Ut,Qe.needsLights&&($e.ambientLightColor.value=De.state.ambient,$e.lightProbe.value=De.state.probe,$e.directionalLights.value=De.state.directional,$e.directionalLightShadows.value=De.state.directionalShadow,$e.spotLights.value=De.state.spot,$e.spotLightShadows.value=De.state.spotShadow,$e.rectAreaLights.value=De.state.rectArea,$e.ltc_1.value=De.state.rectAreaLTC1,$e.ltc_2.value=De.state.rectAreaLTC2,$e.pointLights.value=De.state.point,$e.pointLightShadows.value=De.state.pointShadow,$e.hemisphereLights.value=De.state.hemi,$e.directionalShadowMap.value=De.state.directionalShadowMap,$e.directionalShadowMatrix.value=De.state.directionalShadowMatrix,$e.spotShadowMap.value=De.state.spotShadowMap,$e.spotLightMatrix.value=De.state.spotLightMatrix,$e.spotLightMap.value=De.state.spotLightMap,$e.pointShadowMap.value=De.state.pointShadowMap,$e.pointShadowMatrix.value=De.state.pointShadowMatrix),Qe.currentProgram=_e,Qe.uniformsList=null,_e}function Fe(de){if(de.uniformsList===null){const Le=de.currentProgram.getUniforms();de.uniformsList=zN.seqWithValue(Le.seq,de.uniforms)}return de.uniformsList}function Be(de,Le){const Ve=ze.get(de);Ve.outputColorSpace=Le.outputColorSpace,Ve.batching=Le.batching,Ve.batchingColor=Le.batchingColor,Ve.instancing=Le.instancing,Ve.instancingColor=Le.instancingColor,Ve.instancingMorph=Le.instancingMorph,Ve.skinning=Le.skinning,Ve.morphTargets=Le.morphTargets,Ve.morphNormals=Le.morphNormals,Ve.morphColors=Le.morphColors,Ve.morphTargetsCount=Le.morphTargetsCount,Ve.numClippingPlanes=Le.numClippingPlanes,Ve.numIntersection=Le.numClipIntersection,Ve.vertexAlphas=Le.vertexAlphas,Ve.vertexTangents=Le.vertexTangents,Ve.toneMapping=Le.toneMapping}function it(de,Le,Ve,Qe,De){Le.isScene!==!0&&(Le=Pe),ce.resetTextureUnits();const yt=Le.fog,Ut=Qe.isMeshStandardMaterial?Le.environment:null,zt=P===null?S.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Zg,Zt=(Qe.isMeshStandardMaterial?Se:ae).get(Qe.envMap||Ut),Br=Qe.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,_e=!!Ve.attributes.tangent&&(!!Qe.normalMap||Qe.anisotropy>0),$e=!!Ve.morphAttributes.position,Ot=!!Ve.morphAttributes.normal,lr=!!Ve.morphAttributes.color;let Yt=hm;Qe.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Yt=S.toneMapping);const hr=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Rr=hr!==void 0?hr.length:0,nr=ze.get(Qe),fs=v.state.lights;if(K===!0&&(oe===!0||de!==B)){const Zn=de===B&&Qe.id===_;et.setState(Qe,de,Zn)}let Or=!1;Qe.version===nr.__version?(nr.needsLights&&nr.lightsStateVersion!==fs.state.version||nr.outputColorSpace!==zt||De.isBatchedMesh&&nr.batching===!1||!De.isBatchedMesh&&nr.batching===!0||De.isBatchedMesh&&nr.batchingColor===!0&&De.colorTexture===null||De.isBatchedMesh&&nr.batchingColor===!1&&De.colorTexture!==null||De.isInstancedMesh&&nr.instancing===!1||!De.isInstancedMesh&&nr.instancing===!0||De.isSkinnedMesh&&nr.skinning===!1||!De.isSkinnedMesh&&nr.skinning===!0||De.isInstancedMesh&&nr.instancingColor===!0&&De.instanceColor===null||De.isInstancedMesh&&nr.instancingColor===!1&&De.instanceColor!==null||De.isInstancedMesh&&nr.instancingMorph===!0&&De.morphTexture===null||De.isInstancedMesh&&nr.instancingMorph===!1&&De.morphTexture!==null||nr.envMap!==Zt||Qe.fog===!0&&nr.fog!==yt||nr.numClippingPlanes!==void 0&&(nr.numClippingPlanes!==et.numPlanes||nr.numIntersection!==et.numIntersection)||nr.vertexAlphas!==Br||nr.vertexTangents!==_e||nr.morphTargets!==$e||nr.morphNormals!==Ot||nr.morphColors!==lr||nr.toneMapping!==Yt||nr.morphTargetsCount!==Rr)&&(Or=!0):(Or=!0,nr.__version=Qe.version);let us=nr.currentProgram;Or===!0&&(us=Ee(Qe,Le,De));let _a=!1,bs=!1,Fn=!1;const Ns=us.getUniforms(),ei=nr.uniforms;if(Oe.useProgram(us.program)&&(_a=!0,bs=!0,Fn=!0),Qe.id!==_&&(_=Qe.id,bs=!0),_a||B!==de){Oe.buffers.depth.getReversed()?(ue.copy(de.projectionMatrix),N0e(ue),S0e(ue),Ns.setValue(ne,"projectionMatrix",ue)):Ns.setValue(ne,"projectionMatrix",de.projectionMatrix),Ns.setValue(ne,"viewMatrix",de.matrixWorldInverse);const Pn=Ns.map.cameraPosition;Pn!==void 0&&Pn.setValue(ne,pe.setFromMatrixPosition(de.matrixWorld)),Ce.logarithmicDepthBuffer&&Ns.setValue(ne,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),(Qe.isMeshPhongMaterial||Qe.isMeshToonMaterial||Qe.isMeshLambertMaterial||Qe.isMeshBasicMaterial||Qe.isMeshStandardMaterial||Qe.isShaderMaterial)&&Ns.setValue(ne,"isOrthographic",de.isOrthographicCamera===!0),B!==de&&(B=de,bs=!0,Fn=!0)}if(De.isSkinnedMesh){Ns.setOptional(ne,De,"bindMatrix"),Ns.setOptional(ne,De,"bindMatrixInverse");const Zn=De.skeleton;Zn&&(Zn.boneTexture===null&&Zn.computeBoneTexture(),Ns.setValue(ne,"boneTexture",Zn.boneTexture,ce))}De.isBatchedMesh&&(Ns.setOptional(ne,De,"batchingTexture"),Ns.setValue(ne,"batchingTexture",De._matricesTexture,ce),Ns.setOptional(ne,De,"batchingIdTexture"),Ns.setValue(ne,"batchingIdTexture",De._indirectTexture,ce),Ns.setOptional(ne,De,"batchingColorTexture"),De._colorsTexture!==null&&Ns.setValue(ne,"batchingColorTexture",De._colorsTexture,ce));const ti=Ve.morphAttributes;if((ti.position!==void 0||ti.normal!==void 0||ti.color!==void 0)&&Gt.update(De,Ve,us),(bs||nr.receiveShadow!==De.receiveShadow)&&(nr.receiveShadow=De.receiveShadow,Ns.setValue(ne,"receiveShadow",De.receiveShadow)),Qe.isMeshGouraudMaterial&&Qe.envMap!==null&&(ei.envMap.value=Zt,ei.flipEnvMap.value=Zt.isCubeTexture&&Zt.isRenderTargetTexture===!1?-1:1),Qe.isMeshStandardMaterial&&Qe.envMap===null&&Le.environment!==null&&(ei.envMapIntensity.value=Le.environmentIntensity),bs&&(Ns.setValue(ne,"toneMappingExposure",S.toneMappingExposure),nr.needsLights&&wt(ei,Fn),yt&&Qe.fog===!0&&ft.refreshFogUniforms(ei,yt),ft.refreshMaterialUniforms(ei,Qe,V,O,v.state.transmissionRenderTarget[de.id]),zN.upload(ne,Fe(nr),ei,ce)),Qe.isShaderMaterial&&Qe.uniformsNeedUpdate===!0&&(zN.upload(ne,Fe(nr),ei,ce),Qe.uniformsNeedUpdate=!1),Qe.isSpriteMaterial&&Ns.setValue(ne,"center",De.center),Ns.setValue(ne,"modelViewMatrix",De.modelViewMatrix),Ns.setValue(ne,"normalMatrix",De.normalMatrix),Ns.setValue(ne,"modelMatrix",De.matrixWorld),Qe.isShaderMaterial||Qe.isRawShaderMaterial){const Zn=Qe.uniformsGroups;for(let Pn=0,Tc=Zn.length;Pn<Tc;Pn++){const ms=Zn[Pn];we.update(ms,us),we.bind(ms,us)}}return us}function wt(de,Le){de.ambientLightColor.needsUpdate=Le,de.lightProbe.needsUpdate=Le,de.directionalLights.needsUpdate=Le,de.directionalLightShadows.needsUpdate=Le,de.pointLights.needsUpdate=Le,de.pointLightShadows.needsUpdate=Le,de.spotLights.needsUpdate=Le,de.spotLightShadows.needsUpdate=Le,de.rectAreaLights.needsUpdate=Le,de.hemisphereLights.needsUpdate=Le}function dt(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(de,Le,Ve){ze.get(de.texture).__webglTexture=Le,ze.get(de.depthTexture).__webglTexture=Ve;const Qe=ze.get(de);Qe.__hasExternalTextures=!0,Qe.__autoAllocateDepthBuffer=Ve===void 0,Qe.__autoAllocateDepthBuffer||ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Qe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(de,Le){const Ve=ze.get(de);Ve.__webglFramebuffer=Le,Ve.__useDefaultFramebuffer=Le===void 0},this.setRenderTarget=function(de,Le=0,Ve=0){P=de,N=Le,E=Ve;let Qe=!0,De=null,yt=!1,Ut=!1;if(de){const Zt=ze.get(de);if(Zt.__useDefaultFramebuffer!==void 0)Oe.bindFramebuffer(ne.FRAMEBUFFER,null),Qe=!1;else if(Zt.__webglFramebuffer===void 0)ce.setupRenderTarget(de);else if(Zt.__hasExternalTextures)ce.rebindTextures(de,ze.get(de.texture).__webglTexture,ze.get(de.depthTexture).__webglTexture);else if(de.depthBuffer){const $e=de.depthTexture;if(Zt.__boundDepthTexture!==$e){if($e!==null&&ze.has($e)&&(de.width!==$e.image.width||de.height!==$e.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(de)}}const Br=de.texture;(Br.isData3DTexture||Br.isDataArrayTexture||Br.isCompressedArrayTexture)&&(Ut=!0);const _e=ze.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(Array.isArray(_e[Le])?De=_e[Le][Ve]:De=_e[Le],yt=!0):de.samples>0&&ce.useMultisampledRTT(de)===!1?De=ze.get(de).__webglMultisampledFramebuffer:Array.isArray(_e)?De=_e[Ve]:De=_e,k.copy(de.viewport),M.copy(de.scissor),T=de.scissorTest}else k.copy(re).multiplyScalar(V).floor(),M.copy(D).multiplyScalar(V).floor(),T=G;if(Oe.bindFramebuffer(ne.FRAMEBUFFER,De)&&Qe&&Oe.drawBuffers(de,De),Oe.viewport(k),Oe.scissor(M),Oe.setScissorTest(T),yt){const Zt=ze.get(de.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Zt.__webglTexture,Ve)}else if(Ut){const Zt=ze.get(de.texture),Br=Le||0;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Zt.__webglTexture,Ve||0,Br)}_=-1},this.readRenderTargetPixels=function(de,Le,Ve,Qe,De,yt,Ut){if(!(de&&de.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zt=ze.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&Ut!==void 0&&(zt=zt[Ut]),zt){Oe.bindFramebuffer(ne.FRAMEBUFFER,zt);try{const Zt=de.texture,Br=Zt.format,_e=Zt.type;if(!Ce.textureFormatReadable(Br)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(_e)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Le>=0&&Le<=de.width-Qe&&Ve>=0&&Ve<=de.height-De&&ne.readPixels(Le,Ve,Qe,De,Ht.convert(Br),Ht.convert(_e),yt)}finally{const Zt=P!==null?ze.get(P).__webglFramebuffer:null;Oe.bindFramebuffer(ne.FRAMEBUFFER,Zt)}}},this.readRenderTargetPixelsAsync=async function(de,Le,Ve,Qe,De,yt,Ut){if(!(de&&de.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let zt=ze.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&Ut!==void 0&&(zt=zt[Ut]),zt){const Zt=de.texture,Br=Zt.format,_e=Zt.type;if(!Ce.textureFormatReadable(Br))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(_e))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Le>=0&&Le<=de.width-Qe&&Ve>=0&&Ve<=de.height-De){Oe.bindFramebuffer(ne.FRAMEBUFFER,zt);const $e=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,$e),ne.bufferData(ne.PIXEL_PACK_BUFFER,yt.byteLength,ne.STREAM_READ),ne.readPixels(Le,Ve,Qe,De,Ht.convert(Br),Ht.convert(_e),0);const Ot=P!==null?ze.get(P).__webglFramebuffer:null;Oe.bindFramebuffer(ne.FRAMEBUFFER,Ot);const lr=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await j0e(ne,lr,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,$e),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,yt),ne.deleteBuffer($e),ne.deleteSync(lr),yt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(de,Le=null,Ve=0){de.isTexture!==!0&&(lg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Le=arguments[0]||null,de=arguments[1]);const Qe=Math.pow(2,-Ve),De=Math.floor(de.image.width*Qe),yt=Math.floor(de.image.height*Qe),Ut=Le!==null?Le.x:0,zt=Le!==null?Le.y:0;ce.setTexture2D(de,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,Ve,0,0,Ut,zt,De,yt),Oe.unbindTexture()};const ut=ne.createFramebuffer(),xt=ne.createFramebuffer();this.copyTextureToTexture=function(de,Le,Ve=null,Qe=null,De=0,yt=null){de.isTexture!==!0&&(lg("WebGLRenderer: copyTextureToTexture function signature has changed."),Qe=arguments[0]||null,de=arguments[1],Le=arguments[2],yt=arguments[3]||0,Ve=null),yt===null&&(De!==0?(lg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),yt=De,De=0):yt=0);let Ut,zt,Zt,Br,_e,$e,Ot,lr,Yt;const hr=de.isCompressedTexture?de.mipmaps[yt]:de.image;if(Ve!==null)Ut=Ve.max.x-Ve.min.x,zt=Ve.max.y-Ve.min.y,Zt=Ve.isBox3?Ve.max.z-Ve.min.z:1,Br=Ve.min.x,_e=Ve.min.y,$e=Ve.isBox3?Ve.min.z:0;else{const ti=Math.pow(2,-De);Ut=Math.floor(hr.width*ti),zt=Math.floor(hr.height*ti),de.isDataArrayTexture?Zt=hr.depth:de.isData3DTexture?Zt=Math.floor(hr.depth*ti):Zt=1,Br=0,_e=0,$e=0}Qe!==null?(Ot=Qe.x,lr=Qe.y,Yt=Qe.z):(Ot=0,lr=0,Yt=0);const Rr=Ht.convert(Le.format),nr=Ht.convert(Le.type);let fs;Le.isData3DTexture?(ce.setTexture3D(Le,0),fs=ne.TEXTURE_3D):Le.isDataArrayTexture||Le.isCompressedArrayTexture?(ce.setTexture2DArray(Le,0),fs=ne.TEXTURE_2D_ARRAY):(ce.setTexture2D(Le,0),fs=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Le.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Le.unpackAlignment);const Or=ne.getParameter(ne.UNPACK_ROW_LENGTH),us=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),_a=ne.getParameter(ne.UNPACK_SKIP_PIXELS),bs=ne.getParameter(ne.UNPACK_SKIP_ROWS),Fn=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,hr.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,hr.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Br),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,_e),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,$e);const Ns=de.isDataArrayTexture||de.isData3DTexture,ei=Le.isDataArrayTexture||Le.isData3DTexture;if(de.isDepthTexture){const ti=ze.get(de),Zn=ze.get(Le),Pn=ze.get(ti.__renderTarget),Tc=ze.get(Zn.__renderTarget);Oe.bindFramebuffer(ne.READ_FRAMEBUFFER,Pn.__webglFramebuffer),Oe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Tc.__webglFramebuffer);for(let ms=0;ms<Zt;ms++)Ns&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ze.get(de).__webglTexture,De,$e+ms),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ze.get(Le).__webglTexture,yt,Yt+ms)),ne.blitFramebuffer(Br,_e,Ut,zt,Ot,lr,Ut,zt,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Oe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(De!==0||de.isRenderTargetTexture||ze.has(de)){const ti=ze.get(de),Zn=ze.get(Le);Oe.bindFramebuffer(ne.READ_FRAMEBUFFER,ut),Oe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,xt);for(let Pn=0;Pn<Zt;Pn++)Ns?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ti.__webglTexture,De,$e+Pn):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,ti.__webglTexture,De),ei?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Zn.__webglTexture,yt,Yt+Pn):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Zn.__webglTexture,yt),De!==0?ne.blitFramebuffer(Br,_e,Ut,zt,Ot,lr,Ut,zt,ne.COLOR_BUFFER_BIT,ne.NEAREST):ei?ne.copyTexSubImage3D(fs,yt,Ot,lr,Yt+Pn,Br,_e,Ut,zt):ne.copyTexSubImage2D(fs,yt,Ot,lr,Br,_e,Ut,zt);Oe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else ei?de.isDataTexture||de.isData3DTexture?ne.texSubImage3D(fs,yt,Ot,lr,Yt,Ut,zt,Zt,Rr,nr,hr.data):Le.isCompressedArrayTexture?ne.compressedTexSubImage3D(fs,yt,Ot,lr,Yt,Ut,zt,Zt,Rr,hr.data):ne.texSubImage3D(fs,yt,Ot,lr,Yt,Ut,zt,Zt,Rr,nr,hr):de.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,yt,Ot,lr,Ut,zt,Rr,nr,hr.data):de.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,yt,Ot,lr,hr.width,hr.height,Rr,hr.data):ne.texSubImage2D(ne.TEXTURE_2D,yt,Ot,lr,Ut,zt,Rr,nr,hr);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Or),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,us),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,_a),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,bs),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Fn),yt===0&&Le.generateMipmaps&&ne.generateMipmap(fs),Oe.unbindTexture()},this.copyTextureToTexture3D=function(de,Le,Ve=null,Qe=null,De=0){return de.isTexture!==!0&&(lg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ve=arguments[0]||null,Qe=arguments[1]||null,de=arguments[2],Le=arguments[3],De=arguments[4]||0),lg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(de,Le,Ve,Qe,De)},this.initRenderTarget=function(de){ze.get(de).__webglFramebuffer===void 0&&ce.setupRenderTarget(de)},this.initTexture=function(de){de.isCubeTexture?ce.setTextureCube(de,0):de.isData3DTexture?ce.setTexture3D(de,0):de.isDataArrayTexture||de.isCompressedArrayTexture?ce.setTexture2DArray(de,0):ce.setTexture2D(de,0),Oe.unbindTexture()},this.resetState=function(){N=0,E=0,P=null,Oe.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return wf}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const r=this.getContext();r.drawingBufferColorspace=Xs._getDrawingBufferColorSpace(e),r.unpackColorSpace=Xs._getUnpackColorSpace()}}const Qge=({assignmentType:t,filter:e,setFilter:r})=>{var le,lt;const[n,a]=F.useState(""),[i,o]=F.useState("due_asc"),[l,c]=F.useState([]),[d,u]=F.useState(0),[h,m]=F.useState(!1),[f,A]=F.useState({}),[g,x]=F.useState(!1),[v,j]=F.useState("6"),[b,S]=F.useState("math"),[w,N]=F.useState("mcq"),[E,P]=F.useState({}),[_,B]=F.useState(null),[k,M]=F.useState(!1),T=F.useRef(null),H=F.useRef(null),L=F.useRef(null),Q=F.useRef(null),O=F.useRef(null),[V,ee]=F.useState({rotation:0,zoom:1,lightIntensity:1}),Y=[{id:1,title:"Geometry Project",course:"Mathematics",dueDate:"2025-06-20",status:"pending",priority:"high",description:"Design and explain properties of different types of triangles",submissionType:"file",maxMarks:100},{id:2,title:"Essay Writing Assignment",course:"English",dueDate:"2025-06-18",status:"completed",priority:"medium",description:"Write an essay on the importance of environmental conservation",submissionType:"text",maxMarks:80},{id:3,title:"Science Lab Report",course:"Chemistry",dueDate:"2025-06-15",status:"overdue",priority:"high",description:"Analyze the results of the acid-base titration experiment",submissionType:"file",maxMarks:90}],re={6:{math:{mcq:[{q:"What is 7+5?",o:["10","11","12","13"],a:"12",e:"Simple addition"},{q:"What is 8*6?",o:["42","48","54","56"],a:"48",e:"Multiplication"}],blank:[{q:"Fill in the blank: 9 - 4 = ___",a:"5",e:"Simple subtraction"}]},science:{mcq:[{q:"What planet is closest to the Sun?",o:["Venus","Mercury","Earth","Mars"],a:"Mercury",e:"Mercury is the closest planet to the Sun"}],blank:[{q:"The process by which plants make food is called ___",a:"photosynthesis",e:"Plants use sunlight to make food"}]}},7:{math:{mcq:[{q:"What is 12*7?",o:["82","84","86","88"],a:"84",e:"Multiplication"},{q:"What is 15/3?",o:["3","4","5","6"],a:"5",e:"Division"}],blank:[{q:"Fill in the blank: 16 + 9 = ___",a:"25",e:"Simple addition"}]},science:{mcq:[{q:"What is the chemical symbol for gold?",o:["Go","Gd","Au","Ag"],a:"Au",e:"Gold has the chemical symbol Au"}],blank:[{q:"The largest organ in the human body is the ___",a:"skin",e:"Skin is the largest organ"}]}}},D=ne=>{switch(ne){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},G=ne=>{switch(ne){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},z=ne=>{switch(ne){case"completed":return s.jsx(Lr,{className:"w-5 h-5 text-green-600"});case"overdue":return s.jsx(Ir,{className:"w-5 h-5 text-red-600"});default:return s.jsx(dr,{className:"w-5 h-5 text-yellow-600"})}},K=ne=>new Date(ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=ne=>{const J=new Date,Ce=new Date(ne)-J;return Math.ceil(Ce/(1e3*60*60*24))},ue=Y.filter(ne=>ne.title.toLowerCase().includes(n.toLowerCase())||ne.course.toLowerCase().includes(n.toLowerCase())||ne.description.toLowerCase().includes(n.toLowerCase())?e==="all"?!0:e==="pending"?ne.status==="pending":e==="completed"?ne.status==="completed":e==="overdue"?ne.status==="overdue":!0:!1).sort((ne,J)=>{const ie={high:3,medium:2,low:1},Ce={overdue:3,pending:2,completed:1};return i==="due_asc"?new Date(ne.dueDate)-new Date(J.dueDate):i==="due_desc"?new Date(J.dueDate)-new Date(ne.dueDate):i==="priority"?(ie[J.priority]||0)-(ie[ne.priority]||0):i==="status"?(Ce[J.status]||0)-(Ce[ne.status]||0):0});F.useEffect(()=>{if(t!=="lab"){O.current&&cancelAnimationFrame(O.current),H.current&&(H.current.dispose(),H.current=null);return}if(!T.current)return;const ne=new K0e;ne.background=new Ys(16119285),L.current=ne;const J=new id(75,T.current.clientWidth/T.current.clientHeight,.1,1e3);J.position.set(0,5,10),Q.current=J;const ie=new Hge({antialias:!0});ie.setSize(T.current.clientWidth,T.current.clientHeight),ie.shadowMap.enabled=!0,ie.shadowMap.type=QX,H.current=ie,T.current.appendChild(ie.domElement);const Ce=new sme(4210752,.6);ne.add(Ce);const Oe=new rme(16777215,V.lightIntensity);Oe.position.set(5,10,5),Oe.castShadow=!0,ne.add(Oe);const Re=new Ov(2,2,2),ze=new fO({color:65280}),ce=new tu(Re,ze);ce.castShadow=!0,ne.add(ce);const ae=new Pw(20,20),Se=new fO({color:13421772}),We=new tu(ae,Se);We.rotation.x=-Math.PI/2,We.position.y=-2,We.receiveShadow=!0,ne.add(We);const Je=()=>{O.current=requestAnimationFrame(Je),ce.rotation.x+=.01,ce.rotation.y+=.01,ce.rotation.z=V.rotation*Math.PI/180,J.position.z=10/V.zoom,Oe.intensity=V.lightIntensity,ie.render(ne,J)};Je();const tt=()=>{if(!T.current)return;const Tt=T.current.clientWidth,ft=T.current.clientHeight;J.aspect=Tt/ft,J.updateProjectionMatrix(),ie.setSize(Tt,ft)};return window.addEventListener("resize",tt),()=>{var Tt;window.removeEventListener("resize",tt),O.current&&cancelAnimationFrame(O.current),H.current&&((Tt=T.current)==null||Tt.removeChild(ie.domElement),H.current.dispose())}},[t,V]);const ge=(ne,J)=>{P(ie=>({...ie,[ne]:J}))},pe=()=>{var Oe,Re;const ne=((Re=(Oe=re[v])==null?void 0:Oe[b])==null?void 0:Re[w])||[];let J=0;const ie={};if(ne.forEach((ze,ce)=>{const Se=(E[ce]||"").toLowerCase().trim()===ze.a.toLowerCase().trim();ie[ce]=Se,Se&&J++}),B(ie),Math.round(J/ne.length*100)>=70){UX(10);const ze=document.createElement("div");ze.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",ze.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+10 Points</span>',document.body.appendChild(ze),setTimeout(()=>document.body.removeChild(ze),1800)}};F.useEffect(()=>{if(t!=="flashcard")return;const ne=J=>{J.key===" "&&(J.preventDefault(),m(!h))};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[h,t]);const ye=({array:ne=[],insight:J,setInsight:ie})=>{const[Ce,Oe]=F.useState({}),[Re,ze]=F.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[ne.map((ce,ae)=>s.jsx("div",{className:"mb-5",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:ae+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-900 font-medium",children:ce.q}),s.jsx("div",{className:"mt-4 space-y-2",children:ce.o.map((Se,We)=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:`q${ae}`,value:Se,checked:Ce[ae]===Se,onChange:Je=>Oe(tt=>({...tt,[ae]:Je.target.value})),className:"text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:Se})]},We))}),Re&&Ce[ae]&&s.jsxs("div",{className:`mt-3 rounded-lg border p-3 text-sm ${Ce[ae]===ce.a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:Ce[ae]===ce.a?"text-green-800":"text-red-800",children:[s.jsx("span",{className:"font-semibold",children:"Your answer:"})," ",Ce[ae]," ",Ce[ae]===ce.a?"":""]}),Ce[ae]!==ce.a&&s.jsxs("div",{className:"text-green-800 mt-1",children:[s.jsx("span",{className:"font-semibold",children:"Correct answer:"})," ",ce.a]}),ce.e&&s.jsxs("div",{className:"text-gray-700 mt-1",children:[s.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",ce.e]})]})]})]})})})},ae)),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>ze(!Re),children:Re?"Hide Results":"Check Answers"})})]})},Pe=({array:ne=[],insight:J,setInsight:ie})=>s.jsx("div",{className:"space-y-6",children:ne.map((Ce,Oe)=>s.jsx("div",{className:"mb-5",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:Oe+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-900 font-medium",children:Ce.q}),s.jsx("div",{className:"mt-3",children:s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your answer here...",value:E[Oe]||"",onChange:Re=>ge(Oe,Re.target.value)})}),k&&s.jsxs("div",{className:"mt-3 rounded-lg bg-green-50 border border-green-200 p-3 text-sm",children:[s.jsxs("div",{className:"text-green-800",children:[s.jsx("span",{className:"font-semibold",children:"Answer:"})," ",Ce.a]}),Ce.e&&s.jsxs("div",{className:"text-green-700 mt-1",children:[s.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",Ce.e]})]})]})]})})})},Oe))});return t==="school"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[s.jsx(Ds,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),s.jsx("input",{value:n,onChange:ne=>a(ne.target.value),placeholder:"Search title, course, or description...",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("select",{value:i,onChange:ne=>o(ne.target.value),className:"w-full md:w-auto px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"due_asc",children:"Sort by Due (Earliest)"}),s.jsx("option",{value:"due_desc",children:"Sort by Due (Latest)"}),s.jsx("option",{value:"priority",children:"Sort by Priority"}),s.jsx("option",{value:"status",children:"Sort by Status"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","completed","overdue"].map(ne=>s.jsx("button",{onClick:()=>r(ne),className:`px-3 py-1.5 rounded-full text-sm font-medium capitalize border transition ${e===ne?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:ne},ne))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.length})]}),s.jsx(kr,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Y.filter(ne=>ne.status==="pending").length})]}),s.jsx(dr,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Y.filter(ne=>ne.status==="completed").length})]}),s.jsx(Lr,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y.filter(ne=>ne.status==="overdue").length})]}),s.jsx(Ir,{className:"w-8 h-8 text-red-600"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:ue.map(ne=>{const J=oe(ne.dueDate),ie=J<0?`${Math.abs(J)} days overdue`:`${J} days remaining`,Ce=J<0?"text-red-600 bg-red-50 border-red-200":J<=3?"text-amber-700 bg-amber-50 border-amber-200":"text-green-700 bg-green-50 border-green-200";return s.jsxs("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition overflow-hidden ${G(ne.priority)}`,children:[s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[z(ne.status),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:ne.title})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize border ${D(ne.status)}`,children:ne.status})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-sm text-gray-700",children:[s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(a4,{className:"w-4 h-4"}),ne.course]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(tr,{className:"w-4 h-4"}),"Due: ",K(ne.dueDate)]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:["Max Marks: ",ne.maxMarks]})]}),s.jsx("p",{className:"mt-3 text-gray-700 line-clamp-3",children:ne.description})]}),s.jsx("div",{className:"px-5 pb-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded border text-xs font-medium ${Ce}`,children:ie}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Submission: ",ne.submissionType]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ne.status==="pending"&&s.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Submit"}),s.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm inline-flex items-center gap-1",children:[s.jsx(is,{className:"w-4 h-4"}),"Download"]})]})]})})]},ne.id)})}),ue.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No assignments found."})})]}):t==="flashcard"?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3",children:[s.jsx("label",{htmlFor:"fcClass",className:"font-medium text-gray-700",children:"Class:"}),s.jsxs("select",{id:"fcClass",value:v,onChange:ne=>j(ne.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"6",children:"Class 6"}),s.jsx("option",{value:"7",children:"Class 7"}),s.jsx("option",{value:"8",children:"Class 8"}),s.jsx("option",{value:"9",children:"Class 9"}),s.jsx("option",{value:"10",children:"Class 10"})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"Flashcard functionality coming soon!"})})]}):t==="eec"?s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative",children:[s.jsx("div",{className:"p-6 sm:p-7 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"EEC Practice Paper"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Challenge yourself with curated questions"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:v,onChange:ne=>j(ne.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"6",children:"Class 6"}),s.jsx("option",{value:"7",children:"Class 7"})]}),s.jsx("select",{value:b,onChange:ne=>S(ne.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:s.jsx("option",{value:"math",children:"Math"})}),s.jsxs("select",{value:w,onChange:ne=>N(ne.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"mcq",children:"Multiple Choice"}),s.jsx("option",{value:"blank",children:"Fill in the Blank"})]})]})]})}),s.jsx("div",{className:"p-6 sm:p-7",children:w==="mcq"?s.jsx(ye,{array:(le=re[v][b])==null?void 0:le.mcq}):s.jsx(Pe,{array:(lt=re[v][b])==null?void 0:lt.blank})}),s.jsxs("div",{className:"p-6 sm:p-7 bg-gray-50 border-t border-gray-200 flex flex-wrap gap-3",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:pe,children:"Submit Answers"}),s.jsx("button",{className:`px-4 py-2 rounded-lg border ${k?"border-green-600 text-green-700 hover:bg-green-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:()=>{B(null),M(!k)},children:k?"Hide Explanations":"Show Explanations"})]})]}):t==="lab"?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Virtual Lab"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Explore interactive 3D models and simulations for enhanced learning"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3D Model Viewer"}),s.jsx("div",{ref:T,className:"w-full h-96 bg-gray-50 rounded-lg border border-gray-200 overflow-hidden"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lab Controls"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model Rotation (",Math.round(V.rotation),")"]}),s.jsx("input",{type:"range",min:"0",max:"360",value:V.rotation,onChange:ne=>ee(J=>({...J,rotation:parseInt(ne.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Zoom Level (",V.zoom.toFixed(1),"x)"]}),s.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:V.zoom,onChange:ne=>ee(J=>({...J,zoom:parseFloat(ne.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Light Intensity (",V.lightIntensity.toFixed(1),")"]}),s.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:V.lightIntensity,onChange:ne=>ee(J=>({...J,lightIntensity:parseFloat(ne.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Lab Instructions"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Use the controls to manipulate the 3D model"}),s.jsx("li",{children:" Adjust rotation to view from different angles"}),s.jsx("li",{children:" Change zoom to examine details closely"}),s.jsx("li",{children:" Modify lighting for better visibility"})]})]})]})]})]}):null},HO=["The sky is blue.","Cats can fly.","Water boils at 100C.","The earth is flat.","West Bengal is a country.","The sun rises in the east.","Fish can breathe underwater.","Mount Everest is the tallest mountain."];function zge(){const[t,e]=F.useState(Array(HO.length).fill(null)),r=(n,a)=>{e(i=>{const o=[...i];return o[n]=a,o})};return s.jsxs("div",{className:"max-w-2xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[s.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"Choice Matrix"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 text-black text-lg",children:"Statement"}),s.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"True"}),s.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"False"})]})}),s.jsx("tbody",{children:HO.map((n,a)=>s.jsxs("tr",{className:"border-b border-purple-100",children:[s.jsx("td",{className:"py-3 px-4 text-black",children:n}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("input",{type:"radio",id:`true-${a}`,name:`choice-${a}`,checked:t[a]===!0,onChange:()=>r(a,!0),className:"accent-purple-500 w-5 h-5"})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("input",{type:"radio",id:`false-${a}`,name:`choice-${a}`,checked:t[a]===!1,onChange:()=>r(a,!1),className:"accent-purple-500 w-5 h-5"})})]},a))})]})})]})}function $ge(){const[t,e]=F.useState([{question:"There are several different types of drums. The ${{blank}} drum is a long bodied drum typically held between the knees and played with the fingers. A drum with small metal disc around the edge played by being shaken is a ${{blank}}. Many years ago, a ${{blank}} drum was used to announce an army's arrival onto a battlefield. Finally, the biggest drum in a marching band is called a ${{blank}} drum.",options:["snare","bass","tom-tom","cymbal"],hint:["hint1","hint2","hint3","hint4"]}]),[r,n]=F.useState("down");return s.jsxs("section",{className:`${r=="left"||r=="right"?"w-[80vw]":"w-[60vw]"} m-auto flex flex-col items-center gap-3 pt-10`,children:[s.jsxs("div",{className:" top-2 right-2 flex gap-2 items-center",children:[s.jsx("label",{className:"text-purple-500",children:"Option Position:"}),s.jsxs("select",{name:"",id:"",className:"border-2 border-purple-500 p-2 rounded-xl",onChange:a=>n(a.target.value),children:[s.jsx("option",{value:"",hidden:!0,children:"Select Option Position"}),s.jsx("option",{value:"up",children:"Up"}),s.jsx("option",{value:"down",children:"Down"}),s.jsx("option",{value:"left",children:"Left"}),s.jsx("option",{value:"right",children:"Right"})]})]}),t.map((a,i)=>s.jsx(Gge,{question:a,optionPos:r},i))]})}function Gge({question:t,optionPos:e}){const r=t.question.split("${{blank}}"),[n,a]=F.useState(t.options),i=F.useRef([]),[o,l]=F.useState(n.map(()=>({show:!1,value:"",showHint:!1})));return s.jsxs("div",{className:`w-3/4 border flex ${e=="down"?"flex-col":e=="left"?"flex-row-reverse":e=="right"?"flex-row":"flex-col-reverse"} items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-l`,children:[s.jsx("div",{children:r.map((m,f)=>s.jsxs(Ue.Fragment,{children:[s.jsx("span",{className:"select-none text-black",children:m}),f<r.length-1?s.jsx("span",{ref:A=>i.current[f]=A,onDragOver:A=>A.preventDefault(),onDrop:A=>{const g=A.dataTransfer.getData("text"),x=[...o];x[f].show||(x[f].show=!0,x[f].value=g,l([...x]),a(n.filter(v=>v!==g)))},className:`inline-block px-4 py-1 min-w-15 min-h-7 border-dashed border-3 border-black ${o[f].show?"border-purple-400":""}`,children:o[f].show?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-black",children:o[f].value}),s.jsx("button",{onClick:()=>{const A=[...o];A[f].show=!1,l([...A]),a([...n,o[f].value])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):s.jsxs("div",{className:"relative",children:[s.jsx(ww,{className:"w-4 m-auto cursor-pointer",onClick:()=>{const A=[...o];A[f].showHint=!A[f].showHint,l([...A])}}),o[f].showHint&&s.jsxs("div",{className:"bg-yellow-100 p-2 absolute left-1/2 -translate-x-1/2 top-full z-10 border-1 border-black min-w-50 rounded-lg",children:[s.jsx("div",{className:"w-0 h-0 border-b-[15px] border-l-[7px] border-r-[7px] border-b-yellow-100 border-l-transparent border-r-transparent absolute left-1/2 -translate-x-1/2 bottom-full"}),s.jsx("p",{className:"text-xs",children:t.hint[f]})]})]})}):""]},f))}),s.jsxs("div",{className:"w-full relative",children:[s.jsx("div",{className:`absolute ${e=="up"?"-bottom-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[30px] border-t-yellow-100 border-b-0":e=="left"?"-right-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-l-[30px] border-l-yellow-100 border-r-0":e=="right"?"-left-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-r-[30px] border-r-yellow-100 border-l-0":"-top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0"} w-5 h-5`}),s.jsx("div",{className:`bg-yellow-100 w-full flex ${e!="up"&&e!="down"?"flex-col":""} items-center justify-center gap-2 p-5 rounded-xl`,children:n.map((m,f)=>s.jsx("div",{draggable:!0,onDragStart:A=>A.dataTransfer.setData("text",A.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:m},f))})]})]})}function Vge(){const[t,e]=F.useState([{question:"Yesterday, we ${{input}} to the store. Tomorrow we ${{input}} to school.",options:[["go","went","gone"],["go","will go","going"]]}]);return s.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((r,n)=>s.jsx(Wge,{question:r.question,options:r.options},n))})}function Wge({question:t,options:e}){const r=t.split("${{input}}");return s.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks from the drop down:"}),s.jsx("div",{children:r.map((n,a)=>s.jsxs(Ue.Fragment,{children:[s.jsx("span",{className:"select-none text-black",children:n}),a<r.length-1&&s.jsxs("select",{className:"border-2 p-2 border-purple-500 focus:outline-none w-24 text-black",children:[s.jsx("option",{value:"",hidden:!0}),e[a].map((i,o)=>s.jsx("option",{value:i,className:"text-black",children:i},o))]})]},a))})]})}function qge(){const[t,e]=F.useState(["We the ${{input}} of the United States, in order to form a more ${{input}}, establish justice, insure domestic tranquility, provide for the common defense, promote the ${{input}}, and secure the blessings of liberty to ourselves and our posterity, do ordain and establish ${{input}} for the United States of America."]);return s.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((r,n)=>s.jsx(Kge,{question:r},n))})}function Kge({question:t}){const e=t.split("${{input}}");return s.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks to complete the passage:"}),s.jsx("div",{children:e.map((r,n)=>s.jsxs(Ue.Fragment,{children:[s.jsx("span",{className:"select-none text-black",children:r}),n<e.length-1&&s.jsx("input",{type:"text",className:"border-2 pl-2 border-purple-500 focus:outline-none w-24 text-black"})]},n))})]})}function Xge(){const[t,e]=F.useState(null),[r,n]=F.useState(null),a=o=>{const l=o.target.files[0];if(e(l),l&&l.type.startsWith("image")){const c=new FileReader;c.onloadend=()=>{n(c.result)},c.readAsDataURL(l)}else n(null)},i=o=>{if(o.preventDefault(),!t){alert("Please select a file first!");return}alert(`Selected file: ${t.name}`)};return s.jsxs("div",{className:"max-w-lg mx-auto mt-12 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-black mb-6",children:"Upload a File"}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-dashed border-purple-400 rounded-lg p-6 text-center hover:bg-purple-50 transition cursor-pointer",children:[s.jsxs("label",{htmlFor:"fileInput",className:"block cursor-pointer",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-purple-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4a2 2 0 012-2h6a2 2 0 012 2v12m-5 4h.01M12 20v-4"})}),s.jsx("span",{className:"text-sm text-black",children:"Click to browse or drag & drop a file"})]}),s.jsx("input",{id:"fileInput",type:"file",onChange:a,className:"hidden"})]}),t&&s.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-3 rounded-md text-sm text-black",children:[s.jsx("span",{className:"font-medium",children:t.name}),s.jsxs("span",{className:"text-black text-xs",children:[(t.size/1024).toFixed(2)," KB"]})]}),r&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-black mb-1",children:"Preview:"}),s.jsx("img",{src:r,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"})]}),s.jsx("div",{children:s.jsx("h3",{className:"text-sm text-black text-center mt-2",children:"JPG, GIF, PNG, and PDF files are supported."})}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 text-white font-semibold rounded-md hover:bg-purple-700 transition",children:"Upload File"})})]})]})}function Yge(){const[t,e]=F.useState(null),[r,n]=F.useState("#22c55e"),[a,i]=F.useState([]),[o,l]=F.useState([]),[c,d]=F.useState([]),u=F.useRef(null),h=F.useRef(null),m=F.useRef(!1),f=F.useRef([]),A=()=>{const _=h.current;console.log(_);const B=u.current;_&&B&&(B.width=_.width,B.height=_.height)};F.useEffect(()=>{t&&h.current&&(h.current.onload=()=>{A()})},[t]);const g=_=>{const B=_.target.files[0];if(!B||!B.type.startsWith("image"))return;const k=new FileReader;k.onloadend=()=>e(k.result),k.readAsDataURL(B)},x=_=>{const B=u.current.getBoundingClientRect();return{x:_.clientX-B.left,y:_.clientY-B.top}},v=_=>{m.current=!0,f.current=[];const{x:B,y:k}=x(_);f.current.push({x:B,y:k,color:r})},j=_=>{if(!m.current)return;const{x:B,y:k}=x(_);f.current.push({x:B,y:k,color:r}),S([...c,f.current])},b=()=>{m.current&&(m.current=!1,d(_=>{const B=[..._,f.current];return i(B),l([]),B}))},S=_=>{const B=u.current,k=B.getContext("2d");k.clearRect(0,0,B.width,B.height),_.forEach(M=>{if(!(M.length<2)){k.beginPath(),k.moveTo(M[0].x,M[0].y);for(let T=1;T<M.length;T++)k.lineTo(M[T].x,M[T].y);k.strokeStyle=M[0].color,k.lineWidth=4,k.lineCap="round",k.lineJoin="round",k.shadowColor="rgba(0,0,0,0.1)",k.shadowBlur=1,k.stroke()}})},w=()=>{if(c.length===0)return;const _=[...c],B=_.pop();d(_),l(k=>[...k,B]),i(_),S(_)},N=()=>{if(o.length===0)return;const _=[...o],B=_.pop(),k=[...c,B];d(k),l(_),i(k),S(k)},E=()=>{d([]),i([]),l([]),u.current.getContext("2d").clearRect(0,0,u.current.width,u.current.height)},P=()=>{const _=document.createElement("canvas"),B=u.current.width,k=u.current.height;_.width=B,_.height=k;const M=_.getContext("2d"),T=new Image;T.src=t,T.onload=()=>{M.drawImage(T,0,0,B,k),M.drawImage(u.current,0,0);const H=document.createElement("a");H.download="highlighted-image.png",H.href=_.toDataURL(),H.click()}};return s.jsxs("div",{className:"max-w-lg mx-auto mt-5 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[s.jsx("h2",{className:"text-3xl font-bold text-black text-center mb-6",children:"Student Image Highlighter"}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full max-w-sm text-sm border rounded-md file:bg-purple-600 file:text-white file:px-4 file:py-2 file:border-0 file:rounded-lg file:cursor-pointer hover:file:bg-purple-700"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-black text-lg font-semibold",children:"Draw on the image:"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-black font-medium",children:"Green"})," = Healthy,",s.jsx("span",{className:"text-black font-medium ml-2",children:"Red"})," = Unhealthy"]})]}),t&&s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>n("#22c55e"),className:`px-4 py-2 rounded ${r==="#22c55e"?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:" Green"}),s.jsx("button",{onClick:()=>n("#ef4444"),className:`px-4 py-2 rounded ${r==="#ef4444"?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:" Red"})]}),t&&s.jsxs("div",{className:"relative border-2 border-purple-400 rounded-xl shadow-xl overflow-hidden",children:[s.jsx("img",{ref:h,src:t,alt:"To annotate",width:300,height:400,className:"block h-auto",onLoad:A}),s.jsx("canvas",{ref:u,className:"absolute top-0 left-0",onMouseDown:v,onMouseMove:j,onMouseUp:b,onMouseLeave:b})]}),t&&s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[s.jsx("button",{onClick:w,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Undo"}),s.jsx("button",{onClick:N,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Redo"}),s.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded shadow",children:" Clear"}),s.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded shadow",children:" Save"})]})]})]})}function Jge(){const[t,e]=Ue.useState([{items:["Car","Plane","Lake"],pairs:["Drive","Fly","Swim"]}]);return s.jsx("section",{className:"w-[60vw] flex flex-col m-auto mt-10",children:t.map((r,n)=>s.jsx(Zge,{items:r.items,pairs:r.pairs},n))})}function Zge({items:t,pairs:e}){const[r,n]=F.useState(e),[a,i]=F.useState(t.map(()=>({show:!1,value:""})));return s.jsxs("div",{className:"w-full flex flex-col items-center gap-5",children:[s.jsx("h2",{className:"font-bold text-2xl text-black",children:"Match Items"}),s.jsx("div",{className:`w-3/4 grid grid-cols-3 grid-rows-${t.length} gap-y-3`,children:t.map((o,l)=>s.jsxs("div",{className:"contents",children:[s.jsx("p",{className:"min-h-10 p-2 min-w-10 rounded-lg border box-border border-purple-500 text-black",children:o}),s.jsx("hr",{className:"self-center"},`line-${l}`),s.jsx("p",{className:`min-h-10 p-2 min-w-10 rounded-lg border border-gray-300 box-border ${a[l].show?"bg-yellow-100 flex justify-between border-purple-500":""} text-black`,onDragOver:c=>c.preventDefault(),onDrop:c=>{const d=c.dataTransfer.getData("text"),u=[...a];u[l].show=!0,u[l].value=d,i([...u]),n(r.filter(h=>h!==d))},children:a[l].show?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-black",children:a[l].value}),s.jsx("button",{onClick:()=>{const c=[...a];c[l].show=!1,n([...r,c[l].value]),i([...c])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):""})]},l))}),s.jsxs("div",{className:"w-full relative",children:[s.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0 w-5 h-5"}),s.jsx("div",{className:"bg-yellow-100 w-full flex items-center justify-center gap-2 p-5 rounded-xl",children:r.map((o,l)=>s.jsx("div",{draggable:!0,onDragStart:c=>c.dataTransfer.setData("text",c.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:o},l))})]})]})}const QO=[{question:"What is the capital of France?",options:["Berlin","Madrid","Paris","Rome"],answer:2},{question:"Which planet is known as the Red Planet?",options:["Earth","Mars","Jupiter","Saturn"],answer:1},{question:"Who wrote 'To Kill a Mockingbird'?",options:["Harper Lee","Mark Twain","J.K. Rowling","Jane Austen"],answer:0}],eve=["A","B","C","D"];function tve(){const[t,e]=F.useState(0),[r,n]=F.useState(null),[a,i]=F.useState("standard"),o=u=>{n(u)},l=()=>{e(u=>u+1),n(null)},c=u=>{i(u.target.value),n(null)},d=QO[t];return s.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[s.jsxs("div",{className:"flex justify-end mb-4",children:[s.jsx("label",{className:"mr-2 text-purple-700 font-medium",children:"Theme:"}),s.jsxs("select",{value:a,onChange:c,className:"border border-purple-300 rounded px-2 py-1 focus:outline-none",children:[s.jsx("option",{value:"standard",children:"Standard"}),s.jsx("option",{value:"block",children:"Block"}),s.jsx("option",{value:"radio",children:"Radio Button"})]})]}),s.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"MCQ"}),s.jsxs("div",{className:`mb-4 w-full flex ${a==="radio"?"justify-center":"justify-start"} items-center`,children:[s.jsxs("span",{className:"text-lg font-medium text-black",children:["Q",t+1,":"]}),s.jsx("span",{className:"ml-2 text-lg text-black",children:d.question})]}),a==="standard"?s.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside",children:d.options.map((u,h)=>{const m=r===h;return s.jsxs("li",{className:`flex items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[s.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),s.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}):a==="block"?s.jsx("div",{className:"space-y-3 mb-6",children:d.options.map((u,h)=>{const m=r===h;return s.jsxs("button",{onClick:()=>o(h),className:`w-full flex items-center text-left px-5 py-3 rounded-lg border transition-all duration-200 focus:outline-none
                  bg-gray-50 border-gray-200
                  ${m?"bg-yellow-100 border-yellow-300 font-semibold":"hover:bg-purple-50 hover:border-purple-300"}
                `,children:[s.jsxs("span",{className:"mr-4 font-bold text-black",children:[eve[h],"."]}),u]},h)})}):s.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside ou",children:d.options.map((u,h)=>{const m=r===h;return s.jsxs("li",{className:`flex flex-col-reverse items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[s.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),s.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}),s.jsx("div",{className:"flex justify-end",children:t<QO.length-1?s.jsx("button",{onClick:l,className:"px-6 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600 transition-all disabled:opacity-50",children:"Next"}):r!==null&&s.jsx("span",{className:"text-xl font-semibold text-purple-700"})})]})}const WC=1e4,rve=()=>{const[t,e]=F.useState(""),[r,n]=F.useState(!1),a=F.useRef(null),i=u=>u.trim().length===0?0:u.trim().split(/\s+/).length,o=u=>{const h=u.target.value;i(h)<=WC&&e(h)},l=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),n(!0),setTimeout(()=>n(!1),2e3))},c=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),e(""))},d=async()=>{const u=await navigator.clipboard.readText(),h=t+" "+u;i(h)<=WC?e(h):alert("Pasting this text will exceed the 10,000 word limit.")};return s.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Text Editor"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{onClick:l,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Copy"}),s.jsx("button",{onClick:c,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Cut"}),s.jsx("button",{onClick:d,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Paste"})]}),s.jsx("textarea",{ref:a,value:t,onChange:o,rows:12,className:"w-full border rounded p-3 text-sm resize-none focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",placeholder:"Type something..."}),s.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[s.jsxs("div",{children:["Word Count: ",i(t)," / ",WC]}),s.jsxs("div",{children:["Character Count: ",t.length]})]}),r&&s.jsx("div",{className:"mt-2 text-green-600 text-sm",children:"Copied to clipboard!"})]})};function sve(){const[t,e]=F.useState([{question:"Sort the countries in ascending order based on their population:",list:["USA","India","China","Brazil","Russia"]}]);return s.jsxs("section",{className:"w-[60vw] flex flex-col items-center m-auto mt-10",children:[s.jsx("h2",{className:"font-bold text-2xl text-black",children:"Sort List"}),t.map((r,n)=>s.jsx(nve,{questionIndex:n,setQuestionSet:e,questionSet:t},n))]})}function nve({questionIndex:t,questionSet:e,setQuestionSet:r}){const n=F.useRef(null),a=F.useRef(null),{question:i,list:o}=e[t],[l,c]=F.useState(o.map(()=>!1));function d(u,h){const m=o[n.current];o[n.current]=o[a.current],o[a.current]=m;const f=[...e];f[t]={question:i,list:o},r([...f]),c(A=>{const g=[...A];return g[h]=!1,g})}return s.jsxs("div",{className:"w-3/4 flex flex-col gap-5 items-center border border-purple-500 rounded-lg shadow-lg p-5",children:[s.jsx("h2",{className:"text-black",children:i}),s.jsx("div",{className:"w-1/2 flex flex-col items-center justify-center",children:o.map((u,h)=>s.jsx("p",{className:`w-full p-3 text-center border border-gray-300 rounded-md cursor-pointer ${l[h]?"bg-yellow-100":"bg-purple-500"} text-black`,draggable:!0,onDragStart:m=>n.current=h,onDragEnter:m=>{a.current=h,c(f=>{const A=[...f];return A[h]=!0,A})},onDragLeave:m=>{c(f=>{const A=[...f];return A[h]=!1,A})},onDragOver:m=>m.preventDefault(),onDrop:m=>d(m,h),children:u},h))})]})}const ave=()=>{const[t,e]=F.useState("names"),[r,n]=F.useState("basic"),a=[{value:"basic",label:"Basic",className:"bg-emerald-500/15 text-emerald-700 border-emerald-200 hover:bg-emerald-500/25 hover:text-emerald-800",activeClass:"ring-emerald-400 bg-emerald-500/25 text-emerald-900"},{value:"intermediate",label:"Intermediate",className:"bg-amber-500/15 text-amber-700 border-amber-200 hover:bg-amber-500/25 hover:text-amber-800",activeClass:"ring-amber-400 bg-amber-500/25 text-amber-900"},{value:"advanced",label:"Advanced",className:"bg-rose-500/15 text-rose-700 border-rose-200 hover:bg-rose-500/25 hover:text-rose-800",activeClass:"ring-rose-400 bg-rose-500/25 text-rose-900"}],i="px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-150 shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 border ring-1 ring-transparent",o=()=>{const l=`tryout_${t}`;if(!Bfe(l)){UX(5),Tfe(l);const c=document.createElement("div");c.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+5 Points</span>',document.body.appendChild(c),setTimeout(()=>document.body.removeChild(c),1800)}};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative",children:[s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3 justify-left",children:[s.jsx("label",{htmlFor:"tryoutType",className:"font-medium text-gray-700",children:"Tryout Type:"}),s.jsxs("select",{id:"tryoutType",value:t,onChange:l=>e(l.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"choice_matrix",children:"Choice Matrix"}),s.jsx("option",{value:"cloze_drag_drop",children:"Cloze Drag Drop"}),s.jsx("option",{value:"cloze_drop_down",children:"Cloze Drop Down"}),s.jsx("option",{value:"cloze_text",children:"Cloze Text"}),s.jsx("option",{value:"file_upload",children:"File Upload"}),s.jsx("option",{value:"image_highlighter",children:"Image Highlighter"}),s.jsx("option",{value:"match_list",children:"Match List"}),s.jsx("option",{value:"mcq",children:"MCQ"}),s.jsx("option",{value:"plain_txt",children:"Plain Text"}),s.jsx("option",{value:"sort_list",children:"Sort List"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Difficulty:"}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-3",children:a.map(l=>{const c=r===l.value;return s.jsx("button",{type:"button",onClick:()=>n(l.value),className:`${i} ${l.className} ${c?l.activeClass+" ring-2":""}`,"aria-pressed":c,children:l.label},l.value)})})]}),s.jsxs("div",{children:[t==="choice_matrix"&&s.jsx(zge,{}),t==="cloze_drag_drop"&&s.jsx($ge,{}),t==="cloze_drop_down"&&s.jsx(Vge,{}),t==="cloze_text"&&s.jsx(qge,{}),t==="file_upload"&&s.jsx(Xge,{}),t==="image_highlighter"&&s.jsx(Yge,{}),t==="match_list"&&s.jsx(Jge,{}),t==="mcq"&&s.jsx(tve,{}),t==="plain_txt"&&s.jsx(rve,{}),t==="sort_list"&&s.jsx(sve,{}),t==="names"&&s.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select The Tryout From The Drop Down Menu."}),t==="rich_text"&&s.jsx("div",{className:"text-gray-500 text-center py-8",children:"Rich Text tryout is not available. Please check the file name or implementation."}),!["choice_matrix","cloze_drag_drop","cloze_drop_down","cloze_text","file_upload","image_highlighter","match_list","mcq","plain_txt","rich_text","sort_list","names"].includes(t)&&s.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select a tryout type to begin."})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500 hover:bg-amber-600 text-white shadow",children:[s.jsx(oI,{className:"w-4 h-4"}),"Mark Tryout Completed & Collect +5"]})})]})},Uy={9:{math:{mcq:[{q:"What is 2+2?",o:["3","4","5","6"],a:"4",e:"Simple addition"},{q:"What is 5*3?",o:["10","15","20","25"],a:"15",e:"Multiplication"}],blank:[{q:"Fill in the blank: 2 + 2 = ___",a:"4",e:"Simple addition"}]},science:{mcq:[{q:"What is H2O?",o:["Water","Hydrogen","Oxygen","Salt"],a:"Water",e:"Chemical formula for water"}],blank:[{q:"H2O is the chemical formula for ___",a:"water",e:"Chemical formula"}]}}},qC=({defaultType:t="school"})=>{const[e,r]=F.useState("all"),[n,a]=F.useState(t),[i,o]=F.useState(""),[l,c]=F.useState(""),[d,u]=F.useState(""),[h,m]=F.useState("Neutral"),[f,A]=F.useState([]),[g,x]=F.useState(null),[v,j]=F.useState(""),[b,S]=F.useState("Saved"),[w,N]=F.useState("9"),[E,P]=F.useState("math"),[_,B]=F.useState("mcq"),[k,M]=F.useState({}),[T,H]=F.useState([]),[L,Q]=F.useState(0),[O,V]=F.useState({}),[ee,Y]=F.useState(!1),[re,D]=F.useState(!1),[G,z]=F.useState(""),[K,oe]=F.useState("due_asc"),[ue,ge]=F.useState([]),[pe,ye]=F.useState("names"),[Pe,le]=F.useState("easy"),[lt,ne]=F.useState({rotation:0,zoom:1,animationSpeed:1,isAnimating:!1});F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useEffect(()=>{a(t)},[t]),F.useEffect(()=>{try{const ce=JSON.parse(localStorage.getItem("journalEntries")||"[]");Array.isArray(ce)&&A(ce)}catch{}},[]);const J=ce=>{A(ce);try{localStorage.setItem("journalEntries",JSON.stringify(ce))}catch{}},ie=()=>{x(null),o(""),c(""),u(""),m("Neutral")},Ce=()=>{const ce=new Date;if(!(!i.trim()&&!l.trim())){if(g){const ae=f.map(Se=>Se.id===g?{...Se,title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(We=>We.trim()).filter(Boolean),mood:h,updatedAt:ce.toISOString()}:Se);J(ae)}else{const ae={id:Date.now(),title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(Se=>Se.trim()).filter(Boolean),mood:h,createdAt:ce.toISOString(),updatedAt:ce.toISOString()};J([ae,...f]),x(ae.id)}S("Saved")}},Oe=()=>{ie()},Re=ce=>{const ae=f.filter(Se=>Se.id!==ce);J(ae),g===ce&&ie()},ze=ce=>{x(ce.id),o(ce.title||""),c(ce.content||""),u((ce.tags||[]).join(", ")),m(ce.mood||"Neutral")};return F.useEffect(()=>{if(n!=="journal")return;S("Saving");const ce=setTimeout(()=>{Ce()},1200);return()=>clearTimeout(ce)},[i,l,d,h,n]),F.useEffect(()=>{!w||!Uy[w]||P(Object.keys(Uy[w])[0])},[w]),F.useEffect(()=>{M({studentClass:w,subject:E,questionType:_,startTime:new Date,endTime:null,correct:0,incorrect:0})},[w,E,_]),F.useEffect(()=>{var Se;if(!Uy[w]||!Uy[w][E]){H([]),Q(0),V({}),Y(!1);return}let ae=(((Se=Uy[w][E])==null?void 0:Se.mcq)||[]).map(We=>({front:We.q,back:`${We.a?`Answer: ${We.a}`:""}${We.e?`
${We.e}`:""}`.trim()}));if(re)for(let We=ae.length-1;We>0;We--){const Je=Math.floor(Math.random()*(We+1));[ae[We],ae[Je]]=[ae[Je],ae[We]]}H(ae),Q(0),V({}),Y(!1)},[w,E,re]),F.useEffect(()=>{if(n!=="flashcard")return;const ce=ae=>{ae.key===" "?(ae.preventDefault(),Y(Se=>!Se)):ae.key==="ArrowRight"?(Y(!1),Q(Se=>T.length?Math.min(Se+1,T.length-1):0)):ae.key==="ArrowLeft"&&(Y(!1),Q(Se=>Se>0?Se-1:0))};return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[n,T.length]),ue.filter(ce=>{const ae=G.toLowerCase(),Se=ce.title.toLowerCase().includes(ae)||ce.course.toLowerCase().includes(ae)||ce.description.toLowerCase().includes(ae);return e==="all"?Se:Se&&ce.status===e}).sort((ce,ae)=>{switch(K){case"due_asc":return new Date(ce.dueDate)-new Date(ae.dueDate);case"due_desc":return new Date(ae.dueDate)-new Date(ce.dueDate);case"priority":{const Se={high:3,medium:2,low:1};return Se[ae.priority]-Se[ce.priority]}case"status":return ce.status.localeCompare(ae.status);default:return 0}}),s.jsxs("div",{className:"w-full min-h-screen bg-white px-1 sm:px-4 md:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6 overflow-x-hidden",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 sm:gap-4",children:[n!=="journal"&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Assignments"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your assignments and submissions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[n!=="journal"&&s.jsx(Mfe,{}),n!=="journal"&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"assignmentType",className:"font-medium text-gray-700",children:"Type:"}),s.jsxs("select",{id:"assignmentType",value:n,onChange:ce=>a(ce.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"school",children:"School Assignment"}),s.jsx("option",{value:"eec",children:"Practice Paper"}),s.jsx("option",{value:"tryout",children:"Tryout"}),s.jsx("option",{value:"lab",children:"Lab"}),s.jsx("option",{value:"flashcard",children:"FlashCard"})]})]})]})]}),n==="journal"&&s.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 p-2 sm:p-4 lg:p-6 rounded-2xl shadow-2xl max-w-7xl mx-auto",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[s.jsxs("div",{className:"text-center mb-3 sm:mb-4 lg:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-brown-800",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"My Learning Journal"}),s.jsx("div",{className:"w-20 sm:w-24 lg:w-32 h-0.5 sm:h-1 bg-brown-400 mx-auto mt-1 sm:mt-2 rounded",style:{backgroundColor:"#D2691E"}})]}),s.jsxs("div",{className:"relative bg-white border-2 sm:border-3 lg:border-4 border-gray-300 rounded-lg shadow-inner overflow-hidden",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355",height:"calc(100vh - 200px)",minHeight:"500px",maxHeight:"800px"},children:[s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-4 sm:w-6 lg:w-8 z-10",style:{background:"linear-gradient(to right, #666 0%, #999 50%, #666 100%)"},children:[...Array(Math.min(20,Math.floor(window.innerHeight/40)))].map((ce,ae)=>s.jsx("div",{className:"absolute w-3 h-2 sm:w-4 sm:h-2 lg:w-6 lg:h-3 border border-gray-500 rounded-full left-1/2 transform -translate-x-1/2",style:{top:`${ae*5+2}%`,borderColor:"#555"}},ae))}),s.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 h-full relative",children:[s.jsxs("div",{className:"border-b lg:border-b-0 lg:border-r-2 border-gray-300 p-3 sm:p-4 lg:p-6 relative overflow-hidden flex-1 lg:flex-none",style:{borderColor:"#8B7355"},children:[s.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Timeline"}),s.jsx("div",{className:"mb-3 sm:mb-4",children:s.jsxs("button",{onClick:Oe,className:"w-full px-3 py-2 sm:px-4 sm:py-2 border-2 border-dashed border-gray-400 rounded-lg hover:bg-yellow-50 transition-colors text-sm sm:text-base",style:{borderColor:"#B8860B",color:"#8B4513"},children:[s.jsx($s,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-2"})," Add New Day"]})}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 overflow-y-auto pr-1 sm:pr-2 lg:max-h-none lg:h-auto lg:flex-1",style:{height:"calc(100% - 100px)",maxHeight:"300px"},children:[f.map((ce,ae)=>s.jsx("div",{onClick:()=>ze(ce),className:`p-2 sm:p-3 rounded-lg cursor-pointer transition-all border ${g===ce.id?"bg-yellow-100 border-yellow-400":"bg-yellow-50 border-yellow-200 hover:bg-yellow-100"}`,style:{backgroundColor:g===ce.id?"#fef3c7":"#fffbeb",borderColor:g===ce.id?"#f59e0b":"#fbbf24"},children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-semibold text-sm sm:text-base text-brown-800",style:{color:"#8B4513"},children:["Day ",f.length-ae]}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:new Date(ce.updatedAt||ce.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:ce.title||"Untitled"})]}),s.jsx("button",{title:"Delete",onClick:Se=>{Se.stopPropagation(),Re(ce.id)},className:"p-1 rounded hover:bg-red-100 text-red-500",children:s.jsx(Ni,{className:"w-3 h-3"})})]})},ce.id)),f.length===0&&s.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",style:{color:"#8B7355"},children:[s.jsx("p",{className:"text-sm sm:text-base",children:"No entries yet."}),s.jsx("p",{className:"text-xs sm:text-sm mt-2",children:"Start by adding your first day!"})]})]})]}),s.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 relative overflow-hidden flex flex-col flex-1",children:[s.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Notes"}),s.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",style:{color:"#8B7355"},children:new Date().toLocaleDateString("en-US",{weekday:window.innerWidth>640?"long":"short",year:"numeric",month:window.innerWidth>640?"long":"short",day:"numeric"})}),s.jsxs("div",{className:"flex-1 flex flex-col space-y-2 sm:space-y-3 lg:space-y-4 overflow-hidden min-h-0",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("input",{type:"text",value:i,onChange:ce=>o(ce.target.value),placeholder:"Today I learned...",className:"w-full bg-transparent border-0 border-b border-gray-300 px-0 py-1 sm:py-2 text-base sm:text-lg placeholder-gray-400 focus:ring-0 focus:border-brown-500",style:{borderBottomColor:"#B8860B",color:"#8B4513",fontFamily:"Georgia, serif"}})}),s.jsx("div",{className:"flex-1 min-h-0",children:s.jsx("textarea",{value:l.replace(/<[^>]*>/g,""),onChange:ce=>c(ce.target.value),placeholder:`Today Susan hit me with her car but she claimed I hit her car with my body.

Before the lights went out, I saw a deer near the headlight. Seems like it wasn't her first time.

Should she still have a license?

My head hurts, too.`,className:"w-full h-full bg-transparent border-0 resize-none p-0 text-gray-700 placeholder-gray-400 focus:ring-0 text-sm sm:text-base leading-5 sm:leading-6",style:{color:"#4B5563",fontFamily:"Georgia, serif",backgroundImage:"repeating-linear-gradient(transparent, transparent 19px, #e5e7eb 19px, #e5e7eb 20px)",lineHeight:"20px"}})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Tags"}),s.jsx("input",{type:"text",value:d,onChange:ce=>u(ce.target.value),placeholder:"learning, reflection",className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Mood"}),s.jsxs("select",{value:h,onChange:ce=>m(ce.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"},children:[s.jsx("option",{children:"Happy"}),s.jsx("option",{children:"Neutral"}),s.jsx("option",{children:"Curious"}),s.jsx("option",{children:"Challenged"}),s.jsx("option",{children:"Excited"})]})]})]}),s.jsxs("div",{className:"text-right pt-2 sm:pt-4 flex-shrink-0",children:[s.jsx("button",{onClick:Ce,className:"px-4 py-1.5 sm:px-6 sm:py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 shadow-lg text-sm sm:text-base font-medium transition-colors",style:{backgroundColor:"#D97706"},children:"Save Entry"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 sm:mt-2",children:b})]})]})]})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 sm:h-3 lg:h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200",style:{backgroundColor:"#E5E5E5"},children:s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 sm:h-2",style:{background:"repeating-linear-gradient(90deg, transparent 0px, transparent 8px, rgba(0,0,0,0.1) 8px, rgba(0,0,0,0.1) 12px)"}})})]}),s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl opacity-30 sm:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.02'%3E%3Cpath d='m20 20v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),["school","eec","lab","flashcard"].includes(n)&&s.jsx(Qge,{assignmentType:n,filter:e,setFilter:r}),n==="tryout"&&s.jsx(ave,{})]})},zO=()=>{const[t,e]=F.useState(null),[r,n]=F.useState(null),[a,i]=F.useState([]),[o,l]=F.useState(!0),[c,d]=F.useState(null),[u,h]=F.useState(null);F.useEffect(()=>{(async()=>{try{l(!0),d(null);const g=localStorage.getItem("token"),x=localStorage.getItem("userType");if(!g||x!=="Student"){l(!1);return}const v=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error("Unable to load course overview.");const j=await v.json();e(j.course||null),n(j.stats||null),i((j.recentAttendance||[]).slice(0,5)),h(new Date)}catch(g){console.error("Failed to fetch course data:",g),d(g.message)}finally{l(!1)}})()},[]);const m=[{title:"Active Courses",value:(r==null?void 0:r.activeCourses)??0,icon:a4,description:(t==null?void 0:t.name)||"No active course",color:"text-blue-600",bg:"bg-blue-50"},{title:"Attendance",value:`${(r==null?void 0:r.attendancePercentage)??0}%`,icon:dr,description:`${(r==null?void 0:r.presentDays)??0}/${(r==null?void 0:r.totalClasses)??0} classes`,color:"text-green-600",bg:"bg-green-50"},{title:"Classes Attended",value:(r==null?void 0:r.presentDays)??0,icon:tr,description:`Absent ${(r==null?void 0:r.absentDays)??0} days`,color:"text-purple-600",bg:"bg-purple-50"},{title:"Overall Progress",value:`${(r==null?void 0:r.overallProgress)??0}%`,icon:cs,description:"Based on attendance",color:"text-amber-600",bg:"bg-amber-50"}],f=(t==null?void 0:t.status)==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return o?s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-100 rounded w-64 animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((A,g)=>s.jsx("div",{className:"h-32 bg-white rounded-xl border border-gray-100 shadow-sm animate-pulse"},g))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"}),s.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]})]}):s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Courses"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Current academic overview synced from your dashboard"})]}),u&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Updated ",u.toLocaleDateString()]})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map(A=>{const g=A.icon;return s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:A.title}),s.jsx("p",{className:`text-2xl font-bold ${A.color}`,children:A.value})]}),s.jsx("div",{className:`p-3 rounded-full ${A.bg}`,children:s.jsx(g,{className:A.color})})]}),s.jsx("p",{className:"text-sm text-gray-500",children:A.description})]},A.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Details pulled from the NIF student record"})]}),t&&s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f}`,children:t.status||"Active"})]}),t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Course Name"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Batch Code: ",t.batchCode||"N/A"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Grade",value:t.grade||"-"},{label:"Section",value:t.section||"-"},{label:"Duration",value:t.duration||"TBD"},{label:"Status",value:t.status||"Active"}].map(A=>s.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500",children:A.label}),s.jsx("p",{className:"text-lg font-semibold text-purple-800",children:A.value})]},A.label))})]}):s.jsxs("div",{className:"text-center py-10",children:[s.jsx(Yn,{size:48,className:"mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No course assigned"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator for enrollment details"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(jw,{size:18,className:"text-purple-500"}),"Recent Attendance"]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Last 5 records"})]}),a.length>0?s.jsx("div",{className:"space-y-3",children:a.map((A,g)=>{var x,v;return s.jsxs("div",{className:"flex items-center justify-between border border-purple-100 rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.subject||"Class"}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(A.date).toLocaleDateString()})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="present"?"bg-green-100 text-green-700":A.status==="absent"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:((x=A.status)==null?void 0:x.charAt(0).toUpperCase())+((v=A.status)==null?void 0:v.slice(1))})]},A._id||g)})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No attendance records available."})]})]})]})},ive=()=>{var A,g;const[t,e]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(null),[o,l]=F.useState("all"),[c,d]=F.useState({averagePercentage:0,examsTaken:0,topScore:null,recentExam:null}),[u,h]=F.useState(null);F.useEffect(()=>{(async()=>{try{n(!0),i(null);const v=localStorage.getItem("token"),j=localStorage.getItem("userType");if(!v||j!=="Student"){n(!1);return}const b=await fetch("http://localhost:5000/api/student/auth/results",{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error("Unable to load results.");const S=await b.json(),w=Array.isArray(S.results)?S.results:[];e(w),d(cve(w)),h(new Date)}catch(v){console.error("Failed to fetch results:",v),i(v.message)}finally{n(!1)}})()},[]);const m=F.useMemo(()=>{const x=new Set(t.map(v=>v.type||"general"));return["all",...Array.from(x)]},[t]),f=F.useMemo(()=>o==="all"?t:t.filter(x=>(x.type||"general")===o),[t,o]);return r?s.jsxs("div",{className:"space-y-6 p-4",children:[s.jsx("div",{className:"h-36 bg-gradient-to-r from-yellow-200 to-orange-200 rounded-2xl animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((x,v)=>s.jsx("div",{className:"h-32 bg-white rounded-xl shadow-sm border border-gray-100 animate-pulse"},v))}),s.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]}):s.jsxs("div",{className:"space-y-6 p-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Hl,{className:"w-8 h-8 text-yellow-200"}),s.jsx("h1",{className:"text-3xl font-bold",children:"My Results"})]}),s.jsx("p",{className:"text-yellow-100",children:"Live academic performance pulled from your student profile"})]}),s.jsx("div",{className:"text-right",children:u&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-yellow-100 text-sm mb-1",children:"Last Synced"}),s.jsx("p",{className:"text-xl font-semibold",children:u.toLocaleDateString()})]})})]})})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[s.jsx(Ir,{size:16}),a]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(fj,{icon:jn,title:"Average Score",value:`${c.averagePercentage.toFixed(1)}%`,accent:"bg-yellow-100 text-yellow-600"}),s.jsx(fj,{icon:pn,title:"Exams Taken",value:c.examsTaken,accent:"bg-blue-100 text-blue-600"}),s.jsx(fj,{icon:cs,title:"Best Exam",value:((A=c.topScore)==null?void 0:A.examName)||"N/A",subtitle:c.topScore?`${c.topScore.percentage.toFixed(1)}%`:"Awaiting data",accent:"bg-green-100 text-green-600"}),s.jsx(fj,{icon:tr,title:"Recent Exam",value:((g=c.recentExam)==null?void 0:g.examName)||"N/A",subtitle:c.recentExam?new Date(c.recentExam.date).toLocaleDateString():"No records",accent:"bg-purple-100 text-purple-600"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Filter by exam type:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(x=>s.jsx("button",{onClick:()=>l(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===x?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:x==="all"?"All Exams":x.replace(/^\w/,v=>v.toUpperCase())},x))})]}),s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-xl p-8 text-center text-gray-500",children:"No exam records available. Once your school publishes results they will appear here automatically."}):f.map((x,v)=>s.jsx(ove,{exam:x},x._id||v))})]})},fj=({icon:t,title:e,value:r,subtitle:n,accent:a})=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${a}`,children:s.jsx(t,{className:"w-6 h-6"})}),s.jsx("span",{className:"text-2xl",children:""})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r}),n&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})]}),ove=({exam:t})=>{const e=t.percentage??(t.obtainedMarks&&t.totalMarks?t.obtainedMarks/t.totalMarks*100:null);return s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.examName||"Exam"}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[s.jsx(tr,{size:14}),t.date?new Date(t.date).toLocaleDateString():"Date not available",t.type&&s.jsxs(s.Fragment,{children:[" ",t.type.replace(/^\w/,r=>r.toUpperCase())]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[e!==null&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Score"}),s.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[e.toFixed(1),"%"]})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(is,{size:16}),"Download"]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(mj,{label:"Total Marks",value:t.totalMarks??"-"}),s.jsx(mj,{label:"Obtained",value:t.obtainedMarks??"-"}),s.jsx(mj,{label:"Status",value:t.status||"Not available"}),s.jsx(mj,{label:"Result",value:t.grade||(e?`${e.toFixed(1)}%`:"-")})]}),Array.isArray(t.subjects)&&t.subjects.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marks"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.subjects.map((r,n)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:r.name||"Subject"}),s.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[r.marks??"-",r.maxMarks?` / ${r.maxMarks}`:""]}),s.jsx("td",{className:"px-4 py-2 text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${lve(r.grade)}`,children:r.grade||"N/A"})}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:r.remarks||"-"})]},`${r.name}-${n}`))})]})})]})]})},mj=({label:t,value:e})=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:t}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e})]}),lve=(t="")=>t.startsWith("A")?"bg-green-100 text-green-700":t.startsWith("B")?"bg-blue-100 text-blue-700":t.startsWith("C")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",cve=(t=[])=>{if(!t.length)return{averagePercentage:0,examsTaken:0,topScore:null,recentExam:null};const e=t.map(i=>{const o=i.percentage??(i.obtainedMarks&&i.totalMarks?i.obtainedMarks/i.totalMarks*100:0);return{...i,percentage:o||0}}),r=e.reduce((i,o)=>i+o.percentage,0),n=e.reduce((i,o)=>o.percentage>((i==null?void 0:i.percentage)||0)?o:i,null),a=e.reduce((i,o)=>o.date?i?new Date(o.date)>new Date(i.date)?o:i:o:i,null);return{averagePercentage:r/e.length,examsTaken:e.length,topScore:n,recentExam:a}},dve=()=>{const[t,e]=F.useState("earned"),r=[{id:1,title:"First Assignment Submitted",description:"Submit your first assignment successfully",category:"academic",type:"milestone",icon:Lr,earned:!0,earnedDate:"2025-03-15",points:50,rarity:"common",progress:100,requirement:"Submit 1 assignment"},{id:2,title:"Perfect Attendance",description:"Attend all classes for a full month",category:"attendance",type:"streak",icon:tr,earned:!0,earnedDate:"2025-04-01",points:100,rarity:"uncommon",progress:100,requirement:"100% attendance for 30 days"},{id:3,title:"High Achiever",description:"Score 90% or above in 5 assignments",category:"academic",type:"performance",icon:Hl,earned:!1,points:200,rarity:"rare",progress:60,requirement:"Score 90%+ in 5 assignments",currentProgress:"3/5 assignments"},{id:4,title:"Course Completion Master",description:"Complete 3 courses with distinction",category:"academic",type:"milestone",icon:pn,earned:!1,points:300,rarity:"epic",progress:33,requirement:"Complete 3 courses with distinction",currentProgress:"1/3 courses"},{id:5,title:"Early Bird",description:"Join 10 classes 5 minutes early",category:"attendance",type:"habit",icon:dr,earned:!0,earnedDate:"2025-05-10",points:75,rarity:"common",progress:100,requirement:"Join 10 classes early"},{id:6,title:"Study Streak",description:"Study for 7 consecutive days",category:"study",type:"streak",icon:cs,earned:!1,points:150,rarity:"uncommon",progress:71,requirement:"Study 7 days in a row",currentProgress:"5/7 days"},{id:7,title:"Collaboration Champion",description:"Participate in 5 group projects",category:"social",type:"collaboration",icon:pr,earned:!1,points:120,rarity:"uncommon",progress:40,requirement:"Complete 5 group projects",currentProgress:"2/5 projects"},{id:8,title:"Knowledge Seeker",description:"Read 50 course materials",category:"study",type:"exploration",icon:a4,earned:!1,points:100,rarity:"common",progress:86,requirement:"Read 50 course materials",currentProgress:"43/50 materials"}],n=h=>{switch(h){case"common":return"text-gray-600 bg-gray-100 border-gray-300";case"uncommon":return"text-green-600 bg-green-100 border-green-300";case"rare":return"text-blue-600 bg-blue-100 border-blue-300";case"epic":return"text-purple-600 bg-purple-100 border-purple-300";case"legendary":return"text-yellow-600 bg-yellow-100 border-yellow-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},a=h=>{switch(h){case"academic":return"text-blue-600 bg-blue-100";case"attendance":return"text-green-600 bg-green-100";case"study":return"text-purple-600 bg-purple-100";case"social":return"text-pink-600 bg-pink-100";default:return"text-gray-600 bg-gray-100"}},i=r.filter(h=>h.earned),o=r.filter(h=>!h.earned),l=r.filter(h=>!h.earned&&h.progress>0),c=()=>{switch(t){case"earned":return i;case"available":return o;case"progress":return l;default:return r}},d=i.reduce((h,m)=>h+m.points,0),u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Achievements"}),s.jsx("p",{className:"text-gray-600",children:"Track your progress and unlock new achievements"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Achievements"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),s.jsx(Hl,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Earned"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsx(pn,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),s.jsx(jn,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length})]}),s.jsx(MX,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"earned",label:"Earned",count:i.length},{id:"progress",label:"In Progress",count:l.length},{id:"available",label:"Available",count:o.length}].map(h=>s.jsxs("button",{onClick:()=>e(h.id),className:`flex-1 px-4 py-2 rounded-md font-medium transition-colors ${t===h.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[h.label," (",h.count,")"]},h.id))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c().map(h=>{const m=h.icon;return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative overflow-hidden ${h.earned?"":"opacity-90"}`,children:[s.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${h.rarity==="common"?"bg-gray-400":h.rarity==="uncommon"?"bg-green-400":h.rarity==="rare"?"bg-blue-400":h.rarity==="epic"?"bg-purple-400":"bg-yellow-400"}`}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${h.earned?"bg-blue-100":"bg-gray-100"}`,children:h.earned?s.jsx(m,{className:"w-6 h-6 text-blue-600"}):s.jsx(ym,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${n(h.rarity)}`,children:h.rarity}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[h.points," pts"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:h.description}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(h.category)}`,children:h.category}),s.jsx("span",{className:"text-xs text-gray-500",children:h.type})]})]}),!h.earned&&h.progress>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[h.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h.progress}%`}})}),h.currentProgress&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.currentProgress})]}),h.earned&&h.earnedDate&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 border-t border-gray-100 pt-3",children:[s.jsx("span",{children:"Earned on"}),s.jsx("span",{className:"font-medium",children:u(h.earnedDate)})]}),!h.earned&&s.jsxs("div",{className:"text-sm text-gray-600 border-t border-gray-100 pt-3",children:[s.jsx("p",{className:"font-medium",children:"Requirement:"}),s.jsx("p",{children:h.requirement})]})]},h.id)})}),c().length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Hl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No achievements found"}),s.jsx("p",{className:"text-gray-600",children:"No achievements match your current filter."})]})]})},uve=({onThemeChange:t})=>{const[e,r]=F.useState(!1),[n,a]=F.useState("light"),[i,o]=F.useState("full"),[l,c]=F.useState("vertical"),[d,u]=F.useState(!1),[h,m]=F.useState(!1),[f,A]=F.useState(!1),[g,x]=F.useState("#6366f1"),v=["#6366f1","#6b7280","#10b981","#ef4444","#06b6d4","#f59e0b","#374151"];F.useEffect(()=>{t&&t({skin:n,contentWidth:i,menuLayout:l,menuCollapsed:d,menuHidden:h,rtlEnabled:f,navbarColor:g})},[n,i,l,d,h,f,g,t]);const j=_=>{a(_)},b=_=>{o(_)},S=_=>{c(_)},w=()=>{u(_=>!_)},N=()=>{m(_=>!_)},E=()=>{A(_=>!_)},P=_=>{x(_)};return s.jsxs(s.Fragment,{children:[e&&s.jsxs("div",{className:"fixed right-0 top-0 w-80 h-full bg-white shadow-2xl border-l border-yellow-100 flex flex-col z-50",children:[s.jsx("div",{className:"p-4 border-b border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Theme Customizer"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Customize & Preview in Real Time"})]}),s.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-yellow-100 rounded-lg transition-colors","aria-label":"Close Theme Customizer",children:s.jsx(Gs,{size:20,className:"text-gray-500"})})]})}),s.jsxs("div",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Skin"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["light","bordered","dark","semi-dark"].map(_=>s.jsx("button",{onClick:()=>j(_),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${n===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":n===_,children:_.replace("-"," ")},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Content Width"}),s.jsx("div",{className:"flex space-x-3",children:["full","boxed"].map(_=>s.jsxs("button",{onClick:()=>b(_),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${i===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":i===_,children:[_," Width"]},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"RTL"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:E,className:`w-12 h-6 rounded-full relative transition-colors ${f?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle RTL ${f?"off":"on"}`,"aria-checked":f,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${f?"translate-x-6":"translate-x-0.5"}`})}),s.jsx("span",{className:"ml-3 text-sm text-gray-600",children:f?"Enabled":"Disabled"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Layout"}),s.jsx("div",{className:"flex space-x-3",children:["vertical","horizontal"].map(_=>s.jsx("button",{onClick:()=>S(_),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${l===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":l===_,children:_},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Collapsed"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:w,className:`w-12 h-6 rounded-full relative transition-colors ${d?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Collapsed ${d?"off":"on"}`,"aria-checked":d,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${d?"translate-x-6":"translate-x-0.5"}`})}),s.jsx("span",{className:"ml-3 text-sm text-gray-600",children:d?"Collapsed":"Expanded"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Hidden"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:N,className:`w-12 h-6 rounded-full relative transition-colors ${h?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Hidden ${h?"off":"on"}`,"aria-checked":h,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${h?"translate-x-6":"translate-x-0.5"}`})}),s.jsx("span",{className:"ml-3 text-sm text-gray-600",children:h?"Hidden":"Visible"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Navbar Color"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map((_,B)=>s.jsx("button",{onClick:()=>P(_),className:`w-8 h-8 rounded-lg transition-all hover:scale-110 relative ${g===_?"ring-2 ring-yellow-500 ring-offset-2":""}`,style:{backgroundColor:_},title:`Color ${B+1}`,"aria-label":`Select Navbar Color ${B+1}`,children:g===_&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(jA,{size:16,className:"text-white"})})},B))})]})]})]}),!e&&s.jsx("button",{onClick:()=>r(!0),className:"fixed right-4 top-1/2 transform -translate-y-1/2 bg-yellow-500 text-black p-3 rounded-l-lg shadow-lg hover:bg-yellow-600 transition-colors z-40",title:"Open Theme Customizer","aria-label":"Open Theme Customizer",children:s.jsx(bm,{size:20})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:()=>r(!1),"aria-hidden":"true"})]})},hve={name:"Student",email:"",username:"",password:"",phone:"",address:"",dob:"",education:"",studentId:"",semester:"",profilePic:"",grade:"",section:"",roll:"",mobile:""},bY=()=>{const[t,e]=F.useState(hve),[r,n]=F.useState(""),[a,i]=F.useState(!1),[o,l]=F.useState(!1),[c,d]=F.useState(!0),[u,h]=F.useState({}),[m,f]=F.useState("personal"),A=F.useRef(null),[g,x]=F.useState(0);F.useEffect(()=>{(async()=>{try{const E=localStorage.getItem("token"),P=localStorage.getItem("userType");if(!E||P!=="Student"){d(!1);return}const _=await fetch("http://localhost:5000/api/student/auth/profile",{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(_.ok){const B=await _.json();console.log("Profile data loaded:",B);const k=M=>M?new Date(M).toISOString().split("T")[0]:"";e({name:B.name||"",email:B.email||"",username:B.username||"",password:"",phone:B.mobile||"",address:B.address||"",dob:k(B.dob),education:B.grade||"",studentId:B.username||"",semester:B.nifStudent?`${B.nifStudent.grade} - Section ${B.nifStudent.section}`:"",profilePic:B.profilePic||"",grade:B.grade||"",section:B.section||"",roll:B.roll||"",mobile:B.mobile||""}),B.profilePic&&n(B.profilePic)}else console.error("Failed to fetch profile:",_.status)}catch(E){console.error("Error fetching profile:",E)}finally{d(!1)}})()},[]),F.useEffect(()=>{x(Wg());const N=E=>{var P;return x(((P=E==null?void 0:E.detail)==null?void 0:P.total)??Wg())};return window.addEventListener("points:update",N),()=>window.removeEventListener("points:update",N)},[]);const v=(N,E)=>{const P={...u};switch(N){case"name":E.length<2?P[N]="Name must be at least 2 characters":delete P[N];break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)?delete P[N]:P[N]="Please enter a valid email address";break;case"username":E.length<3?P[N]="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(E)?delete P[N]:P[N]="Username can only contain letters, numbers, and underscores";break;case"password":E&&E.length<6?P[N]="Password must be at least 6 characters":delete P[N];break;case"phone":/^\+?[\d\s()-]+$/.test(E)?delete P[N]:P[N]="Please enter a valid phone number";break}h(P)},j=N=>{const{name:E,value:P}=N.target;e(_=>({..._,[E]:P})),v(E,P)},b=N=>{const E=N.target.files[0];if(E){if(E.size>5*1024*1024){h(_=>({..._,profilePic:"Image size must be less than 5MB"}));return}e(_=>({..._,profilePic:E}));const P=new FileReader;P.onloadend=()=>n(P.result),P.readAsDataURL(E),u.profilePic&&h(_=>{const B={..._};return delete B.profilePic,B})}},S=async N=>{N.preventDefault(),Object.keys(t).forEach(E=>{E!=="profilePic"&&v(E,t[E])}),!(Object.keys(u).length>0)&&(l(!0),i(!1),setTimeout(()=>{i(!0),l(!1),setTimeout(()=>i(!1),3e3)},1500))},w=N=>`w-full pl-12 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 outline-none ${u[N]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 hover:border-yellow-400 focus:border-yellow-500 focus:ring-yellow-100"} focus:ring-4 bg-white`;return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-500 flex items-center justify-center",children:s.jsx(As,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Portal"})]}),s.jsxs("nav",{className:"flex space-x-6",children:[s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Dashboard"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Messages"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Settings"})]})]})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-yellow-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-400 px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Profile Settings"}),s.jsx("p",{className:"text-yellow-100",children:"Manage your personal and account information"})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-200/80 text-amber-900 font-semibold shadow-sm",children:[s.jsx(oI,{className:"w-5 h-5 text-amber-700"}),s.jsxs("span",{children:[g," Points"]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row w-full overflow-x-hidden",children:[s.jsxs("div",{className:"w-full md:w-64 bg-gray-50 border-r border-gray-200 p-4 md:p-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-yellow-300 shadow-lg bg-gray-100",children:r?s.jsx("img",{src:r,alt:"Profile Preview",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-yellow-100 to-amber-100",children:s.jsx(As,{className:"w-16 h-16 text-yellow-600"})})}),s.jsx("button",{type:"button",onClick:()=>{var N;return(N=A.current)==null?void 0:N.click()},className:"absolute -bottom-2 -right-2 bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl hover:scale-105",title:"Change profile picture",children:s.jsx(iI,{className:"w-5 h-5"})}),s.jsx("input",{type:"file",accept:"image/*",ref:A,onChange:b,className:"hidden"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.name}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Student Account"})]}),s.jsxs("nav",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>f("personal"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="personal"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Personal Information"}),s.jsx("button",{onClick:()=>f("account"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="account"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Account Settings"}),s.jsx("button",{onClick:()=>f("security"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="security"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Security"})]})]}),s.jsxs("div",{className:"flex-1 w-full p-4 md:p-8",children:[m==="personal"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:j,className:w("name"),placeholder:"Enter your full name",required:!0})]}),u.name&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-4 h-4"}),u.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student ID"}),s.jsxs("div",{className:"relative",children:[s.jsx(vc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"studentId",value:t.studentId,onChange:j,className:w("studentId"),placeholder:"Enter your student ID"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",name:"email",value:t.email,onChange:j,className:w("email"),placeholder:"Enter your email address",required:!0})]}),u.email&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-4 h-4"}),u.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Grade & Section"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"semester",value:t.semester,onChange:j,className:w("semester"),placeholder:"Not assigned",readOnly:!0})]})]}),t.roll&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Roll Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(vc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",value:t.roll,className:w("roll"),readOnly:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:j,className:w("phone"),placeholder:"Enter your phone number"})]}),u.phone&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-4 h-4"}),u.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ml,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"address",value:t.address,onChange:j,className:w("address"),placeholder:"Enter your address"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx(tr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",name:"dob",value:t.dob,onChange:j,className:w("dob")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Grade"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"education",value:t.education||"Not assigned",className:w("education"),readOnly:!0})]})]})]})]}),m==="account"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Account Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Sce,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"username",value:t.username,onChange:j,className:w("username"),placeholder:"Choose a unique username",required:!0})]}),u.username&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-4 h-4"}),u.username]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language Preference"}),s.jsx("div",{className:"relative",children:s.jsxs("select",{className:w("language"),children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Bengali"}),s.jsx("option",{value:"fr",children:"Hindi"}),s.jsx("option",{value:"de",children:"Tamil"})]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notification Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"email-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),s.jsx("label",{htmlFor:"email-notifications",className:"ml-2 block text-sm text-gray-700",children:"Email Notifications"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"sms-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"sms-notifications",className:"ml-2 block text-sm text-gray-700",children:"SMS Notifications"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"push-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),s.jsx("label",{htmlFor:"push-notifications",className:"ml-2 block text-sm text-gray-700",children:"Push Notifications"})]})]})]})]})]}),m==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Security Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Change Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ym,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"password",name:"password",value:t.password,onChange:j,className:w("password"),placeholder:"Enter new password",autoComplete:"new-password"})]}),u.password&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-4 h-4"}),u.password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vg,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"password",className:w("confirmPassword"),placeholder:"Confirm your new password",autoComplete:"new-password"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Two-Factor Authentication"}),s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:"SMS Authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"Enable"})]})]})]})]}),m!=="children"&&s.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[s.jsx("button",{type:"submit",onClick:S,disabled:o||Object.keys(u).length>0,className:"w-full md:w-auto px-8 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-300 disabled:to-gray-400 text-white py-3 rounded-xl transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:cursor-not-allowed disabled:hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",children:o?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving Changes..."]}):"Save Changes"}),a&&s.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-500 rounded-full p-1",children:s.jsx(jA,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-semibold",children:"Profile Updated Successfully!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Your changes have been saved."})]})]})]})]})]})]})}),s.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center",children:s.jsx(As,{className:"h-5 w-5 text-white"})}),s.jsx("p",{className:"text-gray-600",children:" 2025 Student Portal. All rights reserved to EEC."})]}),s.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Terms"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Privacy"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Help Center"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Contact"})]})]})})})]})},fve=()=>{const[t,e]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("all"),[o,l]=F.useState([]),[c,d]=F.useState([]),[u,h]=F.useState(!0),[m,f]=F.useState(null),[A,g]=F.useState(null);F.useEffect(()=>{(async()=>{try{h(!0),f(null);const T=localStorage.getItem("token"),H=localStorage.getItem("userType");if(!T||H!=="Student"){h(!1);return}const L=await fetch("http://localhost:5000/api/notifications/user",{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(!L.ok)throw new Error("Unable to load notices at the moment.");const Q=await L.json();d(Array.isArray(Q)?Q:[]),g(new Date)}catch(T){console.error("Failed to fetch notices:",T),f(T.message)}finally{h(!1)}})()},[]);const v=[...c.filter(M=>{const T=(M.title||"").toLowerCase(),H=(M.message||"").toLowerCase(),L=(M.author||"School Administration").toLowerCase(),Q=T.includes(t.toLowerCase())||H.includes(t.toLowerCase())||L.includes(t.toLowerCase()),O=E(M),V=P(M);return Q&&(r==="all"||O===r)&&(a==="all"||V===a)})].sort((M,T)=>{const H=!!M.pinned,L=!!T.pinned;return H&&!L?-1:!H&&L?1:new Date(_(T)||0)-new Date(_(M)||0)}),j=M=>{l(T=>T.includes(M)?T.filter(H=>H!==M):[...T,M])},b=M=>{console.log(`Marked notice ${M} as read`)},S=M=>{switch(M){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-amber-100 text-amber-700 border-amber-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},w=M=>{switch(M){case"high":return Ir;case"medium":return ww;case"low":return Lr;default:return Kn}},N=M=>{switch(M){case"academic":return"bg-blue-100 text-blue-700 border-blue-200";case"events":return"bg-purple-100 text-purple-700 border-purple-200";case"transport":return"bg-orange-100 text-orange-700 border-orange-200";case"general":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},E=M=>((M==null?void 0:M.priority)||"general").toLowerCase(),P=M=>((M==null?void 0:M.category)||(M==null?void 0:M.audience)||"general").toLowerCase(),_=M=>(M==null?void 0:M.date)||(M==null?void 0:M.createdAt)||(M==null?void 0:M.updatedAt)||null,B=M=>(M==null?void 0:M.author)||(M==null?void 0:M.createdByName)||"School Administration",k=M=>(M==null?void 0:M._id)||(M==null?void 0:M.id);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(Kn,{className:"w-8 h-8"}),"Notice Board"]}),s.jsx("p",{className:"text-yellow-100 text-lg",children:"Stay updated with latest school announcements and important notices"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:u?"...":c.length}),s.jsx("div",{className:"text-sm text-yellow-100",children:"Total Notices"})]}),A&&!u&&s.jsxs("p",{className:"text-xs text-yellow-100 mt-2",children:["Updated ",A.toLocaleDateString()]})]})]}),m&&s.jsxs("div",{className:"mt-4 bg-white/10 border border-red-200/30 text-white px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[s.jsx(Ir,{size:16}),m]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-yellow-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),s.jsx("input",{type:"text",placeholder:"Search notices by title, content, or author...",value:t,onChange:M=>e(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-amber-500"}),s.jsxs("select",{value:r,onChange:M=>n(M.target.value),className:"pl-10 pr-8 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"high",children:"High Priority"}),s.jsx("option",{value:"medium",children:"Medium Priority"}),s.jsx("option",{value:"low",children:"Low Priority"})]})]}),s.jsxs("select",{value:a,onChange:M=>i(M.target.value),className:"px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"academic",children:"Academic"}),s.jsx("option",{value:"events",children:"Events"}),s.jsx("option",{value:"transport",children:"Transport"}),s.jsx("option",{value:"general",children:"General"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(M=>E(M)==="high").length}),s.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Ir,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(M=>!!M.pinned).length}),s.jsx("div",{className:"text-sm text-amber-600",children:"Pinned Notices"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(LR,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:o.length}),s.jsx("div",{className:"text-sm text-amber-600",children:"Bookmarked"})]}),s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(a5,{className:"w-6 h-6 text-amber-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.reduce((M,T)=>M+(Number(T.views)||0),0)}),s.jsx("div",{className:"text-sm text-amber-600",children:"Total Views"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Is,{className:"w-6 h-6 text-yellow-600"})})]})})]}),s.jsx("div",{className:"space-y-6",children:u?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,T)=>s.jsx("div",{className:"h-40 bg-white rounded-xl shadow-lg border border-yellow-100 animate-pulse"},T))}):v.length===0?s.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-lg border border-yellow-100",children:[s.jsx(Kn,{className:"w-16 h-16 mx-auto text-amber-300 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-amber-900 mb-2",children:"No notices found"}),s.jsx("p",{className:"text-amber-600",children:"Try adjusting your search or filter criteria"})]}):v.map(M=>{const T=k(M),H=E(M),L=P(M),Q=_(M),O=B(M),V=Number(M.views)||0,ee=Array.isArray(M.attachments)?M.attachments:[],Y=w(H),re=o.includes(T),D=!!M.pinned;return s.jsx("div",{className:`bg-white rounded-xl shadow-lg border transition-all duration-200 hover:shadow-xl ${D?"border-purple-200 ring-2 ring-purple-100":"border-yellow-100"} hover:border-amber-200`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D&&s.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[s.jsx(LR,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Pinned"})]}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-medium ${S(H)}`,children:[s.jsx(Y,{className:"w-3 h-3"}),H.toUpperCase()]}),s.jsx("div",{className:`px-2 py-1 rounded-full border text-xs font-medium ${N(L)}`,children:L.toUpperCase()})]}),s.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2 leading-tight",children:M.title}),s.jsx("p",{className:"text-amber-700 leading-relaxed mb-4",children:M.message}),ee.length>0&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map((G,z)=>s.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2 text-sm cursor-pointer hover:bg-yellow-100 transition-colors",children:[s.jsx(is,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-amber-800",children:G})]},z))})})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{onClick:()=>j(T),className:`p-2 rounded-lg transition-colors ${re?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:re?"Remove bookmark":"Add bookmark",children:re?s.jsx(Rce,{className:"w-5 h-5"}):s.jsx(a5,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors",title:"Share notice",children:s.jsx(Cw,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-yellow-100",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-amber-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"w-4 h-4"}),s.jsx("span",{children:O})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date TBA"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsxs("span",{children:[V," views"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>b(T),className:"px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors text-sm font-medium",children:"Mark as Read"})})]})]})},T)})})]})},mve=()=>{var T;const[t,e]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState({}),[o,l]=F.useState({}),[c,d]=F.useState(""),[u,h]=F.useState(!1),[m,f]=F.useState(""),[A,g]=F.useState("all"),[x,v]=F.useState(!1),j=[{id:"mathematics",name:"Mathematics",teacher:"Dr. Sarah Johnson",teacherImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",code:"MATH-101",schedule:"Mon, Wed, Fri - 9:00 AM"},{id:"physics",name:"Physics",teacher:"Prof. Michael Chen",teacherImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",code:"PHY-201",schedule:"Tue, Thu - 11:00 AM"},{id:"chemistry",name:"Chemistry",teacher:"Dr. Emily Rodriguez",teacherImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",code:"CHEM-201",schedule:"Mon, Wed, Fri - 2:00 PM"},{id:"english",name:"English Literature",teacher:"Ms. Jennifer Davis",teacherImage:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",code:"ENG-301",schedule:"Tue, Thu - 10:00 AM"},{id:"history",name:"World History",teacher:"Mr. David Thompson",teacherImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",code:"HIST-201",schedule:"Mon, Wed - 1:00 PM"},{id:"biology",name:"Biology",teacher:"Dr. Lisa Anderson",teacherImage:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=150&h=150&fit=crop&crop=face",code:"BIO-201",schedule:"Tue, Fri - 9:00 AM"}],b=[{id:"teaching_quality",label:"Teaching Quality",description:"How well does the teacher explain concepts?",icon:pn},{id:"communication",label:"Communication",description:"How clear and effective is the teacher's communication?",icon:du},{id:"engagement",label:"Student Engagement",description:"How well does the teacher engage students in learning?",icon:pr},{id:"preparation",label:"Class Preparation",description:"How well-prepared is the teacher for each class?",icon:Qr},{id:"availability",label:"Availability & Support",description:"How accessible is the teacher for questions and help?",icon:ql},{id:"fairness",label:"Fair Assessment",description:"How fair and consistent is the teacher's grading?",icon:jn}],S=[{id:1,subject:"Mathematics",teacher:"Dr. Sarah Johnson",date:"2024-07-15",rating:4.5,feedback:"Excellent teacher! Very clear explanations and always willing to help.",categories:{teaching_quality:5,communication:4,engagement:5,preparation:4,availability:5,fairness:4}},{id:2,subject:"Physics",teacher:"Prof. Michael Chen",date:"2024-07-10",rating:4,feedback:"Great practical demonstrations. Could improve on explaining complex theories.",categories:{teaching_quality:4,communication:3,engagement:5,preparation:4,availability:4,fairness:4}}],w=(H,L)=>{i(Q=>({...Q,[H]:L}))},N=(H,L)=>{l(Q=>({...Q,[H]:L}))},E=H=>{l(L=>({...L,[H]:0}))},P=()=>{const H=Object.values(a);return H.length===0?0:(H.reduce((L,Q)=>L+Q,0)/H.length).toFixed(1)},_=()=>{if(!t||Object.keys(a).length===0){alert("Please select a subject and provide ratings before submitting.");return}console.log("Feedback submitted:",{subject:t,ratings:a,feedback:c,averageRating:P()}),h(!0),setTimeout(()=>{h(!1),i({}),d(""),e(""),n("")},3e3)},B=()=>{i({}),d(""),e(""),n("")},k=j.filter(H=>H.name.toLowerCase().includes(m.toLowerCase())||H.teacher.toLowerCase().includes(m.toLowerCase())),M=S.filter(H=>A==="all"||H.subject.toLowerCase().includes(A.toLowerCase()));return u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center border border-yellow-200 max-w-md mx-auto",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Lr,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-2",children:"Feedback Submitted!"}),s.jsx("p",{className:"text-amber-600 mb-4",children:"Thank you for your valuable feedback. Your input helps us improve the learning experience."}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-amber-700",children:[s.jsx("strong",{children:"Subject:"})," ",(T=j.find(H=>H.id===t))==null?void 0:T.name,s.jsx("br",{}),s.jsx("strong",{children:"Average Rating:"})," ",P(),"/5 stars"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(du,{className:"w-8 h-8"}),"Teacher Feedback"]}),s.jsx("p",{className:"text-yellow-100 text-lg",children:"Share your thoughts about your teachers and help improve the learning experience"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:j.length}),s.jsx("div",{className:"text-sm text-yellow-100",children:"Subjects Available"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Qr,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Select Subject & Teacher"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),s.jsx("input",{type:"text",placeholder:"Search subjects or teachers...",value:m,onChange:H=>f(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(H=>s.jsxs("div",{onClick:()=>{e(H.id),n(H.teacher)},className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${t===H.id?"border-purple-400 bg-purple-50 ring-2 ring-purple-100":"border-yellow-200 bg-white hover:border-amber-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{src:H.teacherImage,alt:H.teacher,className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm",onError:L=>{L.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-amber-900",children:H.name}),s.jsx("p",{className:"text-sm text-amber-600",children:H.code})]})]}),s.jsxs("div",{className:"text-sm text-amber-700",children:[s.jsx("p",{className:"font-medium",children:H.teacher}),s.jsx("p",{className:"text-xs text-amber-600",children:H.schedule})]})]},H.id))})]}),t&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ds,{className:"w-6 h-6 text-amber-500"}),s.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Rate Your Teacher"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P()}),s.jsx("div",{className:"text-sm text-amber-600",children:"Average Rating"})]})]}),s.jsx("div",{className:"space-y-6",children:b.map(H=>{const L=H.icon;return s.jsx("div",{className:"border-b border-yellow-100 pb-4 last:border-b-0",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(L,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:H.label}),s.jsx("p",{className:"text-sm text-amber-600 mb-3",children:H.description}),s.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(Q=>s.jsx("button",{type:"button",className:"focus:outline-none transition-transform hover:scale-110",onMouseEnter:()=>N(H.id,Q),onMouseLeave:()=>E(H.id),onClick:()=>w(H.id,Q),children:s.jsx(ds,{className:`w-6 h-6 transition-colors ${Q<=(o[H.id]||a[H.id]||0)?"fill-yellow-400 text-yellow-500":"text-gray-300 hover:text-gray-400"}`})},Q)),a[H.id]&&s.jsxs("span",{className:"ml-2 text-sm font-medium text-amber-700",children:[a[H.id],"/5"]})]})]})]})},H.id)})})]}),t&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ki,{className:"w-6 h-6 text-green-600"}),s.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Additional Comments"})]}),s.jsx("textarea",{rows:"5",placeholder:"Share specific feedback, suggestions, or what you appreciate about this teacher's teaching style...",value:c,onChange:H=>d(H.target.value),className:"w-full px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent resize-none"}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-amber-600",children:[c.length,"/500 characters"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset"]}),s.jsxs("button",{onClick:_,disabled:!t||Object.keys(a).length===0,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(qf,{className:"w-4 h-4"}),"Submit Feedback"]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-amber-900 mb-4 flex items-center gap-2",children:[s.jsx(cs,{className:"w-5 h-5 text-purple-600"}),"Your Feedback Stats"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsx("span",{className:"text-amber-700",children:"Total Feedback Given"}),s.jsx("span",{className:"font-bold text-amber-900",children:"12"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[s.jsx("span",{className:"text-purple-700",children:"Average Rating Given"}),s.jsx("span",{className:"font-bold text-purple-900",children:"4.2/5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-green-700",children:"Response Rate"}),s.jsx("span",{className:"font-bold text-green-900",children:"89%"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-yellow-100",children:[s.jsxs("div",{className:"p-6 border-b border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-bold text-amber-900 flex items-center gap-2",children:[s.jsx(Is,{className:"w-5 h-5 text-blue-600"}),"Previous Feedback"]}),s.jsxs("button",{onClick:()=>v(!x),className:"flex items-center gap-1 text-purple-600 hover:text-purple-700",children:[x?s.jsx(mn,{className:"w-4 h-4"}):s.jsx(aa,{className:"w-4 h-4"}),x?"Hide":"Show"]})]}),x&&s.jsx("div",{className:"mt-4",children:s.jsxs("select",{value:A,onChange:H=>g(H.target.value),className:"w-full px-3 py-2 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Subjects"}),j.map(H=>s.jsx("option",{value:H.name,children:H.name},H.id))]})})]}),x&&s.jsx("div",{className:"max-h-96 overflow-y-auto",children:M.map(H=>s.jsxs("div",{className:"p-4 border-b border-yellow-100 last:border-b-0 hover:bg-yellow-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:H.subject}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-4 h-4 fill-yellow-400 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-amber-700",children:H.rating})]})]}),s.jsx("p",{className:"text-sm text-amber-600 mb-2",children:H.teacher}),s.jsxs("p",{className:"text-sm text-amber-700 mb-2",children:['"',H.feedback,'"']}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-amber-600",children:[s.jsx("span",{children:new Date(H.date).toLocaleDateString()}),s.jsx("span",{children:"6 categories rated"})]})]},H.id))})]})]})]})]})},wY="eec_student_chat_v2",KC=[{id:"class-group",name:"Class 10-A Group",type:"class",unread:1,lastMessage:"Anyone finished Q5 of the assignment?",lastTime:Date.now()-34e5,members:32,avatarColor:"bg-amber-500"},{id:"math-teacher",name:"Ms. Johnson - Math",type:"teacher",unread:0,lastMessage:"Reminder: submit by 6 PM today.",lastTime:Date.now()-72e5,members:2,avatarColor:"bg-blue-500",isOnline:!0},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"PTM next Monday at 10 AM.",lastTime:Date.now()-54e5,members:4,avatarColor:"bg-purple-500"},{id:"study-group",name:"Science Study Group",type:"group",unread:3,lastMessage:"Let's meet at the library tomorrow",lastTime:Date.now()-18e5,members:5,avatarColor:"bg-green-500"}],XC={"class-group":[{id:"m1",sender:"student-other",senderName:"Alex Kim",text:"Anyone finished Q5 of the assignment?",ts:Date.now()-36e5},{id:"m2",sender:"student-other",senderName:"Maria Lopez",text:"Still working on it. It's tricky!",ts:Date.now()-34e5},{id:"m3",sender:"student-other",senderName:"James Wilson",text:"I think I got it. The answer should be 42.",ts:Date.now()-32e5},{id:"m4",sender:"student",senderName:"You",text:"Thanks James! That helps a lot.",ts:Date.now()-3e6}],"math-teacher":[{id:"m5",sender:"teacher",senderName:"Ms. Johnson",text:"Reminder: Assignment due by 6 PM today.",ts:Date.now()-72e5},{id:"m6",sender:"student",senderName:"You",text:"Understood, I'll submit it soon.",ts:Date.now()-7e6}],office:[{id:"m7",sender:"admin",senderName:"School Office",text:"Parent-Teacher Meeting next Monday at 10 AM.",ts:Date.now()-54e5},{id:"m8",sender:"student",senderName:"You",text:"Noted, I'll inform my parents.",ts:Date.now()-52e5}],"study-group":[{id:"m9",sender:"student-other",senderName:"Tom Chen",text:"Does anyone understand Newton's Third Law?",ts:Date.now()-108e5},{id:"m10",sender:"student-other",senderName:"Lisa Park",text:"I can explain it during our study session.",ts:Date.now()-106e5},{id:"m11",sender:"student",senderName:"You",text:"When are we meeting next?",ts:Date.now()-104e5},{id:"m12",sender:"student-other",senderName:"Tom Chen",text:"Let's meet at the library tomorrow after school",ts:Date.now()-102e5},{id:"m13",sender:"student-other",senderName:"Maria Lopez",text:"Works for me! I'll bring snacks.",ts:Date.now()-1e7}]};function pve(){var t;try{const e=localStorage.getItem(wY);if(!e)return{conversations:KC,messages:XC};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:KC,messages:r.messages||XC}}catch{return{conversations:KC,messages:XC}}}function Ave(t){try{localStorage.setItem(wY,JSON.stringify(t))}catch{}}const xve=({message:t,isMine:e,showSender:r})=>{const n=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-[80%] flex flex-col ${e?"items-end":"items-start"}`,children:[!e&&r&&s.jsx("span",{className:"text-xs text-gray-500 mb-1 ml-1",children:t.senderName}),s.jsxs("div",{className:`rounded-2xl px-4 py-2 text-sm ${e?"bg-amber-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[t.type==="file"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lI,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),s.jsx("span",{className:"underline break-all",children:t.fileName||"Attachment"})]}):t.type==="voice"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(FX,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),s.jsx("span",{children:"Voice message"})]}):s.jsx("div",{className:"whitespace-pre-wrap",children:t.text}),s.jsx("div",{className:`text-xs mt-1 ${e?"text-amber-100":"text-gray-500"} text-right`,children:n(t.ts)})]})]})})},gve=({conversation:t,isActive:e,onClick:r})=>{const n=a=>{const o=Date.now()-a,l=Math.floor(o/(1e3*60*60*24));return l===0?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l===1?"Yesterday":new Date(a).toLocaleDateString([],{month:"short",day:"numeric"})};return s.jsxs("button",{onClick:r,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-amber-50":"hover:bg-gray-50"} border-b`,children:[s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center text-white ${t.avatarColor}`,children:t.type==="class"||t.type==="group"?s.jsx(pr,{className:"h-5 w-5"}):s.jsx(kn,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),t.unread>0&&s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-amber-500 text-white text-xs",children:t.unread})]}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-gray-400",children:n(t.lastTime)}),t.type==="teacher"&&t.isOnline&&s.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]})]})]})]})},$O=()=>{var N;const[{conversations:t,messages:e},r]=F.useState(pve),[n,a]=F.useState(((N=t[0])==null?void 0:N.id)||null),[i,o]=F.useState(""),[l,c]=F.useState(""),[d,u]=F.useState("text"),[h,m]=F.useState(null),[f,A]=F.useState(!1),[g,x]=F.useState(!1);F.useRef(null);const v=F.useRef(null),j=F.useMemo(()=>e[n]||[],[e,n]),b=F.useMemo(()=>t.find(E=>E.id===n),[t,n]);F.useEffect(()=>{Ave({conversations:t,messages:e})},[t,e]),F.useEffect(()=>{n&&r(E=>({...E,conversations:E.conversations.map(P=>P.id===n?{...P,unread:0}:P)}))},[n]),F.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[j]);const S=F.useMemo(()=>{const E=i.trim().toLowerCase();return E?t.filter(P=>P.name.toLowerCase().includes(E)||P.lastMessage.toLowerCase().includes(E)):t},[t,i]),w=()=>{if(!n)return;let E;if(d==="text"){const _=l.trim();if(!_)return;E={id:crypto.randomUUID(),sender:"student",senderName:"You",text:_,ts:Date.now(),type:"text"}}else if(d==="file"){if(!h)return;E={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"file",fileName:h.name}}else d==="voice"&&(E={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"voice"});const P=E.type==="text"?E.text||"":E.type==="file"?`[File] ${E.fileName}`:"[Voice message]";r(_=>({conversations:_.conversations.map(B=>B.id===n?{...B,lastMessage:P,lastTime:Date.now()}:B),messages:{..._.messages,[n]:[..._.messages[n]||[],E]}})),c(""),m(null),A(!1)};return F.useEffect(()=>{const E=()=>x(window.innerWidth<768);return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),s.jsxs("div",{className:"h-full min-h-0 bg-gray-50 flex w-full",children:[s.jsxs("div",{className:`w-full md:w-80 bg-white border-r flex flex-col h-full min-h-0 ${g&&n?"hidden":"flex"}`,children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:s.jsx(kn,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-gray-800",children:"Student Chat"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Connect with classmates and teachers"})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-gray-500"}),s.jsx("input",{value:i,onChange:E=>o(E.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),S.map(E=>s.jsx(gve,{conversation:E,isActive:n===E.id,onClick:()=>{a(E.id)}},E.id)),S.length===0&&s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),s.jsx("div",{className:"p-4 border-t bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-200 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-amber-800",children:"You"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Student"})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Online"})]})})]}),s.jsx("div",{className:`flex-1 flex flex-col h-full min-h-0 ${g&&!n?"hidden":"flex"}`,children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g&&s.jsx("button",{onClick:()=>a(null),className:"md:hidden h-10 w-10 rounded-full flex items-center justify-center hover:bg-gray-100",children:s.jsx(wd,{className:"h-5 w-5 text-gray-600"})}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:b.type==="class"||b.type==="group"?s.jsx(pr,{className:"h-5 w-5 text-amber-600"}):s.jsx(kn,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:b.name}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:b.type==="teacher"&&b.isOnline?s.jsxs("span",{className:"text-green-500 flex items-center",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]}):`${b.members} members`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b.type==="teacher"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:s.jsx(Mi,{className:"h-5 w-5 text-gray-600"})}),s.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:s.jsx(NA,{className:"h-5 w-5 text-gray-600"})})]}),s.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:s.jsx(ww,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsx("div",{ref:v,className:"flex-1 overflow-y-auto p-6 bg-gray-50 flex flex-col-reverse custom-scrollbar",style:{display:"flex",flexDirection:"column-reverse"},children:j.length?s.jsx("div",{children:j.map((E,P)=>{const _=E.sender==="student",B=!_&&(P===0||j[P-1].sender!==E.sender||E.ts-j[P-1].ts>6e5);return s.jsx(xve,{message:E,isMine:_,showSender:B},E.id)})}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(kn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),s.jsx("div",{className:"border-t bg-white p-4",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Type:"}),s.jsx("div",{className:"inline-flex rounded-md overflow-hidden border border-gray-300",children:["text","voice","file"].map(E=>s.jsx("button",{onClick:()=>u(E),className:`px-2 py-1 ${d===E?"bg-white text-gray-800":"text-gray-600 hover:bg-white/60"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d==="voice"&&s.jsx("button",{onClick:()=>A(E=>!E),className:`px-2 py-1 rounded-md ${f?"bg-red-500 text-white":"bg-white text-gray-700"}`,children:f?"Stop Recording":"Record"}),d==="file"&&s.jsxs("label",{className:"px-2 py-1 rounded-md bg-white text-gray-700 cursor-pointer",children:[s.jsx("input",{type:"file",className:"hidden",onChange:E=>{var P;return m(((P=E.target.files)==null?void 0:P[0])||null)}}),"Choose File"]})]})]}),s.jsxs("div",{className:"flex items-end",children:[d==="text"&&s.jsx("textarea",{rows:1,value:l,onChange:E=>c(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),w())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-3 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),d==="file"&&s.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:h?`Selected: ${h.name}`:"No file selected"}),d==="voice"&&s.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:f?"Recording...":"Press Record to capture voice message"})]})]}),s.jsx("button",{onClick:w,disabled:d==="text"&&!l.trim()||d==="file"&&!h,className:"h-12 w-12 rounded-full bg-amber-600 text-white flex items-center justify-center hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(qf,{className:"h-5 w-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(kn,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Student Chat"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with your classmates, teachers, or school administration."})]})})})]})},vve=()=>{const[t,e]=F.useState({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),[r,n]=F.useState([{id:1,studentName:"John Doe",class:"10-A",reason:"Medical appointment",dateFrom:"2025-01-15",dateTo:"2025-01-15",status:"approved",submittedOn:"2025-01-12",approvedBy:"Ms. Johnson"},{id:2,studentName:"John Doe",class:"10-A",reason:"Family emergency",dateFrom:"2025-01-08",dateTo:"2025-01-10",status:"pending",submittedOn:"2025-01-07",approvedBy:null}]),[a,i]=F.useState("new"),[o,l]=F.useState(null),c=[{value:"illness",label:"Illness/Medical",icon:""},{value:"family",label:"Family Emergency",icon:""},{value:"personal",label:"Personal Reasons",icon:""},{value:"travel",label:"Travel/Vacation",icon:""},{value:"appointment",label:"Medical Appointment",icon:""},{value:"other",label:"Other",icon:""}],d=f=>{const{name:A,value:g}=f.target;e(x=>({...x,[A]:g}))},u=f=>{f.preventDefault();const A={id:r.length+1,studentName:t.studentName,class:`${t.class}-${t.section}`,reason:t.reason,dateFrom:t.dateFrom,dateTo:t.dateTo,status:"pending",submittedOn:new Date().toISOString().split("T")[0],approvedBy:null,formData:{...t}};n(g=>[A,...g]),e({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),alert("Excuse letter submitted successfully!"),i("history")},h=f=>{var g;const A=f.formData||t;return{date:new Date().toLocaleDateString(),content:`
Date: ${new Date().toLocaleDateString()}

To,
The Principal/Class Teacher
Electronic Educare

Subject: Request for Leave of Absence

Dear Sir/Madam,

I am writing to inform you that my ward, ${A.studentName}, studying in Class ${A.class}-${A.section}, Roll Number: ${A.rollNumber}, will not be able to attend school from ${new Date(A.dateFrom).toLocaleDateString()} to ${new Date(A.dateTo).toLocaleDateString()}.

Reason for absence: ${A.reason}
Type: ${((g=c.find(x=>x.value===A.reasonType))==null?void 0:g.label)||A.reasonType}

${A.additionalNotes?`Additional Information: ${A.additionalNotes}`:""}

I kindly request you to grant permission for the leave and excuse the absence.

Thank you for your consideration.

Yours sincerely,
${A.parentName}
(Parent/Guardian)

Contact Details:
Email: ${A.parentEmail}
Phone: ${A.parentPhone}
Emergency Contact: ${A.emergencyContact}
      `}},m=f=>{const A=h(f),g=document.createElement("a"),x=new Blob([A.content],{type:"text/plain"});g.href=URL.createObjectURL(x),g.download=`excuse_letter_${f.studentName}_${f.dateFrom}.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g)};return s.jsxs("div",{className:"h-full bg-gray-50 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(kr,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Excuse Letters"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Submit and manage leave applications"})]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:s.jsxs("div",{className:"flex space-x-8",children:[s.jsx("button",{onClick:()=>i("new"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="new"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"New Letter"}),s.jsxs("button",{onClick:()=>i("history"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["History (",r.length,")"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a==="new"?s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(As,{className:"h-5 w-5 mr-2 text-blue-600"}),"Student Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name *"}),s.jsx("input",{type:"text",name:"studentName",value:t.studentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number *"}),s.jsx("input",{type:"text",name:"rollNumber",value:t.rollNumber,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),s.jsxs("select",{name:"class",value:t.class,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),Array.from({length:12},(f,A)=>A+1).map(f=>s.jsxs("option",{value:f,children:["Class ",f]},f))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),s.jsxs("select",{name:"section",value:t.section,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select Section"}),["A","B","C","D"].map(f=>s.jsxs("option",{value:f,children:["Section ",f]},f))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Yi,{className:"h-5 w-5 mr-2 text-green-600"}),"Parent/Guardian Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent/Guardian Name *"}),s.jsx("input",{type:"text",name:"parentName",value:t.parentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),s.jsx("input",{type:"email",name:"parentEmail",value:t.parentEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),s.jsx("input",{type:"tel",name:"parentPhone",value:t.parentPhone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),s.jsx("input",{type:"tel",name:"emergencyContact",value:t.emergencyContact,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(tr,{className:"h-5 w-5 mr-2 text-purple-600"}),"Leave Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date *"}),s.jsx("input",{type:"date",name:"dateFrom",value:t.dateFrom,onChange:d,min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date *"}),s.jsx("input",{type:"date",name:"dateTo",value:t.dateTo,onChange:d,min:t.dateFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason Type *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(f=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"reasonType",value:f.value,checked:t.reasonType===f.value,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[f.icon," ",f.label]})]},f.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Reason *"}),s.jsx("textarea",{name:"reason",value:t.reason,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide specific details about the reason for absence...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),s.jsx("textarea",{name:"additionalNotes",value:t.additionalNotes,onChange:d,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information you'd like to share..."})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsxs("button",{type:"button",onClick:()=>l(h({formData:t})),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Preview Letter"]}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(qf,{className:"h-4 w-4 mr-2"}),"Submit Excuse Letter"]})]})]})}):s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Submitted Excuse Letters"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Period"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.studentName}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Class ",f.class]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(f.dateFrom).toLocaleDateString()," - ",new Date(f.dateTo).toLocaleDateString()]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:f.reason})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[f.status==="approved"&&s.jsx(Lr,{className:"h-3 w-3 mr-1"}),f.status==="pending"&&s.jsx(dr,{className:"h-3 w-3 mr-1"}),f.status==="rejected"&&s.jsx(Ir,{className:"h-3 w-3 mr-1"}),f.status.charAt(0).toUpperCase()+f.status.slice(1)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.submittedOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>l(h(f)),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[s.jsx(Is,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs("button",{onClick:()=>m(f),className:"text-green-600 hover:text-green-900 flex items-center",children:[s.jsx(is,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},f.id))})]})})]})})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Letter Preview"}),s.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsx("div",{className:"p-6",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 bg-gray-50 p-4 rounded-lg border",children:o.content})}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"}),s.jsxs("button",{onClick:()=>{const f=document.createElement("a"),A=new Blob([o.content],{type:"text/plain"});f.href=URL.createObjectURL(A),f.download=`excuse_letter_${o.date}.txt`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})},yve=({subject:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState("medium"),[i,o]=F.useState(""),[l,c]=F.useState(!1),[d,u]=F.useState(!1),[h,m]=F.useState(!1),f=[{id:"basic",name:"Basic",description:"Simple explanations for beginners",color:"green"},{id:"medium",name:"Intermediate",description:"Balanced depth and clarity",color:"blue"},{id:"advanced",name:"Advanced",description:"Comprehensive and detailed",color:"red"}],A=async()=>{if(e){c(!0);try{const S=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"summary",difficulty:n})});if(S.ok){const w=await S.json();o(w.content),g("summary")}else o(GO[e]||`AI-generated summary for ${e} in ${t.name} at ${n} level.`)}catch(S){console.error("Error generating summary:",S),o(GO[e]||`AI-generated summary for ${e} in ${t.name} at ${n} level.`)}finally{c(!1)}}},g=async S=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:S,timeSpent:Math.floor(Math.random()*20)+5,completed:!0})})}catch(w){console.error("Error logging activity:",w)}},x=async()=>{try{await navigator.clipboard.writeText(i),u(!0),setTimeout(()=>u(!1),2e3)}catch(S){console.error("Error copying to clipboard:",S)}},v=()=>{const S=document.createElement("a"),w=new Blob([i],{type:"text/plain"});S.href=URL.createObjectURL(w),S.download=`${e}_summary.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S)},j=()=>{if(h)speechSynthesis.cancel(),m(!1);else{const S=new SpeechSynthesisUtterance(i);S.rate=.8,S.pitch=1,S.onend=()=>m(!1),speechSynthesis.speak(S),m(!0)}},b=S=>{const w={basic:"text-green-600 bg-green-100 border-green-200",medium:"text-blue-600 bg-blue-100 border-blue-200",advanced:"text-red-600 bg-red-100 border-red-200"};return w[S]||w.medium};return s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(sh,{className:"w-7 h-7 mr-3"}),"AI Summary Generator"]}),s.jsx("p",{className:"text-green-100 mt-1",children:"Get intelligent summaries tailored to your learning level"})]}),s.jsx("div",{className:"bg-green-400 p-3 rounded-xl",children:s.jsx(Js,{className:"w-8 h-8"})})]})}),s.jsxs("div",{className:"p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),s.jsxs("select",{value:e,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((S,w)=>s.jsx("option",{value:S,children:S},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(S=>s.jsx("button",{onClick:()=>a(S.id),className:`p-3 rounded-lg border text-sm font-medium transition-all ${n===S.id?b(S.id):"text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold",children:S.name}),s.jsx("div",{className:"text-xs mt-1 opacity-75",children:S.description})]})},S.id))})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:A,disabled:!e||l,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:l?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Generating AI Summary..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(uh,{className:"w-5 h-5"}),s.jsx("span",{children:"Generate Summary"})]})})})]}),i&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(kr,{className:"w-5 h-5 mr-2 text-green-600"}),"Summary: ",e,s.jsx("span",{className:`ml-3 px-2 py-1 rounded-full text-xs font-medium ${b(n)}`,children:n})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:j,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:h?"Stop reading":"Read aloud",children:h?s.jsx(sfe,{className:"w-5 h-5"}):s.jsx(tfe,{className:"w-5 h-5"})}),s.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Copy to clipboard",children:d?s.jsx(Lr,{className:"w-5 h-5 text-green-600"}):s.jsx(vm,{className:"w-5 h-5"})}),s.jsx("button",{onClick:v,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download as text file",children:s.jsx(is,{className:"w-5 h-5"})}),s.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Regenerate summary",children:s.jsx(Wf,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:s.jsx("div",{className:"prose prose-green max-w-none",children:s.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:i})})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Word Count"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800",children:i.split(" ").length})]}),s.jsx(Qr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Reading Time"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[Math.ceil(i.split(" ").length/200)," min"]})]}),s.jsx(dr,{className:"w-8 h-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Difficulty"}),s.jsx("p",{className:"text-2xl font-bold text-orange-800 capitalize",children:n})]}),s.jsx(ds,{className:"w-8 h-8 text-orange-500"})]})})]}),s.jsx("div",{className:"mt-6 bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ir,{className:"w-5 h-5 text-yellow-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Learning Tips"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:" Read the summary multiple times for better retention"}),s.jsx("li",{children:" Try explaining the concepts in your own words"}),s.jsx("li",{children:" Use the mind map feature to visualize connections"}),s.jsx("li",{children:" Test your understanding with the AI quiz"})]})]})]})})]}),!i&&!l&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(sh,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Generate"}),s.jsx("p",{className:"text-gray-600 mb-4",children:'Select a topic and difficulty level, then click "Generate Summary" to get started.'}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"AI Summary Features:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[s.jsx("li",{children:" Personalized difficulty levels"}),s.jsx("li",{children:" Topic-specific content"}),s.jsx("li",{children:" Text-to-speech support"}),s.jsx("li",{children:" Download and share options"}),s.jsx("li",{children:" Learning progress tracking"})]})]})]})]})})},GO={Algebra:`Algebra is a branch of mathematics that uses symbols and letters to represent numbers and quantities in formulas and equations. It's like arithmetic with unknown values that we need to find.

Key Concepts:
- Variables: Letters (like x, y, z) that represent unknown numbers
- Equations: Mathematical statements showing that two expressions are equal
- Operations: Addition, subtraction, multiplication, and division with variables

Basic Rules:
1. Whatever you do to one side of an equation, you must do to the other side
2. Combine like terms (terms with the same variable)
3. Use inverse operations to isolate variables

Applications:
Algebra is used in everyday life for calculating costs, determining distances, solving word problems, and forms the foundation for advanced mathematics like calculus and statistics.`,"Quadratic Equations":`Quadratic equations are mathematical expressions of the form ax + bx + c = 0, where a, b, and c are constants and a  0. They represent parabolic curves when graphed.

Key Components:
- The term ax makes it quadratic (second-degree)
- These equations can have 0, 1, or 2 real solutions
- The graph is always a parabola

Solving Methods:
1. Factoring: Breaking down the equation into simpler parts
2. Quadratic Formula: x = (-b  (b - 4ac)) / 2a
3. Completing the Square: Converting to perfect square form
4. Graphing: Finding x-intercepts visually

The Discriminant (b - 4ac):
- Positive: Two different real solutions
- Zero: One repeated real solution  
- Negative: Two complex solutions

Real-world applications include projectile motion, optimization problems, and modeling parabolic shapes in architecture and engineering.`},bve=({subject:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState(null),[i,o]=F.useState(!1),[l,c]=F.useState(new Set),[d,u]=F.useState(!1),h=F.useRef(null),m=async()=>{if(e){o(!0);try{const S=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"mindmap",difficulty:"medium"})});if(S.ok){const w=await S.json();a(w.content),c(new Set([w.content.center]))}else a(VO[e]||b(e)),c(new Set([e]));f("mindmap")}catch(S){console.error("Error generating mind map:",S),a(VO[e]||b(e)),c(new Set([e]))}finally{o(!1)}}},f=async S=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:S,timeSpent:Math.floor(Math.random()*15)+5,completed:!0})})}catch(w){console.error("Error logging activity:",w)}},A=S=>{const w=new Set(l);w.has(S)?w.delete(S):w.add(S),c(w)},g=()=>{const S=h.current;if(S){const w=document.createElement("a");w.download=`${e}_mindmap.png`,w.href=S.toDataURL(),w.click()}},x=S=>{const w=["bg-blue-500 text-white","bg-green-500 text-white","bg-purple-500 text-white","bg-orange-500 text-white","bg-red-500 text-white","bg-indigo-500 text-white","bg-pink-500 text-white","bg-yellow-500 text-white"];return w[S%w.length]},v=(S,w=0,N=0)=>{const E=w===0,P=`${S}-${w}-${N}`,_=l.has(P);return s.jsx("div",{className:`
          ${E?"mind-map-center":"mind-map-branch"}
          ${E?"text-xl font-bold":"text-sm"}
        `,style:{marginLeft:w>0?`${w*30}px`:"0",marginTop:w>0?"8px":"0"},children:s.jsxs("div",{className:`
            ${E?"px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white":`px-4 py-2 ${x(N)}`}
            rounded-xl shadow-lg cursor-pointer transform transition-all hover:scale-105
            flex items-center space-x-2
          `,onClick:()=>A(P),children:[!E&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),s.jsx("span",{children:typeof S=="string"?S:S.name}),!E&&s.jsx("div",{className:`ml-2 ${_?"rotate-90":""} transition-transform`,children:s.jsx(Ihe,{className:"w-3 h-3"})})]})},P)},j=()=>n?s.jsx("div",{className:"mind-map-container p-8",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"mb-8",children:v(n.center,0)}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl",children:n.branches.map((S,w)=>s.jsxs("div",{className:"mind-map-branch-container",children:[s.jsx("div",{className:"mb-4",children:v(S.name,1,w)}),l.has(`${S.name}-1-${w}`)&&s.jsx("div",{className:"ml-6 space-y-2 animate-fadeIn",children:S.children.map((N,E)=>s.jsx("div",{className:`
                          px-3 py-2 rounded-lg text-xs
                          ${x(w).replace("500","100").replace("text-white","text-gray-800")}
                          border-l-2 border-current transform transition-all hover:translate-x-1
                        `,children:N},E))})]},w))})]})}):null,b=S=>({center:S,branches:[{name:"Key Concepts",children:["Concept 1","Concept 2","Concept 3"]},{name:"Applications",children:["Application 1","Application 2"]},{name:"Examples",children:["Example 1","Example 2"]}]});return s.jsxs("div",{className:`${d?"fixed inset-0 z-50 bg-white":"max-w-6xl mx-auto"}`,children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden h-full",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(Of,{className:"w-7 h-7 mr-3"}),"AI Mind Map Generator"]}),s.jsx("p",{className:"text-purple-100 mt-1",children:"Visualize concepts and their connections"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>u(!d),className:"p-2 bg-purple-400 hover:bg-purple-300 rounded-lg transition-colors",title:d?"Exit fullscreen":"Enter fullscreen",children:d?s.jsx(Due,{className:"w-5 h-5"}):s.jsx(IT,{className:"w-5 h-5"})}),s.jsx("div",{className:"bg-purple-400 p-3 rounded-xl",children:s.jsx(Js,{className:"w-8 h-8"})})]})]})}),s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Mind Map"}),s.jsxs("select",{value:e,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((S,w)=>s.jsx("option",{value:S,children:S},w))]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:m,disabled:!e||i,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:i?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Generating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(uh,{className:"w-5 h-5"}),s.jsx("span",{children:"Generate"})]})}),n&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download mind map",children:s.jsx(is,{className:"w-5 h-5"})}),s.jsx("button",{onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Regenerate mind map",children:s.jsx(Wf,{className:"w-5 h-5"})})]})]})]})}),s.jsx("div",{className:`${d?"h-full overflow-auto":"min-h-96"}`,children:n?s.jsxs("div",{className:"relative",children:[j(),s.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[s.jsx($ue,{className:"w-4 h-4 mr-2"}),"Mind Map Guide"]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[s.jsx("p",{children:" Click branches to expand/collapse"}),s.jsx("p",{children:" Central topic connects to main concepts"}),s.jsx("p",{children:" Colors represent different categories"}),s.jsx("p",{children:" Use fullscreen for better viewing"})]})]}),s.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Map Statistics"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:["Branches: ",n.branches.length]}),s.jsxs("p",{children:["Total Nodes: ",n.branches.reduce((S,w)=>S+w.children.length,n.branches.length+1)]}),s.jsxs("p",{children:["Expanded: ",l.size]})]})]})]}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Of,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Create Your Mind Map"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate an interactive mind map to visualize concepts and connections."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Mind Map Features:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.jsx("span",{children:"Interactive nodes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Color-coded branches"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Expandable sections"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsx("span",{children:"Download support"})]})]})]})]})})]}),s.jsx("canvas",{ref:h,style:{display:"none"},width:1200,height:800}),s.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        
        .mind-map-center {
          position: relative;
        }
        
        .mind-map-center::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 120%;
          height: 120%;
          border: 2px dashed rgba(59, 130, 246, 0.3);
          border-radius: 50%;
          z-index: -1;
        }
        
        .mind-map-branch-container {
          position: relative;
        }
        
        .mind-map-branch-container::before {
          content: '';
          position: absolute;
          top: 20px;
          left: -20px;
          width: 20px;
          height: 2px;
          background: linear-gradient(to right, rgba(147, 51, 234, 0.3), rgba(147, 51, 234, 0.1));
        }
      `})]})},VO={Algebra:{center:"Algebra",branches:[{name:"Basic Operations",children:["Addition (+)","Subtraction (-)","Multiplication ()","Division ()","Order of Operations (PEMDAS)","Distributive Property"]},{name:"Variables & Expressions",children:["Variables (x, y, z)","Constants","Coefficients","Terms","Like Terms","Combining Terms","Algebraic Expressions"]},{name:"Equations & Inequalities",children:["Linear Equations","Quadratic Equations","System of Equations","Inequalities","Absolute Value","Rational Equations"]},{name:"Functions",children:["Function Notation f(x)","Domain & Range","Linear Functions","Quadratic Functions","Exponential Functions","Graphing"]},{name:"Factoring",children:["Common Factors","Difference of Squares","Perfect Square Trinomials","Factoring Trinomials","Grouping Method"]},{name:"Applications",children:["Word Problems","Rate Problems","Mixture Problems","Geometry Applications","Physics Applications","Economics"]}]},Geometry:{center:"Geometry",branches:[{name:"Basic Elements",children:["Points","Lines","Rays","Segments","Planes","Angles","Parallel Lines","Perpendicular Lines"]},{name:"Triangles",children:["Types (Scalene, Isosceles, Equilateral)","Right Triangles","Pythagorean Theorem","Similar Triangles","Congruent Triangles","Area Formulas"]},{name:"Quadrilaterals",children:["Squares","Rectangles","Parallelograms","Rhombus","Trapezoids","Properties","Area & Perimeter"]},{name:"Circles",children:["Radius & Diameter","Circumference","Area","Chords","Tangents","Arcs","Central Angles","Inscribed Angles"]},{name:"Solid Geometry",children:["Cubes","Rectangular Prisms","Cylinders","Spheres","Cones","Pyramids","Surface Area","Volume"]},{name:"Coordinate Geometry",children:["Cartesian Plane","Distance Formula","Midpoint Formula","Slope","Equation of a Line","Graphing"]}]},Trigonometry:{center:"Trigonometry",branches:[{name:"Basic Functions",children:["Sine (sin)","Cosine (cos)","Tangent (tan)","Cosecant (csc)","Secant (sec)","Cotangent (cot)"]},{name:"Unit Circle",children:["Angles in Radians","Angles in Degrees","Special Angles","Reference Angles","Quadrants","Signs of Functions"]},{name:"Identities",children:["Pythagorean Identity","Reciprocal Identities","Quotient Identities","Co-function Identities","Double Angle","Half Angle"]},{name:"Graphs",children:["Sine Wave","Cosine Wave","Tangent Graph","Amplitude","Period","Phase Shift","Vertical Shift"]},{name:"Applications",children:["Right Triangle Problems","Law of Sines","Law of Cosines","Navigation","Physics Applications","Engineering"]}]},Mechanics:{center:"Mechanics",branches:[{name:"Kinematics",children:["Position","Velocity","Acceleration","Motion Graphs","Equations of Motion","Projectile Motion","Circular Motion"]},{name:"Forces",children:["Newton's Laws","Gravity","Normal Force","Friction","Tension","Applied Force","Net Force","Free Body Diagrams"]},{name:"Energy",children:["Kinetic Energy","Potential Energy","Work","Power","Conservation of Energy","Energy Transformations"]},{name:"Momentum",children:["Linear Momentum","Impulse","Conservation of Momentum","Collisions","Elastic Collisions","Inelastic Collisions"]},{name:"Rotational Motion",children:["Angular Velocity","Angular Acceleration","Torque","Moment of Inertia","Angular Momentum","Rolling Motion"]}]},Thermodynamics:{center:"Thermodynamics",branches:[{name:"Heat & Temperature",children:["Temperature Scales","Heat Transfer","Conduction","Convection","Radiation","Thermal Expansion","Specific Heat"]},{name:"Laws of Thermodynamics",children:["Zeroth Law","First Law (Energy Conservation)","Second Law (Entropy)","Third Law","Thermal Equilibrium"]},{name:"Ideal Gas",children:["Ideal Gas Law","Boyle's Law","Charles's Law","Gay-Lussac's Law","Avogadro's Law","Kinetic Theory"]},{name:"Processes",children:["Isothermal","Adiabatic","Isobaric","Isochoric","Cyclic Processes","Reversible vs Irreversible"]},{name:"Applications",children:["Heat Engines","Refrigerators","Heat Pumps","Carnot Cycle","Efficiency","Entropy Changes"]}]},"Atomic Structure":{center:"Atomic Structure",branches:[{name:"Subatomic Particles",children:["Protons","Neutrons","Electrons","Mass & Charge","Quarks","Atomic Number","Mass Number"]},{name:"Atomic Models",children:["Dalton Model","Thomson Model","Rutherford Model","Bohr Model","Quantum Mechanical Model","Electron Cloud"]},{name:"Electron Configuration",children:["Orbitals (s, p, d, f)","Aufbau Principle","Pauli Exclusion","Hund's Rule","Electron Shells","Valence Electrons"]},{name:"Periodic Trends",children:["Atomic Radius","Ionization Energy","Electronegativity","Metallic Character","Electron Affinity"]},{name:"Isotopes",children:["Same Element","Different Mass","Radioactivity","Half-life","Nuclear Reactions","Carbon Dating"]}]},"Chemical Bonding":{center:"Chemical Bonding",branches:[{name:"Ionic Bonding",children:["Metal + Non-metal","Electron Transfer","Cations & Anions","Lattice Energy","Crystal Structures","Properties"]},{name:"Covalent Bonding",children:["Non-metal + Non-metal","Electron Sharing","Single Bonds","Double Bonds","Triple Bonds","Polar vs Non-polar"]},{name:"Molecular Geometry",children:["VSEPR Theory","Linear","Trigonal Planar","Tetrahedral","Trigonal Bipyramidal","Octahedral"]},{name:"Intermolecular Forces",children:["Van der Waals","Dipole-Dipole","Hydrogen Bonding","London Dispersion","Ion-Dipole"]},{name:"Properties",children:["Melting Point","Boiling Point","Solubility","Conductivity","Hardness","Brittleness"]}]},"Cell Biology":{center:"Cell Biology",branches:[{name:"Cell Types",children:["Prokaryotic","Eukaryotic","Plant Cells","Animal Cells","Bacteria","Archaea","Protists"]},{name:"Cell Organelles",children:["Nucleus","Mitochondria","Ribosomes","ER","Golgi Apparatus","Lysosomes","Chloroplasts","Vacuoles"]},{name:"Cell Membrane",children:["Phospholipid Bilayer","Membrane Proteins","Selective Permeability","Transport","Osmosis","Diffusion"]},{name:"Cell Division",children:["Mitosis","Meiosis","Cell Cycle","Interphase","Prophase","Metaphase","Anaphase","Telophase"]},{name:"Cellular Processes",children:["Photosynthesis","Cellular Respiration","Protein Synthesis","DNA Replication","Enzyme Function"]}]},Photosynthesis:{center:"Photosynthesis",branches:[{name:"Light Reactions",children:["Photosystem I","Photosystem II","Electron Transport Chain","ATP Synthesis","NADPH Formation","Water Splitting","Oxygen Release"]},{name:"Calvin Cycle (Dark Reactions)",children:["Carbon Fixation","RuBisCO Enzyme","CO + RuBP","Reduction Phase","Regeneration","3-Carbon Compounds","Glucose Formation"]},{name:"Requirements",children:["Sunlight (Energy)","Carbon Dioxide (CO)","Water (HO)","Chlorophyll","Chloroplasts","Optimal Temperature","Proper pH"]},{name:"Products",children:["Glucose (CHO)","Oxygen Gas (O)","ATP (Energy)","NADPH","Starch (Storage)","Cellulose"]},{name:"Factors Affecting Rate",children:["Light Intensity","CO Concentration","Temperature","Water Availability","Chlorophyll Content","Enzyme Activity"]},{name:"Types",children:["C3 Plants","C4 Plants","CAM Plants","Adaptations","Efficiency Differences","Environmental Conditions"]}]},Genetics:{center:"Genetics",branches:[{name:"DNA Structure",children:["Double Helix","Nucleotides","Base Pairs (A-T, G-C)","Sugar-Phosphate Backbone","Antiparallel Strands","Major/Minor Grooves"]},{name:"Gene Expression",children:["Transcription","Translation","mRNA","tRNA","rRNA","Ribosomes","Genetic Code","Protein Synthesis"]},{name:"Inheritance Patterns",children:["Mendel's Laws","Dominant/Recessive","Codominance","Multiple Alleles","Sex-linked","Polygenic Traits"]},{name:"Mutations",children:["Point Mutations","Chromosomal Changes","Silent Mutations","Missense","Nonsense","Frameshift","Causes & Effects"]},{name:"Applications",children:["Genetic Engineering","CRISPR","Gene Therapy","Cloning","GMOs","Forensics","Medicine"]}]},"Poetry Analysis":{center:"Poetry Analysis",branches:[{name:"Literary Devices",children:["Metaphor","Simile","Alliteration","Personification","Symbolism","Imagery","Rhyme Scheme","Meter"]},{name:"Poetic Forms",children:["Sonnet","Haiku","Free Verse","Blank Verse","Ballad","Epic","Lyric","Narrative"]},{name:"Themes & Meaning",children:["Love","Nature","Death","Time","Identity","Society","Spirituality","Human Experience"]},{name:"Analysis Techniques",children:["Close Reading","Context Analysis","Biographical Criticism","Historical Context","Comparative Analysis","Thematic Study"]}]},"World War I":{center:"World War I",branches:[{name:"Causes",children:["Imperialism","Alliance System","Nationalism","Militarism","Assassination of Archduke Franz Ferdinand","Arms Race"]},{name:"Major Battles",children:["Battle of Verdun","Somme Offensive","Battle of Jutland","Gallipoli Campaign","Battle of Tannenberg","Passchendaele"]},{name:"New Technologies",children:["Machine Guns","Poison Gas","Tanks","Aircraft","Submarines","Artillery","Trench Warfare"]},{name:"Consequences",children:["Treaty of Versailles","Russian Revolution","Ottoman Empire Collapse","League of Nations","Economic Impact","Social Changes"]}]},"Physical Geography":{center:"Physical Geography",branches:[{name:"Landforms",children:["Mountains","Plains","Plateaus","Valleys","Deserts","Coasts","Rivers","Lakes"]},{name:"Climate Systems",children:["Temperature Patterns","Precipitation","Wind Systems","Climate Zones","Weather Patterns","Seasonal Variations"]},{name:"Geological Processes",children:["Plate Tectonics","Erosion","Weathering","Volcanism","Earthquakes","Rock Cycle","Glaciation"]},{name:"Natural Resources",children:["Minerals","Fossil Fuels","Water Resources","Forests","Agricultural Land","Renewable Energy","Conservation"]}]},"Supply and Demand":{center:"Supply and Demand",branches:[{name:"Demand Factors",children:["Consumer Income","Price of Substitutes","Consumer Preferences","Population Size","Future Expectations","Seasonal Factors"]},{name:"Supply Factors",children:["Production Costs","Technology","Number of Sellers","Government Regulations","Resource Availability","Weather Conditions"]},{name:"Market Equilibrium",children:["Equilibrium Price","Equilibrium Quantity","Market Clearing","Shortage","Surplus","Price Adjustments"]},{name:"Elasticity",children:["Price Elasticity of Demand","Income Elasticity","Cross-Price Elasticity","Price Elasticity of Supply","Factors Affecting Elasticity"]}]},"Programming Basics":{center:"Programming Basics",branches:[{name:"Data Types",children:["Integers","Floats","Strings","Booleans","Arrays","Objects","Null/Undefined","Constants"]},{name:"Control Structures",children:["If/Else Statements","Switch Statements","For Loops","While Loops","Do-While Loops","Break/Continue","Nested Loops"]},{name:"Functions",children:["Function Declaration","Parameters","Return Values","Scope","Recursion","Higher-Order Functions","Anonymous Functions"]},{name:"Best Practices",children:["Code Comments","Variable Naming","Error Handling","Code Organization","Testing","Documentation","Version Control"]}]},"Cognitive Psychology":{center:"Cognitive Psychology",branches:[{name:"Memory Systems",children:["Sensory Memory","Short-term Memory","Long-term Memory","Working Memory","Encoding","Storage","Retrieval","Forgetting"]},{name:"Attention & Perception",children:["Selective Attention","Divided Attention","Visual Perception","Auditory Perception","Pattern Recognition","Perceptual Organization"]},{name:"Learning & Thinking",children:["Problem Solving","Decision Making","Language Processing","Concept Formation","Reasoning","Creativity","Metacognition"]},{name:"Research Methods",children:["Experiments","Neuroimaging","Eye Tracking","Reaction Time","Case Studies","Observational Studies","Statistical Analysis"]}]}},wve=({subject:t})=>{var P,_;const[e,r]=F.useState(""),[n,a]=F.useState([]),[i,o]=F.useState(0),[l,c]=F.useState(!1),[d,u]=F.useState(!1),[h,m]=F.useState(new Set),[f,A]=F.useState("medium"),g=async()=>{if(e){u(!0);try{const B=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"flashcards",difficulty:f})});if(B.ok){const k=await B.json();a(k.content)}else a(WO[e]||N(e));o(0),c(!1),m(new Set),x("flashcards")}catch(B){console.error("Error generating flashcards:",B),a(WO[e]||N(e))}finally{u(!1)}}},x=async B=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:B,timeSpent:Math.floor(Math.random()*20)+10,completed:h.size===n.length})})}catch(k){console.error("Error logging activity:",k)}},v=()=>{i<n.length-1&&(o(i+1),c(!1))},j=()=>{i>0&&(o(i-1),c(!1))},b=()=>{m(B=>new Set([...B,i])),i<n.length-1&&setTimeout(v,300)},S=()=>{const B=[...n].sort(()=>Math.random()-.5);a(B),o(0),c(!1)},w=()=>{o(0),c(!1),m(new Set)},N=B=>[{id:1,front:`What is the main concept of ${B}?`,back:`${B} is a fundamental concept in ${t.name} that involves key principles and applications.`},{id:2,front:`How is ${B} applied in real life?`,back:`${B} has practical applications in various fields and everyday situations.`}],E=()=>n.length>0?Math.round(h.size/n.length*100):0;return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(ds,{className:"w-7 h-7 mr-3"}),"AI Flashcards"]}),s.jsx("p",{className:"text-yellow-100 mt-1",children:"Interactive flashcards for effective memorization"})]}),s.jsx("div",{className:"bg-yellow-400 p-3 rounded-xl",children:s.jsx(Js,{className:"w-8 h-8"})})]})}),s.jsxs("div",{className:"p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Flashcards"}),s.jsxs("select",{value:e,onChange:B=>r(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((B,k)=>s.jsx("option",{value:B,children:B},k))]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:g,disabled:!e||d,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg font-medium hover:from-yellow-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:d?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Generating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(uh,{className:"w-5 h-5"}),s.jsx("span",{children:"Generate"})]})}),n.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:S,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Shuffle cards",children:s.jsx(DX,{className:"w-5 h-5"})}),s.jsx("button",{onClick:w,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Reset session",children:s.jsx(Xo,{className:"w-5 h-5"})})]})]})]}),n.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[h.size," of ",n.length," cards studied"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${E()}%`}})})]})]}),n.length>0?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsxs("span",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm font-medium text-gray-700",children:["Card ",i+1," of ",n.length]})}),s.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>c(!l),children:s.jsxs("div",{className:`
                  absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                  ${l?"rotate-y-180":""}
                `,children:[s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Is,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Question"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:(P=n[i])==null?void 0:P.front}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gg,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Answer"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:(_=n[i])==null?void 0:_.back}),h.has(i)&&s.jsx("div",{className:"mt-3",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx(Lr,{className:"w-3 h-3 mr-1"}),"Studied"]})})]})})]})}),l&&s.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[s.jsxs("button",{onClick:b,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[s.jsx(Lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Got it!"})]}),s.jsxs("button",{onClick:v,disabled:i===n.length-1,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[s.jsx("span",{children:"Next"}),s.jsx(zg,{className:"w-4 h-4"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-8",children:[s.jsxs("button",{onClick:j,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Wl,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:h.size===n.length&&s.jsx("span",{className:"text-green-600 font-medium",children:" All cards completed!"})}),s.jsxs("button",{onClick:v,disabled:i===n.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx("span",{children:"Next"}),s.jsx(zg,{className:"w-4 h-4"})]})]})]})}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ds,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Study"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate AI-powered flashcards for effective learning."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Flashcard Features:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[s.jsx("li",{children:" AI-generated questions"}),s.jsx("li",{children:" Interactive flip cards"}),s.jsx("li",{children:" Progress tracking"}),s.jsx("li",{children:" Shuffle & repeat options"}),s.jsx("li",{children:" Study completion tracking"})]})]})]})]}),s.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},WO={Algebra:[{id:1,front:"What is a variable in algebra?",back:"A variable is a letter or symbol (like x, y, z) that represents an unknown number or value that can change. Variables allow us to write general mathematical relationships."},{id:2,front:"What is the difference between an equation and an expression?",back:"An equation has an equals sign (=) and states that two things are equal (e.g., 2x + 3 = 7), while an expression is a mathematical phrase without an equals sign (e.g., 2x + 3)."},{id:3,front:"How do you solve for x in the equation 2x + 5 = 15?",back:`Step 1: Subtract 5 from both sides: 2x = 10
Step 2: Divide both sides by 2: x = 5
Always check: 2(5) + 5 = 15 `},{id:4,front:"What is the distributive property?",back:"The distributive property states that a(b + c) = ab + ac. For example: 3(x + 4) = 3x + 12. You multiply the number outside the parentheses by each term inside."},{id:5,front:"What are like terms?",back:"Like terms have the same variables raised to the same powers. Examples: 3x and 5x are like terms, but 3x and 5x are not. You can only combine like terms."},{id:6,front:"How do you solve a system of equations by substitution?",back:`1. Solve one equation for one variable
2. Substitute that expression into the other equation
3. Solve for the remaining variable
4. Substitute back to find the other variable`}],Geometry:[{id:1,front:"What is the Pythagorean Theorem?",back:"In a right triangle, a + b = c, where c is the hypotenuse (longest side) and a and b are the other two sides. This only works for right triangles!"},{id:2,front:"What is the sum of interior angles in any triangle?",back:"The sum of interior angles in any triangle is always 180. This is true for all triangles: equilateral, isosceles, scalene, right, acute, or obtuse."},{id:3,front:"How do you find the area of a circle?",back:"Area = r, where r is the radius. Remember: radius is half the diameter. If diameter = 6, then radius = 3, so Area = (3) = 9"},{id:4,front:"What makes two triangles congruent?",back:"Triangles are congruent if: SSS (all sides equal), SAS (two sides and included angle), ASA (two angles and included side), AAS (two angles and non-included side), or HL (hypotenuse-leg for right triangles)."},{id:5,front:"What is the difference between area and perimeter?",back:"Perimeter is the distance around the outside of a shape (measured in units like cm, m). Area is the space inside a shape (measured in square units like cm, m)."}],Trigonometry:[{id:1,front:"What are the three basic trigonometric ratios?",back:`SOH-CAH-TOA:
Sin = Opposite/Hypotenuse
Cos = Adjacent/Hypotenuse
Tan = Opposite/Adjacent
(In a right triangle)`},{id:2,front:"What is the unit circle?",back:"The unit circle is a circle with radius 1 centered at the origin. It's used to define trig functions for all angles. Key angles: 0, 30, 45, 60, 90."},{id:3,front:"What is the Pythagorean identity in trigonometry?",back:`sin + cos = 1
This is true for any angle  and comes from the Pythagorean theorem applied to the unit circle.`},{id:4,front:"What are the values of sin, cos, and tan at 30?",back:`At 30:
sin(30) = 1/2
cos(30) = 3/2
tan(30) = 1/3 = 3/3`}],Mechanics:[{id:1,front:"What is Newton's First Law of Motion?",back:"An object at rest stays at rest, and an object in motion stays in motion at constant velocity, unless acted upon by a net external force. Also called the Law of Inertia."},{id:2,front:"What is the equation for kinetic energy?",back:"KE = mv, where m is mass (kg) and v is velocity (m/s). Kinetic energy is the energy of motion and is always positive."},{id:3,front:"What is acceleration?",back:"Acceleration is the rate of change of velocity. a = (v_final - v_initial)/time = v/t. Units are m/s. Can be positive (speeding up) or negative (slowing down)."},{id:4,front:"What is the difference between mass and weight?",back:"Mass is the amount of matter in an object (kg) - constant everywhere. Weight is the gravitational force on an object (N) - changes with gravity. Weight = mg."}],Thermodynamics:[{id:1,front:"What is the First Law of Thermodynamics?",back:"Energy cannot be created or destroyed, only converted from one form to another. U = Q - W (change in internal energy = heat added - work done by system)."},{id:2,front:"What is the ideal gas law?",back:"PV = nRT, where P = pressure, V = volume, n = moles of gas, R = gas constant, T = temperature (in Kelvin). Describes behavior of ideal gases."},{id:3,front:"What is specific heat capacity?",back:"The amount of heat energy needed to raise the temperature of 1 kg of a substance by 1C. Q = mcT, where c is specific heat capacity."}],"Atomic Structure":[{id:1,front:"What are the three main subatomic particles?",back:"Protons (positive charge, in nucleus), Neutrons (no charge, in nucleus), Electrons (negative charge, in electron shells around nucleus)."},{id:2,front:"What is atomic number?",back:"The number of protons in an atom's nucleus. This defines what element it is. For example, all carbon atoms have 6 protons, so carbon's atomic number is 6."},{id:3,front:"What is an isotope?",back:"Atoms of the same element with different numbers of neutrons. They have the same atomic number but different mass numbers. Example: Carbon-12 and Carbon-14."},{id:4,front:"What is electron configuration?",back:"The arrangement of electrons in an atom's shells and subshells. Follows the Aufbau principle (fill lowest energy first), Pauli exclusion, and Hund's rule."}],"Chemical Bonding":[{id:1,front:"What is an ionic bond?",back:"A bond formed when electrons are transferred from a metal to a non-metal, creating oppositely charged ions that attract each other. Example: NaCl in table salt."},{id:2,front:"What is a covalent bond?",back:"A bond formed when two non-metal atoms share electrons. Can be single (2e), double (4e), or triple (6e) bonds. Example: H-H in hydrogen gas."},{id:3,front:"What is electronegativity?",back:"The ability of an atom to attract electrons in a bond. Fluorine is most electronegative (4.0). Difference in electronegativity determines bond type: <0.5 = nonpolar covalent, 0.5-1.7 = polar covalent, >1.7 = ionic."},{id:4,front:"What is VSEPR theory?",back:"Valence Shell Electron Pair Repulsion theory. Electron pairs around a central atom repel each other and arrange to minimize repulsion, determining molecular geometry."}],"Cell Biology":[{id:1,front:"What is the difference between prokaryotic and eukaryotic cells?",back:"Prokaryotic: No nucleus, DNA free in cytoplasm (bacteria, archaea). Eukaryotic: Has nucleus, DNA in nucleus, membrane-bound organelles (plants, animals, fungi, protists)."},{id:2,front:"What is the function of mitochondria?",back:"The 'powerhouse' of the cell - produces ATP through cellular respiration. Has double membrane, contains its own DNA, found in eukaryotic cells."},{id:3,front:"What is the cell membrane made of?",back:"Phospholipid bilayer with embedded proteins. Selectively permeable - controls what enters and leaves the cell. Has hydrophilic heads and hydrophobic tails."},{id:4,front:"What is the difference between mitosis and meiosis?",back:"Mitosis: Produces 2 identical diploid cells for growth/repair. Meiosis: Produces 4 genetically different haploid gametes for reproduction."}],Photosynthesis:[{id:1,front:"What is the overall equation for photosynthesis?",back:`6CO + 6HO + light energy  CHO + 6O + ATP
(Carbon dioxide + water + light  glucose + oxygen + energy)`},{id:2,front:"Where do the light reactions occur?",back:"In the thylakoid membranes of chloroplasts. Here, light energy is captured by chlorophyll and converted to chemical energy (ATP and NADPH)."},{id:3,front:"What happens in the Calvin cycle?",back:"Takes place in the stroma. Uses ATP and NADPH from light reactions to convert CO into glucose through carbon fixation. Also called the dark reactions."},{id:4,front:"Why is photosynthesis important?",back:"Produces oxygen for breathing, glucose for food, removes CO from atmosphere, forms the base of most food chains, and converts light energy to chemical energy."}],Genetics:[{id:1,front:"What is DNA?",back:"Deoxyribonucleic acid - the hereditary material in living organisms. Double helix structure with four bases: A, T, G, C. A pairs with T, G pairs with C."},{id:2,front:"What is the central dogma of molecular biology?",back:"DNA  RNA  Protein. Information flows from DNA (genes) to RNA (transcription) to proteins (translation). This is how genes control traits."},{id:3,front:"What is the difference between genotype and phenotype?",back:"Genotype: The genetic makeup (actual genes/alleles). Phenotype: The observable characteristics (what you see). Example: Bb is genotype, brown eyes is phenotype."},{id:4,front:"What is a mutation?",back:"A change in the DNA sequence. Can be beneficial, harmful, or neutral. Types include point mutations, insertions, deletions, and chromosomal changes."}],"Poetry Analysis":[{id:1,front:"What is a metaphor?",back:"A direct comparison between two unlike things without using 'like' or 'as'. Example: 'Life is a journey' - comparing life to a journey to show life's progression and challenges."},{id:2,front:"What is the difference between a simile and a metaphor?",back:"A simile uses 'like' or 'as' to compare (e.g., 'brave as a lion'), while a metaphor makes a direct comparison without these words (e.g., 'he is a lion in battle')."},{id:3,front:"What is iambic pentameter?",back:"A rhythmic pattern with 5 iambs per line (10 syllables total), where each iamb has an unstressed syllable followed by a stressed one. Common in Shakespeare's sonnets."},{id:4,front:"What makes a sonnet?",back:"A 14-line poem with a specific rhyme scheme. Shakespearean sonnets follow ABAB CDCD EFEF GG pattern, while Petrarchan sonnets use ABBAABBA CDECDE or similar."}],"World War I":[{id:1,front:"What were the main causes of World War I?",back:"MAIN causes: Militarism (arms race), Alliances (entangling agreements), Imperialism (competition for colonies), Nationalism (ethnic tensions). The immediate trigger was Archduke Franz Ferdinand's assassination."},{id:2,front:"What was trench warfare?",back:"A type of combat where opposing armies fought from networks of trenches. Characterized by stalemate, terrible conditions, high casualties for little territorial gain. Dominated the Western Front."},{id:3,front:"What was the Treaty of Versailles?",back:"The 1919 peace treaty ending WWI. Imposed harsh terms on Germany: war guilt clause, massive reparations, military restrictions, territorial losses. Created resentment that contributed to WWII."},{id:4,front:"How did WWI end?",back:"Germany signed an armistice on November 11, 1918, at 11 AM. This ended fighting, followed by peace negotiations. The war officially ended with various treaties, primarily the Treaty of Versailles in 1919."}],"Physical Geography":[{id:1,front:"What is plate tectonics?",back:"The theory that Earth's outer shell consists of large moving plates. These plates interact at boundaries, causing earthquakes, volcanoes, and mountain formation. Explains continental drift and seafloor spreading."},{id:2,front:"What are the three main types of rocks?",back:"1) Igneous (formed from cooled magma/lava), 2) Sedimentary (formed from compressed sediments), 3) Metamorphic (existing rocks changed by heat/pressure). They cycle through the rock cycle."},{id:3,front:"What causes different climate zones?",back:"Mainly latitude (distance from equator), which affects sun angle and solar energy received. Also influenced by altitude, ocean currents, distance from water bodies, and topography."},{id:4,front:"What is erosion vs. weathering?",back:"Weathering is the breakdown of rocks in place (chemical or physical). Erosion is the transport of weathered material by wind, water, ice, or gravity. Both shape Earth's surface over time."}],"Supply and Demand":[{id:1,front:"What is the law of demand?",back:"As price increases, quantity demanded decreases (and vice versa), all else being equal. This creates a downward-sloping demand curve, reflecting consumer behavior and purchasing power."},{id:2,front:"What is the law of supply?",back:"As price increases, quantity supplied increases (and vice versa), all else being equal. This creates an upward-sloping supply curve, as higher prices incentivize more production."},{id:3,front:"What is market equilibrium?",back:"The point where quantity demanded equals quantity supplied, determining market price and quantity. At equilibrium, there's no shortage or surplus - the market clears."},{id:4,front:"What is price elasticity of demand?",back:"Measures how responsive quantity demanded is to price changes. Elastic demand (>1) means large quantity changes from small price changes. Inelastic demand (<1) means small quantity changes."}],"Programming Basics":[{id:1,front:"What is a variable?",back:"A named storage location that holds data. Variables can store different types of data (numbers, text, etc.) and their values can change during program execution. Example: age = 25"},{id:2,front:"What is the difference between = and == in programming?",back:"= is assignment (assigns a value to a variable). == is comparison (checks if two values are equal). Example: x = 5 assigns 5 to x, while x == 5 checks if x equals 5."},{id:3,front:"What is a loop?",back:"A programming construct that repeats a block of code. Common types: for loops (known number of iterations), while loops (condition-based), do-while loops (executes at least once)."},{id:4,front:"What is debugging?",back:"The process of finding and fixing errors in code. Involves identifying bugs (logic errors, syntax errors, runtime errors), understanding their causes, and implementing corrections."}],"Cognitive Psychology":[{id:1,front:"What is working memory?",back:"A limited-capacity system for temporarily holding and processing information. Includes the central executive (control), phonological loop (verbal), and visuospatial sketchpad (visual). Capacity ~72 items."},{id:2,front:"What is selective attention?",back:"The ability to focus on relevant information while filtering out irrelevant stimuli. Example: cocktail party effect - hearing your name in a crowded room despite focusing on a conversation."},{id:3,front:"What are schemas in psychology?",back:"Mental frameworks that organize knowledge and guide information processing. Help interpret new experiences based on existing knowledge, but can also lead to biases and stereotypes."},{id:4,front:"What is the difference between recognition and recall?",back:"Recognition: identifying previously learned information when presented (multiple choice). Recall: retrieving information from memory without cues (essay questions). Recognition is typically easier."}]},jve=({subject:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState(null),[i,o]=F.useState(0),[l,c]=F.useState({}),[d,u]=F.useState(!1),[h,m]=F.useState(!1),[f,A]=F.useState(!1),[g,x]=F.useState(0),[v,j]=F.useState("medium");F.useEffect(()=>{let O;return f&&g>0&&!d&&(O=setInterval(()=>{x(V=>V<=1?(_(),0):V-1)},1e3)),()=>clearInterval(O)},[f,g,d]);const b=async()=>{if(e){m(!0);try{const O=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"quiz",difficulty:v,questionCount:10})});if(O.ok){const V=await O.json();a(V.content)}else a(qO[e]||T(e));o(0),c({}),u(!1),A(!1),x(0),S("quiz")}catch(O){console.error("Error generating quiz:",O),a(qO[e]||T(e))}finally{m(!1)}}},S=async O=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:O,timeSpent:Math.floor(Math.random()*30)+15,completed:d})})}catch(V){console.error("Error logging activity:",V)}},w=()=>{A(!0),x(n.timeLimit*60),o(0),c({}),u(!1)},N=(O,V)=>{d||c(ee=>({...ee,[O]:V}))},E=()=>{i<n.questions.length-1&&o(i+1)},P=()=>{i>0&&o(i-1)},_=()=>{u(!0),A(!1),x(0)},B=()=>{let O=0;return n.questions.forEach((V,ee)=>{l[ee]===V.correctAnswer&&O++}),{correct:O,total:n.questions.length,percentage:Math.round(O/n.questions.length*100)}},k=()=>{o(0),c({}),u(!1),A(!1),x(0)},M=O=>{const V=Math.floor(O/60),ee=O%60;return`${V}:${ee.toString().padStart(2,"0")}`},T=O=>({title:`${O} Quiz`,description:`Test your knowledge on ${O}`,timeLimit:15,questions:[{id:1,question:`What is the main concept behind ${O}?`,options:["Option A - Basic understanding","Option B - Advanced application","Option C - Fundamental principles","Option D - Complex theories"],correctAnswer:2,explanation:`${O} is based on fundamental principles that form the foundation of the subject.`}]}),H=O=>O>=90?"text-green-600 bg-green-50":O>=75?"text-blue-600 bg-blue-50":O>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";if(!n)return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(Lr,{className:"w-7 h-7 mr-3"}),"AI Quiz Generator"]}),s.jsx("p",{className:"text-red-100 mt-1",children:"Test your knowledge with AI-generated questions"})]}),s.jsx("div",{className:"bg-red-400 p-3 rounded-xl",children:s.jsx(Js,{className:"w-8 h-8"})})]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Your Quiz"}),s.jsx("p",{className:"text-gray-600",children:"Select a topic and difficulty level to generate a personalized quiz"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),s.jsxs("select",{value:e,onChange:O=>r(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((O,V)=>s.jsx("option",{value:O,children:O},V))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","medium","hard"].map(O=>s.jsx("button",{onClick:()=>j(O),className:`p-3 rounded-lg border-2 font-medium capitalize transition-colors ${v===O?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:O},O))})]}),s.jsx("button",{onClick:b,disabled:!e||h,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 mx-auto",children:h?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Generating Quiz..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(uh,{className:"w-5 h-5"}),s.jsx("span",{children:"Generate Quiz"})]})})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(jn,{className:"w-6 h-6 text-red-600"})}),s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Adaptive Questions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Questions tailored to your learning level"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(dr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Timed Challenges"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Improve your speed and accuracy"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(pn,{className:"w-6 h-6 text-green-600"})}),s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Instant Feedback"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Detailed explanations for each answer"})]})]})]})})]})});if(d){const O=B();return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:`p-6 text-white ${O.percentage>=75?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-pink-600"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hl,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),s.jsx("p",{className:"text-lg opacity-90",children:O.percentage>=90?"Excellent work!":O.percentage>=75?"Great job!":O.percentage>=60?"Good effort!":"Keep practicing!"})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:`text-center p-6 rounded-xl ${H(O.percentage)}`,children:[s.jsxs("div",{className:"text-3xl font-bold mb-2",children:[O.percentage,"%"]}),s.jsx("p",{className:"font-medium",children:"Final Score"})]}),s.jsxs("div",{className:"text-center p-6 rounded-xl bg-blue-50",children:[s.jsx("div",{className:"text-3xl font-bold mb-2 text-blue-600",children:O.correct}),s.jsx("p",{className:"font-medium text-blue-800",children:"Correct Answers"})]}),s.jsxs("div",{className:"text-center p-6 rounded-xl bg-gray-50",children:[s.jsx("div",{className:"text-3xl font-bold mb-2 text-gray-600",children:O.total-O.correct}),s.jsx("p",{className:"font-medium text-gray-800",children:"Incorrect Answers"})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Review Your Answers"}),n.questions.map((V,ee)=>{const Y=l[ee],re=Y===V.correctAnswer;return s.jsx("div",{className:`p-4 rounded-lg border-2 ${re?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[re?s.jsx(Lr,{className:"w-5 h-5 text-green-600 mt-1"}):s.jsx(Gs,{className:"w-5 h-5 text-red-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:[ee+1,". ",V.question]}),s.jsx("div",{className:"space-y-1 mb-3",children:V.options.map((D,G)=>s.jsxs("div",{className:`text-sm p-2 rounded ${G===V.correctAnswer?"bg-green-100 text-green-800 font-medium":G===Y&&!re?"bg-red-100 text-red-800":"text-gray-600"}`,children:[D,G===V.correctAnswer&&" ",G===Y&&G!==V.correctAnswer&&" "]},G))}),V.explanation&&s.jsxs("div",{className:"text-sm text-gray-600 bg-white p-3 rounded border",children:[s.jsx("strong",{children:"Explanation:"})," ",V.explanation]})]})]})},ee)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:k,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Xo,{className:"w-4 h-4"}),s.jsx("span",{children:"Retake Quiz"})]}),s.jsxs("button",{onClick:()=>a(null),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Qr,{className:"w-4 h-4"}),s.jsx("span",{children:"New Topic"})]})]})]})]})})}if(!f)return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.title}),s.jsx("p",{className:"text-red-100",children:n.description})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(Qr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg text-blue-800",children:n.questions.length}),s.jsx("p",{className:"text-blue-600 text-sm",children:"Questions"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(dr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg text-green-800",children:n.timeLimit}),s.jsx("p",{className:"text-green-600 text-sm",children:"Minutes"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx(jn,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg text-purple-800 capitalize",children:v}),s.jsx("p",{className:"text-purple-600 text-sm",children:"Difficulty"})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Ready to Start?"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll have ",n.timeLimit," minutes to complete ",n.questions.length," questions. Make sure you're in a quiet environment and ready to focus."]}),s.jsxs("button",{onClick:w,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 transition-colors flex items-center justify-center space-x-2 mx-auto",children:[s.jsx(ds,{className:"w-5 h-5"}),s.jsx("span",{children:"Start Quiz"})]})]})]})]})});const L=n.questions[i],Q=(i+1)/n.questions.length*100;return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-4 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:n.title}),s.jsxs("p",{className:"text-red-100 text-sm",children:["Question ",i+1," of ",n.questions.length]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold",children:M(g)}),s.jsx("p",{className:"text-red-100 text-sm",children:"Time Remaining"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"w-full bg-red-400 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${Q}%`}})})})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-6",children:L.question}),s.jsx("div",{className:"space-y-3",children:L.options.map((O,V)=>s.jsx("button",{onClick:()=>N(i,V),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${l[i]===V?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l[i]===V?"border-red-500 bg-red-500":"border-gray-300"}`,children:l[i]===V&&s.jsx(Lr,{className:"w-3 h-3 text-white"})}),s.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+V),"."]}),s.jsx("span",{children:O})]})},V))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:P,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(wd,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex space-x-4",children:i===n.questions.length-1?s.jsx("button",{onClick:_,className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Submit Quiz"}):s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:[s.jsx("span",{children:"Next"}),s.jsx(aa,{className:"w-4 h-4"})]})})]}),s.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:n.questions.map((O,V)=>s.jsx("button",{onClick:()=>o(V),className:`w-3 h-3 rounded-full transition-colors ${V===i?"bg-red-500":l[V]!==void 0?"bg-green-500":"bg-gray-300 hover:bg-gray-400"}`},V))})]})]})})},qO={Algebra:{title:"Algebra Mastery Quiz",description:"Test your understanding of algebraic concepts",timeLimit:15,questions:[{id:1,question:"What is the value of x in the equation 2x + 5 = 15?",options:["x = 5","x = 10","x = 7.5","x = 20"],correctAnswer:0,explanation:"Subtract 5 from both sides: 2x = 10, then divide by 2: x = 5"},{id:2,question:"Which property is demonstrated by a(b + c) = ab + ac?",options:["Commutative Property","Associative Property","Distributive Property","Identity Property"],correctAnswer:2,explanation:"The distributive property allows you to multiply a term by each term inside parentheses"},{id:3,question:"What are like terms?",options:["Terms with the same coefficient","Terms with the same variables and exponents","Terms that are equal","Terms in the same equation"],correctAnswer:1,explanation:"Like terms have identical variables raised to the same powers, allowing them to be combined"},{id:4,question:"Solve for y: 3y - 7 = 2y + 5",options:["y = 12","y = -2","y = 2","y = -12"],correctAnswer:0,explanation:"Subtract 2y from both sides: y - 7 = 5, then add 7: y = 12"},{id:5,question:"What is the slope of the line y = -3x + 4?",options:["3","-3","4","-4"],correctAnswer:1,explanation:"In slope-intercept form y = mx + b, the coefficient of x (m) is the slope"}]},Geometry:{title:"Geometry Knowledge Quiz",description:"Test your spatial reasoning and geometric principles",timeLimit:20,questions:[{id:1,question:"In a right triangle with legs of 3 and 4, what is the length of the hypotenuse?",options:["5","7","25","12"],correctAnswer:0,explanation:"Using Pythagorean theorem: 3 + 4 = 9 + 16 = 25, so c = 25 = 5"},{id:2,question:"What is the sum of interior angles in any triangle?",options:["90","180","360","270"],correctAnswer:1,explanation:"The sum of interior angles in any triangle is always 180"},{id:3,question:"What is the area of a circle with radius 6?",options:["36","12","6","18"],correctAnswer:0,explanation:"Area = r = (6) = 36"},{id:4,question:"How many sides does a hexagon have?",options:["5","6","7","8"],correctAnswer:1,explanation:"A hexagon is a polygon with 6 sides"},{id:5,question:"What makes two triangles congruent?",options:["Same area","Same perimeter","Same corresponding sides and angles","Same shape"],correctAnswer:2,explanation:"Congruent triangles have all corresponding sides and angles equal"}]},Trigonometry:{title:"Trigonometry Challenge",description:"Master the relationships between angles and sides",timeLimit:25,questions:[{id:1,question:"What does SOH in SOH-CAH-TOA stand for?",options:["Sine = Opposite/Hypotenuse","Sine = Opposite/Height","Side = Opposite/Hypotenuse","Sum = Opposite/Hypotenuse"],correctAnswer:0,explanation:"SOH means Sine = Opposite/Hypotenuse in a right triangle"},{id:2,question:"What is sin(30)?",options:["1/2","3/2","2/2","1"],correctAnswer:0,explanation:"sin(30) = 1/2, one of the common angle values"},{id:3,question:"What is the Pythagorean identity?",options:["sin + cos = 1","sin - cos = 1","sin + cos = 1","sin  cos = 1"],correctAnswer:0,explanation:"The fundamental trigonometric identity: sin + cos = 1"},{id:4,question:"What is the period of the sine function?",options:["","2","/2","4"],correctAnswer:1,explanation:"The sine function repeats every 2 radians (360)"},{id:5,question:"In which quadrant are both sine and cosine positive?",options:["Quadrant I","Quadrant II","Quadrant III","Quadrant IV"],correctAnswer:0,explanation:"In Quadrant I (0 to 90), both sine and cosine values are positive"}]},Mechanics:{title:"Physics Mechanics Quiz",description:"Test your knowledge of motion and forces",timeLimit:18,questions:[{id:1,question:"What is Newton's First Law of Motion?",options:["F = ma","Objects at rest stay at rest unless acted upon by force","For every action, there is an equal and opposite reaction","Energy cannot be created or destroyed"],correctAnswer:1,explanation:"Newton's First Law states that objects at rest stay at rest, and objects in motion stay in motion, unless acted upon by a net external force"},{id:2,question:"What is the formula for kinetic energy?",options:["KE = mgh","KE = mv","KE = mv","KE = mv"],correctAnswer:1,explanation:"Kinetic energy is the energy of motion: KE = mv"},{id:3,question:"What is acceleration?",options:["Rate of change of position","Rate of change of velocity","Rate of change of force","Rate of change of energy"],correctAnswer:1,explanation:"Acceleration is the rate of change of velocity with respect to time"},{id:4,question:"What is the difference between mass and weight?",options:["No difference","Mass is heavier than weight","Mass is constant, weight depends on gravity","Weight is constant, mass depends on gravity"],correctAnswer:2,explanation:"Mass is the amount of matter (constant), while weight is the gravitational force acting on that mass"},{id:5,question:"What is the acceleration due to gravity on Earth?",options:["9.8 m/s","10 m/s","8.9 m/s","9.8 m/s"],correctAnswer:0,explanation:"The acceleration due to gravity on Earth is approximately 9.8 m/s"}]},Photosynthesis:{title:"Photosynthesis Quiz",description:"Understand how plants convert light into energy",timeLimit:15,questions:[{id:1,question:"What is the overall equation for photosynthesis?",options:["6CO + 6HO + light  CHO + 6O","CHO + 6O  6CO + 6HO + ATP","CO + HO  glucose","Light + water  oxygen"],correctAnswer:0,explanation:"The complete photosynthesis equation shows reactants (CO + HO + light energy) producing glucose and oxygen"},{id:2,question:"Where do the light reactions occur?",options:["Stroma","Thylakoid membranes","Cell wall","Nucleus"],correctAnswer:1,explanation:"Light reactions occur in the thylakoid membranes of chloroplasts"},{id:3,question:"What is produced in the Calvin cycle?",options:["Oxygen","Water","Glucose","Light energy"],correctAnswer:2,explanation:"The Calvin cycle (dark reactions) produces glucose using CO and energy from light reactions"},{id:4,question:"What pigment is primarily responsible for photosynthesis?",options:["Chlorophyll a","Chlorophyll b","Carotenoids","Anthocyanins"],correctAnswer:0,explanation:"Chlorophyll a is the primary pigment that captures light energy for photosynthesis"},{id:5,question:"Which factor does NOT directly affect photosynthesis rate?",options:["Light intensity","CO concentration","Temperature","Soil pH"],correctAnswer:3,explanation:"While soil pH affects plant health, it doesn't directly impact the rate of photosynthesis like light, CO, and temperature do"}]},"Poetry Analysis":{title:"Literature & Poetry Quiz",description:"Test your understanding of literary analysis and poetry",timeLimit:20,questions:[{id:1,question:"What is the difference between a metaphor and a simile?",options:["No difference",`Metaphors use "like" or "as", similes don't`,`Similes use "like" or "as", metaphors don't`,"Metaphors are longer than similes"],correctAnswer:2,explanation:'Similes make comparisons using "like" or "as" (e.g., "brave as a lion"), while metaphors make direct comparisons without these words (e.g., "he is a lion")'},{id:2,question:"How many lines does a traditional sonnet have?",options:["12","14","16","18"],correctAnswer:1,explanation:"A sonnet is a 14-line poem with specific rhyme schemes, popularized by Shakespeare and Petrarch"},{id:3,question:"What is iambic pentameter?",options:["5 stressed syllables per line","10 syllables with unstressed-stressed pattern","5 rhyming words per line","10 lines per stanza"],correctAnswer:1,explanation:"Iambic pentameter has 10 syllables per line in an unstressed-stressed pattern, creating 5 iambic feet"},{id:4,question:"What literary device gives human characteristics to non-human things?",options:["Metaphor","Alliteration","Personification","Symbolism"],correctAnswer:2,explanation:'Personification attributes human qualities to non-human entities, like "the wind whispered"'}]},"World War I":{title:"World War I History Quiz",description:"Test your knowledge of the Great War",timeLimit:18,questions:[{id:1,question:"What event is considered the immediate trigger of World War I?",options:["Sinking of Lusitania","German invasion of Belgium","Assassination of Archduke Franz Ferdinand","Russian Revolution"],correctAnswer:2,explanation:"The assassination of Archduke Franz Ferdinand of Austria-Hungary in Sarajevo on June 28, 1914, triggered the war"},{id:2,question:"What were the MAIN causes of WWI?",options:["Militarism, Alliances, Imperialism, Nationalism","Money, Arms, Industry, Nations","Monarchy, Artillery, Infantry, Navy","Markets, Agriculture, Immigration, Navy"],correctAnswer:0,explanation:"MAIN stands for Militarism, Alliances, Imperialism, and Nationalism - the four main underlying causes of WWI"},{id:3,question:"What characterized trench warfare?",options:["Quick decisive battles","Stalemate and high casualties","Naval supremacy","Aerial combat"],correctAnswer:1,explanation:"Trench warfare led to stalemate on the Western Front, with high casualties for minimal territorial gains"},{id:4,question:"When did World War I end?",options:["November 11, 1917","November 11, 1918","December 25, 1918","January 1, 1919"],correctAnswer:1,explanation:"The armistice was signed on November 11, 1918, at 11 AM, ending the fighting in WWI"}]},"Physical Geography":{title:"Physical Geography Quiz",description:"Test your knowledge of Earth's physical features and processes",timeLimit:16,questions:[{id:1,question:"What theory explains continental drift?",options:["Plate tectonics","Rock cycle","Water cycle","Climate theory"],correctAnswer:0,explanation:"Plate tectonics theory explains how Earth's lithosphere moves, causing continental drift, earthquakes, and volcanism"},{id:2,question:"What are the three main types of rocks?",options:["Hard, soft, medium","Igneous, sedimentary, metamorphic","Old, new, recycled","Surface, underground, underwater"],correctAnswer:1,explanation:"The three rock types are igneous (from magma), sedimentary (from layers), and metamorphic (changed by heat/pressure)"},{id:3,question:"What primarily determines climate zones?",options:["Ocean currents","Mountain ranges","Latitude","Vegetation"],correctAnswer:2,explanation:"Latitude (distance from equator) primarily determines climate by affecting the angle and intensity of solar radiation"},{id:4,question:"What is the difference between weathering and erosion?",options:["No difference","Weathering breaks down rock, erosion moves it","Erosion breaks down rock, weathering moves it","Weathering is faster than erosion"],correctAnswer:1,explanation:"Weathering breaks down rocks in place, while erosion transports the weathered material to new locations"}]},"Supply and Demand":{title:"Economics: Supply & Demand Quiz",description:"Test your understanding of market forces",timeLimit:15,questions:[{id:1,question:"According to the law of demand, what happens when price increases?",options:["Quantity demanded increases","Quantity demanded decreases","Demand increases","Supply decreases"],correctAnswer:1,explanation:"The law of demand states that as price increases, quantity demanded decreases, all else being equal"},{id:2,question:"What is market equilibrium?",options:["When supply equals zero","When demand equals zero","When quantity supplied equals quantity demanded","When prices are fixed"],correctAnswer:2,explanation:"Market equilibrium occurs where quantity supplied equals quantity demanded, determining the market price"},{id:3,question:"What does elastic demand mean?",options:["Demand changes little with price changes","Demand changes significantly with price changes","Demand never changes","Demand is unpredictable"],correctAnswer:1,explanation:"Elastic demand means consumers are very responsive to price changes, causing large changes in quantity demanded"},{id:4,question:"What shifts the demand curve to the right?",options:["Decrease in consumer income","Increase in price","Increase in consumer income","Decrease in population"],correctAnswer:2,explanation:"An increase in consumer income typically shifts the demand curve right, increasing demand at all price levels"}]},"Programming Basics":{title:"Computer Science Fundamentals Quiz",description:"Test your basic programming knowledge",timeLimit:17,questions:[{id:1,question:"What is the difference between = and == in programming?",options:["No difference","= assigns, == compares","= compares, == assigns","Both assign values"],correctAnswer:1,explanation:"= is the assignment operator (assigns values), while == is the comparison operator (checks equality)"},{id:2,question:"What is a loop in programming?",options:["A bug in code","A repeated block of code","A type of variable","A programming language"],correctAnswer:1,explanation:"A loop is a programming construct that repeats a block of code multiple times based on conditions"},{id:3,question:"What are the main data types in most programming languages?",options:["Big, small, medium","Integer, string, boolean, float","Fast, slow, normal","Input, output, process"],correctAnswer:1,explanation:"Common data types include integer (whole numbers), string (text), boolean (true/false), and float (decimals)"},{id:4,question:"What is debugging?",options:["Writing new code","Deleting code","Finding and fixing errors","Running code"],correctAnswer:2,explanation:"Debugging is the process of finding, analyzing, and fixing bugs (errors) in computer programs"}]},"Cognitive Psychology":{title:"Psychology: Cognitive Processes Quiz",description:"Test your knowledge of how the mind works",timeLimit:19,questions:[{id:1,question:"What is working memory?",options:["Long-term storage of memories","Temporary storage and processing system","Muscle memory","Subconscious memory"],correctAnswer:1,explanation:"Working memory temporarily holds and manipulates information for cognitive tasks, with limited capacity (~72 items)"},{id:2,question:"What is selective attention?",options:["Paying attention to everything","Focusing on specific information while filtering distractions","Short attention span","Inability to focus"],correctAnswer:1,explanation:"Selective attention is the ability to focus on relevant information while ignoring irrelevant stimuli"},{id:3,question:"What is the difference between recognition and recall?",options:["No difference","Recognition identifies, recall retrieves from memory","Recall identifies, recognition retrieves","Both are the same process"],correctAnswer:1,explanation:"Recognition involves identifying previously learned information when presented; recall involves retrieving information from memory without cues"},{id:4,question:"What are schemas in psychology?",options:["Memory disorders","Mental frameworks for organizing knowledge","Types of therapy","Brain structures"],correctAnswer:1,explanation:"Schemas are cognitive frameworks that help organize and interpret information based on prior knowledge and experience"}]}},KO=()=>{var m;const[t,e]=F.useState(null),[r,n]=F.useState(null),[a,i]=F.useState([]),[o,l]=F.useState([]),[c,d]=F.useState(!0);F.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0);const f="mock-student-id",[A,g,x]=await Promise.all([fetch(`/api/student-ai-learning/courses/${f}`),fetch(`/api/student-ai-learning/progress/${f}`),fetch(`/api/student-ai-learning/recommendations/${f}`)]);if(A.ok){const v=await A.json();i(v)}else i(XO);if(g.ok){const v=await g.json();n(v)}else n(YO);if(x.ok){const v=await x.json();l(v)}else l(JO)}catch(f){console.error("Error fetching learning data:",f),i(XO),n(YO),l(JO)}finally{d(!1)}},h=f=>{const A={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return A[f]||A.blue};return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your AI Learning Dashboard..."})]})}):t?s.jsx(Nve,{subject:t,onBack:()=>e(null)}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 mb-6 text-white shadow-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[s.jsx(Js,{className:"w-8 h-8 mr-3"}),"AI Learning Center"]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Personalized learning powered by artificial intelligence"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-blue-500 px-6 py-3 rounded-xl",children:[s.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.currentStreak)||0}),s.jsx("p",{className:"text-sm text-blue-100",children:"Day Streak"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Topics Studied"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.totalTopicsStudied)||0})]}),s.jsx(Qr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Courses"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:(r==null?void 0:r.completedCourses)||0})]}),s.jsx(pn,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Weekly Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(r==null?void 0:r.weeklyProgress)||0,"/",(r==null?void 0:r.weeklyGoal)||5]})]}),s.jsx(jn,{className:"w-8 h-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Learning Streak"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(r==null?void 0:r.currentStreak)||0," days"]})]}),s.jsx(cs,{className:"w-8 h-8 text-orange-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[s.jsx(uh,{className:"w-6 h-6 mr-2 text-yellow-500"}),"AI-Powered Learning"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(f=>{var A,g,x,v;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:`h-2 bg-gradient-to-r ${h(f.color)}`}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f.name}),s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${h(f.color)} bg-opacity-10`,children:s.jsx(Qr,{className:`w-5 h-5 text-${f.color}-600`})})]}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:f.description}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[((g=(A=r==null?void 0:r.subjectProgress)==null?void 0:A[f.name])==null?void 0:g.percentage)||0,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${h(f.color)}`,style:{width:`${((v=(x=r==null?void 0:r.subjectProgress)==null?void 0:x[f.name])==null?void 0:v.percentage)||0}%`}})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.topics.slice(0,3).map((j,b)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:j},b)),f.topics.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",f.topics.length-3," more"]})]}),s.jsxs("button",{onClick:()=>e(f),className:`w-full py-3 px-4 bg-gradient-to-r ${h(f.color)} text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center space-x-2 font-medium`,children:[s.jsx(Ji,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Learning"})]})]})]},f.id)})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Nw,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI Recommendations"]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-4",children:o.map(f=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:f.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.type==="review"?"bg-red-100 text-red-700":f.type==="preview"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:f.type})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:f.reason}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsxs("span",{children:[f.estimatedTime," min"]}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:f.difficulty})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:"Start "})]})]},f.id))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 mr-2 text-green-500"}),"Recent Activity"]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-3",children:(m=r==null?void 0:r.recentActivity)==null?void 0:m.map((f,A)=>s.jsxs("div",{className:"flex items-center space-x-3 p-2",children:[s.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:[f.type==="summary"&&s.jsx(sh,{className:"w-4 h-4 text-blue-600"}),f.type==="mindmap"&&s.jsx(Of,{className:"w-4 h-4 text-blue-600"}),f.type==="quiz"&&s.jsx(Lr,{className:"w-4 h-4 text-blue-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:f.topic}),s.jsx("p",{className:"text-xs text-gray-500",children:f.subject})]}),s.jsx("div",{className:"text-xs text-gray-400",children:new Date(f.date).toLocaleDateString()})]},A))})})]})]})]})]})},Nve=({subject:t,onBack:e})=>{const[r,n]=F.useState("dashboard"),[a,i]=F.useState(null),o=[{id:"dashboard",name:"Dashboard",icon:Mn,color:"blue"},{id:"summary",name:"AI Summary",icon:sh,color:"green"},{id:"mindmap",name:"Mind Map",icon:Of,color:"purple"},{id:"flashcards",name:"Flashcards",icon:ds,color:"yellow"},{id:"quiz",name:"AI Quiz",icon:Lr,color:"red"}],l=()=>{switch(r){case"summary":return s.jsx(yve,{subject:t,topic:a});case"mindmap":return s.jsx(bve,{subject:t,topic:a});case"flashcards":return s.jsx(wve,{subject:t,topic:a});case"quiz":return s.jsx(jve,{subject:t,topic:a});default:return s.jsx(Sve,{subject:t,onSelectTopic:c=>{i(c),n("summary")}})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:`bg-gradient-to-r ${_ve(t.color)} p-6 text-white shadow-lg`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors",children:s.jsx(zg,{className:"w-5 h-5 rotate-180"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold",children:[t.name," Learning"]}),s.jsx("p",{className:"text-blue-100",children:"AI-powered interactive learning experience"})]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:s.jsx("div",{className:"flex space-x-8",children:o.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:()=>n(c.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ${r===c.id?`border-${c.color}-500 text-${c.color}-600`:"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{children:c.name})]},c.id)})})}),s.jsx("div",{className:"p-6",children:l()})]})},Sve=({subject:t,onSelectTopic:e})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Available Topics"}),s.jsx("div",{className:"space-y-2",children:t.topics.map((r,n)=>s.jsxs("button",{onClick:()=>e&&e(r),className:"w-full flex items-center justify-between p-2 hover:bg-blue-50 rounded-lg border border-transparent hover:border-blue-200 transition",children:[s.jsx("span",{className:"text-gray-700 text-left",children:r}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[s.jsx(Ji,{className:"w-3.5 h-3.5"}),"Start"]})]},n))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Progress"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsx("span",{children:"Overall Progress"}),s.jsx("span",{children:"75%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:"75%"}})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[s.jsx(Ji,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{children:"Continue Learning"})]}),s.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[s.jsx(Xo,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Review Previous"})]})]})]})]}),_ve=t=>{const e={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return e[t]||e.blue},XO=[{id:"math",name:"Mathematics",description:"Advanced mathematical concepts including algebra, geometry, and calculus",topics:["Algebra","Geometry","Trigonometry","Statistics","Probability","Calculus Basics"],color:"blue"},{id:"physics",name:"Physics",description:"Fundamental principles of physics including mechanics, electricity, and optics",topics:["Mechanics","Heat and Thermodynamics","Light","Sound","Electricity","Magnetism"],color:"purple"},{id:"chemistry",name:"Chemistry",description:"Explore the composition, structure, and properties of matter and chemical reactions",topics:["Atomic Structure","Chemical Bonding","Periodic Table","Stoichiometry","Organic Chemistry","Acids and Bases"],color:"green"},{id:"biology",name:"Biology",description:"Study of living organisms, their structure, function, and interactions",topics:["Cell Biology","Genetics","Photosynthesis","Evolution","Ecology","Human Anatomy"],color:"orange"},{id:"english",name:"English Literature",description:"Analyze literary works, improve writing skills, and master language arts",topics:["Poetry Analysis","Novel Studies","Grammar & Syntax","Creative Writing","Literary Devices","Essay Writing"],color:"red"},{id:"history",name:"History",description:"Explore historical events, civilizations, and their impact on the modern world",topics:["World War I","World War II","Ancient Civilizations","Industrial Revolution","Cold War","Renaissance"],color:"blue"},{id:"geography",name:"Geography",description:"Study the Earth's landscapes, environments, and spatial relationships",topics:["Physical Geography","Climate Change","Population Studies","Natural Resources","Cartography","Urban Planning"],color:"green"},{id:"economics",name:"Economics",description:"Understand economic principles, markets, and financial systems",topics:["Supply and Demand","Market Structures","Macroeconomics","International Trade","Banking Systems","Economic Policy"],color:"purple"},{id:"computer-science",name:"Computer Science",description:"Learn programming, algorithms, and computational thinking",topics:["Programming Basics","Data Structures","Algorithms","Web Development","Database Systems","Artificial Intelligence"],color:"orange"},{id:"psychology",name:"Psychology",description:"Explore human behavior, mental processes, and psychological theories",topics:["Cognitive Psychology","Behavioral Psychology","Developmental Psychology","Social Psychology","Research Methods","Mental Health"],color:"red"}],YO={totalTopicsStudied:45,completedCourses:6,currentStreak:7,weeklyGoal:5,weeklyProgress:4,subjectProgress:{Mathematics:{completed:15,total:20,percentage:75},Physics:{completed:8,total:15,percentage:53},Chemistry:{completed:12,total:18,percentage:67},Biology:{completed:10,total:16,percentage:63},"English Literature":{completed:14,total:20,percentage:70},History:{completed:9,total:15,percentage:60},Geography:{completed:7,total:12,percentage:58},Economics:{completed:6,total:14,percentage:43},"Computer Science":{completed:8,total:18,percentage:44},Psychology:{completed:5,total:12,percentage:42}},recentActivity:[{topic:"Quadratic Equations",subject:"Mathematics",date:new Date,type:"summary"},{topic:"Laws of Motion",subject:"Physics",date:new Date(Date.now()-864e5),type:"mindmap"},{topic:"Chemical Bonding",subject:"Chemistry",date:new Date(Date.now()-1728e5),type:"flashcards"},{topic:"Cell Division",subject:"Biology",date:new Date(Date.now()-2592e5),type:"quiz"},{topic:"Shakespeare Analysis",subject:"English Literature",date:new Date(Date.now()-3456e5),type:"summary"}]},JO=[{id:1,title:"Review Quadratic Functions",subject:"Mathematics",reason:"You struggled with this topic in recent assignments",difficulty:"medium",estimatedTime:30,type:"review"}],YC="http://localhost:5000";function Cve(){const[t,e]=F.useState([]),[r,n]=F.useState(0),[a,i]=F.useState(1),[o]=F.useState(12),[l,c]=F.useState(!1),[d,u]=F.useState(null),[h,m]=F.useState(""),[f,A]=F.useState(""),[g,x]=F.useState(""),[v,j]=F.useState(""),[b,S]=F.useState(null),[w,N]=F.useState([]),[E,P]=F.useState(""),[_,B]=F.useState(!1),[k,M]=F.useState("problems"),[T,H]=F.useState([]),[L,Q]=F.useState(""),[O,V]=F.useState(""),[ee,Y]=F.useState("medium"),[re,D]=F.useState(!1),[G,z]=F.useState(!1),K=async()=>{c(!0),u(null);try{const ne=new URLSearchParams;h&&ne.append("subject",h),f&&ne.append("chapter",f),g&&ne.append("difficulty",g),v&&ne.append("q",v),ne.append("page",String(a)),ne.append("limit",String(o));const J=await fetch(`${YC}/api/alcove/posts?${ne.toString()}`);if(!J.ok)throw new Error("Failed to load posts");const ie=await J.json();e(ie.items||[]),n(ie.total||0)}catch(ne){u(ne.message||"Error")}finally{c(!1)}};F.useEffect(()=>{K()},[h,f,g,v,a,o]);const oe=F.useMemo(()=>Array.from(new Set(t.map(ne=>ne.subject))).filter(Boolean),[t]),ue=F.useMemo(()=>Array.from(new Set(t.map(ne=>ne.chapter))).filter(Boolean),[t]),ge=async ne=>{S(ne),N([]);try{const J=await fetch(`${YC}/api/alcove/posts/${ne._id}/comments`);if(J.ok){const ie=await J.json();N(ie)}}catch{}},pe=async()=>{if(!(!b||!E.trim())){B(!0);try{const ne=await fetch(`${YC}/api/alcove/posts/${b._id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("token")?{Authorization:`Bearer ${localStorage.getItem("token")}`}:{}},body:JSON.stringify({text:E,authorName:localStorage.getItem("username")||void 0})});if(!ne.ok)throw new Error("Failed to post comment");const J=await ne.json();N(ie=>[...ie,J]),P("")}catch(ne){alert(ne.message||"Could not post comment")}finally{B(!1)}}},ye=Math.max(1,Math.ceil(r/o));F.useEffect(()=>{k==="wall"&&H([{id:1,teacherName:"Prof. Sarah Johnson",teacherAvatar:"SJ",subject:"Mathematics",difficulty:"hard",content:"Looking for creative ways to explain quadratic equations to my Grade 10 students. Anyone have interactive methods that worked well? The traditional approach isn't clicking with this batch.",timestamp:new Date(Date.now()-7200*1e3),likes:12,comments:5,isLiked:!1},{id:2,teacherName:"Dr. Michael Chen",teacherAvatar:"MC",subject:"Physics",difficulty:"medium",content:"Just solved an interesting projectile motion problem involving a basketball shot. The trajectory calculation shows some beautiful parabolic curves. Would love to share this with the community!",timestamp:new Date(Date.now()-14400*1e3),likes:18,comments:8,isLiked:!0},{id:3,teacherName:"Ms. Emily Rodriguez",teacherAvatar:"ER",subject:"Chemistry",difficulty:"easy",content:"Created a simple experiment to demonstrate chemical reactions using household items. Students were amazed by the color changes! Perfect for remote learning setups.",timestamp:new Date(Date.now()-360*60*1e3),likes:25,comments:12,isLiked:!1},{id:4,teacherName:"Prof. David Kumar",teacherAvatar:"DK",subject:"Biology",difficulty:"medium",content:"Working on a challenging genetics problem involving multiple alleles and inheritance patterns. The Punnett squares are getting complex, but the results are fascinating!",timestamp:new Date(Date.now()-480*60*1e3),likes:15,comments:6,isLiked:!0},{id:5,teacherName:"Ms. Lisa Thompson",teacherAvatar:"LT",subject:"English",difficulty:"hard",content:"Exploring Shakespeare's use of metaphors in Hamlet. Found some incredible linguistic patterns that connect to modern literature. Anyone interested in collaborating on a cross-curricular approach?",timestamp:new Date(Date.now()-720*60*1e3),likes:20,comments:15,isLiked:!1}])},[k]);const Pe=ne=>{H(J=>J.map(ie=>ie.id===ne?{...ie,isLiked:!ie.isLiked,likes:ie.isLiked?ie.likes-1:ie.likes+1}:ie))},le=()=>{var J;if(!L.trim())return;z(!0);const ne={id:Date.now(),teacherName:localStorage.getItem("username")||"Anonymous Teacher",teacherAvatar:(localStorage.getItem("username")||"AT")[0].toUpperCase()+((J=(localStorage.getItem("username")||"AT")[1])==null?void 0:J.toUpperCase())||"",subject:O||"General",difficulty:ee,content:L,timestamp:new Date,likes:0,comments:0,isLiked:!1};setTimeout(()=>{H(ie=>[ne,...ie]),Q(""),V(""),Y("medium"),D(!1),z(!1)},1e3)},lt=ne=>{const ie=Math.floor((new Date-ne)/(1e3*60));return ie<60?`${ie}m ago`:ie<1440?`${Math.floor(ie/60)}h ago`:`${Math.floor(ie/1440)}d ago`};return s.jsxs("div",{className:"w-full min-h-screen px-2 sm:px-4 md:px-8 py-4 sm:py-6",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[s.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 sm:p-8 mb-6 overflow-hidden",style:{backgroundColor:"#fefcf8",border:"3px solid #8B7355"},children:[s.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-3",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Academic Alcove"}),s.jsx("div",{className:"w-32 h-1 bg-amber-600 mx-auto mb-4 rounded"}),s.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto leading-relaxed",style:{color:"#8B7355"},children:k==="problems"?"Discover challenging problems and detailed solutions curated by expert educators.":"Connect with fellow educators, share insights, and collaborate on academic challenges."}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs("div",{className:"bg-white rounded-full p-2 shadow-lg border-2",style:{borderColor:"#D97706"},children:[s.jsxs("button",{onClick:()=>M("problems"),className:`px-6 py-2 rounded-full font-semibold transition-all ${k==="problems"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[s.jsx(Qr,{className:"w-4 h-4 inline mr-2"}),"Problem Library"]}),s.jsxs("button",{onClick:()=>M("wall"),className:`px-6 py-2 rounded-full font-semibold transition-all ${k==="wall"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[s.jsx(kn,{className:"w-4 h-4 inline mr-2"}),"Teacher's Wall"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4 border-2",style:{borderColor:"#F59E0B"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Problems"}),s.jsx("p",{className:"text-2xl font-bold text-amber-900",children:r||"---"})]}),s.jsx(Qr,{className:"w-8 h-8 text-amber-600"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-4 border-2",style:{borderColor:"#EAB308"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Expert Solutions"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.length||"---"})]}),s.jsx(pn,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-4 border-2",style:{borderColor:"#F97316"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Active Discussions"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:Math.floor(r*.3)||"---"})]}),s.jsx(pr,{className:"w-8 h-8 text-orange-600"})]})})]})]})]}),k==="problems"&&s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 text-amber-600 absolute left-4 top-1/2 -translate-y-1/2"}),s.jsx("input",{value:v,onChange:ne=>{i(1),j(ne.target.value)},placeholder:"Search for problems, solutions, or topics...",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all",style:{borderColor:"#D97706",backgroundColor:"#fffbeb",color:"#8B4513"}})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-50 to-yellow-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F59E0B"},children:[s.jsx(Qr,{className:"w-4 h-4 text-amber-700"}),s.jsxs("select",{value:h,onChange:ne=>{i(1),m(ne.target.value)},className:"bg-transparent border-0 text-amber-800 font-medium focus:ring-0 cursor-pointer",children:[s.jsx("option",{value:"",children:"All Subjects"}),oe.map(ne=>s.jsx("option",{value:ne,children:ne},ne))]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-amber-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F97316"},children:[s.jsx(jw,{className:"w-4 h-4 text-orange-700"}),s.jsxs("select",{value:f,onChange:ne=>{i(1),A(ne.target.value)},className:"bg-transparent border-0 text-orange-800 font-medium focus:ring-0 cursor-pointer",children:[s.jsx("option",{value:"",children:"All Chapters"}),ue.map(ne=>s.jsx("option",{value:ne,children:ne},ne))]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-orange-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#EAB308"},children:[s.jsx(cs,{className:"w-4 h-4 text-yellow-700"}),s.jsxs("select",{value:g,onChange:ne=>{i(1),x(ne.target.value)},className:"bg-transparent border-0 text-yellow-800 font-medium focus:ring-0 cursor-pointer",children:[s.jsx("option",{value:"",children:"All Levels"}),s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]})]})]})}),k==="wall"&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Teacher's Discussion Wall"}),s.jsxs("button",{onClick:()=>D(!re),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium shadow-lg hover:scale-105",children:[s.jsx(bde,{className:"w-4 h-4"}),"Share Problem"]})]}),re&&s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2 mb-4",style:{borderColor:"#F59E0B"},children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Subject"}),s.jsx("input",{value:O,onChange:ne=>V(ne.target.value),placeholder:"e.g., Mathematics, Physics...",className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Difficulty"}),s.jsxs("select",{value:ee,onChange:ne=>Y(ne.target.value),className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"},children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Problem or Discussion"}),s.jsx("textarea",{value:L,onChange:ne=>Q(ne.target.value),placeholder:"Share an interesting problem, ask for help, or start a discussion...",rows:4,className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 rounded-lg border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-medium transition-all",children:"Cancel"}),s.jsx("button",{onClick:le,disabled:G||!L.trim(),className:`px-6 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${G||!L.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:G?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(qf,{className:"w-4 h-4"}),"Post to Wall"]})})]})]})})]}),d&&s.jsx("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border-2 border-red-200 text-red-800 font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),d]})}),k==="problems"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[l&&Array.from({length:6}).map((ne,J)=>s.jsx("div",{className:"h-64 rounded-2xl border-2 animate-pulse",style:{backgroundColor:"#f3e8d7",borderColor:"#D97706"}},J)),!l&&t.map(ne=>s.jsxs("div",{className:"group bg-white rounded-2xl border-2 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/5"}),s.jsxs("div",{className:"relative flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-bold text-white text-lg line-clamp-2 leading-tight",style:{fontFamily:"Georgia, serif"},children:ne.title}),ne.highlighted&&s.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-1",children:s.jsx(ds,{className:"w-4 h-4 text-yellow-800",title:"Highlighted"})})]})]}),s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:ne.subject}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800 border border-orange-300",children:ne.chapter}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${ne.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":ne.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:ne.difficulty})]}),s.jsx("p",{className:"text-gray-700 line-clamp-4 leading-relaxed mb-4 text-sm",children:ne.problemText}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-amber-200",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[s.jsx(tr,{className:"w-3 h-3"}),new Date(ne.createdAt).toLocaleDateString()]}),s.jsx("button",{onClick:()=>ge(ne),className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium text-sm group-hover:scale-105",children:"Explore Solution"})]})]})]},ne._id))]}),k==="wall"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[T.map(ne=>s.jsxs("div",{className:"bg-white rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-300",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[s.jsx("div",{className:"p-6 border-b border-amber-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:ne.teacherAvatar}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-amber-800 text-lg",style:{fontFamily:"Georgia, serif"},children:ne.teacherName}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:ne.subject}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${ne.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":ne.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:ne.difficulty}),s.jsx("span",{className:"text-xs text-gray-500",children:lt(ne.timestamp)})]})]})})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap text-base",children:ne.content})}),s.jsxs("div",{className:"px-6 pb-6 flex items-center justify-between border-t border-amber-200 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>Pe(ne.id),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium ${ne.isLiked?"bg-red-100 text-red-600 border-2 border-red-300":"bg-gray-100 text-gray-600 border-2 border-gray-300 hover:bg-red-50 hover:text-red-500"}`,children:[s.jsx(ql,{className:`w-4 h-4 ${ne.isLiked?"fill-current":""}`}),ne.likes]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-blue-100 text-blue-600 border-2 border-blue-300 hover:bg-blue-50 transition-all font-medium",children:[s.jsx(kn,{className:"w-4 h-4"}),ne.comments]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsx(tr,{className:"w-3 h-3 inline mr-1"}),ne.timestamp.toLocaleDateString()]})]})]},ne.id)),T.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"}),s.jsx("p",{className:"text-gray-600",children:"Be the first to share a problem or start a discussion!"})]})]}),k==="problems"&&ye>1&&s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[s.jsx("button",{disabled:a<=1,onClick:()=>i(ne=>Math.max(1,ne-1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a<=1?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Previous"}),s.jsxs("div",{className:"px-6 py-3 rounded-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold shadow-lg",children:["Page ",a," of ",ye]}),s.jsx("button",{disabled:a>=ye,onClick:()=>i(ne=>Math.min(ye,ne+1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a>=ye?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Next"})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>S(null),children:s.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-2xl shadow-2xl overflow-hidden border-4",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355"},onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight",style:{fontFamily:"Georgia, serif"},children:b.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-amber-200 text-amber-800 border border-amber-400",children:b.subject}),s.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-orange-200 text-orange-800 border border-orange-400",children:b.chapter}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold capitalize border ${b.difficulty==="easy"?"bg-green-200 text-green-800 border-green-400":b.difficulty==="medium"?"bg-yellow-200 text-yellow-800 border-yellow-400":"bg-red-200 text-red-800 border-red-400"}`,children:b.difficulty})]})]}),b.highlighted&&s.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-2 shadow-lg",children:s.jsx(ds,{className:"w-6 h-6 text-yellow-800"})})]})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2",style:{borderColor:"#F59E0B"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),s.jsx("h4",{className:"text-lg font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Problem Statement"})]}),s.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-amber-200 shadow-sm",children:b.problemText})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border-2",style:{borderColor:"#10B981"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("h4",{className:"text-lg font-bold text-green-800",style:{fontFamily:"Georgia, serif"},children:"Expert Solution"})]}),s.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-green-200 shadow-sm",children:b.solutionText})]})]}),s.jsxs("div",{className:"border-t-4 border-amber-200 bg-gradient-to-br from-orange-50 to-amber-50 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(kn,{className:"w-6 h-6 text-orange-600"}),s.jsx("h4",{className:"text-xl font-bold text-orange-800",style:{fontFamily:"Georgia, serif"},children:"Discussion Forum"})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3 mb-4 bg-white rounded-xl p-4 border-2 border-orange-200",children:[w.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(kn,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{children:"No comments yet. Be the first to ask or share insight!"})]}),w.map(ne=>s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-400 to-orange-400 rounded-full flex items-center justify-center text-white font-bold text-sm",children:(ne.authorName||"A")[0].toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-amber-800",children:ne.authorName||"Anonymous"}),s.jsx("div",{className:"text-xs text-amber-600",children:new Date(ne.createdAt).toLocaleString()})]})]}),s.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:ne.text})]},ne._id))]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{value:E,onChange:ne=>P(ne.target.value),placeholder:"Share your thoughts or ask a question...",className:"flex-1 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all text-lg",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}}),s.jsx("button",{disabled:_||!E.trim(),onClick:pe,className:`px-6 py-3 rounded-xl font-semibold transition-all ${_||!E.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:_?"Posting...":"Post Comment"}),s.jsx("button",{onClick:()=>S(null),className:"px-6 py-3 rounded-xl border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-semibold transition-all hover:scale-105",children:"Close"})]})]})]})})]})}const ZO=()=>{const[t,e]=F.useState(""),[r,n]=F.useState(5),[a,i]=F.useState(5),[o,l]=F.useState(!1),[c,d]=F.useState(""),[u,h]=F.useState([]),[m,f]=F.useState(!1);F.useEffect(()=>{h([{date:"2024-01-15",mood:"good",stressLevel:4,socialEngagement:7,notes:"Feeling positive about upcoming exams"},{date:"2024-01-10",mood:"neutral",stressLevel:6,socialEngagement:6,notes:"Normal day, focused on assignments"},{date:"2024-01-05",mood:"excellent",stressLevel:3,socialEngagement:8,notes:"Great day! Enjoyed group project work"}])},[]);const A=v=>{const j={excellent:{icon:Yu,color:"text-green-600",bg:"bg-green-100"},good:{icon:Yu,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:o5,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:o1,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:Ir,color:"text-red-600",bg:"bg-red-100"}};return j[v]||j.neutral},g=v=>{v.preventDefault();const j={date:new Date().toISOString().split("T")[0],mood:t,stressLevel:r,socialEngagement:a,behaviorChanges:o,notes:c};h([j,...u]),e(""),n(5),i(5),l(!1),d(""),f(!1),console.log("Wellbeing entry saved:",j)},x=u[0];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:s.jsx(Js,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Wellbeing"})]}),s.jsx("p",{className:"text-gray-600",children:"Track your emotional wellbeing and mental health journey"})]}),x&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(ql,{className:"w-5 h-5 text-purple-600"}),"Current Wellbeing Status"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"text-center",children:(()=>{const v=A(x.mood),j=v.icon;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${v.bg} mb-3`,children:s.jsx(j,{className:`w-8 h-8 ${v.color}`})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Current Mood"}),s.jsx("p",{className:`text-sm font-medium ${v.color}`,children:x.mood.charAt(0).toUpperCase()+x.mood.slice(1)})]})})()}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-3",children:s.jsx(cs,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Stress Level"}),s.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[x.stressLevel,"/10"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-3",children:s.jsx(pr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Social Engagement"}),s.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[x.socialEngagement,"/10"]})]})]}),x.notes&&s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Latest note:"})," ",x.notes]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx($s,{className:"w-5 h-5 text-purple-600"}),"Daily Check-in"]}),!m&&s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(ki,{size:16}),"New Entry"]})]}),m&&s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How are you feeling today?"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:["excellent","good","neutral","concerning","critical"].map(v=>{const j=A(v),b=j.icon;return s.jsxs("button",{type:"button",onClick:()=>e(v),className:`p-4 rounded-xl border-2 transition-all ${t===v?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx("div",{className:`w-8 h-8 mx-auto mb-2 rounded-full ${j.bg} flex items-center justify-center`,children:s.jsx(b,{className:`w-5 h-5 ${j.color}`})}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:v.charAt(0).toUpperCase()+v.slice(1)})]},v)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stress Level: ",r,"/10"]}),s.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:v=>n(parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"Low Stress"}),s.jsx("span",{children:"High Stress"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Engagement: ",a,"/10"]}),s.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:v=>i(parseInt(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"Low Engagement"}),s.jsx("span",{children:"High Engagement"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"behaviorChanges",checked:o,onChange:v=>l(v.target.checked),className:"h-4 w-4 text-purple-600 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"I've noticed changes in my behavior or mood patterns"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsx("textarea",{value:c,onChange:v=>d(v.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"How was your day? Any thoughts or feelings you'd like to note..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"submit",disabled:!t,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[s.jsx(cI,{size:16}),"Save Check-in"]}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-purple-600"}),"Wellbeing History"]}),u.length>0?s.jsx("div",{className:"space-y-4",children:u.map((v,j)=>{const b=A(v.mood),S=b.icon;return s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${b.bg} flex items-center justify-center flex-shrink-0`,children:s.jsx(S,{className:`w-5 h-5 ${b.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{children:s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${b.bg} ${b.color}`,children:v.mood.charAt(0).toUpperCase()+v.mood.slice(1)})}),s.jsx("span",{className:"text-sm text-gray-500",children:v.date})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-2",children:[s.jsxs("span",{children:["Stress: ",v.stressLevel,"/10"]}),s.jsxs("span",{children:["Social: ",v.socialEngagement,"/10"]})]}),v.notes&&s.jsx("p",{className:"text-sm text-gray-700",children:v.notes})]})]},j)})}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Js,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No wellbeing entries yet. Start your first check-in!"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6 border border-purple-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5 text-purple-600"}),"Support & Resources"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(du,{className:"w-8 h-8 text-blue-600 mb-3"}),s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Counseling Services"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Talk to our professional counselors"}),s.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Schedule Session "})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(pr,{className:"w-8 h-8 text-green-600 mb-3"}),s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Peer Support"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Connect with other students"}),s.jsx("button",{className:"text-green-600 text-sm font-medium hover:text-green-700",children:"Join Groups "})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx(ql,{className:"w-8 h-8 text-purple-600 mb-3"}),s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Mental Health Tips"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn coping strategies"}),s.jsx("button",{className:"text-purple-600 text-sm font-medium hover:text-purple-700",children:"View Resources "})]})]})]})]})})},ja=()=>{const t=Ec(),e=mi(),[r,n]=F.useState(!1),i=(d=>{if(d==="/dashboard"||d==="/dashboard/")return"dashboard";const u=d.match(/^\/dashboard\/(.+)$/);return u?u[1]:"dashboard"})(t.pathname),o=d=>{const u=d==="dashboard"?"/dashboard":`/dashboard/${d}`;e(u)},l={dashboard:d=>s.jsx(mC,{...d,setActiveView:o}),home:d=>s.jsx(mC,{...d,setActiveView:o}),"ai-learning":KO,"ai-learning-courses":zO,"ai-learning-tutor":KO,academics:d=>s.jsx(qC,{...d,defaultType:"school"}),attendance:Cfe,routine:UR,schedule:UR,assignments:d=>s.jsx(qC,{...d,defaultType:"school"}),"assignments-journal":d=>s.jsx(qC,{...d,defaultType:"journal"}),"assignments-academic-alcove":d=>s.jsx(Cve,{...d}),courses:zO,results:ive,communication:$O,noticeboard:fve,teacherfeedback:mve,chat:$O,"excuse-letter":vve,wellness:ZO,wellbeing:ZO,achievements:dve,profile:bY,themecustomizer:uve},c=()=>{const d=l[i];return d?typeof d=="function"?s.jsx(d,{}):s.jsx(d,{setActiveView:o}):s.jsx(mC,{setActiveView:o})};return s.jsxs("div",{className:"min-h-screen w-full bg-gray-50 flex relative overflow-hidden",children:[s.jsx(mfe,{activeView:i,isOpen:r,setIsOpen:n}),s.jsxs("div",{className:`flex-1 flex flex-col h-screen transition-all duration-300  ${i==="chat"||i==="excuse-letter"?"overflow-hidden":"overflow-y-auto custom-scrollbar"}`,children:[s.jsx(pfe,{sidebarOpen:r,setSidebarOpen:n,onOpenProfile:()=>e("/dashboard/profile")}),s.jsx("main",{className:`flex-1 min-h-0 ${i==="chat"||i==="excuse-letter"?"p-0":"p-2 sm:p-4 md:p-6"} w-full flex flex-col`,children:c()})]})]})},Eve={Student:"/dashboard",Teacher:"/teachers",Parent:"/parents",Principal:"/principal",Admin:"/admin/dashboard",SuperAdmin:"/super-admin/overview"},nn=({allowedRoles:t,children:e})=>{const r=localStorage.getItem("token"),n=localStorage.getItem("userType");return!r||!n?s.jsx(s5,{to:"/",replace:!0}):n==="Admin"?e:Array.isArray(t)&&!t.includes(n)?s.jsx(s5,{to:Eve[n]||"/",replace:!0}):e},jY=()=>{const[t,e]=F.useState({role:"student",id:1,name:"Koushik Bala",email:"koushik@example.com"}),[r,n]=F.useState("dashboard"),[a,i]=F.useState([{id:1,title:"Login Issues",description:"Unable to access my course materials after password reset",category:"Technical",priority:"High",status:"Open",submittedBy:"Swapnanil Dutta",submittedDate:"2024-06-10",assignedTo:"IT Support",lastUpdated:"2024-06-11"},{id:2,title:"Grade Discrepancy",description:"My final grade for Mathematics course seems incorrect",category:"Academic",priority:"Medium",status:"In Progress",submittedBy:"Souvik Chakraborty",submittedDate:"2024-06-08",assignedTo:"Academic Office",lastUpdated:"2024-06-12"},{id:3,title:"Course Material Missing",description:"Week 5 lecture materials are not available in the system",category:"Content",priority:"Medium",status:"Resolved",submittedBy:"Koushik Bala",submittedDate:"2024-06-05",assignedTo:"Course Coordinator",lastUpdated:"2024-06-13"}]),[o,l]=F.useState({title:"",description:"",category:"Technical",priority:"Medium"}),[c,d]=F.useState(""),[u,h]=F.useState("All"),[m,f]=F.useState("All"),[A,g]=F.useState(!1),x=["Technical","Academic","Content","Administrative","Other"],v=["Low","Medium","High","Critical"],j=["Open","In Progress","Resolved","Closed"],b=T=>{T.preventDefault();const H={id:a.length+1,...o,status:"Open",submittedBy:t.name,submittedDate:new Date().toISOString().split("T")[0],assignedTo:"Pending Assignment",lastUpdated:new Date().toISOString().split("T")[0]};i([...a,H]),l({title:"",description:"",category:"Technical",priority:"Medium"}),n("my-complaints")},S=(T,H)=>{i(a.map(L=>L.id===T?{...L,status:H,lastUpdated:new Date().toISOString().split("T")[0]}:L))},w=T=>{switch(T){case"Open":return s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"});case"In Progress":return s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"});case"Resolved":return s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"});case"Closed":return s.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"});default:return s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}},N=T=>{switch(T){case"Low":return"bg-green-100 text-green-800 border border-green-200";case"Medium":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"High":return"bg-orange-100 text-orange-800 border border-orange-200";case"Critical":return"bg-red-100 text-red-800 border border-red-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},E=a.filter(T=>{const H=T.title.toLowerCase().includes(c.toLowerCase())||T.description.toLowerCase().includes(c.toLowerCase()),L=u==="All"||T.status===u,Q=m==="All"||T.category===m;return H&&L&&Q}),_=(()=>{const T=a.length,H=a.filter(O=>O.status==="Open").length,L=a.filter(O=>O.status==="In Progress").length,Q=a.filter(O=>O.status==="Resolved"||O.status==="Closed").length;return{total:T,open:H,inProgress:L,resolved:Q}})(),B=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[s.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Complaints"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.total})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsx(kr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.open})]}),s.jsx("div",{className:"bg-red-50 p-3 rounded-lg",children:s.jsx(Ir,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.inProgress})]}),s.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.resolved})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx(Lr,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Complaints"}),s.jsx("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:"View all"})]}),s.jsx("div",{className:"space-y-4",children:a.slice(0,3).map(T=>s.jsxs("div",{className:"flex items-start p-4 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 mt-1 mr-4",children:w(T.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:T.title}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N(T.priority)}`,children:T.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:T.description}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"mr-3",children:["By ",T.submittedBy]}),s.jsxs("span",{children:["On ",T.submittedDate]})]})]})]},T.id))})]})]}),k=()=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Submit New Complaint"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Report an issue you're experiencing"}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Title"}),s.jsx("input",{type:"text",required:!0,value:o.title,onChange:T=>l({...o,title:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{required:!0,rows:5,value:o.description,onChange:T=>l({...o,description:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide detailed information about your complaint"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx("select",{value:o.category,onChange:T=>l({...o,category:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(T=>s.jsx("option",{value:T,children:T},T))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsx("select",{value:o.priority,onChange:T=>l({...o,priority:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.map(T=>s.jsx("option",{value:T,children:T},T))})]})]}),s.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx($s,{className:"w-5 h-5"}),s.jsx("span",{children:"Submit Complaint"})]})]})]}),M=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"All Complaints"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and track your complaints"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search complaints...",value:c,onChange:T=>d(T.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("select",{value:u,onChange:T=>h(T.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"All",children:"All Status"}),j.map(T=>s.jsx("option",{value:T,children:T},T))]}),s.jsxs("select",{value:m,onChange:T=>f(T.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"All",children:"All Categories"}),x.map(T=>s.jsx("option",{value:T,children:T},T))]})]})]})}),s.jsx("div",{className:"space-y-4",children:E.map(T=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",T.id]}),s.jsxs("div",{className:"flex items-center",children:[w(T.status),s.jsx("span",{className:"text-sm font-medium text-gray-700 ml-2",children:T.status})]}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N(T.priority)}`,children:T.priority})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:T.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:T.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium mr-2",children:"Category:"}),s.jsx("span",{className:"bg-gray-100 px-2.5 py-1 rounded-md",children:T.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Submitted by:"})," ",T.submittedBy]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",T.submittedDate]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",T.assignedTo]})]})]}),t.role==="admin"&&s.jsx("div",{className:"ml-4",children:s.jsx("select",{value:T.status,onChange:H=>S(T.id,H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(H=>s.jsx("option",{value:H,children:H},H))})})]})},T.id))})]});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-xs border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:s.jsx(kr,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Complaint Portal"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Kn,{className:"w-5 h-5 text-gray-500"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>g(!A),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(As,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"text-left hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),s.jsx("p",{className:"text-xs text-gray-500",children:t.role})]}),s.jsx(mn,{className:"w-4 h-4 text-gray-500"})]}),A&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),s.jsx("p",{className:"text-xs text-gray-500",children:t.email})]}),s.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"Settings"]}),s.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>e({...t,role:t.role==="student"?"admin":"student"}),children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Switch to ",t.role==="student"?"Admin":"Student"," View"]}),s.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-50",children:[s.jsx(l1,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("nav",{className:"mb-8",children:s.jsx("div",{className:"flex space-x-1 bg-white rounded-xl p-1.5 shadow-sm border border-gray-200",children:[{id:"dashboard",label:"Dashboard",icon:kr},{id:"submit",label:"Submit Complaint",icon:$s},{id:"my-complaints",label:"My Complaints",icon:As},...t.role==="admin"?[{id:"all-complaints",label:"All Complaints",icon:kr}]:[]].map(T=>{const H=T.icon;return s.jsxs("button",{onClick:()=>n(T.id),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${r===T.id?"bg-blue-50 text-blue-700 border border-blue-100":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(H,{className:"w-4 h-4"}),s.jsx("span",{children:T.label})]},T.id)})})}),s.jsxs("main",{children:[r==="dashboard"&&B(),r==="submit"&&k(),r==="my-complaints"&&M(),r==="all-complaints"&&t.role==="admin"&&M()]})]})]})},kve=({adminUser:t})=>{var d;const[e,r]=F.useState(!1),[n,a]=F.useState(!1),i=mi(),[o,l]=F.useState(new Date);F.useEffect(()=>{const u=setInterval(()=>l(new Date),1e3);return()=>clearInterval(u)},[]);const c=()=>{localStorage.removeItem("token"),i("/")};return s.jsx("div",{className:"border-b  border-gray-200 shadow-sm bg-white",children:s.jsx("header",{className:" w-full box-border p-[13px]",children:s.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[s.jsx("div",{className:"flex items-center gap-4 flex-1",children:s.jsx("div",{className:"hidden md:flex items-center flex-1",children:s.jsxs("div",{className:"relative w-full max-w-md flex items-center",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-24 py-2 border border-gray-200 rounded-2xl w-full focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent bg-gray-50"}),s.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium rounded-xl transition-colors","aria-label":"Search",children:"Search"})]})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-50",children:[s.jsx(dr,{size:18,className:"text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.toLocaleDateString(void 0,{weekday:"long"})}),s.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),s.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"p-3 hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",onClick:()=>a(!n),children:[s.jsx(Kn,{size:20}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),s.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("p",{className:"text-sm text-gray-800",children:"New student registration request"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 minutes ago"})]}),s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("p",{className:"text-sm text-gray-800",children:"Teacher leave application"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1 hour ago"})]})]})]})]}),s.jsxs("button",{className:"p- hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",children:[s.jsx(kn,{size:20}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-500 rounded-full"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-50 rounded-2xl py-2 px-3 border border-gray-100",onClick:()=>r(!e),children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-700 font-semibold text-sm",children:((d=t==null?void 0:t.name)==null?void 0:d.charAt(0))||"A"})}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.name)||"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),s.jsx(mn,{size:16,className:"text-gray-400"})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(bm,{size:16,className:"text-gray-400"}),"Settings"]}),s.jsx("div",{className:"border-t border-gray-200 my-1"}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:c,children:[s.jsx(l1,{size:16}),"Logout"]})]})]})]})]})})})},Bve=[{icon:Lv,label:"Dashboard",path:"/admin/dashboard",active:!0},{icon:Mn,label:"Analytics",path:"/admin/analytics"},{icon:pr,label:"Teachers",path:"/admin/teachers"},{icon:hI,label:"Staff",path:"/admin/staff"},{icon:Yn,label:"Students",path:"/admin/students"},{icon:Js,label:"Student Wellbeing",path:"/admin/wellbeing"},{icon:pd,label:"Parents",path:"/admin/parents"},{icon:jw,label:"Academic Setup",path:"/admin/academics"},{icon:Qr,label:"Course Management",path:"/admin/courses"},{icon:tr,label:"Subjects",path:"/admin/subjects"},{icon:i5,label:"Student Attendance",path:"/admin/attendance"},{icon:tr,label:"Examination Management",path:"/admin/examination"},{icon:tr,label:"Routines",path:"/admin/routines"},{icon:tr,label:"Teacher Timetable",path:"/admin/timetable"},{icon:i5,label:"Lesson Plan",path:"/admin/lesson-plans"},{icon:kr,label:"Result",path:"/admin/result"},{icon:$0,label:"Fees Collection",path:"/admin/fees",hasSubmenu:!0,submenu:[{icon:tde,label:"Fees Dashboard",path:"/admin/fees/dashboard"},{icon:PX,label:"Fee Collection",path:"/admin/fees"},{icon:Vhe,label:"Student Fee Details",path:"/admin/fees/student-details"}]},{icon:aI,label:"HR",path:"/admin/hr"}],Tve=({onMenuItemClick:t,collapsed:e=!1,onToggleSidebar:r})=>{const[n,a]=F.useState({}),i=o=>{e||a(l=>({...l,[o]:!l[o]}))};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:`
        ${e?"w-20":"w-72"}
        bg-white border-r border-gray-200
        flex flex-col h-full shadow-lg flex-shrink-0
        transition-all duration-300 ease-in-out
      `,style:{willChange:"width"},children:[s.jsx("div",{className:"p-4 border-b border-gray-200 relative",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`${e?"w-8 h-8":"w-12 h-12"} bg-gradient-to-br from-blue-900 to-yellow-500 rounded-lg flex items-center justify-center shadow-md transition-all duration-300`,children:s.jsx("span",{className:"text-white text-xl font-bold",children:"EEC"})}),!e&&s.jsxs("div",{className:"flex flex-col opacity-100 transition-opacity duration-300",children:[s.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Electronic Educare"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Admin Portal"})]})]}),s.jsxs("button",{onClick:r,className:`absolute ${e?"top-2 right-[-7px]":"top-4 right-[-5px]"} p-4 bg-transparent rounded-lg text-gray-500 hover:text-gray-700 transition-colors duration-200`,"aria-label":e?"Open sidebar":"Collapse sidebar",title:e?"Open sidebar":"Collapse sidebar",children:[e&&s.jsx(aa,{size:16,className:"transition-transform duration-200"}),!e&&s.jsx(wd,{size:16,className:"transition-transform duration-200"})]})]})}),s.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto sidebar-scroll",children:Bve.map((o,l)=>{const c=o.icon,d=n[o.label];return s.jsxs("div",{className:"mb-1",children:[o.hasSubmenu?s.jsxs("button",{onClick:()=>i(o.label),className:`
                      w-full flex items-center space-x-3 px-3 py-3 rounded-lg
                      group transition-all duration-200 ease-out
                      text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50
                      hover:text-gray-900 hover:shadow-sm
                    `,children:[s.jsx(c,{size:20,className:"flex-shrink-0 transition-colors duration-200 group-hover:text-blue-600"}),!e&&s.jsx("span",{className:"font-medium flex-1 text-left opacity-100 transition-opacity duration-200",children:o.label}),!e&&(d?s.jsx(mn,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}):s.jsx(aa,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}))]}):s.jsx(n5,{to:o.path,onClick:()=>t(o.label),children:({isActive:u})=>s.jsxs("div",{className:`
                        flex items-center space-x-3 px-4 py-3 rounded-lg
                        group transition-all duration-200 ease-out
                        ${u?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-sm border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-sm hover:border-l-4 hover:border-blue-300"}
                      `,children:[s.jsx(c,{size:20,className:`flex-shrink-0 transition-colors duration-200 ${u?"text-yellow-600":"group-hover:text-blue-600"}`}),!e&&s.jsx("span",{className:"font-medium flex-1 opacity-100 transition-opacity duration-200",children:o.label})]})}),o.hasSubmenu&&d&&!e&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.submenu.map((u,h)=>{const m=u.icon;return s.jsx(n5,{to:u.path,onClick:()=>t(u.label),children:({isActive:f})=>s.jsxs("div",{className:`
                              flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-200 ease-out
                              ${f?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:border-l-2 hover:border-blue-200"}
                            `,children:[s.jsx(m,{size:16,className:`flex-shrink-0 transition-colors duration-200 ${f?"text-yellow-600":"group-hover:text-blue-600"}`}),s.jsx("span",{className:"text-sm font-medium opacity-100 transition-opacity duration-200",children:u.label})]})},h)})})]},l)})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-200 cursor-pointer group",children:s.jsxs("div",{className:`flex items-center ${e?"justify-center space-x-0":"space-x-3"}`,children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 group-hover:bg-blue-100 flex items-center justify-center transition-all duration-200 group-hover:shadow-sm",children:s.jsx("span",{className:"text-yellow-600 group-hover:text-blue-600 font-semibold transition-colors duration-200",children:"A"})}),!e&&s.jsxs("div",{className:"opacity-100 transition-opacity duration-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900 transition-colors duration-200",children:"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-colors duration-200",children:"administrator@eec.edu"})]})]})})]})})},Mve=({children:t,activeMenuItem:e,onMenuItemClick:r,sidebarCollapsed:n,onToggleSidebar:a,adminUser:i,breadcrumbs:o=[],showAdminHeader:l,showBreadcrumb:c=!0})=>{const d=[{label:"Admin",path:"/admin"},{label:"Dashboard",path:"/admin/dashboard"},{label:e,current:!0}];return o.length>0,s.jsxs("div",{className:"flex w-full h-screen bg-gray-50 overflow-hidden",children:[s.jsx(Tve,{activeMenuItem:e,onMenuItemClick:r,collapsed:n,onToggleSidebar:a}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[l&&s.jsx(kve,{adminUser:i}),c&&s.jsx("div",{className:"px-4 lg:px-8 bg-white border-b"}),s.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})};function NY(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=NY(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xs(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=NY(t))&&(n&&(n+=" "),n+=e);return n}var JC,eU;function Xl(){if(eU)return JC;eU=1;var t=Array.isArray;return JC=t,JC}var ZC,tU;function SY(){if(tU)return ZC;tU=1;var t=typeof Q2=="object"&&Q2&&Q2.Object===Object&&Q2;return ZC=t,ZC}var e3,rU;function ph(){if(rU)return e3;rU=1;var t=SY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return e3=r,e3}var t3,sU;function Iw(){if(sU)return t3;sU=1;var t=ph(),e=t.Symbol;return t3=e,t3}var r3,nU;function Fve(){if(nU)return r3;nU=1;var t=Iw(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=n.call(o);return d&&(l?o[a]=c:delete o[a]),u}return r3=i,r3}var s3,aU;function Pve(){if(aU)return s3;aU=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return s3=r,s3}var n3,iU;function Kf(){if(iU)return n3;iU=1;var t=Iw(),e=Fve(),r=Pve(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return n3=o,n3}var a3,oU;function Xf(){if(oU)return a3;oU=1;function t(e){return e!=null&&typeof e=="object"}return a3=t,a3}var i3,lU;function Hv(){if(lU)return i3;lU=1;var t=Kf(),e=Xf(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return i3=n,i3}var o3,cU;function NI(){if(cU)return o3;cU=1;var t=Xl(),e=Hv(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return o3=a,o3}var l3,dU;function Mm(){if(dU)return l3;dU=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return l3=t,l3}var c3,uU;function SI(){if(uU)return c3;uU=1;var t=Kf(),e=Mm(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return c3=o,c3}var d3,hU;function Ive(){if(hU)return d3;hU=1;var t=ph(),e=t["__core-js_shared__"];return d3=e,d3}var u3,fU;function Dve(){if(fU)return u3;fU=1;var t=Ive(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return u3=r,u3}var h3,mU;function _Y(){if(mU)return h3;mU=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return h3=r,h3}var f3,pU;function Lve(){if(pU)return f3;pU=1;var t=SI(),e=Dve(),r=Mm(),n=_Y(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var f=t(m)?u:i;return f.test(n(m))}return f3=h,f3}var m3,AU;function Rve(){if(AU)return m3;AU=1;function t(e,r){return e==null?void 0:e[r]}return m3=t,m3}var p3,xU;function VA(){if(xU)return p3;xU=1;var t=Lve(),e=Rve();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return p3=r,p3}var A3,gU;function u4(){if(gU)return A3;gU=1;var t=VA(),e=t(Object,"create");return A3=e,A3}var x3,vU;function Ove(){if(vU)return x3;vU=1;var t=u4();function e(){this.__data__=t?t(null):{},this.size=0}return x3=e,x3}var g3,yU;function Uve(){if(yU)return g3;yU=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return g3=t,g3}var v3,bU;function Hve(){if(bU)return v3;bU=1;var t=u4(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return v3=a,v3}var y3,wU;function Qve(){if(wU)return y3;wU=1;var t=u4(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return y3=n,y3}var b3,jU;function zve(){if(jU)return b3;jU=1;var t=u4(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return b3=r,b3}var w3,NU;function $ve(){if(NU)return w3;NU=1;var t=Ove(),e=Uve(),r=Hve(),n=Qve(),a=zve();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,w3=i,w3}var j3,SU;function Gve(){if(SU)return j3;SU=1;function t(){this.__data__=[],this.size=0}return j3=t,j3}var N3,_U;function _I(){if(_U)return N3;_U=1;function t(e,r){return e===r||e!==e&&r!==r}return N3=t,N3}var S3,CU;function h4(){if(CU)return S3;CU=1;var t=_I();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return S3=e,S3}var _3,EU;function Vve(){if(EU)return _3;EU=1;var t=h4(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return _3=n,_3}var C3,kU;function Wve(){if(kU)return C3;kU=1;var t=h4();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return C3=e,C3}var E3,BU;function qve(){if(BU)return E3;BU=1;var t=h4();function e(r){return t(this.__data__,r)>-1}return E3=e,E3}var k3,TU;function Kve(){if(TU)return k3;TU=1;var t=h4();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return k3=e,k3}var B3,MU;function f4(){if(MU)return B3;MU=1;var t=Gve(),e=Vve(),r=Wve(),n=qve(),a=Kve();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,B3=i,B3}var T3,FU;function CI(){if(FU)return T3;FU=1;var t=VA(),e=ph(),r=t(e,"Map");return T3=r,T3}var M3,PU;function Xve(){if(PU)return M3;PU=1;var t=$ve(),e=f4(),r=CI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return M3=n,M3}var F3,IU;function Yve(){if(IU)return F3;IU=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return F3=t,F3}var P3,DU;function m4(){if(DU)return P3;DU=1;var t=Yve();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return P3=e,P3}var I3,LU;function Jve(){if(LU)return I3;LU=1;var t=m4();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return I3=e,I3}var D3,RU;function Zve(){if(RU)return D3;RU=1;var t=m4();function e(r){return t(this,r).get(r)}return D3=e,D3}var L3,OU;function eye(){if(OU)return L3;OU=1;var t=m4();function e(r){return t(this,r).has(r)}return L3=e,L3}var R3,UU;function tye(){if(UU)return R3;UU=1;var t=m4();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return R3=e,R3}var O3,HU;function EI(){if(HU)return O3;HU=1;var t=Xve(),e=Jve(),r=Zve(),n=eye(),a=tye();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,O3=i,O3}var U3,QU;function CY(){if(QU)return U3;QU=1;var t=EI(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,U3=r,U3}var H3,zU;function rye(){if(zU)return H3;zU=1;var t=CY(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return H3=r,H3}var Q3,$U;function sye(){if($U)return Q3;$U=1;var t=rye(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return Q3=n,Q3}var z3,GU;function kI(){if(GU)return z3;GU=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return z3=t,z3}var $3,VU;function nye(){if(VU)return $3;VU=1;var t=Iw(),e=kI(),r=Xl(),n=Hv(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return $3=o,$3}var G3,WU;function EY(){if(WU)return G3;WU=1;var t=nye();function e(r){return r==null?"":t(r)}return G3=e,G3}var V3,qU;function kY(){if(qU)return V3;qU=1;var t=Xl(),e=NI(),r=sye(),n=EY();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return V3=a,V3}var W3,KU;function p4(){if(KU)return W3;KU=1;var t=Hv();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return W3=e,W3}var q3,XU;function BI(){if(XU)return q3;XU=1;var t=kY(),e=p4();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return q3=r,q3}var K3,YU;function BY(){if(YU)return K3;YU=1;var t=BI();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return K3=e,K3}var aye=BY();const bc=Nn(aye);var X3,JU;function iye(){if(JU)return X3;JU=1;function t(e){return e==null}return X3=t,X3}var oye=iye();const as=Nn(oye);var Y3,ZU;function lye(){if(ZU)return Y3;ZU=1;var t=Kf(),e=Xl(),r=Xf(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Y3=a,Y3}var cye=lye();const Dw=Nn(cye);var dye=SI();const Kr=Nn(dye);var uye=Mm();const Qv=Nn(uye);var J3={exports:{}},un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e7;function hye(){if(e7)return un;e7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function g(x){if(typeof x=="object"&&x!==null){var v=x.$$typeof;switch(v){case t:switch(x=x.type,x){case r:case a:case n:case d:case u:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case c:case m:case h:case i:return x;default:return v}}case e:return v}}}return un.ContextConsumer=o,un.ContextProvider=i,un.Element=t,un.ForwardRef=c,un.Fragment=r,un.Lazy=m,un.Memo=h,un.Portal=e,un.Profiler=a,un.StrictMode=n,un.Suspense=d,un.SuspenseList=u,un.isAsyncMode=function(){return!1},un.isConcurrentMode=function(){return!1},un.isContextConsumer=function(x){return g(x)===o},un.isContextProvider=function(x){return g(x)===i},un.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},un.isForwardRef=function(x){return g(x)===c},un.isFragment=function(x){return g(x)===r},un.isLazy=function(x){return g(x)===m},un.isMemo=function(x){return g(x)===h},un.isPortal=function(x){return g(x)===e},un.isProfiler=function(x){return g(x)===a},un.isStrictMode=function(x){return g(x)===n},un.isSuspense=function(x){return g(x)===d},un.isSuspenseList=function(x){return g(x)===u},un.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===a||x===n||x===d||x===u||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===i||x.$$typeof===o||x.$$typeof===c||x.$$typeof===A||x.getModuleId!==void 0)},un.typeOf=g,un}var t7;function fye(){return t7||(t7=1,J3.exports=hye()),J3.exports}var mye=fye(),Z3,r7;function TY(){if(r7)return Z3;r7=1;var t=Kf(),e=Xf(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Z3=n,Z3}var eE,s7;function pye(){if(s7)return eE;s7=1;var t=TY();function e(r){return t(r)&&r!=+r}return eE=e,eE}var Aye=pye();const zv=Nn(Aye);var xye=TY();const gye=Nn(xye);var ul=function(e){return e===0?0:e>0?1:-1},Yp=function(e){return Dw(e)&&e.indexOf("%")===e.length-1},er=function(e){return gye(e)&&!zv(e)},Bi=function(e){return er(e)||Dw(e)},vye=0,WA=function(e){var r=++vye;return"".concat(e||"").concat(r)},hl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!er(e)&&!Dw(e))return n;var i;if(Yp(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return zv(i)&&(i=n),a&&i>r&&(i=r),i},q0=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},yye=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Si=function(e,r){return er(e)&&er(r)?function(n){return e+n*(r-e)}:function(){return r}};function h5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):bc(n,e))===r})}function Cg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function NM(t){"@babel/helpers - typeof";return NM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(t)}var bye=["viewBox","children"],wye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],n7=["points","pathLength"],tE={svg:bye,polygon:n7,polyline:n7},TI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],f5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(F.isValidElement(e)&&(n=e.props),!Qv(n))return null;var a={};return Object.keys(n).forEach(function(i){TI.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},jye=function(e,r,n){return function(a){return e(r,n,a),null}},CA=function(e,r,n){if(!Qv(e)||NM(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];TI.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=jye(o,r,n))}),a},Nye=["children"],Sye=["children"];function a7(t,e){if(t==null)return{};var r=_ye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SM(t){"@babel/helpers - typeof";return SM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(t)}var i7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},o7=null,rE=null,MI=function t(e){if(e===o7&&Array.isArray(rE))return rE;var r=[];return F.Children.forEach(e,function(n){as(n)||(mye.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),rE=r,o7=e,r};function wc(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Bf(a)}):n=[Bf(e)],MI(t).forEach(function(a){var i=bc(a,"type.displayName")||bc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function fc(t,e){var r=wc(t,e);return r&&r[0]}var l7=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!er(n)||n<=0||!er(a)||a<=0)},Cye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Eye=function(e){return e&&e.type&&Dw(e.type)&&Cye.indexOf(e.type)>=0},MY=function(e){return e&&SM(e)==="object"&&"clipDot"in e},kye=function(e,r,n,a){var i,o=(i=tE==null?void 0:tE[a])!==null&&i!==void 0?i:[];return!Kr(e)&&(a&&o.includes(r)||wye.includes(r))||n&&TI.includes(r)},Dr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(F.isValidElement(e)&&(a=e.props),!Qv(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;kye((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},_M=function t(e,r){if(e===r)return!0;var n=F.Children.count(e);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return c7(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!c7(i,o))return!1}return!0},c7=function(e,r){if(as(e)&&as(r))return!0;if(!as(e)&&!as(r)){var n=e.props||{},a=n.children,i=a7(n,Nye),o=r.props||{},l=o.children,c=a7(o,Sye);return a&&l?Cg(i,c)&&_M(a,l):!a&&!l?Cg(i,c):!1}return!1},d7=function(e,r){var n=[],a={};return MI(e).forEach(function(i,o){if(Eye(i))n.push(i);else if(i){var l=Bf(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);n.push(h),a[l]=!0}}}),n},Bye=function(e){var r=e&&e.type;return r&&i7[r]?i7[r]:null},Tye=function(e,r){return MI(r).indexOf(e)},Mye=["children","width","height","viewBox","className","style","title","desc"];function CM(){return CM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CM.apply(this,arguments)}function Fye(t,e){if(t==null)return{};var r=Pye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EM(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=Fye(t,Mye),u=a||{width:r,height:n,x:0,y:0},h=xs("recharts-surface",i);return Ue.createElement("svg",CM({},Dr(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ue.createElement("title",null,l),Ue.createElement("desc",null,c),e)}var Iye=["children","className"];function kM(){return kM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kM.apply(this,arguments)}function Dye(t,e){if(t==null)return{};var r=Lye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bs=Ue.forwardRef(function(t,e){var r=t.children,n=t.className,a=Dye(t,Iye),i=xs("recharts-layer",n);return Ue.createElement("g",kM({className:i},Dr(a,!0),{ref:e}),r)}),ou=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},sE,u7;function Rye(){if(u7)return sE;u7=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return sE=t,sE}var nE,h7;function Oye(){if(h7)return nE;h7=1;var t=Rye();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return nE=e,nE}var aE,f7;function FY(){if(f7)return aE;f7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return aE=c,aE}var iE,m7;function Uye(){if(m7)return iE;m7=1;function t(e){return e.split("")}return iE=t,iE}var oE,p7;function Hye(){if(p7)return oE;p7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",A=d+"?",g="["+i+"]?",x="(?:"+f+"(?:"+[u,h,m].join("|")+")"+g+A+")*",v=g+A+x,j="(?:"+[u+l+"?",l,h,m,o].join("|")+")",b=RegExp(c+"(?="+c+")|"+j+v,"g");function S(w){return w.match(b)||[]}return oE=S,oE}var lE,A7;function Qye(){if(A7)return lE;A7=1;var t=Uye(),e=FY(),r=Hye();function n(a){return e(a)?r(a):t(a)}return lE=n,lE}var cE,x7;function zye(){if(x7)return cE;x7=1;var t=Oye(),e=FY(),r=Qye(),n=EY();function a(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return cE=a,cE}var dE,g7;function $ye(){if(g7)return dE;g7=1;var t=zye(),e=t("toUpperCase");return dE=e,dE}var Gye=$ye();const A4=Nn(Gye);function Wn(t){return function(){return t}}const PY=Math.cos,m5=Math.sin,pu=Math.sqrt,p5=Math.PI,x4=2*p5,BM=Math.PI,TM=2*BM,Up=1e-6,Vye=TM-Up;function IY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Wye(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return IY;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qye{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IY:Wye(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-r,u=o-e,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Up)if(!(Math.abs(h*c-d*u)>Up)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,A=a-l,g=c*c+d*d,x=f*f+A*A,v=Math.sqrt(g),j=Math.sqrt(m),b=i*Math.tan((BM-Math.acos((g+m-x)/(2*v*j)))/2),S=b/j,w=b/v;Math.abs(S-1)>Up&&this._append`L${e+S*u},${r+S*h}`,this._append`A${i},${i},0,0,${+(h*f>u*A)},${this._x1=e+w*c},${this._y1=r+w*d}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Up||Math.abs(this._y1-u)>Up)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%TM+TM),m>Vye?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:m>Up&&this._append`A${n},${n},0,${+(m>=BM)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function FI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new qye(e)}function PI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DY(t){this._context=t}DY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function g4(t){return new DY(t)}function LY(t){return t[0]}function RY(t){return t[1]}function OY(t,e){var r=Wn(!0),n=null,a=g4,i=null,o=FI(l);t=typeof t=="function"?t:t===void 0?LY:Wn(t),e=typeof e=="function"?e:e===void 0?RY:Wn(e);function l(c){var d,u=(c=PI(c)).length,h,m=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(h,d,c),+e(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function pj(t,e,r){var n=null,a=Wn(!0),i=null,o=g4,l=null,c=FI(d);t=typeof t=="function"?t:t===void 0?LY:Wn(+t),e=typeof e=="function"?e:Wn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?RY:Wn(+r);function d(h){var m,f,A,g=(h=PI(h)).length,x,v=!1,j,b=new Array(g),S=new Array(g);for(i==null&&(l=o(j=c())),m=0;m<=g;++m){if(!(m<g&&a(x=h[m],m,h))===v)if(v=!v)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),A=m-1;A>=f;--A)l.point(b[A],S[A]);l.lineEnd(),l.areaEnd()}v&&(b[m]=+t(x,m,h),S[m]=+e(x,m,h),l.point(n?+n(x,m,h):b[m],r?+r(x,m,h):S[m]))}if(j)return l=null,j+""||null}function u(){return OY().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Wn(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Wn(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Wn(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class UY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Kye(t){return new UY(t,!0)}function Xye(t){return new UY(t,!1)}const II={draw(t,e){const r=pu(e/p5);t.moveTo(r,0),t.arc(0,0,r,0,x4)}},Yye={draw(t,e){const r=pu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HY=pu(1/3),Jye=HY*2,Zye={draw(t,e){const r=pu(e/Jye),n=r*HY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ebe={draw(t,e){const r=pu(e),n=-r/2;t.rect(n,n,r,r)}},tbe=.8908130915292852,QY=m5(p5/10)/m5(7*p5/10),rbe=m5(x4/10)*QY,sbe=-PY(x4/10)*QY,nbe={draw(t,e){const r=pu(e*tbe),n=rbe*r,a=sbe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=x4*i/5,l=PY(o),c=m5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},uE=pu(3),abe={draw(t,e){const r=-pu(e/(uE*3));t.moveTo(0,r*2),t.lineTo(-uE*r,-r),t.lineTo(uE*r,-r),t.closePath()}},Wc=-.5,qc=pu(3)/2,MM=1/pu(12),ibe=(MM/2+1)*3,obe={draw(t,e){const r=pu(e/ibe),n=r/2,a=r*MM,i=n,o=r*MM+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Wc*n-qc*a,qc*n+Wc*a),t.lineTo(Wc*i-qc*o,qc*i+Wc*o),t.lineTo(Wc*l-qc*c,qc*l+Wc*c),t.lineTo(Wc*n+qc*a,Wc*a-qc*n),t.lineTo(Wc*i+qc*o,Wc*o-qc*i),t.lineTo(Wc*l+qc*c,Wc*c-qc*l),t.closePath()}};function lbe(t,e){let r=null,n=FI(a);t=typeof t=="function"?t:Wn(t||II),e=typeof e=="function"?e:Wn(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Wn(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Wn(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function A5(){}function x5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function zY(t){this._context=t}zY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:x5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cbe(t){return new zY(t)}function $Y(t){this._context=t}$Y.prototype={areaStart:A5,areaEnd:A5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:x5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dbe(t){return new $Y(t)}function GY(t){this._context=t}GY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:x5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ube(t){return new GY(t)}function VY(t){this._context=t}VY.prototype={areaStart:A5,areaEnd:A5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hbe(t){return new VY(t)}function v7(t){return t<0?-1:1}function y7(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(v7(i)+v7(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function b7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function hE(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function g5(t){this._context=t}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hE(this,this._t0,b7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hE(this,b7(this,r=y7(this,t,e)),r);break;default:hE(this,this._t0,r=y7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function WY(t){this._context=new qY(t)}(WY.prototype=Object.create(g5.prototype)).point=function(t,e){g5.prototype.point.call(this,e,t)};function qY(t){this._context=t}qY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function fbe(t){return new g5(t)}function mbe(t){return new WY(t)}function KY(t){this._context=t}KY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=w7(t),a=w7(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function w7(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function pbe(t){return new KY(t)}function v4(t,e){this._context=t,this._t=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Abe(t){return new v4(t,.5)}function xbe(t){return new v4(t,0)}function gbe(t){return new v4(t,1)}function tv(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function FM(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function vbe(t,e){return t[e]}function ybe(t){const e=[];return e.key=t,e}function bbe(){var t=Wn([]),e=FM,r=tv,n=vbe;function a(i){var o=Array.from(t.apply(this,arguments),ybe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=PI(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Wn(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wn(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?FM:typeof i=="function"?i:Wn(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??tv,a):r},a}function wbe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}tv(t,e)}}function jbe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}tv(t,e)}}function Nbe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[n][1]||0,m=u[n-1][1]||0,f=(h-m)/2,A=0;A<l;++A){var g=t[e[A]],x=g[n][1]||0,v=g[n-1][1]||0;f+=x-v}c+=h,d+=f*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,tv(t,e)}}function d1(t){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(t)}var Sbe=["type","size","sizeType"];function PM(){return PM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PM.apply(this,arguments)}function j7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(r),!0).forEach(function(n){_be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _be(t,e,r){return e=Cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cbe(t){var e=Ebe(t,"string");return d1(e)=="symbol"?e:e+""}function Ebe(t,e){if(d1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kbe(t,e){if(t==null)return{};var r=Bbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XY={symbolCircle:II,symbolCross:Yye,symbolDiamond:Zye,symbolSquare:ebe,symbolStar:nbe,symbolTriangle:abe,symbolWye:obe},Tbe=Math.PI/180,Mbe=function(e){var r="symbol".concat(A4(e));return XY[r]||II},Fbe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Tbe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pbe=function(e,r){XY["symbol".concat(A4(e))]=r},DI=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=kbe(e,Sbe),d=N7(N7({},c),{},{type:n,size:i,sizeType:l}),u=function(){var x=Mbe(n),v=lbe().type(x).size(Fbe(i,l,n));return v()},h=d.className,m=d.cx,f=d.cy,A=Dr(d,!0);return m===+m&&f===+f&&i===+i?Ue.createElement("path",PM({},A,{className:xs("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};DI.registerSymbol=Pbe;function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function IM(){return IM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IM.apply(this,arguments)}function S7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ibe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JY(n.key),n)}}function Rbe(t,e,r){return e&&Lbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Obe(t,e,r){return e=v5(e),Ube(t,YY()?Reflect.construct(e,r||[],v5(t).constructor):e.apply(t,r))}function Ube(t,e){if(e&&(rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(t)}function Hbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YY=function(){return!!t})()}function v5(t){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(t)}function Qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DM(t,e)}function DM(t,e){return DM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DM(t,e)}function u1(t,e,r){return e=JY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JY(t){var e=zbe(t,"string");return rv(e)=="symbol"?e:e+""}function zbe(t,e){if(rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=32,LI=(function(t){function e(){return Dbe(this,e),Obe(this,e,arguments)}return Qbe(e,t),Rbe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Kc/2,o=Kc/6,l=Kc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ue.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Kc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ue.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Kc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ue.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Kc/8,"h").concat(Kc,"v").concat(Kc*3/4,"h").concat(-Kc,"z"),className:"recharts-legend-icon"});if(Ue.isValidElement(n.legendIcon)){var d=Ibe({},n);return delete d.legendIcon,Ue.cloneElement(n.legendIcon,d)}return Ue.createElement(DI,{fill:c,cx:i,cy:i,size:Kc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Kc,height:Kc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,A){var g=f.formatter||c,x=xs(u1(u1({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",f.inactive));if(f.type==="none")return null;var v=Kr(f.value)?null:f.value;ou(!Kr(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=f.inactive?d:f.color;return Ue.createElement("li",IM({className:x,style:h,key:"legend-item-".concat(A)},CA(n.props,f,A)),Ue.createElement(EM,{width:o,height:o,viewBox:u,style:m},n.renderIcon(f)),Ue.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},g?g(v,f,A):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ue.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(F.PureComponent);u1(LI,"displayName","Legend");u1(LI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fE,_7;function $be(){if(_7)return fE;_7=1;var t=f4();function e(){this.__data__=new t,this.size=0}return fE=e,fE}var mE,C7;function Gbe(){if(C7)return mE;C7=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return mE=t,mE}var pE,E7;function Vbe(){if(E7)return pE;E7=1;function t(e){return this.__data__.get(e)}return pE=t,pE}var AE,k7;function Wbe(){if(k7)return AE;k7=1;function t(e){return this.__data__.has(e)}return AE=t,AE}var xE,B7;function qbe(){if(B7)return xE;B7=1;var t=f4(),e=CI(),r=EI(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return xE=a,xE}var gE,T7;function ZY(){if(T7)return gE;T7=1;var t=f4(),e=$be(),r=Gbe(),n=Vbe(),a=Wbe(),i=qbe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,gE=o,gE}var vE,M7;function Kbe(){if(M7)return vE;M7=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return vE=e,vE}var yE,F7;function Xbe(){if(F7)return yE;F7=1;function t(e){return this.__data__.has(e)}return yE=t,yE}var bE,P7;function eJ(){if(P7)return bE;P7=1;var t=EI(),e=Kbe(),r=Xbe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,bE=n,bE}var wE,I7;function tJ(){if(I7)return wE;I7=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return wE=t,wE}var jE,D7;function rJ(){if(D7)return jE;D7=1;function t(e,r){return e.has(r)}return jE=t,jE}var NE,L7;function sJ(){if(L7)return NE;L7=1;var t=eJ(),e=tJ(),r=rJ(),n=1,a=2;function i(o,l,c,d,u,h){var m=c&n,f=o.length,A=l.length;if(f!=A&&!(m&&A>f))return!1;var g=h.get(o),x=h.get(l);if(g&&x)return g==l&&x==o;var v=-1,j=!0,b=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++v<f;){var S=o[v],w=l[v];if(d)var N=m?d(w,S,v,l,o,h):d(S,w,v,o,l,h);if(N!==void 0){if(N)continue;j=!1;break}if(b){if(!e(l,function(E,P){if(!r(b,P)&&(S===E||u(S,E,c,d,h)))return b.push(P)})){j=!1;break}}else if(!(S===w||u(S,w,c,d,h))){j=!1;break}}return h.delete(o),h.delete(l),j}return NE=i,NE}var SE,R7;function Ybe(){if(R7)return SE;R7=1;var t=ph(),e=t.Uint8Array;return SE=e,SE}var _E,O7;function Jbe(){if(O7)return _E;O7=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return _E=t,_E}var CE,U7;function RI(){if(U7)return CE;U7=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return CE=t,CE}var EE,H7;function Zbe(){if(H7)return EE;H7=1;var t=Iw(),e=Ybe(),r=_I(),n=sJ(),a=Jbe(),i=RI(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",m="[object Number]",f="[object RegExp]",A="[object Set]",g="[object String]",x="[object Symbol]",v="[object ArrayBuffer]",j="[object DataView]",b=t?t.prototype:void 0,S=b?b.valueOf:void 0;function w(N,E,P,_,B,k,M){switch(P){case j:if(N.byteLength!=E.byteLength||N.byteOffset!=E.byteOffset)return!1;N=N.buffer,E=E.buffer;case v:return!(N.byteLength!=E.byteLength||!k(new e(N),new e(E)));case c:case d:case m:return r(+N,+E);case u:return N.name==E.name&&N.message==E.message;case f:case g:return N==E+"";case h:var T=a;case A:var H=_&o;if(T||(T=i),N.size!=E.size&&!H)return!1;var L=M.get(N);if(L)return L==E;_|=l,M.set(N,E);var Q=n(T(N),T(E),_,B,k,M);return M.delete(N),Q;case x:if(S)return S.call(N)==S.call(E)}return!1}return EE=w,EE}var kE,Q7;function nJ(){if(Q7)return kE;Q7=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return kE=t,kE}var BE,z7;function e1e(){if(z7)return BE;z7=1;var t=nJ(),e=Xl();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return BE=r,BE}var TE,$7;function t1e(){if($7)return TE;$7=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return TE=t,TE}var ME,G7;function r1e(){if(G7)return ME;G7=1;function t(){return[]}return ME=t,ME}var FE,V7;function s1e(){if(V7)return FE;V7=1;var t=t1e(),e=r1e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return FE=i,FE}var PE,W7;function n1e(){if(W7)return PE;W7=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return PE=t,PE}var IE,q7;function a1e(){if(q7)return IE;q7=1;var t=Kf(),e=Xf(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return IE=n,IE}var DE,K7;function OI(){if(K7)return DE;K7=1;var t=a1e(),e=Xf(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return DE=i,DE}var ub={exports:{}},LE,X7;function i1e(){if(X7)return LE;X7=1;function t(){return!1}return LE=t,LE}ub.exports;var Y7;function aJ(){return Y7||(Y7=1,(function(t,e){var r=ph(),n=i1e(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(ub,ub.exports)),ub.exports}var RE,J7;function UI(){if(J7)return RE;J7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return RE=r,RE}var OE,Z7;function HI(){if(Z7)return OE;Z7=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return OE=e,OE}var UE,e9;function o1e(){if(e9)return UE;e9=1;var t=Kf(),e=HI(),r=Xf(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object RegExp]",f="[object Set]",A="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",v="[object DataView]",j="[object Float32Array]",b="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",N="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",_="[object Uint16Array]",B="[object Uint32Array]",k={};k[j]=k[b]=k[S]=k[w]=k[N]=k[E]=k[P]=k[_]=k[B]=!0,k[n]=k[a]=k[x]=k[i]=k[v]=k[o]=k[l]=k[c]=k[d]=k[u]=k[h]=k[m]=k[f]=k[A]=k[g]=!1;function M(T){return r(T)&&e(T.length)&&!!k[t(T)]}return UE=M,UE}var HE,t9;function iJ(){if(t9)return HE;t9=1;function t(e){return function(r){return e(r)}}return HE=t,HE}var hb={exports:{}};hb.exports;var r9;function l1e(){return r9||(r9=1,(function(t,e){var r=SY(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(hb,hb.exports)),hb.exports}var QE,s9;function oJ(){if(s9)return QE;s9=1;var t=o1e(),e=iJ(),r=l1e(),n=r&&r.isTypedArray,a=n?e(n):t;return QE=a,QE}var zE,n9;function c1e(){if(n9)return zE;n9=1;var t=n1e(),e=OI(),r=Xl(),n=aJ(),a=UI(),i=oJ(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=r(d),m=!h&&e(d),f=!h&&!m&&n(d),A=!h&&!m&&!f&&i(d),g=h||m||f||A,x=g?t(d.length,String):[],v=x.length;for(var j in d)(u||l.call(d,j))&&!(g&&(j=="length"||f&&(j=="offset"||j=="parent")||A&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,v)))&&x.push(j);return x}return zE=c,zE}var $E,a9;function d1e(){if(a9)return $E;a9=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return $E=e,$E}var GE,i9;function lJ(){if(i9)return GE;i9=1;function t(e,r){return function(n){return e(r(n))}}return GE=t,GE}var VE,o9;function u1e(){if(o9)return VE;o9=1;var t=lJ(),e=t(Object.keys,Object);return VE=e,VE}var WE,l9;function h1e(){if(l9)return WE;l9=1;var t=d1e(),e=u1e(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return WE=a,WE}var qE,c9;function Lw(){if(c9)return qE;c9=1;var t=SI(),e=HI();function r(n){return n!=null&&e(n.length)&&!t(n)}return qE=r,qE}var KE,d9;function y4(){if(d9)return KE;d9=1;var t=c1e(),e=h1e(),r=Lw();function n(a){return r(a)?t(a):e(a)}return KE=n,KE}var XE,u9;function f1e(){if(u9)return XE;u9=1;var t=e1e(),e=s1e(),r=y4();function n(a){return t(a,r,e)}return XE=n,XE}var YE,h9;function m1e(){if(h9)return YE;h9=1;var t=f1e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,m=t(i),f=m.length,A=t(o),g=A.length;if(f!=g&&!h)return!1;for(var x=f;x--;){var v=m[x];if(!(h?v in o:n.call(o,v)))return!1}var j=u.get(i),b=u.get(o);if(j&&b)return j==o&&b==i;var S=!0;u.set(i,o),u.set(o,i);for(var w=h;++x<f;){v=m[x];var N=i[v],E=o[v];if(c)var P=h?c(E,N,v,o,i,u):c(N,E,v,i,o,u);if(!(P===void 0?N===E||d(N,E,l,c,u):P)){S=!1;break}w||(w=v=="constructor")}if(S&&!w){var _=i.constructor,B=o.constructor;_!=B&&"constructor"in i&&"constructor"in o&&!(typeof _=="function"&&_ instanceof _&&typeof B=="function"&&B instanceof B)&&(S=!1)}return u.delete(i),u.delete(o),S}return YE=a,YE}var JE,f9;function p1e(){if(f9)return JE;f9=1;var t=VA(),e=ph(),r=t(e,"DataView");return JE=r,JE}var ZE,m9;function A1e(){if(m9)return ZE;m9=1;var t=VA(),e=ph(),r=t(e,"Promise");return ZE=r,ZE}var ek,p9;function cJ(){if(p9)return ek;p9=1;var t=VA(),e=ph(),r=t(e,"Set");return ek=r,ek}var tk,A9;function x1e(){if(A9)return tk;A9=1;var t=VA(),e=ph(),r=t(e,"WeakMap");return tk=r,tk}var rk,x9;function g1e(){if(x9)return rk;x9=1;var t=p1e(),e=CI(),r=A1e(),n=cJ(),a=x1e(),i=Kf(),o=_Y(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",m="[object DataView]",f=o(t),A=o(e),g=o(r),x=o(n),v=o(a),j=i;return(t&&j(new t(new ArrayBuffer(1)))!=m||e&&j(new e)!=l||r&&j(r.resolve())!=d||n&&j(new n)!=u||a&&j(new a)!=h)&&(j=function(b){var S=i(b),w=S==c?b.constructor:void 0,N=w?o(w):"";if(N)switch(N){case f:return m;case A:return l;case g:return d;case x:return u;case v:return h}return S}),rk=j,rk}var sk,g9;function v1e(){if(g9)return sk;g9=1;var t=ZY(),e=sJ(),r=Zbe(),n=m1e(),a=g1e(),i=Xl(),o=aJ(),l=oJ(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",m=Object.prototype,f=m.hasOwnProperty;function A(g,x,v,j,b,S){var w=i(g),N=i(x),E=w?u:a(g),P=N?u:a(x);E=E==d?h:E,P=P==d?h:P;var _=E==h,B=P==h,k=E==P;if(k&&o(g)){if(!o(x))return!1;w=!0,_=!1}if(k&&!_)return S||(S=new t),w||l(g)?e(g,x,v,j,b,S):r(g,x,E,v,j,b,S);if(!(v&c)){var M=_&&f.call(g,"__wrapped__"),T=B&&f.call(x,"__wrapped__");if(M||T){var H=M?g.value():g,L=T?x.value():x;return S||(S=new t),b(H,L,v,j,S)}}return k?(S||(S=new t),n(g,x,v,j,b,S)):!1}return sk=A,sk}var nk,v9;function QI(){if(v9)return nk;v9=1;var t=v1e(),e=Xf();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,l)}return nk=r,nk}var ak,y9;function y1e(){if(y9)return ak;y9=1;var t=ZY(),e=QI(),r=1,n=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var m=l[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<u;){m=l[d];var f=m[0],A=i[f],g=m[1];if(h&&m[2]){if(A===void 0&&!(f in i))return!1}else{var x=new t;if(c)var v=c(A,g,f,i,o,x);if(!(v===void 0?e(g,A,r|n,c,x):v))return!1}}return!0}return ak=a,ak}var ik,b9;function dJ(){if(b9)return ik;b9=1;var t=Mm();function e(r){return r===r&&!t(r)}return ik=e,ik}var ok,w9;function b1e(){if(w9)return ok;w9=1;var t=dJ(),e=y4();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return ok=r,ok}var lk,j9;function uJ(){if(j9)return lk;j9=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return lk=t,lk}var ck,N9;function w1e(){if(N9)return ck;N9=1;var t=y1e(),e=b1e(),r=uJ();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return ck=n,ck}var dk,S9;function j1e(){if(S9)return dk;S9=1;function t(e,r){return e!=null&&r in Object(e)}return dk=t,dk}var uk,_9;function N1e(){if(_9)return uk;_9=1;var t=kY(),e=OI(),r=Xl(),n=UI(),a=HI(),i=p4();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,m=!1;++u<h;){var f=i(c[u]);if(!(m=l!=null&&d(l,f)))break;l=l[f]}return m||++u!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&n(f,h)&&(r(l)||e(l)))}return uk=o,uk}var hk,C9;function S1e(){if(C9)return hk;C9=1;var t=j1e(),e=N1e();function r(n,a){return n!=null&&e(n,a,t)}return hk=r,hk}var fk,E9;function _1e(){if(E9)return fk;E9=1;var t=QI(),e=BY(),r=S1e(),n=NI(),a=dJ(),i=uJ(),o=p4(),l=1,c=2;function d(u,h){return n(u)&&a(h)?i(o(u),h):function(m){var f=e(m,u);return f===void 0&&f===h?r(m,u):t(h,f,l|c)}}return fk=d,fk}var mk,k9;function $v(){if(k9)return mk;k9=1;function t(e){return e}return mk=t,mk}var pk,B9;function C1e(){if(B9)return pk;B9=1;function t(e){return function(r){return r==null?void 0:r[e]}}return pk=t,pk}var Ak,T9;function E1e(){if(T9)return Ak;T9=1;var t=BI();function e(r){return function(n){return t(n,r)}}return Ak=e,Ak}var xk,M9;function k1e(){if(M9)return xk;M9=1;var t=C1e(),e=E1e(),r=NI(),n=p4();function a(i){return r(i)?t(n(i)):e(i)}return xk=a,xk}var gk,F9;function Ah(){if(F9)return gk;F9=1;var t=w1e(),e=_1e(),r=$v(),n=Xl(),a=k1e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return gk=i,gk}var vk,P9;function hJ(){if(P9)return vk;P9=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return vk=t,vk}var yk,I9;function B1e(){if(I9)return yk;I9=1;function t(e){return e!==e}return yk=t,yk}var bk,D9;function T1e(){if(D9)return bk;D9=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return bk=t,bk}var wk,L9;function M1e(){if(L9)return wk;L9=1;var t=hJ(),e=B1e(),r=T1e();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return wk=n,wk}var jk,R9;function F1e(){if(R9)return jk;R9=1;var t=M1e();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return jk=e,jk}var Nk,O9;function P1e(){if(O9)return Nk;O9=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Nk=t,Nk}var Sk,U9;function I1e(){if(U9)return Sk;U9=1;function t(){}return Sk=t,Sk}var _k,H9;function D1e(){if(H9)return _k;H9=1;var t=cJ(),e=I1e(),r=RI(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return _k=a,_k}var Ck,Q9;function L1e(){if(Q9)return Ck;Q9=1;var t=eJ(),e=F1e(),r=P1e(),n=rJ(),a=D1e(),i=RI(),o=200;function l(c,d,u){var h=-1,m=e,f=c.length,A=!0,g=[],x=g;if(u)A=!1,m=r;else if(f>=o){var v=d?null:a(c);if(v)return i(v);A=!1,m=n,x=new t}else x=d?[]:g;e:for(;++h<f;){var j=c[h],b=d?d(j):j;if(j=u||j!==0?j:0,A&&b===b){for(var S=x.length;S--;)if(x[S]===b)continue e;d&&x.push(b),g.push(j)}else m(x,b,u)||(x!==g&&x.push(b),g.push(j))}return g}return Ck=l,Ck}var Ek,z9;function R1e(){if(z9)return Ek;z9=1;var t=Ah(),e=L1e();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Ek=r,Ek}var O1e=R1e();const $9=Nn(O1e);function fJ(t,e,r){return e===!0?$9(t,r):Kr(e)?$9(t,e):t}function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}var U1e=["ref"];function G9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(r),!0).forEach(function(n){b4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pJ(n.key),n)}}function Q1e(t,e,r){return e&&V9(t.prototype,e),r&&V9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z1e(t,e,r){return e=y5(e),$1e(t,mJ()?Reflect.construct(e,r||[],y5(t).constructor):e.apply(t,r))}function $1e(t,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(t)}function G1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y5(t)}function V1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LM(t,e)}function b4(t,e,r){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pJ(t){var e=W1e(t,"string");return sv(e)=="symbol"?e:e+""}function W1e(t,e){if(sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q1e(t,e){if(t==null)return{};var r=K1e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X1e(t){return t.value}function Y1e(t,e){if(Ue.isValidElement(t))return Ue.cloneElement(t,e);if(typeof t=="function")return Ue.createElement(t,e);e.ref;var r=q1e(e,U1e);return Ue.createElement(LI,r)}var W9=1,ah=(function(t){function e(){var r;H1e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=z1e(this,e,[].concat(a)),b4(r,"lastBoundingBox",{width:-1,height:-1}),r}return V1e(e,t),Q1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>W9||Math.abs(a.height-this.lastBoundingBox.height)>W9)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?af({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var A=this.getBBoxSnapshot();m={top:((u||0)-A.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return af(af({},h),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=af(af({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},Y1e(i,af(af({},this.props),{},{payload:fJ(u,d,X1e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=af(af({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&er(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(F.PureComponent);b4(ah,"displayName","Legend");b4(ah,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kk,q9;function J1e(){if(q9)return kk;q9=1;var t=Iw(),e=OI(),r=Xl(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return kk=a,kk}var Bk,K9;function AJ(){if(K9)return Bk;K9=1;var t=nJ(),e=J1e();function r(n,a,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var u=n[c];a>0&&i(u)?a>1?r(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return Bk=r,Bk}var Tk,X9;function Z1e(){if(X9)return Tk;X9=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return r}}return Tk=t,Tk}var Mk,Y9;function ewe(){if(Y9)return Mk;Y9=1;var t=Z1e(),e=t();return Mk=e,Mk}var Fk,J9;function xJ(){if(J9)return Fk;J9=1;var t=ewe(),e=y4();function r(n,a){return n&&t(n,a,e)}return Fk=r,Fk}var Pk,Z9;function twe(){if(Z9)return Pk;Z9=1;var t=Lw();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return Pk=e,Pk}var Ik,eH;function zI(){if(eH)return Ik;eH=1;var t=xJ(),e=twe(),r=e(t);return Ik=r,Ik}var Dk,tH;function gJ(){if(tH)return Dk;tH=1;var t=zI(),e=Lw();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=a(l,c,d)}),o}return Dk=r,Dk}var Lk,rH;function rwe(){if(rH)return Lk;rH=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Lk=t,Lk}var Rk,sH;function swe(){if(sH)return Rk;sH=1;var t=Hv();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,u=n===n,h=t(n);if(!d&&!h&&!l&&r>n||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&r<n||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return Rk=e,Rk}var Ok,nH;function nwe(){if(nH)return Ok;nH=1;var t=swe();function e(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return r.index-n.index}return Ok=e,Ok}var Uk,aH;function awe(){if(aH)return Uk;aH=1;var t=kI(),e=BI(),r=Ah(),n=gJ(),a=rwe(),i=iJ(),o=nwe(),l=$v(),c=Xl();function d(u,h,m){h.length?h=t(h,function(g){return c(g)?function(x){return e(x,g.length===1?g[0]:g)}:g}):h=[l];var f=-1;h=t(h,i(r));var A=n(u,function(g,x,v){var j=t(h,function(b){return b(g)});return{criteria:j,index:++f,value:g}});return a(A,function(g,x){return o(g,x,m)})}return Uk=d,Uk}var Hk,iH;function iwe(){if(iH)return Hk;iH=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Hk=t,Hk}var Qk,oH;function owe(){if(oH)return Qk;oH=1;var t=iwe(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(n,this,u)}}return Qk=r,Qk}var zk,lH;function lwe(){if(lH)return zk;lH=1;function t(e){return function(){return e}}return zk=t,zk}var $k,cH;function vJ(){if(cH)return $k;cH=1;var t=VA(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return $k=e,$k}var Gk,dH;function cwe(){if(dH)return Gk;dH=1;var t=lwe(),e=vJ(),r=$v(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Gk=n,Gk}var Vk,uH;function dwe(){if(uH)return Vk;uH=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Vk=n,Vk}var Wk,hH;function uwe(){if(hH)return Wk;hH=1;var t=cwe(),e=dwe(),r=e(t);return Wk=r,Wk}var qk,fH;function hwe(){if(fH)return qk;fH=1;var t=$v(),e=owe(),r=uwe();function n(a,i){return r(e(a,i,t),a+"")}return qk=n,qk}var Kk,mH;function w4(){if(mH)return Kk;mH=1;var t=_I(),e=Lw(),r=UI(),n=Mm();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return Kk=a,Kk}var Xk,pH;function fwe(){if(pH)return Xk;pH=1;var t=AJ(),e=awe(),r=hwe(),n=w4(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Xk=a,Xk}var mwe=fwe();const $I=Nn(mwe);function h1(t){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h1(t)}function RM(){return RM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RM.apply(this,arguments)}function pwe(t,e){return vwe(t)||gwe(t,e)||xwe(t,e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(t,e){if(t){if(typeof t=="string")return AH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AH(t,e)}}function AH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vwe(t){if(Array.isArray(t))return t}function xH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xH(Object(r),!0).forEach(function(n){ywe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ywe(t,e,r){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bwe(t){var e=wwe(t,"string");return h1(e)=="symbol"?e:e+""}function wwe(t,e){if(h1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jwe(t){return Array.isArray(t)&&Bi(t[0])&&Bi(t[1])?t.join(" ~ "):t}var Nwe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,m=e.itemSorter,f=e.wrapperClassName,A=e.labelClassName,g=e.label,x=e.labelFormatter,v=e.accessibilityLayer,j=v===void 0?!1:v,b=function(){if(u&&u.length){var M={padding:0,margin:0},T=(m?$I(u,m):u).map(function(H,L){if(H.type==="none")return null;var Q=Yk({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),O=H.formatter||h||jwe,V=H.value,ee=H.name,Y=V,re=ee;if(O&&Y!=null&&re!=null){var D=O(V,ee,H,L,u);if(Array.isArray(D)){var G=pwe(D,2);Y=G[0],re=G[1]}else Y=D}return Ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:Q},Bi(re)?Ue.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Bi(re)?Ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ue.createElement("span",{className:"recharts-tooltip-item-value"},Y),Ue.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ue.createElement("ul",{className:"recharts-tooltip-item-list",style:M},T)}return null},S=Yk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Yk({margin:0},d),N=!as(g),E=N?g:"",P=xs("recharts-default-tooltip",f),_=xs("recharts-tooltip-label",A);N&&x&&u!==void 0&&u!==null&&(E=x(g,u));var B=j?{role:"status","aria-live":"assertive"}:{};return Ue.createElement("div",RM({className:P,style:S},B),Ue.createElement("p",{className:_,style:w},Ue.isValidElement(E)?E:"".concat(E)),b())};function f1(t){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(t)}function Aj(t,e,r){return e=Swe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Swe(t){var e=_we(t,"string");return f1(e)=="symbol"?e:e+""}function _we(t,e){if(f1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hy="recharts-tooltip-wrapper",Cwe={visibility:"hidden"};function Ewe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return xs(Hy,Aj(Aj(Aj(Aj({},"".concat(Hy,"-right"),er(r)&&e&&er(e.x)&&r>=e.x),"".concat(Hy,"-left"),er(r)&&e&&er(e.x)&&r<e.x),"".concat(Hy,"-bottom"),er(n)&&e&&er(e.y)&&n>=e.y),"".concat(Hy,"-top"),er(n)&&e&&er(e.y)&&n<e.y))}function gH(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&er(i[n]))return i[n];var u=r[n]-l-a,h=r[n]+a;if(e[n])return o[n]?u:h;if(o[n]){var m=u,f=c[n];return m<f?Math.max(h,c[n]):Math.max(u,c[n])}var A=h+l,g=c[n]+d;return A>g?Math.max(u,c[n]):Math.max(h,c[n])}function kwe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Bwe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=gH({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=gH({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=kwe({translateX:u,translateY:h,useTranslate3d:l})):d=Cwe,{cssProperties:d,cssClasses:Ewe({translateX:u,translateY:h,coordinate:r})}}function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){UM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bJ(n.key),n)}}function Fwe(t,e,r){return e&&Mwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,r){return e=b5(e),Iwe(t,yJ()?Reflect.construct(e,r||[],b5(t).constructor):e.apply(t,r))}function Iwe(t,e){if(e&&(nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwe(t)}function Dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!t})()}function b5(t){return b5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b5(t)}function Lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OM(t,e)}function OM(t,e){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OM(t,e)}function UM(t,e,r){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bJ(t){var e=Rwe(t,"string");return nv(e)=="symbol"?e:e+""}function Rwe(t,e){if(nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bH=1,Owe=(function(t){function e(){var r;Twe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pwe(this,e,[].concat(a)),UM(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UM(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Lwe(e,t),Fwe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bH||Math.abs(n.height-this.state.lastBoundingBox.height)>bH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,f=a.offset,A=a.position,g=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,j=a.wrapperStyle,b=Bwe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:A,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),S=b.cssClasses,w=b.cssProperties,N=yH(yH({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return Ue.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(P){n.wrapperNode=P}},d)}}])})(F.PureComponent),Uwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fm={isSsr:Uwe()};function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function wH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(r),!0).forEach(function(n){GI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jJ(n.key),n)}}function zwe(t,e,r){return e&&Qwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $we(t,e,r){return e=w5(e),Gwe(t,wJ()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function Gwe(t,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function Wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}function HM(t,e){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HM(t,e)}function GI(t,e,r){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=qwe(t,"string");return av(e)=="symbol"?e:e+""}function qwe(t,e){if(av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kwe(t){return t.dataKey}function Xwe(t,e){return Ue.isValidElement(t)?Ue.cloneElement(t,e):typeof t=="function"?Ue.createElement(t,e):Ue.createElement(Nwe,e)}var di=(function(t){function e(){return Hwe(this,e),$we(this,e,arguments)}return Wwe(e,t),zwe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,f=a.offset,A=a.payload,g=a.payloadUniqBy,x=a.position,v=a.reverseDirection,j=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=A??[];h&&w.length&&(w=fJ(A.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,Kwe));var N=w.length>0;return Ue.createElement(Owe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:N,offset:f,position:x,reverseDirection:v,useTranslate3d:j,viewBox:b,wrapperStyle:S},Xwe(d,jH(jH({},this.props),{},{payload:w})))}}])})(F.PureComponent);GI(di,"displayName","Tooltip");GI(di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jk,NH;function Ywe(){if(NH)return Jk;NH=1;var t=ph(),e=function(){return t.Date.now()};return Jk=e,Jk}var Zk,SH;function Jwe(){if(SH)return Zk;SH=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Zk=e,Zk}var e6,_H;function Zwe(){if(_H)return e6;_H=1;var t=Jwe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return e6=r,e6}var t6,CH;function NJ(){if(CH)return t6;CH=1;var t=Zwe(),e=Mm(),r=Hv(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?n:+d}return t6=c,t6}var r6,EH;function e2e(){if(EH)return r6;EH=1;var t=Mm(),e=Ywe(),r=NJ(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,m,f,A,g,x=0,v=!1,j=!1,b=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(v=!!d.leading,j="maxWait"in d,m=j?a(r(d.maxWait)||0,c):m,b="trailing"in d?!!d.trailing:b);function S(T){var H=u,L=h;return u=h=void 0,x=T,f=l.apply(L,H),f}function w(T){return x=T,A=setTimeout(P,c),v?S(T):f}function N(T){var H=T-g,L=T-x,Q=c-H;return j?i(Q,m-L):Q}function E(T){var H=T-g,L=T-x;return g===void 0||H>=c||H<0||j&&L>=m}function P(){var T=e();if(E(T))return _(T);A=setTimeout(P,N(T))}function _(T){return A=void 0,b&&u?S(T):(u=h=void 0,f)}function B(){A!==void 0&&clearTimeout(A),x=0,u=g=h=A=void 0}function k(){return A===void 0?f:_(e())}function M(){var T=e(),H=E(T);if(u=arguments,h=this,g=T,H){if(A===void 0)return w(g);if(j)return clearTimeout(A),A=setTimeout(P,c),S(g)}return A===void 0&&(A=setTimeout(P,c)),f}return M.cancel=B,M.flush=k,M}return r6=o,r6}var s6,kH;function t2e(){if(kH)return s6;kH=1;var t=e2e(),e=Mm(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return s6=n,s6}var r2e=t2e();const SJ=Nn(r2e);function m1(t){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(t)}function BH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BH(Object(r),!0).forEach(function(n){s2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s2e(t,e,r){return e=n2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n2e(t){var e=a2e(t,"string");return m1(e)=="symbol"?e:e+""}function a2e(t,e){if(m1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i2e(t,e){return d2e(t)||c2e(t,e)||l2e(t,e)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return TH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TH(t,e)}}function TH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d2e(t){if(Array.isArray(t))return t}var ru=F.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,f=t.children,A=t.debounce,g=A===void 0?0:A,x=t.id,v=t.className,j=t.onResize,b=t.style,S=b===void 0?{}:b,w=F.useRef(null),N=F.useRef();N.current=j,F.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=F.useState({containerWidth:a.width,containerHeight:a.height}),P=i2e(E,2),_=P[0],B=P[1],k=F.useCallback(function(T,H){B(function(L){var Q=Math.round(T),O=Math.round(H);return L.containerWidth===Q&&L.containerHeight===O?L:{containerWidth:Q,containerHeight:O}})},[]);F.useEffect(function(){var T=function(ee){var Y,re=ee[0].contentRect,D=re.width,G=re.height;k(D,G),(Y=N.current)===null||Y===void 0||Y.call(N,D,G)};g>0&&(T=SJ(T,g,{trailing:!0,leading:!1}));var H=new ResizeObserver(T),L=w.current.getBoundingClientRect(),Q=L.width,O=L.height;return k(Q,O),H.observe(w.current),function(){H.disconnect()}},[k,g]);var M=F.useMemo(function(){var T=_.containerWidth,H=_.containerHeight;if(T<0||H<0)return null;ou(Yp(o)||Yp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ou(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Yp(o)?T:o,Q=Yp(c)?H:c;r&&r>0&&(L?Q=L/r:Q&&(L=Q*r),m&&Q>m&&(Q=m)),ou(L>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,Q,o,c,u,h,r);var O=!Array.isArray(f)&&Bf(f.type).endsWith("Chart");return Ue.Children.map(f,function(V){return Ue.isValidElement(V)?F.cloneElement(V,xj({width:L,height:Q},O?{style:xj({height:"100%",width:"100%",maxHeight:Q,maxWidth:L},V.props.style)}:{})):V})},[r,f,c,m,h,u,_,o]);return Ue.createElement("div",{id:x?"".concat(x):void 0,className:xs("recharts-responsive-container",v),style:xj(xj({},S),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:w},M)}),Nm=function(e){return null};Nm.displayName="Cell";function p1(t){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(t)}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){u2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u2e(t,e,r){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2e(t){var e=f2e(t,"string");return p1(e)=="symbol"?e:e+""}function f2e(t,e){if(p1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x={widthCache:{},cacheCount:0},m2e=2e3,p2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FH="recharts_measurement_span";function A2e(t){var e=QM({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Tb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fm.isSsr)return{width:0,height:0};var n=A2e(r),a=JSON.stringify({text:e,copyStyle:n});if($x.widthCache[a])return $x.widthCache[a];try{var i=document.getElementById(FH);i||(i=document.createElement("span"),i.setAttribute("id",FH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=QM(QM({},p2e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return $x.widthCache[a]=c,++$x.cacheCount>m2e&&($x.cacheCount=0,$x.widthCache={}),c}catch{return{width:0,height:0}}},x2e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function A1(t){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A1(t)}function j5(t,e){return b2e(t)||y2e(t,e)||v2e(t,e)||g2e()}function g2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2e(t,e){if(t){if(typeof t=="string")return PH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PH(t,e)}}function PH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function b2e(t){if(Array.isArray(t))return t}function w2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N2e(n.key),n)}}function j2e(t,e,r){return e&&IH(t.prototype,e),r&&IH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N2e(t){var e=S2e(t,"string");return A1(e)=="symbol"?e:e+""}function S2e(t,e){if(A1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,C2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_J={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},E2e=Object.keys(_J),pg="NaN";function k2e(t,e){return t*_J[e]}var gj=(function(){function t(e,r){w2e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_2e.test(r)&&(this.num=NaN,this.unit=""),E2e.includes(r)&&(this.num=k2e(e,r),this.unit="px")}return j2e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=C2e.exec(r))!==null&&n!==void 0?n:[],i=j5(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function CJ(t){if(t.includes(pg))return pg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=DH.exec(e))!==null&&r!==void 0?r:[],a=j5(n,4),i=a[1],o=a[2],l=a[3],c=gj.parse(i??""),d=gj.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return pg;e=e.replace(DH,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=LH.exec(e))!==null&&h!==void 0?h:[],f=j5(m,4),A=f[1],g=f[2],x=f[3],v=gj.parse(A??""),j=gj.parse(x??""),b=g==="+"?v.add(j):v.subtract(j);if(b.isNaN())return pg;e=e.replace(LH,b.toString())}return e}var RH=/\(([^()]*)\)/;function B2e(t){for(var e=t;e.includes("(");){var r=RH.exec(e),n=j5(r,2),a=n[1];e=e.replace(RH,CJ(a))}return e}function T2e(t){var e=t.replace(/\s+/g,"");return e=B2e(e),e=CJ(e),e}function M2e(t){try{return T2e(t)}catch{return pg}}function n6(t){var e=M2e(t.slice(5,-1));return e===pg?"":e}var F2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],P2e=["dx","dy","angle","className","breakAll"];function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zM.apply(this,arguments)}function OH(t,e){if(t==null)return{};var r=I2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UH(t,e){return O2e(t)||R2e(t,e)||L2e(t,e)||D2e()}function D2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2e(t,e){if(t){if(typeof t=="string")return HH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HH(t,e)}}function HH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function O2e(t){if(Array.isArray(t))return t}var EJ=/[ \f\n\r\t\v\u2028\u2029]+/,kJ=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];as(r)||(n?i=r.toString().split(""):i=r.toString().split(EJ));var o=i.map(function(c){return{word:c,width:Tb(c,a).width}}),l=n?0:Tb("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},U2e=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=er(o),h=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(Q,O){var V=O.word,ee=O.width,Y=Q[Q.length-1];if(Y&&(a==null||i||Y.width+ee+n<Number(a)))Y.words.push(V),Y.width+=ee+n;else{var re={words:[V],width:ee};Q.push(re)}return Q},[])},f=m(r),A=function(L){return L.reduce(function(Q,O){return Q.width>O.width?Q:O})};if(!u)return f;for(var g="",x=function(L){var Q=h.slice(0,L),O=kJ({breakAll:d,style:c,children:Q+g}).wordsWithComputedWidth,V=m(O),ee=V.length>o||A(V).width>Number(a);return[ee,V]},v=0,j=h.length-1,b=0,S;v<=j&&b<=h.length-1;){var w=Math.floor((v+j)/2),N=w-1,E=x(N),P=UH(E,2),_=P[0],B=P[1],k=x(w),M=UH(k,1),T=M[0];if(!_&&!T&&(v=w+1),_&&T&&(j=w-1),!_&&T){S=B;break}b++}return S||f},QH=function(e){var r=as(e)?[]:e.toString().split(EJ);return[{words:r}]},H2e=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Fm.isSsr){var c,d,u=kJ({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return QH(a);return U2e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return QH(a)},zH="#808080",EA=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,m=e.textAnchor,f=m===void 0?"start":m,A=e.verticalAnchor,g=A===void 0?"end":A,x=e.fill,v=x===void 0?zH:x,j=OH(e,F2e),b=F.useMemo(function(){return H2e({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),S=j.dx,w=j.dy,N=j.angle,E=j.className,P=j.breakAll,_=OH(j,P2e);if(!Bi(n)||!Bi(i))return null;var B=n+(er(S)?S:0),k=i+(er(w)?w:0),M;switch(g){case"start":M=n6("calc(".concat(d,")"));break;case"middle":M=n6("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:M=n6("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(h){var H=b[0].width,L=j.width;T.push("scale(".concat((er(L)?L/H:1)/H,")"))}return N&&T.push("rotate(".concat(N,", ").concat(B,", ").concat(k,")")),T.length&&(_.transform=T.join(" ")),Ue.createElement("text",zM({},Dr(_,!0),{x:B,y:k,className:xs("recharts-text",E),textAnchor:f,fill:v.includes("url")?zH:v}),b.map(function(Q,O){var V=Q.words.join(P?"":" ");return Ue.createElement("tspan",{x:B,dy:O===0?M:l,key:"".concat(V,"-").concat(O)},V)}))};function fm(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VI(t){let e,r,n;t.length!==2?(e=fm,r=(l,c)=>fm(t(l),c),n=(l,c)=>t(l)-c):(e=t===fm||t===Q2e?t:z2e,r=t,n=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function z2e(){return 0}function BJ(t){return t===null?NaN:+t}function*$2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const G2e=VI(fm),Rw=G2e.right;VI(BJ).center;class $H extends Map{constructor(e,r=q2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(GH(this,e))}has(e){return super.has(GH(this,e))}set(e,r){return super.set(V2e(this,e),r)}delete(e){return super.delete(W2e(this,e))}}function GH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function V2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function W2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function q2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function K2e(t=fm){if(t===fm)return TJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function TJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const X2e=Math.sqrt(50),Y2e=Math.sqrt(10),J2e=Math.sqrt(2);function N5(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=X2e?10:i>=Y2e?5:i>=J2e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?N5(t,e,r*2):[l,c,d]}function $M(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?N5(e,t,r):N5(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function GM(t,e,r){return e=+e,t=+t,r=+r,N5(t,e,r)[2]}function VM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?GM(e,t,r):GM(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function VH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MJ(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?TJ:K2e(a);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(e-d*h/c+m)),A=Math.min(n,Math.floor(e+(c-d)*h/c+m));MJ(t,e,f,A,a)}const i=t[e];let o=r,l=n;for(Qy(t,r,e),a(t[n],i)>0&&Qy(t,r,n);o<l;){for(Qy(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Qy(t,r,l):(++l,Qy(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Qy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Z2e(t,e,r){if(t=Float64Array.from($2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return WH(t);if(e>=1)return VH(t);var n,a=(n-1)*e,i=Math.floor(a),o=VH(MJ(t,i).subarray(0,i+1)),l=WH(t.subarray(i+1));return o+(l-o)*(a-i)}}function eje(t,e,r=BJ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function tje(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function jd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WM=Symbol("implicit");function WI(){var t=new $H,e=[],r=[],n=WM;function a(i){let o=t.get(i);if(o===void 0){if(n!==WM)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new $H;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WI(e,r).unknown(n)},jd.apply(a,arguments),a}function x1(){var t=WI().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var m=e().length,f=a<n,A=f?a:n,g=f?n:a;i=(g-A)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),A+=(g-A-i*(m-c))*u,o=i*(1-c),l&&(A=Math.round(A),o=Math.round(o));var x=tje(m).map(function(v){return A+i*v});return r(f?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},t.copy=function(){return x1(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},jd.apply(h(),arguments)}function FJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FJ(e())},t}function Mb(){return FJ(x1.apply(null,arguments).paddingInner(1))}function qI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function PJ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ow(){}var g1=.7,S5=1/g1,Eg="\\s*([+-]?\\d+)\\s*",v1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rje=/^#([0-9a-f]{3,8})$/,sje=new RegExp(`^rgb\\(${Eg},${Eg},${Eg}\\)$`),nje=new RegExp(`^rgb\\(${ih},${ih},${ih}\\)$`),aje=new RegExp(`^rgba\\(${Eg},${Eg},${Eg},${v1}\\)$`),ije=new RegExp(`^rgba\\(${ih},${ih},${ih},${v1}\\)$`),oje=new RegExp(`^hsl\\(${v1},${ih},${ih}\\)$`),lje=new RegExp(`^hsla\\(${v1},${ih},${ih},${v1}\\)$`),qH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qI(Ow,y1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KH,formatHex:KH,formatHex8:cje,formatHsl:dje,formatRgb:XH,toString:XH});function KH(){return this.rgb().formatHex()}function cje(){return this.rgb().formatHex8()}function dje(){return IJ(this).formatHsl()}function XH(){return this.rgb().formatRgb()}function y1(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=rje.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YH(e):r===3?new Ol(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vj(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vj(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sje.exec(t))?new Ol(e[1],e[2],e[3],1):(e=nje.exec(t))?new Ol(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aje.exec(t))?vj(e[1],e[2],e[3],e[4]):(e=ije.exec(t))?vj(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oje.exec(t))?eQ(e[1],e[2]/100,e[3]/100,1):(e=lje.exec(t))?eQ(e[1],e[2]/100,e[3]/100,e[4]):qH.hasOwnProperty(t)?YH(qH[t]):t==="transparent"?new Ol(NaN,NaN,NaN,0):null}function YH(t){return new Ol(t>>16&255,t>>8&255,t&255,1)}function vj(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ol(t,e,r,n)}function uje(t){return t instanceof Ow||(t=y1(t)),t?(t=t.rgb(),new Ol(t.r,t.g,t.b,t.opacity)):new Ol}function qM(t,e,r,n){return arguments.length===1?uje(t):new Ol(t,e,r,n??1)}function Ol(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}qI(Ol,qM,PJ(Ow,{brighter(t){return t=t==null?S5:Math.pow(S5,t),new Ol(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?g1:Math.pow(g1,t),new Ol(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ol(lA(this.r),lA(this.g),lA(this.b),_5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JH,formatHex:JH,formatHex8:hje,formatRgb:ZH,toString:ZH}));function JH(){return`#${Jp(this.r)}${Jp(this.g)}${Jp(this.b)}`}function hje(){return`#${Jp(this.r)}${Jp(this.g)}${Jp(this.b)}${Jp((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZH(){const t=_5(this.opacity);return`${t===1?"rgb(":"rgba("}${lA(this.r)}, ${lA(this.g)}, ${lA(this.b)}${t===1?")":`, ${t})`}`}function _5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jp(t){return t=lA(t),(t<16?"0":"")+t.toString(16)}function eQ(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zd(t,e,r,n)}function IJ(t){if(t instanceof Zd)return new Zd(t.h,t.s,t.l,t.opacity);if(t instanceof Ow||(t=y1(t)),!t)return new Zd;if(t instanceof Zd)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Zd(o,l,c,t.opacity)}function fje(t,e,r,n){return arguments.length===1?IJ(t):new Zd(t,e,r,n??1)}function Zd(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}qI(Zd,fje,PJ(Ow,{brighter(t){return t=t==null?S5:Math.pow(S5,t),new Zd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?g1:Math.pow(g1,t),new Zd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Ol(a6(t>=240?t-240:t+120,a,n),a6(t,a,n),a6(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Zd(tQ(this.h),yj(this.s),yj(this.l),_5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_5(this.opacity);return`${t===1?"hsl(":"hsla("}${tQ(this.h)}, ${yj(this.s)*100}%, ${yj(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tQ(t){return t=(t||0)%360,t<0?t+360:t}function yj(t){return Math.max(0,Math.min(1,t||0))}function a6(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const KI=t=>()=>t;function mje(t,e){return function(r){return t+r*e}}function pje(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Aje(t){return(t=+t)==1?DJ:function(e,r){return r-e?pje(e,r,t):KI(isNaN(e)?r:e)}}function DJ(t,e){var r=e-t;return r?mje(t,r):KI(isNaN(t)?e:t)}const rQ=(function t(e){var r=Aje(e);function n(a,i){var o=r((a=qM(a)).r,(i=qM(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=DJ(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n})(1);function xje(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function gje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vje(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Gv(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function yje(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function C5(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function bje(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Gv(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var KM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i6=new RegExp(KM.source,"g");function wje(t){return function(){return t}}function jje(t){return function(e){return t(e)+""}}function Nje(t,e){var r=KM.lastIndex=i6.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=KM.exec(t))&&(a=i6.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:C5(n,a)})),r=i6.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jje(c[0].x):wje(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Gv(t,e){var r=typeof e,n;return e==null||r==="boolean"?KI(e):(r==="number"?C5:r==="string"?(n=y1(e))?(e=n,rQ):Nje:e instanceof y1?rQ:e instanceof Date?yje:gje(e)?xje:Array.isArray(e)?vje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bje:C5)(t,e)}function XI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Sje(t,e){e===void 0&&(e=t,t=Gv);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function _je(t){return function(){return t}}function E5(t){return+t}var sQ=[0,1];function fl(t){return t}function XM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_je(isNaN(e)?NaN:.5)}function Cje(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Eje(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=XM(a,n),i=r(o,i)):(n=XM(n,a),i=r(i,o)),function(l){return i(n(l))}}function kje(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=XM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=Rw(t,l,1,n)-1;return i[c](a[c](l))}}function Uw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j4(){var t=sQ,e=sQ,r=Gv,n,a,i,o=fl,l,c,d;function u(){var m=Math.min(t.length,e.length);return o!==fl&&(o=Cje(t[0],t[m-1])),l=m>2?kje:Eje,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return h.invert=function(m){return o(a((d||(d=l(e,t.map(n),C5)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,E5),u()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=XI,u()},h.clamp=function(m){return arguments.length?(o=m?!0:fl,u()):o!==fl},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return n=m,a=f,u()}}function YI(){return j4()(fl,fl)}function Bje(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function k5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function iv(t){return t=k5(Math.abs(t)),t?t[1]:NaN}function Tje(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Mje(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Fje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b1(t){if(!(e=Fje.exec(t)))throw new Error("invalid format: "+t);var e;return new JI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}b1.prototype=JI.prototype;function JI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pje(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var LJ;function Ije(t,e){var r=k5(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(LJ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+k5(t,Math.max(0,e+i-1))[0]}function nQ(t,e){var r=k5(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const aQ={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bje,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nQ(t*100,e),r:nQ,s:Ije,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iQ(t){return t}var oQ=Array.prototype.map,lQ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Dje(t){var e=t.grouping===void 0||t.thousands===void 0?iQ:Tje(oQ.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?iQ:Mje(oQ.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=b1(h);var m=h.fill,f=h.align,A=h.sign,g=h.symbol,x=h.zero,v=h.width,j=h.comma,b=h.precision,S=h.trim,w=h.type;w==="n"?(j=!0,w="g"):aQ[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||m==="0"&&f==="=")&&(x=!0,m="0",f="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=g==="$"?n:/[%p]/.test(w)?o:"",P=aQ[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function B(k){var M=N,T=E,H,L,Q;if(w==="c")T=P(k)+T,k="";else{k=+k;var O=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),b),S&&(k=Pje(k)),O&&+k==0&&A!=="+"&&(O=!1),M=(O?A==="("?A:l:A==="-"||A==="("?"":A)+M,T=(w==="s"?lQ[8+LJ/3]:"")+T+(O&&A==="("?")":""),_){for(H=-1,L=k.length;++H<L;)if(Q=k.charCodeAt(H),48>Q||Q>57){T=(Q===46?a+k.slice(H+1):k.slice(H))+T,k=k.slice(0,H);break}}}j&&!x&&(k=e(k,1/0));var V=M.length+k.length+T.length,ee=V<v?new Array(v-V+1).join(m):"";switch(j&&x&&(k=e(ee+k,ee.length?v-T.length:1/0),ee=""),f){case"<":k=M+k+T+ee;break;case"=":k=M+ee+k+T;break;case"^":k=ee.slice(0,V=ee.length>>1)+M+k+T+ee.slice(V);break;default:k=ee+M+k+T;break}return i(k)}return B.toString=function(){return h+""},B}function u(h,m){var f=d((h=b1(h),h.type="f",h)),A=Math.max(-8,Math.min(8,Math.floor(iv(m)/3)))*3,g=Math.pow(10,-A),x=lQ[8+A/3];return function(v){return f(g*v)+x}}return{format:d,formatPrefix:u}}var bj,ZI,RJ;Lje({thousands:",",grouping:[3],currency:["$",""]});function Lje(t){return bj=Dje(t),ZI=bj.format,RJ=bj.formatPrefix,bj}function Rje(t){return Math.max(0,-iv(Math.abs(t)))}function Oje(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(iv(e)/3)))*3-iv(Math.abs(t)))}function Uje(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,iv(e)-iv(t))+1}function OJ(t,e,r,n){var a=VM(t,e,r),i;switch(n=b1(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Oje(a,o))&&(n.precision=i),RJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Uje(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Rje(a))&&(n.precision=i-(n.type==="%")*2);break}}return ZI(n)}function Pm(t){var e=t.domain;return t.ticks=function(r){var n=e();return $M(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return OJ(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=GM(o,l,r),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function B5(){var t=YI();return t.copy=function(){return Uw(t,B5())},jd.apply(t,arguments),Pm(t)}function UJ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,E5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return UJ(t).unknown(e)},t=arguments.length?Array.from(t,E5):[0,1],Pm(r)}function HJ(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function cQ(t){return Math.log(t)}function dQ(t){return Math.exp(t)}function Hje(t){return-Math.log(-t)}function Qje(t){return-Math.exp(-t)}function zje(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $je(t){return t===10?zje:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Gje(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uQ(t){return(e,r)=>-t(-e,r)}function e8(t){const e=t(cQ,dQ),r=e.domain;let n=10,a,i;function o(){return a=Gje(n),i=$je(n),r()[0]<0?(a=uQ(a),i=uQ(i),t(Hje,Qje)):t(cQ,dQ),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),A,g;const x=l==null?10:+l;let v=[];if(!(n%1)&&f-m<x){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(A=1;A<n;++A)if(g=m<0?A/i(-m):A*i(m),!(g<d)){if(g>u)break;v.push(g)}}else for(;m<=f;++m)for(A=n-1;A>=1;--A)if(g=m>0?A/i(-m):A*i(m),!(g<d)){if(g>u)break;v.push(g)}v.length*2<x&&(v=$M(d,u,x))}else v=$M(m,f,Math.min(f-m,x)).map(i);return h?v.reverse():v},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=b1(c)).precision==null&&(c.trim=!0),c=ZI(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},e.nice=()=>r(HJ(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function QJ(){const t=e8(j4()).domain([1,10]);return t.copy=()=>Uw(t,QJ()).base(t.base()),jd.apply(t,arguments),t}function hQ(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fQ(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function t8(t){var e=1,r=t(hQ(e),fQ(e));return r.constant=function(n){return arguments.length?t(hQ(e=+n),fQ(e)):e},Pm(r)}function zJ(){var t=t8(j4());return t.copy=function(){return Uw(t,zJ()).constant(t.constant())},jd.apply(t,arguments)}function mQ(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vje(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wje(t){return t<0?-t*t:t*t}function r8(t){var e=t(fl,fl),r=1;function n(){return r===1?t(fl,fl):r===.5?t(Vje,Wje):t(mQ(r),mQ(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Pm(e)}function s8(){var t=r8(j4());return t.copy=function(){return Uw(t,s8()).exponent(t.exponent())},jd.apply(t,arguments),t}function qje(){return s8.apply(null,arguments).exponent(.5)}function pQ(t){return Math.sign(t)*t*t}function Kje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $J(){var t=YI(),e=[0,1],r=!1,n;function a(i){var o=Kje(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(pQ(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,E5)).map(pQ)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $J(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},jd.apply(a,arguments),Pm(a)}function GJ(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=eje(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Rw(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fm),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GJ().domain(t).range(e).unknown(n)},jd.apply(i,arguments)}function VJ(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Rw(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return VJ().domain([t,e]).range(a).unknown(i)},jd.apply(Pm(o),arguments)}function WJ(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Rw(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return WJ().domain(t).range(e).unknown(r)},jd.apply(a,arguments)}const o6=new Date,l6=new Date;function Di(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Di(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(o6.setTime(+i),l6.setTime(+o),t(o6),t(l6),Math.floor(r(o6,l6))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const T5=Di(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);T5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Di(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):T5);T5.range;const jf=1e3,cd=jf*60,Nf=cd*60,Hf=Nf*24,n8=Hf*7,AQ=Hf*30,c6=Hf*365,Zp=Di(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jf)},(t,e)=>(e-t)/jf,t=>t.getUTCSeconds());Zp.range;const a8=Di(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jf)},(t,e)=>{t.setTime(+t+e*cd)},(t,e)=>(e-t)/cd,t=>t.getMinutes());a8.range;const i8=Di(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*cd)},(t,e)=>(e-t)/cd,t=>t.getUTCMinutes());i8.range;const o8=Di(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jf-t.getMinutes()*cd)},(t,e)=>{t.setTime(+t+e*Nf)},(t,e)=>(e-t)/Nf,t=>t.getHours());o8.range;const l8=Di(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nf)},(t,e)=>(e-t)/Nf,t=>t.getUTCHours());l8.range;const Hw=Di(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*cd)/Hf,t=>t.getDate()-1);Hw.range;const N4=Di(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hf,t=>t.getUTCDate()-1);N4.range;const qJ=Di(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hf,t=>Math.floor(t/Hf));qJ.range;function qA(t){return Di(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*cd)/n8)}const S4=qA(0),M5=qA(1),Xje=qA(2),Yje=qA(3),ov=qA(4),Jje=qA(5),Zje=qA(6);S4.range;M5.range;Xje.range;Yje.range;ov.range;Jje.range;Zje.range;function KA(t){return Di(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/n8)}const _4=KA(0),F5=KA(1),eNe=KA(2),tNe=KA(3),lv=KA(4),rNe=KA(5),sNe=KA(6);_4.range;F5.range;eNe.range;tNe.range;lv.range;rNe.range;sNe.range;const c8=Di(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());c8.range;const d8=Di(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());d8.range;const Qf=Di(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Di(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qf.range;const zf=Di(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Di(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});zf.range;function KJ(t,e,r,n,a,i){const o=[[Zp,1,jf],[Zp,5,5*jf],[Zp,15,15*jf],[Zp,30,30*jf],[i,1,cd],[i,5,5*cd],[i,15,15*cd],[i,30,30*cd],[a,1,Nf],[a,3,3*Nf],[a,6,6*Nf],[a,12,12*Nf],[n,1,Hf],[n,2,2*Hf],[r,1,n8],[e,1,AQ],[e,3,3*AQ],[t,1,c6]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),A=f?f.range(d,+u+1):[];return m?A.reverse():A}function c(d,u,h){const m=Math.abs(u-d)/h,f=VI(([,,x])=>x).right(o,m);if(f===o.length)return t.every(VM(d/c6,u/c6,h));if(f===0)return T5.every(Math.max(VM(d,u,h),1));const[A,g]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return A.every(g)}return[l,c]}const[nNe,aNe]=KJ(zf,d8,_4,qJ,l8,i8),[iNe,oNe]=KJ(Qf,c8,S4,Hw,o8,a8);function d6(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function u6(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function lNe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=$y(a),u=Gy(a),h=$y(i),m=Gy(i),f=$y(o),A=Gy(o),g=$y(l),x=Gy(l),v=$y(c),j=Gy(c),b={a:O,A:V,b:ee,B:Y,c:null,d:wQ,e:wQ,f:TNe,g:HNe,G:zNe,H:ENe,I:kNe,j:BNe,L:XJ,m:MNe,M:FNe,p:re,q:D,Q:SQ,s:_Q,S:PNe,u:INe,U:DNe,V:LNe,w:RNe,W:ONe,x:null,X:null,y:UNe,Y:QNe,Z:$Ne,"%":NQ},S={a:G,A:z,b:K,B:oe,c:null,d:jQ,e:jQ,f:qNe,g:n5e,G:i5e,H:GNe,I:VNe,j:WNe,L:JJ,m:KNe,M:XNe,p:ue,q:ge,Q:SQ,s:_Q,S:YNe,u:JNe,U:ZNe,V:e5e,w:t5e,W:r5e,x:null,X:null,y:s5e,Y:a5e,Z:o5e,"%":NQ},w={a:B,A:k,b:M,B:T,c:H,d:yQ,e:yQ,f:NNe,g:vQ,G:gQ,H:bQ,I:bQ,j:yNe,L:jNe,m:vNe,M:bNe,p:_,q:gNe,Q:_Ne,s:CNe,S:wNe,u:fNe,U:mNe,V:pNe,w:hNe,W:ANe,x:L,X:Q,y:vQ,Y:gQ,Z:xNe,"%":SNe};b.x=N(r,b),b.X=N(n,b),b.c=N(e,b),S.x=N(r,S),S.X=N(n,S),S.c=N(e,S);function N(pe,ye){return function(Pe){var le=[],lt=-1,ne=0,J=pe.length,ie,Ce,Oe;for(Pe instanceof Date||(Pe=new Date(+Pe));++lt<J;)pe.charCodeAt(lt)===37&&(le.push(pe.slice(ne,lt)),(Ce=xQ[ie=pe.charAt(++lt)])!=null?ie=pe.charAt(++lt):Ce=ie==="e"?" ":"0",(Oe=ye[ie])&&(ie=Oe(Pe,Ce)),le.push(ie),ne=lt+1);return le.push(pe.slice(ne,lt)),le.join("")}}function E(pe,ye){return function(Pe){var le=zy(1900,void 0,1),lt=P(le,pe,Pe+="",0),ne,J;if(lt!=Pe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ye&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(ne=u6(zy(le.y,0,1)),J=ne.getUTCDay(),ne=J>4||J===0?F5.ceil(ne):F5(ne),ne=N4.offset(ne,(le.V-1)*7),le.y=ne.getUTCFullYear(),le.m=ne.getUTCMonth(),le.d=ne.getUTCDate()+(le.w+6)%7):(ne=d6(zy(le.y,0,1)),J=ne.getDay(),ne=J>4||J===0?M5.ceil(ne):M5(ne),ne=Hw.offset(ne,(le.V-1)*7),le.y=ne.getFullYear(),le.m=ne.getMonth(),le.d=ne.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),J="Z"in le?u6(zy(le.y,0,1)).getUTCDay():d6(zy(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(J+5)%7:le.w+le.U*7-(J+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,u6(le)):d6(le)}}function P(pe,ye,Pe,le){for(var lt=0,ne=ye.length,J=Pe.length,ie,Ce;lt<ne;){if(le>=J)return-1;if(ie=ye.charCodeAt(lt++),ie===37){if(ie=ye.charAt(lt++),Ce=w[ie in xQ?ye.charAt(lt++):ie],!Ce||(le=Ce(pe,Pe,le))<0)return-1}else if(ie!=Pe.charCodeAt(le++))return-1}return le}function _(pe,ye,Pe){var le=d.exec(ye.slice(Pe));return le?(pe.p=u.get(le[0].toLowerCase()),Pe+le[0].length):-1}function B(pe,ye,Pe){var le=f.exec(ye.slice(Pe));return le?(pe.w=A.get(le[0].toLowerCase()),Pe+le[0].length):-1}function k(pe,ye,Pe){var le=h.exec(ye.slice(Pe));return le?(pe.w=m.get(le[0].toLowerCase()),Pe+le[0].length):-1}function M(pe,ye,Pe){var le=v.exec(ye.slice(Pe));return le?(pe.m=j.get(le[0].toLowerCase()),Pe+le[0].length):-1}function T(pe,ye,Pe){var le=g.exec(ye.slice(Pe));return le?(pe.m=x.get(le[0].toLowerCase()),Pe+le[0].length):-1}function H(pe,ye,Pe){return P(pe,e,ye,Pe)}function L(pe,ye,Pe){return P(pe,r,ye,Pe)}function Q(pe,ye,Pe){return P(pe,n,ye,Pe)}function O(pe){return o[pe.getDay()]}function V(pe){return i[pe.getDay()]}function ee(pe){return c[pe.getMonth()]}function Y(pe){return l[pe.getMonth()]}function re(pe){return a[+(pe.getHours()>=12)]}function D(pe){return 1+~~(pe.getMonth()/3)}function G(pe){return o[pe.getUTCDay()]}function z(pe){return i[pe.getUTCDay()]}function K(pe){return c[pe.getUTCMonth()]}function oe(pe){return l[pe.getUTCMonth()]}function ue(pe){return a[+(pe.getUTCHours()>=12)]}function ge(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ye=N(pe+="",b);return ye.toString=function(){return pe},ye},parse:function(pe){var ye=E(pe+="",!1);return ye.toString=function(){return pe},ye},utcFormat:function(pe){var ye=N(pe+="",S);return ye.toString=function(){return pe},ye},utcParse:function(pe){var ye=E(pe+="",!0);return ye.toString=function(){return pe},ye}}}var xQ={"-":"",_:" ",0:"0"},eo=/^\s*\d+/,cNe=/^%/,dNe=/[\\^$*+?|[\]().{}]/g;function en(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function uNe(t){return t.replace(dNe,"\\$&")}function $y(t){return new RegExp("^(?:"+t.map(uNe).join("|")+")","i")}function Gy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function hNe(t,e,r){var n=eo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function fNe(t,e,r){var n=eo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function mNe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function pNe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ANe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gQ(t,e,r){var n=eo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vQ(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xNe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gNe(t,e,r){var n=eo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function vNe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yQ(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function yNe(t,e,r){var n=eo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function bQ(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function bNe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function wNe(t,e,r){var n=eo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jNe(t,e,r){var n=eo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function NNe(t,e,r){var n=eo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SNe(t,e,r){var n=cNe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _Ne(t,e,r){var n=eo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function CNe(t,e,r){var n=eo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wQ(t,e){return en(t.getDate(),e,2)}function ENe(t,e){return en(t.getHours(),e,2)}function kNe(t,e){return en(t.getHours()%12||12,e,2)}function BNe(t,e){return en(1+Hw.count(Qf(t),t),e,3)}function XJ(t,e){return en(t.getMilliseconds(),e,3)}function TNe(t,e){return XJ(t,e)+"000"}function MNe(t,e){return en(t.getMonth()+1,e,2)}function FNe(t,e){return en(t.getMinutes(),e,2)}function PNe(t,e){return en(t.getSeconds(),e,2)}function INe(t){var e=t.getDay();return e===0?7:e}function DNe(t,e){return en(S4.count(Qf(t)-1,t),e,2)}function YJ(t){var e=t.getDay();return e>=4||e===0?ov(t):ov.ceil(t)}function LNe(t,e){return t=YJ(t),en(ov.count(Qf(t),t)+(Qf(t).getDay()===4),e,2)}function RNe(t){return t.getDay()}function ONe(t,e){return en(M5.count(Qf(t)-1,t),e,2)}function UNe(t,e){return en(t.getFullYear()%100,e,2)}function HNe(t,e){return t=YJ(t),en(t.getFullYear()%100,e,2)}function QNe(t,e){return en(t.getFullYear()%1e4,e,4)}function zNe(t,e){var r=t.getDay();return t=r>=4||r===0?ov(t):ov.ceil(t),en(t.getFullYear()%1e4,e,4)}function $Ne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+en(e/60|0,"0",2)+en(e%60,"0",2)}function jQ(t,e){return en(t.getUTCDate(),e,2)}function GNe(t,e){return en(t.getUTCHours(),e,2)}function VNe(t,e){return en(t.getUTCHours()%12||12,e,2)}function WNe(t,e){return en(1+N4.count(zf(t),t),e,3)}function JJ(t,e){return en(t.getUTCMilliseconds(),e,3)}function qNe(t,e){return JJ(t,e)+"000"}function KNe(t,e){return en(t.getUTCMonth()+1,e,2)}function XNe(t,e){return en(t.getUTCMinutes(),e,2)}function YNe(t,e){return en(t.getUTCSeconds(),e,2)}function JNe(t){var e=t.getUTCDay();return e===0?7:e}function ZNe(t,e){return en(_4.count(zf(t)-1,t),e,2)}function ZJ(t){var e=t.getUTCDay();return e>=4||e===0?lv(t):lv.ceil(t)}function e5e(t,e){return t=ZJ(t),en(lv.count(zf(t),t)+(zf(t).getUTCDay()===4),e,2)}function t5e(t){return t.getUTCDay()}function r5e(t,e){return en(F5.count(zf(t)-1,t),e,2)}function s5e(t,e){return en(t.getUTCFullYear()%100,e,2)}function n5e(t,e){return t=ZJ(t),en(t.getUTCFullYear()%100,e,2)}function a5e(t,e){return en(t.getUTCFullYear()%1e4,e,4)}function i5e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lv(t):lv.ceil(t),en(t.getUTCFullYear()%1e4,e,4)}function o5e(){return"+0000"}function NQ(){return"%"}function SQ(t){return+t}function _Q(t){return Math.floor(+t/1e3)}var Gx,eZ,tZ;l5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l5e(t){return Gx=lNe(t),eZ=Gx.format,Gx.parse,tZ=Gx.utcFormat,Gx.utcParse,Gx}function c5e(t){return new Date(t)}function d5e(t){return t instanceof Date?+t:+new Date(+t)}function u8(t,e,r,n,a,i,o,l,c,d){var u=YI(),h=u.invert,m=u.domain,f=d(".%L"),A=d(":%S"),g=d("%I:%M"),x=d("%I %p"),v=d("%a %d"),j=d("%b %d"),b=d("%B"),S=d("%Y");function w(N){return(c(N)<N?f:l(N)<N?A:o(N)<N?g:i(N)<N?x:n(N)<N?a(N)<N?v:j:r(N)<N?b:S)(N)}return u.invert=function(N){return new Date(h(N))},u.domain=function(N){return arguments.length?m(Array.from(N,d5e)):m().map(c5e)},u.ticks=function(N){var E=m();return t(E[0],E[E.length-1],N??10)},u.tickFormat=function(N,E){return E==null?w:d(E)},u.nice=function(N){var E=m();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?m(HJ(E,N)):u},u.copy=function(){return Uw(u,u8(t,e,r,n,a,i,o,l,c,d))},u}function u5e(){return jd.apply(u8(iNe,oNe,Qf,c8,S4,Hw,o8,a8,Zp,eZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h5e(){return jd.apply(u8(nNe,aNe,zf,d8,_4,N4,l8,i8,Zp,tZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C4(){var t=0,e=1,r,n,a,i,o=fl,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,A;return arguments.length?([f,A]=m,o=h(f,A),d):[o(0),o(1)]}}return d.range=u(Gv),d.rangeRound=u(XI),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),d}}function Im(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rZ(){var t=Pm(C4()(fl));return t.copy=function(){return Im(t,rZ())},Yf.apply(t,arguments)}function sZ(){var t=e8(C4()).domain([1,10]);return t.copy=function(){return Im(t,sZ()).base(t.base())},Yf.apply(t,arguments)}function nZ(){var t=t8(C4());return t.copy=function(){return Im(t,nZ()).constant(t.constant())},Yf.apply(t,arguments)}function h8(){var t=r8(C4());return t.copy=function(){return Im(t,h8()).exponent(t.exponent())},Yf.apply(t,arguments)}function f5e(){return h8.apply(null,arguments).exponent(.5)}function aZ(){var t=[],e=fl;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rw(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(fm),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Z2e(t,i/n))},r.copy=function(){return aZ(e).domain(t)},Yf.apply(r,arguments)}function E4(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,d=fl,u,h=!1,m;function f(g){return isNaN(g=+g)?m:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(d=g,f):d};function A(g){return function(x){var v,j,b;return arguments.length?([v,j,b]=x,d=Sje(g,[v,j,b]),f):[d(0),d(.5),d(1)]}}return f.range=A(Gv),f.rangeRound=A(XI),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return u=g,a=g(t),i=g(e),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function iZ(){var t=Pm(E4()(fl));return t.copy=function(){return Im(t,iZ())},Yf.apply(t,arguments)}function oZ(){var t=e8(E4()).domain([.1,1,10]);return t.copy=function(){return Im(t,oZ()).base(t.base())},Yf.apply(t,arguments)}function lZ(){var t=t8(E4());return t.copy=function(){return Im(t,lZ()).constant(t.constant())},Yf.apply(t,arguments)}function f8(){var t=r8(E4());return t.copy=function(){return Im(t,f8()).exponent(t.exponent())},Yf.apply(t,arguments)}function m5e(){return f8.apply(null,arguments).exponent(.5)}const CQ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:x1,scaleDiverging:iZ,scaleDivergingLog:oZ,scaleDivergingPow:f8,scaleDivergingSqrt:m5e,scaleDivergingSymlog:lZ,scaleIdentity:UJ,scaleImplicit:WM,scaleLinear:B5,scaleLog:QJ,scaleOrdinal:WI,scalePoint:Mb,scalePow:s8,scaleQuantile:GJ,scaleQuantize:VJ,scaleRadial:$J,scaleSequential:rZ,scaleSequentialLog:sZ,scaleSequentialPow:h8,scaleSequentialQuantile:aZ,scaleSequentialSqrt:f5e,scaleSequentialSymlog:nZ,scaleSqrt:qje,scaleSymlog:zJ,scaleThreshold:WJ,scaleTime:u5e,scaleUtc:h5e,tickFormat:OJ},Symbol.toStringTag,{value:"Module"}));var h6,EQ;function k4(){if(EQ)return h6;EQ=1;var t=Hv();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return h6=e,h6}var f6,kQ;function cZ(){if(kQ)return f6;kQ=1;function t(e,r){return e>r}return f6=t,f6}var m6,BQ;function p5e(){if(BQ)return m6;BQ=1;var t=k4(),e=cZ(),r=$v();function n(a){return a&&a.length?t(a,r,e):void 0}return m6=n,m6}var A5e=p5e();const Y0=Nn(A5e);var p6,TQ;function dZ(){if(TQ)return p6;TQ=1;function t(e,r){return e<r}return p6=t,p6}var A6,MQ;function x5e(){if(MQ)return A6;MQ=1;var t=k4(),e=dZ(),r=$v();function n(a){return a&&a.length?t(a,r,e):void 0}return A6=n,A6}var g5e=x5e();const B4=Nn(g5e);var x6,FQ;function v5e(){if(FQ)return x6;FQ=1;var t=kI(),e=Ah(),r=gJ(),n=Xl();function a(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return x6=a,x6}var g6,PQ;function y5e(){if(PQ)return g6;PQ=1;var t=AJ(),e=v5e();function r(n,a){return t(e(n,a),1)}return g6=r,g6}var b5e=y5e();const w5e=Nn(b5e);var v6,IQ;function j5e(){if(IQ)return v6;IQ=1;var t=QI();function e(r,n){return t(r,n)}return v6=e,v6}var N5e=j5e();const kA=Nn(N5e);var Vv=1e9,S5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p8,pa=!0,Ad="[DecimalError] ",cA=Ad+"Invalid argument: ",m8=Ad+"Exponent out of range: ",Wv=Math.floor,Hp=Math.pow,_5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ac,Vi=1e7,sa=7,uZ=9007199254740991,P5=Wv(uZ/sa),jr={};jr.absoluteValue=jr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};jr.comparedTo=jr.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jr.decimalPlaces=jr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*sa;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};jr.dividedBy=jr.div=function(t){return Tf(this,new this.constructor(t))};jr.dividedToIntegerBy=jr.idiv=function(t){var e=this,r=e.constructor;return Un(Tf(e,new r(t),0,1),r.precision)};jr.equals=jr.eq=function(t){return!this.cmp(t)};jr.exponent=function(){return fi(this)};jr.greaterThan=jr.gt=function(t){return this.cmp(t)>0};jr.greaterThanOrEqualTo=jr.gte=function(t){return this.cmp(t)>=0};jr.isInteger=jr.isint=function(){return this.e>this.d.length-2};jr.isNegative=jr.isneg=function(){return this.s<0};jr.isPositive=jr.ispos=function(){return this.s>0};jr.isZero=function(){return this.s===0};jr.lessThan=jr.lt=function(t){return this.cmp(t)<0};jr.lessThanOrEqualTo=jr.lte=function(t){return this.cmp(t)<1};jr.logarithm=jr.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ac))throw Error(Ad+"NaN");if(r.s<1)throw Error(Ad+(r.s?"NaN":"-Infinity"));return r.eq(Ac)?new n(0):(pa=!1,e=Tf(w1(r,i),w1(t,i),i),pa=!0,Un(e,a))};jr.minus=jr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mZ(e,t):hZ(e,(t.s=-t.s,t))};jr.modulo=jr.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ad+"NaN");return r.s?(pa=!1,e=Tf(r,t,0,1).times(t),pa=!0,r.minus(e)):Un(new n(r),a)};jr.naturalExponential=jr.exp=function(){return fZ(this)};jr.naturalLogarithm=jr.ln=function(){return w1(this)};jr.negated=jr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};jr.plus=jr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hZ(e,t):mZ(e,(t.s=-t.s,t))};jr.precision=jr.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cA+t);if(e=fi(a)+1,n=a.d.length-1,r=n*sa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};jr.squareRoot=jr.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ad+"NaN")}for(t=fi(l),pa=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Zu(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Wv((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Tf(l,i,o+2)).times(.5),Zu(i.d).slice(0,o)===(e=Zu(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Un(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return pa=!0,Un(n,r)};jr.times=jr.mul=function(t){var e,r,n,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+f[n]*m[a-n-1]+e,i[a--]=l%Vi|0,e=l/Vi|0;i[a]=(i[a]+e)%Vi|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,pa?Un(t,h.precision):t};jr.toDecimalPlaces=jr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(fh(t,0,Vv),e===void 0?e=n.rounding:fh(e,0,8),Un(r,t+fi(r)+1,e))};jr.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=BA(n,!0):(fh(t,0,Vv),e===void 0?e=a.rounding:fh(e,0,8),n=Un(new a(n),t+1,e),r=BA(n,!0,t+1)),r};jr.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?BA(a):(fh(t,0,Vv),e===void 0?e=i.rounding:fh(e,0,8),n=Un(new i(a),t+fi(a)+1,e),r=BA(n.abs(),!1,t+fi(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jr.toInteger=jr.toint=function(){var t=this,e=t.constructor;return Un(new e(t),fi(t)+1,e.rounding)};jr.toNumber=function(){return+this};jr.toPower=jr.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(Ac);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ad+"Infinity");return l}if(l.eq(Ac))return l;if(n=c.precision,t.eq(Ac))return Un(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=uZ){for(a=new c(Ac),e=Math.ceil(n/sa+4),pa=!1;r%2&&(a=a.times(l),LQ(a.d,e)),r=Wv(r/2),r!==0;)l=l.times(l),LQ(l.d,e);return pa=!0,t.s<0?new c(Ac).div(a):Un(a,n)}}else if(i<0)throw Error(Ad+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,pa=!1,a=t.times(w1(l,n+d)),pa=!0,a=fZ(a),a.s=i,a};jr.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=fi(a),n=BA(a,r<=i.toExpNeg||r>=i.toExpPos)):(fh(t,1,Vv),e===void 0?e=i.rounding:fh(e,0,8),a=Un(new i(a),t,e),r=fi(a),n=BA(a,t<=r||r<=i.toExpNeg,t)),n};jr.toSignificantDigits=jr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(fh(t,1,Vv),e===void 0?e=n.rounding:fh(e,0,8)),Un(new n(r),t,e)};jr.toString=jr.valueOf=jr.val=jr.toJSON=jr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fi(t),r=t.constructor;return BA(t,e<=r.toExpNeg||e>=r.toExpPos)};function hZ(t,e){var r,n,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),pa?Un(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/sa),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Vi|0,c[i]%=Vi;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,pa?Un(e,h):e}function fh(t,e,r){if(t!==~~t||t<e||t>r)throw Error(cA+t)}function Zu(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=sa-n.length,r&&(i+=G0(r)),i+=n;o=t[e],n=o+"",r=sa-n.length,r&&(i+=G0(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Tf=(function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Vi|0,o=i/Vi|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Vi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,m,f,A,g,x,v,j,b,S,w,N,E,P,_=n.constructor,B=n.s==a.s?1:-1,k=n.d,M=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Ad+"Division by zero");for(c=n.e-a.e,E=M.length,w=k.length,f=new _(B),A=f.d=[],d=0;M[d]==(k[d]||0);)++d;if(M[d]>(k[d]||0)&&--c,i==null?j=i=_.precision:o?j=i+(fi(n)-fi(a))+1:j=i,j<0)return new _(0);if(j=j/sa+2|0,d=0,E==1)for(u=0,M=M[0],j++;(d<w||u)&&j--;d++)b=u*Vi+(k[d]||0),A[d]=b/M|0,u=b%M|0;else{for(u=Vi/(M[0]+1)|0,u>1&&(M=t(M,u),k=t(k,u),E=M.length,w=k.length),S=E,g=k.slice(0,E),x=g.length;x<E;)g[x++]=0;P=M.slice(),P.unshift(0),N=M[0],M[1]>=Vi/2&&++N;do u=0,l=e(M,g,E,x),l<0?(v=g[0],E!=x&&(v=v*Vi+(g[1]||0)),u=v/N|0,u>1?(u>=Vi&&(u=Vi-1),h=t(M,u),m=h.length,x=g.length,l=e(h,g,m,x),l==1&&(u--,r(h,E<m?P:M,m))):(u==0&&(l=u=1),h=M.slice()),m=h.length,m<x&&h.unshift(0),r(g,h,x),l==-1&&(x=g.length,l=e(M,g,E,x),l<1&&(u++,r(g,E<x?P:M,x))),x=g.length):l===0&&(u++,g=[0]),A[d++]=u,l&&g[0]?g[x++]=k[S]||0:(g=[k[S]],x=1);while((S++<w||g[0]!==void 0)&&j--)}return A[0]||A.shift(),f.e=c,Un(f,o?i+fi(f)+1:i)}})();function fZ(t,e){var r,n,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(fi(t)>16)throw Error(m8+fi(t));if(!t.s)return new u(Ac);for(pa=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Hp(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Ac),u.precision=l;;){if(a=Un(a.times(t),l),r=r.times(++c),o=i.plus(Tf(a,r,l)),Zu(o.d).slice(0,l)===Zu(i.d).slice(0,l)){for(;d--;)i=Un(i.times(i),l);return u.precision=h,e==null?(pa=!0,Un(i,h)):i}i=o}}function fi(t){for(var e=t.e*sa,r=t.d[0];r>=10;r/=10)e++;return e}function y6(t,e,r){if(e>t.LN10.sd())throw pa=!0,r&&(t.precision=r),Error(Ad+"LN10 precision limit exceeded");return Un(new t(t.LN10),e)}function G0(t){for(var e="";t--;)e+="0";return e}function w1(t,e){var r,n,a,i,o,l,c,d,u,h=1,m=10,f=t,A=f.d,g=f.constructor,x=g.precision;if(f.s<1)throw Error(Ad+(f.s?"NaN":"-Infinity"));if(f.eq(Ac))return new g(0);if(e==null?(pa=!1,d=x):d=e,f.eq(10))return e==null&&(pa=!0),y6(g,d);if(d+=m,g.precision=d,r=Zu(A),n=r.charAt(0),i=fi(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Zu(f.d),n=r.charAt(0),h++;i=fi(f),n>1?(f=new g("0."+r),i++):f=new g(n+"."+r.slice(1))}else return c=y6(g,d+2,x).times(i+""),f=w1(new g(n+"."+r.slice(1)),d-m).plus(c),g.precision=x,e==null?(pa=!0,Un(f,x)):f;for(l=o=f=Tf(f.minus(Ac),f.plus(Ac),d),u=Un(f.times(f),d),a=3;;){if(o=Un(o.times(u),d),c=l.plus(Tf(o,new g(a),d)),Zu(c.d).slice(0,d)===Zu(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(y6(g,d+2,x).times(i+""))),l=Tf(l,new g(h),d),g.precision=x,e==null?(pa=!0,Un(l,x)):l;l=c,a+=2}}function DQ(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Wv(r/sa),t.d=[],n=(r+1)%sa,r<0&&(n+=sa),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=sa;n<a;)t.d.push(+e.slice(n,n+=sa));e=e.slice(n),n=sa-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),pa&&(t.e>P5||t.e<-P5))throw Error(m8+r)}else t.s=0,t.e=0,t.d=[0];return t}function Un(t,e,r){var n,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=sa,a=e,d=h[u=0];else{if(u=Math.ceil((n+1)/sa),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=sa,a=n-sa+o}if(r!==void 0&&(i=Hp(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/Hp(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=fi(t),h.length=1,e=e-i-1,h[0]=Hp(10,(sa-e%sa)%sa),t.e=Wv(-e/sa)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=Hp(10,sa-n),h[u]=a>0?(d/Hp(10,o-a)%Hp(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Vi&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=Vi)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(pa&&(t.e>P5||t.e<-P5))throw Error(m8+fi(t));return t}function mZ(t,e){var r,n,a,i,o,l,c,d,u,h,m=t.constructor,f=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),pa?Un(e,f):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),a=Math.max(Math.ceil(f/sa),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Vi-1;--c[i],c[a]+=Vi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,pa?Un(e,f):e):new m(0)}function BA(t,e,r){var n,a=fi(t),i=Zu(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+G0(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+G0(-a-1)+i,r&&(n=r-o)>0&&(i+=G0(n))):a>=o?(i+=G0(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+G0(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=G0(n))),t.s<0?"-"+i:i}function LQ(t,e){if(t.length>e)return t.length=e,!0}function pZ(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cA+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DQ(o,i.toString())}else if(typeof i!="string")throw Error(cA+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,_5e.test(i))DQ(o,i);else throw Error(cA+i)}if(a.prototype=jr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=pZ,a.config=a.set=C5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function C5e(t){if(!t||typeof t!="object")throw Error(Ad+"Object expected");var e,r,n,a=["precision",1,Vv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Wv(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(cA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cA+r+": "+n);return this}var p8=pZ(S5e);Ac=new p8(1);const En=p8;function E5e(t){return M5e(t)||T5e(t)||B5e(t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5e(t,e){if(t){if(typeof t=="string")return YM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(t,e)}}function T5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function M5e(t){if(Array.isArray(t))return YM(t)}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var F5e=function(e){return e},AZ={},xZ=function(e){return e===AZ},RQ=function(e){return function r(){return arguments.length===0||arguments.length===1&&xZ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},P5e=function t(e,r){return e===1?r:RQ(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==AZ}).length;return o>=e?r.apply(void 0,a):t(e-o,RQ(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return xZ(h)?c.shift():h});return r.apply(void 0,E5e(u).concat(c))}))})},T4=function(e){return P5e(e.length,e)},JM=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},I5e=T4(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),D5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return F5e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ZM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gZ=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function L5e(t){var e;return t===0?e=1:e=Math.floor(new En(t).abs().log(10).toNumber())+1,e}function R5e(t,e,r){for(var n=new En(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var O5e=T4(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),U5e=T4(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),H5e=T4(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const M4={rangeStep:R5e,getDigitCount:L5e,interpolateNumber:O5e,uninterpolateNumber:U5e,uninterpolateTruncation:H5e};function eF(t){return $5e(t)||z5e(t)||vZ(t)||Q5e()}function Q5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $5e(t){if(Array.isArray(t))return tF(t)}function j1(t,e){return W5e(t)||V5e(t,e)||vZ(t,e)||G5e()}function G5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return tF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(t,e)}}function tF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function W5e(t){if(Array.isArray(t))return t}function yZ(t){var e=j1(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function bZ(t,e,r){if(t.lte(0))return new En(0);var n=M4.getDigitCount(t.toNumber()),a=new En(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new En(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new En(Math.ceil(c))}function q5e(t,e,r){var n=1,a=new En(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new En(10).pow(M4.getDigitCount(t)-1),a=new En(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new En(Math.floor(t)))}else t===0?a=new En(Math.floor((e-1)/2)):r||(a=new En(Math.floor(t)));var o=Math.floor((e-1)/2),l=D5e(I5e(function(c){return a.add(new En(c-o).mul(n)).toNumber()}),JM);return l(0,e)}function wZ(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new En(0),tickMin:new En(0),tickMax:new En(0)};var i=bZ(new En(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new En(0):(o=new En(t).add(e).div(2),o=o.sub(new En(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new En(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?wZ(t,e,r,n,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new En(l).mul(i)),tickMax:o.add(new En(c).mul(i))})}function K5e(t){var e=j1(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=yZ([r,n]),c=j1(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(eF(JM(0,a-1).map(function(){return 1/0}))):[].concat(eF(JM(0,a-1).map(function(){return-1/0})),[u]);return r>n?ZM(h):h}if(d===u)return q5e(d,a,i);var m=wZ(d,u,o,i),f=m.step,A=m.tickMin,g=m.tickMax,x=M4.rangeStep(A,g.add(new En(.1).mul(f)),f);return r>n?ZM(x):x}function X5e(t,e){var r=j1(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yZ([n,a]),l=j1(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(e,2),h=bZ(new En(d).sub(c).div(u-1),i,0),m=[].concat(eF(M4.rangeStep(new En(c),new En(d).sub(new En(.99).mul(h)),h)),[d]);return n>a?ZM(m):m}var Y5e=gZ(K5e),J5e=gZ(X5e),Z5e="Invariant failed";function TA(t,e){throw new Error(Z5e)}var eSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I5.apply(this,arguments)}function tSe(t,e){return aSe(t)||nSe(t,e)||sSe(t,e)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sSe(t,e){if(t){if(typeof t=="string")return OQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OQ(t,e)}}function OQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function aSe(t){if(Array.isArray(t))return t}function iSe(t,e){if(t==null)return{};var r=oSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SZ(n.key),n)}}function dSe(t,e,r){return e&&cSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uSe(t,e,r){return e=D5(e),hSe(t,jZ()?Reflect.construct(e,r||[],D5(t).constructor):e.apply(t,r))}function hSe(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(t)}function fSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jZ=function(){return!!t})()}function D5(t){return D5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D5(t)}function mSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rF(t,e)}function rF(t,e){return rF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rF(t,e)}function NZ(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=pSe(t,"string");return cv(e)=="symbol"?e:e+""}function pSe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qw=(function(t){function e(){return lSe(this,e),uSe(this,e,arguments)}return mSe(e,t),dSe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,h=n.yAxis,m=iSe(n,eSe),f=Dr(m,!1);this.props.direction==="x"&&u.type!=="number"&&TA();var A=c.map(function(g){var x=d(g,l),v=x.x,j=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],N,E;if(Array.isArray(S)){var P=tSe(S,2);N=P[0],E=P[1]}else N=E=S;if(i==="vertical"){var _=u.scale,B=j+a,k=B+o,M=B-o,T=_(b-N),H=_(b+E);w.push({x1:H,y1:k,x2:H,y2:M}),w.push({x1:T,y1:B,x2:H,y2:B}),w.push({x1:T,y1:k,x2:T,y2:M})}else if(i==="horizontal"){var L=h.scale,Q=v+a,O=Q-o,V=Q+o,ee=L(b-N),Y=L(b+E);w.push({x1:O,y1:Y,x2:V,y2:Y}),w.push({x1:Q,y1:ee,x2:Q,y2:Y}),w.push({x1:O,y1:ee,x2:V,y2:ee})}return Ue.createElement(Bs,I5({className:"recharts-errorBar",key:"bar-".concat(w.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},f),w.map(function(re){return Ue.createElement("line",I5({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return Ue.createElement(Bs,{className:"recharts-errorBars"},A)}}])})(Ue.Component);NZ(Qw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NZ(Qw,"displayName","ErrorBar");function N1(t){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(t)}function UQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UQ(Object(r),!0).forEach(function(n){ASe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ASe(t,e,r){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xSe(t){var e=gSe(t,"string");return N1(e)=="symbol"?e:e+""}function gSe(t,e){if(N1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Z=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=fc(r,ah);if(!o)return null;var l=ah.defaultProps,c=l!==void 0?_p(_p({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,h){var m=h.item,f=h.props,A=f.sectors||f.data||[];return u.concat(A.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(n||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?_p(_p({},m),h.props):{},A=f.dataKey,g=f.name,x=f.legendType,v=f.hide;return{inactive:v,dataKey:A,type:c.iconType||x||"square",color:A8(h),value:g||A,payload:f}}),_p(_p(_p({},c),ah.getWithHeight(o,a)),{},{payload:d,item:o})};function S1(t){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(t)}function HQ(t){return wSe(t)||bSe(t)||ySe(t)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ySe(t,e){if(t){if(typeof t=="string")return sF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sF(t,e)}}function bSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wSe(t){if(Array.isArray(t))return sF(t)}function sF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QQ(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kg(t,e,r){return e=jSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jSe(t){var e=NSe(t,"string");return S1(e)=="symbol"?e:e+""}function NSe(t,e){if(S1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(t,e,r){return as(t)||as(e)?r:Bi(e)?bc(t,e,r):Kr(e)?e(t):r}function Fb(t,e,r,n){var a=w5e(t,function(l){return Wa(l,e)});if(r==="number"){var i=a.filter(function(l){return er(l)||parseFloat(l)});return i.length?[B4(i),Y0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!as(l)}):a;return o.map(function(l){return Bi(l)||l instanceof Date?l:""})}var SSe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(ul(h-u)!==ul(m-h)){var A=[];if(ul(m-h)===ul(c[1]-c[0])){f=m;var g=h+c[1]-c[0];A[0]=Math.min(g,(g+u)/2),A[1]=Math.max(g,(g+u)/2)}else{f=u;var x=m+c[1]-c[0];A[0]=Math.min(h,(x+h)/2),A[1]=Math.max(h,(x+h)/2)}var v=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>v[0]&&e<=v[1]||e>=A[0]&&e<=A[1]){o=a[d].index;break}}else{var j=Math.min(u,m),b=Math.max(u,m);if(e>(j+h)/2&&e<=(b+h)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},A8=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ma(Ma({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},_Se=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var A=u[h[m]],g=A.items,x=A.cateAxisId,v=g.filter(function(E){return Bf(E.type).indexOf("Bar")>=0});if(v&&v.length){var j=v[0].type.defaultProps,b=j!==void 0?Ma(Ma({},j),v[0].props):v[0].props,S=b.barSize,w=b[x];o[w]||(o[w]=[]);var N=as(S)?r:S;o[w].push({item:v[0],stackList:v.slice(1),barSize:as(N)?void 0:hl(N,n,0)})}}return o},CSe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=hl(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=a/c,A=o.reduce(function(S,w){return S+w.barSize||0},0);A+=(c-1)*d,A>=a&&(A-=(c-1)*d,d=0),A>=a&&f>0&&(m=!0,f*=.9,A=c*f);var g=(a-A)/2>>0,x={offset:g-d,size:0};u=o.reduce(function(S,w){var N={item:w.item,position:{offset:x.offset+x.size+d,size:m?f:w.barSize}},E=[].concat(HQ(S),[N]);return x=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){E.push({item:P,position:x})}),E},h)}else{var v=hl(n,a,0,!0);a-2*v-(c-1)*d<=0&&(d=0);var j=(a-2*v-(c-1)*d)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;u=o.reduce(function(S,w,N){var E=[].concat(HQ(S),[{item:w.item,position:{offset:v+(j+d)*N+(j-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){E.push({item:P,position:E[E.length-1].position})}),E},h)}return u},ESe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=_Z({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,f=d.align,A=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&A==="middle")&&f!=="center"&&er(e[f]))return Ma(Ma({},e),{},kg({},f,e[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&A!=="middle"&&er(e[A]))return Ma(Ma({},e),{},kg({},A,e[A]+(m||0)))}return e},kSe=function(e,r,n){return as(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CZ=function(e,r,n,a,i){var o=r.props.children,l=wc(o,Qw).filter(function(d){return kSe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=Wa(u,n);if(as(h))return d;var m=Array.isArray(h)?[B4(h),Y0(h)]:[h,h],f=c.reduce(function(A,g){var x=Wa(u,g,0),v=m[0]-Math.abs(Array.isArray(x)?x[0]:x),j=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,A[0]),Math.max(j,A[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},BSe=function(e,r,n,a,i){var o=r.map(function(l){return CZ(e,l,n,i,a)}).filter(function(l){return!as(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},EZ=function(e,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&CZ(e,c,d,a)||Fb(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},kZ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},BZ=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Sf=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ul(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!zv(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},b6=new WeakMap,wj=function(e,r){if(typeof r!="function")return e;b6.has(e)||b6.set(e,new WeakMap);var n=b6.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},TZ=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:x1(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:B5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Mb(),realScaleType:"point"}:i==="category"?{scale:x1(),realScaleType:"band"}:{scale:B5(),realScaleType:"linear"};if(Dw(a)){var c="scale".concat(A4(a));return{scale:(CQ[c]||Mb)(),realScaleType:CQ[c]?c:"point"}}return Kr(a)?{scale:a}:{scale:Mb(),realScaleType:"point"}},zQ=1e-4,MZ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-zQ,o=Math.max(a[0],a[1])+zQ,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},TSe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},MSe=function(e,r){if(!r||r.length!==2||!er(r[0])||!er(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!er(e[0])||e[0]<n)&&(i[0]=n),(!er(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},FSe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=zv(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},PSe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=zv(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},ISe={sign:FSe,expand:wbe,none:tv,silhouette:jbe,wiggle:Nbe,positive:PSe},DSe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=ISe[n],o=bbe().keys(a).value(function(l,c){return+Wa(l,c,0)}).order(FM).offset(i);return o(e)},LSe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var f,A=(f=m.type)!==null&&f!==void 0&&f.defaultProps?Ma(Ma({},m.type.defaultProps),m.props):m.props,g=A.stackId,x=A.hide;if(x)return h;var v=A[n],j=h[v]||{hasStack:!1,stackGroups:{}};if(Bi(g)){var b=j.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[g]=b}else j.stackGroups[WA("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ma(Ma({},h),{},kg({},v,j))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var A={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,x){var v=f.stackGroups[x];return Ma(Ma({},g),{},kg({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:DSe(e,v.items,i)}))},A)}return Ma(Ma({},h),{},kg({},m,f))},u)},FZ=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=Y5e(d,i,l);return e.domain([B4(u),Y0(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),m=J5e(h,i,l);return{niceTicks:m}}return null};function L5(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!as(a[e.dataKey])){var l=h5(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Wa(a,as(o)?e.dataKey:o);return as(c)?null:e.scale(c)}var $Q=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Wa(o,r.dataKey,r.domain[l]);return as(c)?null:r.scale(c)-i/2+a},RSe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},OSe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ma(Ma({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Bi(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},USe=function(e){return e.reduce(function(r,n){return[B4(n.concat([r[0]]).filter(er)),Y0(n.concat([r[1]]).filter(er))]},[1/0,-1/0])},PZ=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=USe(u.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},GQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nF=function(e,r,n){if(Kr(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(er(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(GQ.test(e[0])){var i=+GQ.exec(e[0])[1];a[0]=r[0]-i}else Kr(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(er(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(VQ.test(e[1])){var o=+VQ.exec(e[1])[1];a[1]=r[1]+o}else Kr(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},R5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=$I(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},WQ=function(e,r,n){return!e||!e.length||kA(e,bc(n,"type.defaultProps.domain"))?r:e},IZ=function(e,r){var n=e.type.defaultProps?Ma(Ma({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Ma(Ma({},Dr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:A8(e),value:Wa(r,a),type:c,payload:r,chartType:d,hide:u})};function _1(t){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_1(t)}function qQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(r),!0).forEach(function(n){DZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DZ(t,e,r){return e=HSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HSe(t){var e=QSe(t,"string");return _1(e)=="symbol"?e:e+""}function QSe(t,e){if(_1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zSe(t,e){return WSe(t)||VSe(t,e)||GSe(t,e)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(t,e){if(t){if(typeof t=="string")return KQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KQ(t,e)}}function KQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function WSe(t){if(Array.isArray(t))return t}var O5=Math.PI/180,qSe=function(e){return e*180/Math.PI},Xn=function(e,r,n,a){return{x:e+Math.cos(-O5*a)*n,y:r+Math.sin(-O5*a)*n}},LZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KSe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=hl(e.cx,o,o/2),h=hl(e.cy,l,l/2),m=LZ(o,l,n),f=hl(e.innerRadius,m,0),A=hl(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(x,v){var j=r[v],b=j.domain,S=j.reversed,w;if(as(j.range))a==="angleAxis"?w=[c,d]:a==="radiusAxis"&&(w=[f,A]),S&&(w=[w[1],w[0]]);else{w=j.range;var N=w,E=zSe(N,2);c=E[0],d=E[1]}var P=TZ(j,i),_=P.realScaleType,B=P.scale;B.domain(b).range(w),MZ(B);var k=FZ(B,xf(xf({},j),{},{realScaleType:_})),M=xf(xf(xf({},j),k),{},{range:w,radius:A,realScaleType:_,scale:B,cx:u,cy:h,innerRadius:f,outerRadius:A,startAngle:c,endAngle:d});return xf(xf({},x),{},DZ({},v,M))},{})},XSe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},YSe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=XSe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:qSe(d),angleInRadian:d}},JSe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},ZSe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},XQ=function(e,r){var n=e.x,a=e.y,i=YSe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=JSe(r),h=u.startAngle,m=u.endAngle,f=l,A;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;A=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;A=f>=m&&f<=h}return A?xf(xf({},r),{},{radius:o,angle:ZSe(f,r)}):null},RZ=function(e){return!F.isValidElement(e)&&!Kr(e)&&typeof e!="boolean"?e.className:""};function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}var e4e=["offset"];function t4e(t){return a4e(t)||n4e(t)||s4e(t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4e(t,e){if(t){if(typeof t=="string")return aF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(t,e)}}function n4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a4e(t){if(Array.isArray(t))return aF(t)}function aF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i4e(t,e){if(t==null)return{};var r=o4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YQ(Object(r),!0).forEach(function(n){l4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l4e(t,e,r){return e=c4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4e(t){var e=d4e(t,"string");return C1(e)=="symbol"?e:e+""}function d4e(t,e){if(C1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}var u4e=function(e){var r=e.value,n=e.formatter,a=as(e.children)?r:e.children;return Kr(n)?n(a):a},h4e=function(e,r){var n=ul(r-e),a=Math.min(Math.abs(r-e),360);return n*a},f4e=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,A=c.endAngle,g=c.clockWise,x=(h+m)/2,v=h4e(f,A),j=v>=0?1:-1,b,S;a==="insideStart"?(b=f+j*o,S=g):a==="insideEnd"?(b=A-j*o,S=!g):a==="end"&&(b=A+j*o,S=g),S=v<=0?S:!S;var w=Xn(d,u,x,b),N=Xn(d,u,x,b+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),P=as(e.id)?WA("recharts-radial-line-"):e.id;return Ue.createElement("text",E1({},n,{dominantBaseline:"central",className:xs("recharts-radial-bar-label",l)}),Ue.createElement("defs",null,Ue.createElement("path",{id:P,d:E})),Ue.createElement("textPath",{xlinkHref:"#".concat(P)},r))},m4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var f=Xn(o,l,d+n,m),A=f.x,g=f.y;return{x:A,y:g,textAnchor:A>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,v=Xn(o,l,x,m),j=v.x,b=v.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},p4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,f=h>0?"end":"start",A=h>0?"start":"end",g=d>=0?1:-1,x=g*a,v=g>0?"end":"start",j=g>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return bi(bi({},b),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:A};return bi(bi({},S),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return bi(bi({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(i==="right"){var N={x:l+d+x,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return bi(bi({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:u}:{})}var E=n?{width:d,height:u}:{};return i==="insideLeft"?bi({x:l+x,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},E):i==="insideRight"?bi({x:l+d-x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideTop"?bi({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:A},E):i==="insideBottom"?bi({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?bi({x:l+x,y:c+m,textAnchor:j,verticalAnchor:A},E):i==="insideTopRight"?bi({x:l+d-x,y:c+m,textAnchor:v,verticalAnchor:A},E):i==="insideBottomLeft"?bi({x:l+x,y:c+u-m,textAnchor:j,verticalAnchor:f},E):i==="insideBottomRight"?bi({x:l+d-x,y:c+u-m,textAnchor:v,verticalAnchor:f},E):Qv(i)&&(er(i.x)||Yp(i.x))&&(er(i.y)||Yp(i.y))?bi({x:l+hl(i.x,d),y:c+hl(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):bi({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},A4e=function(e){return"cx"in e&&er(e.cx)};function qi(t){var e=t.offset,r=e===void 0?5:e,n=i4e(t,e4e),a=bi({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||as(l)&&as(c)&&!F.isValidElement(d)&&!Kr(d))return null;if(F.isValidElement(d))return F.cloneElement(d,a);var f;if(Kr(d)){if(f=F.createElement(d,a),F.isValidElement(f))return f}else f=u4e(a);var A=A4e(i),g=Dr(a,!0);if(A&&(o==="insideStart"||o==="insideEnd"||o==="end"))return f4e(a,f,g);var x=A?m4e(a):p4e(a);return Ue.createElement(EA,E1({className:xs("recharts-label",h)},g,x,{breakAll:m}),f)}qi.displayName="Label";var OZ=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,m=e.y,f=e.top,A=e.left,g=e.width,x=e.height,v=e.clockWise,j=e.labelViewBox;if(j)return j;if(er(g)&&er(x)){if(er(h)&&er(m))return{x:h,y:m,width:g,height:x};if(er(f)&&er(A))return{x:f,y:A,width:g,height:x}}return er(h)&&er(m)?{x:h,y:m,width:0,height:0}:er(r)&&er(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:e.viewBox?e.viewBox:{}},x4e=function(e,r){return e?e===!0?Ue.createElement(qi,{key:"label-implicit",viewBox:r}):Bi(e)?Ue.createElement(qi,{key:"label-implicit",viewBox:r,value:e}):F.isValidElement(e)?e.type===qi?F.cloneElement(e,{key:"label-implicit",viewBox:r}):Ue.createElement(qi,{key:"label-implicit",content:e,viewBox:r}):Kr(e)?Ue.createElement(qi,{key:"label-implicit",content:e,viewBox:r}):Qv(e)?Ue.createElement(qi,E1({viewBox:r},e,{key:"label-implicit"})):null:null},g4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=OZ(e),o=wc(a,qi).map(function(c,d){return F.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=x4e(e.label,r||i);return[l].concat(t4e(o))};qi.parseViewBox=OZ;qi.renderCallByParent=g4e;var w6,JQ;function v4e(){if(JQ)return w6;JQ=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return w6=t,w6}var y4e=v4e();const b4e=Nn(y4e);function k1(t){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k1(t)}var w4e=["valueAccessor"],j4e=["data","dataKey","clockWise","id","textBreakAll"];function N4e(t){return E4e(t)||C4e(t)||_4e(t)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4e(t,e){if(t){if(typeof t=="string")return iF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iF(t,e)}}function C4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E4e(t){if(Array.isArray(t))return iF(t)}function iF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U5(){return U5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U5.apply(this,arguments)}function ZQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZQ(Object(r),!0).forEach(function(n){k4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k4e(t,e,r){return e=B4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B4e(t){var e=T4e(t,"string");return k1(e)=="symbol"?e:e+""}function T4e(t,e){if(k1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tz(t,e){if(t==null)return{};var r=M4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var F4e=function(e){return Array.isArray(e.value)?b4e(e.value):e.value};function oh(t){var e=t.valueAccessor,r=e===void 0?F4e:e,n=tz(t,w4e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=tz(n,j4e);return!a||!a.length?null:Ue.createElement(Bs,{className:"recharts-label-list"},a.map(function(u,h){var m=as(i)?r(u,h):Wa(u&&u.payload,i),f=as(l)?{}:{id:"".concat(l,"-").concat(h)};return Ue.createElement(qi,U5({},Dr(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:qi.parseViewBox(as(o)?u:ez(ez({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}oh.displayName="LabelList";function P4e(t,e){return t?t===!0?Ue.createElement(oh,{key:"labelList-implicit",data:e}):Ue.isValidElement(t)||Kr(t)?Ue.createElement(oh,{key:"labelList-implicit",data:e,content:t}):Qv(t)?Ue.createElement(oh,U5({data:e},t,{key:"labelList-implicit"})):null:null}function I4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=wc(n,oh).map(function(o,l){return F.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=P4e(t.label,e);return[i].concat(N4e(a))}oh.renderCallByParent=I4e;function B1(t){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B1(t)}function oF(){return oF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oF.apply(this,arguments)}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){D4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D4e(t,e,r){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4e(t){var e=R4e(t,"string");return B1(e)=="symbol"?e:e+""}function R4e(t,e){if(B1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O4e=function(e,r){var n=ul(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},jj=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/O5,m=d?i:i+o*h,f=Xn(r,n,u,m),A=Xn(r,n,a,m),g=d?i-o*h:i,x=Xn(r,n,u*Math.cos(h*O5),g);return{center:f,circleTangency:A,lineTangency:x,theta:h}},UZ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=O4e(o,l),d=o+c,u=Xn(r,n,i,o),h=Xn(r,n,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Xn(r,n,a,o),A=Xn(r,n,a,d);m+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},U4e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=ul(u-d),m=jj({cx:r,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,A=m.lineTangency,g=m.theta,x=jj({cx:r,cy:n,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,j=x.lineTangency,b=x.theta,S=c?Math.abs(d-u):Math.abs(d-u)-g-b;if(S<0)return l?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UZ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var N=jj({cx:r,cy:n,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,P=N.lineTangency,_=N.theta,B=jj({cx:r,cy:n,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=B.circleTangency,M=B.lineTangency,T=B.theta,H=c?Math.abs(d-u):Math.abs(d-u)-_-T;if(H<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},H4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HZ=function(e){var r=sz(sz({},H4e),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,m=r.className;if(o<i||u===h)return null;var f=xs("recharts-sector",m),A=o-i,g=hl(l,A,0,!0),x;return g>0&&Math.abs(u-h)<360?x=U4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,A/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):x=UZ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Ue.createElement("path",oF({},Dr(r,!0),{className:f,d:x,role:"img"}))};function T1(t){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T1(t)}function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lF.apply(this,arguments)}function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function az(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){Q4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q4e(t,e,r){return e=z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4e(t){var e=$4e(t,"string");return T1(e)=="symbol"?e:e+""}function $4e(t,e){if(T1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iz={curveBasisClosed:dbe,curveBasisOpen:ube,curveBasis:cbe,curveBumpX:Kye,curveBumpY:Xye,curveLinearClosed:hbe,curveLinear:g4,curveMonotoneX:fbe,curveMonotoneY:mbe,curveNatural:pbe,curveStep:Abe,curveStepAfter:gbe,curveStepBefore:xbe},Nj=function(e){return e.x===+e.x&&e.y===+e.y},Vy=function(e){return e.x},Wy=function(e){return e.y},G4e=function(e,r){if(Kr(e))return e;var n="curve".concat(A4(e));return(n==="curveMonotone"||n==="curveBump")&&r?iz["".concat(n).concat(r==="vertical"?"Y":"X")]:iz[n]||g4},V4e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=G4e(n,l),h=d?i.filter(function(g){return Nj(g)}):i,m;if(Array.isArray(o)){var f=d?o.filter(function(g){return Nj(g)}):o,A=h.map(function(g,x){return az(az({},g),{},{base:f[x]})});return l==="vertical"?m=pj().y(Wy).x1(Vy).x0(function(g){return g.base.x}):m=pj().x(Vy).y1(Wy).y0(function(g){return g.base.y}),m.defined(Nj).curve(u),m(A)}return l==="vertical"&&er(o)?m=pj().y(Wy).x1(Vy).x0(o):er(o)?m=pj().x(Vy).y1(Wy).y0(o):m=OY().x(Vy).y(Wy),m.defined(Nj).curve(u),m(h)},dA=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?V4e(e):a;return Ue.createElement("path",lF({},Dr(e,!1),f5(e),{className:xs("recharts-curve",r),d:o,ref:i}))},j6={exports:{}},N6,oz;function W4e(){if(oz)return N6;oz=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N6=t,N6}var S6,lz;function q4e(){if(lz)return S6;lz=1;var t=W4e();function e(){}function r(){}return r.resetWarningCache=e,S6=function(){function n(o,l,c,d,u,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},S6}var cz;function K4e(){return cz||(cz=1,j6.exports=q4e()()),j6.exports}var X4e=K4e();const hn=Nn(X4e),{getOwnPropertyNames:Y4e,getOwnPropertySymbols:J4e}=Object,{hasOwnProperty:Z4e}=Object.prototype;function _6(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Sj(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=t(r,n,a);return i.delete(r),i.delete(n),c}}function e_e(t){return t!=null?t[Symbol.toStringTag]:void 0}function dz(t){return Y4e(t).concat(J4e(t))}const t_e=Object.hasOwn||((t,e)=>Z4e.call(t,e));function XA(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const r_e="__v",s_e="__o",n_e="_owner",{getOwnPropertyDescriptor:uz,keys:hz}=Object;function a_e(t,e){return t.byteLength===e.byteLength&&H5(new Uint8Array(t),new Uint8Array(e))}function i_e(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function o_e(t,e){return t.byteLength===e.byteLength&&H5(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function l_e(t,e){return XA(t.getTime(),e.getTime())}function c_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function d_e(t,e){return t===e}function fz(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const d=e.entries();let u=!1,h=0;for(;(l=d.next())&&!l.done;){if(a[h]){h++;continue}const m=o.value,f=l.value;if(r.equals(m[0],f[0],c,h,t,e,r)&&r.equals(m[1],f[1],m[0],f[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}const u_e=XA;function h_e(t,e,r){const n=hz(t);let a=n.length;if(hz(e).length!==a)return!1;for(;a-- >0;)if(!QZ(t,e,r,n[a]))return!1;return!0}function qy(t,e,r){const n=dz(t);let a=n.length;if(dz(e).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!QZ(t,e,r,i)||(o=uz(t,i),l=uz(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function f_e(t,e){return XA(t.valueOf(),e.valueOf())}function m_e(t,e){return t.source===e.source&&t.flags===e.flags}function mz(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function H5(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function p_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QZ(t,e,r,n){return(n===n_e||n===s_e||n===r_e)&&(t.$$typeof||e.$$typeof)?!0:t_e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const A_e="[object ArrayBuffer]",x_e="[object Arguments]",g_e="[object Boolean]",v_e="[object DataView]",y_e="[object Date]",b_e="[object Error]",w_e="[object Map]",j_e="[object Number]",N_e="[object Object]",S_e="[object RegExp]",__e="[object Set]",C_e="[object String]",E_e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},k_e="[object URL]",B_e=Object.prototype.toString;function T_e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:f,unknownTagComparators:A}){return function(x,v,j){if(x===v)return!0;if(x==null||v==null)return!1;const b=typeof x;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?l(x,v,j):b==="function"?i(x,v,j):!1;const S=x.constructor;if(S!==v.constructor)return!1;if(S===Object)return c(x,v,j);if(Array.isArray(x))return e(x,v,j);if(S===Date)return n(x,v,j);if(S===RegExp)return u(x,v,j);if(S===Map)return o(x,v,j);if(S===Set)return h(x,v,j);const w=B_e.call(x);if(w===y_e)return n(x,v,j);if(w===S_e)return u(x,v,j);if(w===w_e)return o(x,v,j);if(w===__e)return h(x,v,j);if(w===N_e)return typeof x.then!="function"&&typeof v.then!="function"&&c(x,v,j);if(w===k_e)return f(x,v,j);if(w===b_e)return a(x,v,j);if(w===x_e)return c(x,v,j);if(E_e[w])return m(x,v,j);if(w===A_e)return t(x,v,j);if(w===v_e)return r(x,v,j);if(w===g_e||w===j_e||w===C_e)return d(x,v,j);if(A){let N=A[w];if(!N){const E=e_e(x);E&&(N=A[E])}if(N)return N(x,v,j)}return!1}}function M_e({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:a_e,areArraysEqual:r?qy:i_e,areDataViewsEqual:o_e,areDatesEqual:l_e,areErrorsEqual:c_e,areFunctionsEqual:d_e,areMapsEqual:r?_6(fz,qy):fz,areNumbersEqual:u_e,areObjectsEqual:r?qy:h_e,arePrimitiveWrappersEqual:f_e,areRegExpsEqual:m_e,areSetsEqual:r?_6(mz,qy):mz,areTypedArraysEqual:r?_6(H5,qy):H5,areUrlsEqual:p_e,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=Sj(n.areArraysEqual),i=Sj(n.areMapsEqual),o=Sj(n.areObjectsEqual),l=Sj(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function F_e(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function P_e({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:u}=r();return e(l,c,{cache:d,equals:n,meta:u,strict:a})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return e(l,c,i)}}const I_e=Dm();Dm({strict:!0});Dm({circular:!0});Dm({circular:!0,strict:!0});Dm({createInternalComparator:()=>XA});Dm({strict:!0,createInternalComparator:()=>XA});Dm({circular:!0,createInternalComparator:()=>XA});Dm({circular:!0,createInternalComparator:()=>XA,strict:!0});function Dm(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,i=M_e(t),o=T_e(i),l=r?r(o):F_e(o);return P_e({circular:e,comparator:o,createState:n,equals:l,strict:a})}function D_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):D_e(a)};requestAnimationFrame(n)}function cF(t){"@babel/helpers - typeof";return cF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cF(t)}function L_e(t){return H_e(t)||U_e(t)||O_e(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){if(t){if(typeof t=="string")return Az(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Az(t,e)}}function Az(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H_e(t){if(Array.isArray(t))return t}function Q_e(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=L_e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){pz(a.bind(null,d),c);return}a(c),pz(a.bind(null,d));return}cF(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function M1(t){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}function xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(r),!0).forEach(function(n){zZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zZ(t,e,r){return e=z_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z_e(t){var e=$_e(t,"string");return M1(e)==="symbol"?e:String(e)}function $_e(t,e){if(M1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G_e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},V_e=function(e){return e},W_e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pb=function(e,r){return Object.keys(r).reduce(function(n,a){return gz(gz({},n),{},zZ({},a,e(a,r[a])))},{})},vz=function(e,r,n){return e.map(function(a){return"".concat(W_e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function q_e(t,e){return Y_e(t)||X_e(t,e)||$Z(t,e)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Y_e(t){if(Array.isArray(t))return t}function J_e(t){return tCe(t)||eCe(t)||$Z(t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(t,e){if(t){if(typeof t=="string")return dF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dF(t,e)}}function eCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tCe(t){if(Array.isArray(t))return dF(t)}function dF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Q5=1e-4,GZ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},VZ=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},yz=function(e,r){return function(n){var a=GZ(e,r);return VZ(a,n)}},rCe=function(e,r){return function(n){var a=GZ(e,r),i=[].concat(J_e(a.map(function(o,l){return o*l}).slice(1)),[0]);return VZ(i,n)}},bz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=q_e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=yz(a,o),m=yz(i,l),f=rCe(a,o),A=function(v){return v>1?1:v<0?0:v},g=function(v){for(var j=v>1?1:v,b=j,S=0;S<8;++S){var w=h(b)-j,N=f(b);if(Math.abs(w-j)<Q5||N<Q5)return m(b);b=A(b-w/N)}return m(b)};return g.isStepper=!1,g},sCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*n,A=m*i,g=m+(f-A)*l/1e3,x=m*l/1e3+u;return Math.abs(x-h)<Q5&&Math.abs(g)<Q5?[h,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},nCe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bz(a);case"spring":return sCe();default:if(a.split("(")[0]==="cubic-bezier")return bz(a)}return typeof a=="function"?a:null};function F1(t){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F1(t)}function wz(t){return oCe(t)||iCe(t)||WZ(t)||aCe()}function aCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oCe(t){if(Array.isArray(t))return hF(t)}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){uF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uF(t,e,r){return e=lCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lCe(t){var e=cCe(t,"string");return F1(e)==="symbol"?e:String(e)}function cCe(t,e){if(F1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dCe(t,e){return fCe(t)||hCe(t,e)||WZ(t,e)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t,e){if(t){if(typeof t=="string")return hF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hF(t,e)}}function hF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function fCe(t){if(Array.isArray(t))return t}var z5=function(e,r,n){return e+(r-e)*n},fF=function(e){var r=e.from,n=e.to;return r!==n},mCe=function t(e,r,n){var a=Pb(function(i,o){if(fF(o)){var l=e(o.from,o.to,o.velocity),c=dCe(l,2),d=c[0],u=c[1];return uo(uo({},o),{},{from:d,velocity:u})}return o},r);return n<1?Pb(function(i,o){return fF(o)?uo(uo({},o),{},{velocity:z5(o.velocity,a[i].velocity,n),from:z5(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const pCe=(function(t,e,r,n,a){var i=G_e(t,e),o=i.reduce(function(x,v){return uo(uo({},x),{},uF({},v,[t[v],e[v]]))},{}),l=i.reduce(function(x,v){return uo(uo({},x),{},uF({},v,{from:t[v],velocity:0,to:e[v]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return Pb(function(v,j){return j.from},l)},f=function(){return!Object.values(l).filter(fF).length},A=function(v){d||(d=v);var j=v-d,b=j/r.dt;l=mCe(r,l,b),a(uo(uo(uo({},t),e),m())),d=v,f()||(c=requestAnimationFrame(h))},g=function(v){u||(u=v);var j=(v-u)/n,b=Pb(function(w,N){return z5.apply(void 0,wz(N).concat([r(j)]))},o);if(a(uo(uo(uo({},t),e),b)),j<1)c=requestAnimationFrame(h);else{var S=Pb(function(w,N){return z5.apply(void 0,wz(N).concat([r(1)]))},o);a(uo(uo(uo({},t),e),S))}};return h=r.isStepper?A:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}var ACe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xCe(t,e){if(t==null)return{};var r=gCe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gCe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function C6(t){return wCe(t)||bCe(t)||yCe(t)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(t,e){if(t){if(typeof t=="string")return mF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mF(t,e)}}function bCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wCe(t){if(Array.isArray(t))return mF(t)}function mF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fb(t,e,r){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qZ(n.key),n)}}function SCe(t,e,r){return e&&NCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qZ(t){var e=_Ce(t,"string");return dv(e)==="symbol"?e:String(e)}function _Ce(t,e){if(dv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pF(t,e)}function pF(t,e){return pF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pF(t,e)}function ECe(t){var e=kCe();return function(){var n=$5(t),a;if(e){var i=$5(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return AF(this,a)}}function AF(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xF(t)}function xF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $5(t){return $5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$5(t)}var uu=(function(t){CCe(r,t);var e=ECe(r);function r(n,a){var i;jCe(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(xF(i)),i.changeStyle=i.changeStyle.bind(xF(i)),!l||f<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),AF(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},AF(i);i.state={style:c?fb({},c,d):d}}else i.state={style:{}};return i}return SCe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var f={style:c?fb({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(I_e(a.to,u)&&a.canBegin&&a.isActive)){var A=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=A||d?h:a.to;if(this.state&&m){var x={style:c?fb({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(x)}this.runAnimation(Gd(Gd({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,f=pCe(o,l,nCe(d),c,this.changeStyle),A=function(){i.stopJSAnimation=f()};this.manager.start([m,u,A,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(g,x,v){if(v===0)return g;var j=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,N=x.properties,E=x.onAnimationEnd,P=v>0?o[v-1]:x,_=N||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(C6(g),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:j,easing:S}),j]);var B=vz(_,j,S),k=Gd(Gd(Gd({},P.style),w),{},{transition:B});return[].concat(C6(g),[k,j,E]).filter(V_e)};return this.manager.start([c].concat(C6(o.reduce(f,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Q_e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,f=a.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?fb({},l,c):c,x=vz(Object.keys(g),o,d);A.start([u,i,Gd(Gd({},g),{},{transition:x}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=xCe(a,ACe),d=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var A=f.props,g=A.style,x=g===void 0?{}:g,v=A.className,j=F.cloneElement(f,Gd(Gd({},c),{},{style:Gd(Gd({},x),u),className:v}));return j};return d===1?h(F.Children.only(i)):Ue.createElement("div",null,F.Children.map(i,function(m){return h(m)}))}}]),r})(F.PureComponent);uu.displayName="Animate";uu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uu.propTypes={from:hn.oneOfType([hn.object,hn.string]),to:hn.oneOfType([hn.object,hn.string]),attributeName:hn.string,duration:hn.number,begin:hn.number,easing:hn.oneOfType([hn.string,hn.func]),steps:hn.arrayOf(hn.shape({duration:hn.number.isRequired,style:hn.object.isRequired,easing:hn.oneOfType([hn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hn.func]),properties:hn.arrayOf("string"),onAnimationEnd:hn.func})),children:hn.oneOfType([hn.node,hn.func]),isActive:hn.bool,canBegin:hn.bool,onAnimationEnd:hn.func,shouldReAnimate:hn.bool,onAnimationStart:hn.func,onAnimationReStart:hn.func};function P1(t){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P1(t)}function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(this,arguments)}function BCe(t,e){return PCe(t)||FCe(t,e)||MCe(t,e)||TCe()}function TCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MCe(t,e){if(t){if(typeof t=="string")return Sz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sz(t,e)}}function Sz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function PCe(t){if(Array.isArray(t))return t}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){ICe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ICe(t,e,r){return e=DCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DCe(t){var e=LCe(t,"string");return P1(e)=="symbol"?e:e+""}function LCe(t,e){if(P1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ez=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=i[m]>o?o:i[m];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*h[1])),u+="L ".concat(e+n,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var A=Math.min(o,i);u="M ".concat(e,",").concat(r+l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(d,",").concat(e+c*A,",").concat(r,`
            L `).concat(e+n-c*A,",").concat(r,`
            A `).concat(A,",").concat(A,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*A,`
            L `).concat(e+n,",").concat(r+a-l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(d,",").concat(e+n-c*A,",").concat(r+a,`
            L `).concat(e+c*A,",").concat(r+a,`
            A `).concat(A,",").concat(A,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*A," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},RCe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=d&&n<=u&&a>=h&&a<=m}return!1},OCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x8=function(e){var r=Cz(Cz({},OCe),e),n=F.useRef(),a=F.useState(-1),i=BCe(a,2),o=i[0],l=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,m=r.radius,f=r.className,A=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var b=xs("recharts-rectangle",f);return j?Ue.createElement(uu,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:A,isActive:j},function(S){var w=S.width,N=S.height,E=S.x,P=S.y;return Ue.createElement(uu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:A},Ue.createElement("path",G5({},Dr(r,!0),{className:b,d:Ez(E,P,w,N,m),ref:n})))}):Ue.createElement("path",G5({},Dr(r,!0),{className:b,d:Ez(c,d,u,h,m)}))},UCe=["points","className","baseLinePoints","connectNulls"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function HCe(t,e){if(t==null)return{};var r=QCe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kz(t){return VCe(t)||GCe(t)||$Ce(t)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ce(t,e){if(t){if(typeof t=="string")return gF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gF(t,e)}}function GCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VCe(t){if(Array.isArray(t))return gF(t)}function gF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bz=function(e){return e&&e.x===+e.x&&e.y===+e.y},WCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Bz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Bz(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ib=function(e,r){var n=WCe(e);r&&(n=[n.reduce(function(i,o){return[].concat(kz(i),kz(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},qCe=function(e,r,n){var a=Ib(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ib(r.reverse(),n).slice(1))},KCe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=HCe(e,UCe);if(!r||!r.length)return null;var l=xs("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=qCe(r,a,i);return Ue.createElement("g",{className:l},Ue.createElement("path",Ag({},Dr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Ue.createElement("path",Ag({},Dr(o,!0),{fill:"none",d:Ib(r,i)})):null,c?Ue.createElement("path",Ag({},Dr(o,!0),{fill:"none",d:Ib(a,i)})):null)}var u=Ib(r,i);return Ue.createElement("path",Ag({},Dr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function vF(){return vF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vF.apply(this,arguments)}var zw=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=xs("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ue.createElement("circle",vF({},Dr(e,!1),f5(e),{className:o,cx:r,cy:n,r:a})):null};function I1(t){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I1(t)}var XCe=["x","y","top","left","width","height","className"];function yF(){return yF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yF.apply(this,arguments)}function Tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(r),!0).forEach(function(n){JCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JCe(t,e,r){return e=ZCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZCe(t){var e=e3e(t,"string");return I1(e)=="symbol"?e:e+""}function e3e(t,e){if(I1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t3e(t,e){if(t==null)return{};var r=r3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var s3e=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},n3e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,m=e.height,f=m===void 0?0:m,A=e.className,g=t3e(e,XCe),x=YCe({x:n,y:i,top:l,left:d,width:h,height:f},g);return!er(n)||!er(i)||!er(h)||!er(f)||!er(l)||!er(d)?null:Ue.createElement("path",yF({},Dr(x,!0),{className:xs("recharts-cross",A),d:s3e(n,i,h,f,l,d)}))},E6,Mz;function a3e(){if(Mz)return E6;Mz=1;var t=k4(),e=cZ(),r=Ah();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return E6=n,E6}var i3e=a3e();const o3e=Nn(i3e);var k6,Fz;function l3e(){if(Fz)return k6;Fz=1;var t=k4(),e=Ah(),r=dZ();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return k6=n,k6}var c3e=l3e();const d3e=Nn(c3e);var u3e=["cx","cy","angle","ticks","axisLine"],h3e=["ticks","tick","angle","tickFormatter","stroke"];function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Db.apply(this,arguments)}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){F4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iz(t,e){if(t==null)return{};var r=f3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XZ(n.key),n)}}function p3e(t,e,r){return e&&Dz(t.prototype,e),r&&Dz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A3e(t,e,r){return e=V5(e),x3e(t,KZ()?Reflect.construct(e,r||[],V5(t).constructor):e.apply(t,r))}function x3e(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g3e(t)}function g3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KZ=function(){return!!t})()}function V5(t){return V5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V5(t)}function v3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bF(t,e)}function bF(t,e){return bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bF(t,e)}function F4(t,e,r){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XZ(t){var e=y3e(t,"string");return uv(e)=="symbol"?e:e+""}function y3e(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P4=(function(t){function e(){return m3e(this,e),A3e(this,e,arguments)}return v3e(e,t),p3e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=o3e(l,function(u){return u.coordinate||0}),d=d3e(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=Iz(n,u3e),u=l.reduce(function(A,g){return[Math.min(A[0],g.coordinate),Math.max(A[1],g.coordinate)]},[1/0,-1/0]),h=Xn(a,i,u[0],o),m=Xn(a,i,u[1],o),f=Cp(Cp(Cp({},Dr(d,!1)),{},{fill:"none"},Dr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Ue.createElement("line",Db({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=Iz(a,h3e),h=this.getTickTextAnchor(),m=Dr(u,!1),f=Dr(o,!1),A=i.map(function(g,x){var v=n.getTickValueCoord(g),j=Cp(Cp(Cp(Cp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},m),{},{stroke:"none",fill:d},f),{},{index:x},v),{},{payload:g});return Ue.createElement(Bs,Db({className:xs("recharts-polar-radius-axis-tick",RZ(o)),key:"tick-".concat(g.coordinate)},CA(n.props,g,x)),e.renderTickItem(o,j,c?c(g.value,x):g.value))});return Ue.createElement(Bs,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Ue.createElement(Bs,{className:xs("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),qi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ue.isValidElement(n)?o=Ue.cloneElement(n,a):Kr(n)?o=n(a):o=Ue.createElement(EA,Db({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(F.PureComponent);F4(P4,"displayName","PolarRadiusAxis");F4(P4,"axisType","radiusAxis");F4(P4,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vp.apply(this,arguments)}function Lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(r),!0).forEach(function(n){I4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JZ(n.key),n)}}function w3e(t,e,r){return e&&Rz(t.prototype,e),r&&Rz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j3e(t,e,r){return e=W5(e),N3e(t,YZ()?Reflect.construct(e,r||[],W5(t).constructor):e.apply(t,r))}function N3e(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3e(t)}function S3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YZ=function(){return!!t})()}function W5(t){return W5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W5(t)}function _3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wF(t,e)}function wF(t,e){return wF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wF(t,e)}function I4(t,e,r){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JZ(t){var e=C3e(t,"string");return hv(e)=="symbol"?e:e+""}function C3e(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E3e=Math.PI/180,Oz=1e-5,D4=(function(t){function e(){return b3e(this,e),j3e(this,e,arguments)}return _3e(e,t),w3e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Xn(i,o,l,n.coordinate),m=Xn(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*E3e),o;return i>Oz?o=a==="outer"?"start":"end":i<-Oz?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Ep(Ep({},Dr(this.props,!1)),{},{fill:"none"},Dr(l,!1));if(c==="circle")return Ue.createElement(zw,Vp({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return Xn(a,i,o,m.coordinate)});return Ue.createElement(KCe,Vp({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Dr(this.props,!1),h=Dr(o,!1),m=Ep(Ep({},u),{},{fill:"none"},Dr(l,!1)),f=i.map(function(A,g){var x=n.getTickLineCoord(A),v=n.getTickTextAnchor(A),j=Ep(Ep(Ep({textAnchor:v},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:A,x:x.x2,y:x.y2});return Ue.createElement(Bs,Vp({className:xs("recharts-polar-angle-axis-tick",RZ(o)),key:"tick-".concat(A.coordinate)},CA(n.props,A,g)),l&&Ue.createElement("line",Vp({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&e.renderTickItem(o,j,c?c(A.value,g):A.value))});return Ue.createElement(Bs,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Ue.createElement(Bs,{className:xs("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ue.isValidElement(n)?o=Ue.cloneElement(n,a):Kr(n)?o=n(a):o=Ue.createElement(EA,Vp({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(F.PureComponent);I4(D4,"displayName","PolarAngleAxis");I4(D4,"axisType","angleAxis");I4(D4,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var B6,Uz;function k3e(){if(Uz)return B6;Uz=1;var t=lJ(),e=t(Object.getPrototypeOf,Object);return B6=e,B6}var T6,Hz;function B3e(){if(Hz)return T6;Hz=1;var t=Kf(),e=k3e(),r=Xf(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!r(u)||t(u)!=n)return!1;var h=e(u);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return T6=d,T6}var T3e=B3e();const M3e=Nn(T3e);var M6,Qz;function F3e(){if(Qz)return M6;Qz=1;var t=Kf(),e=Xf(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return M6=n,M6}var P3e=F3e();const I3e=Nn(P3e);function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}function q5(){return q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q5.apply(this,arguments)}function D3e(t,e){return U3e(t)||O3e(t,e)||R3e(t,e)||L3e()}function L3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3e(t,e){if(t){if(typeof t=="string")return zz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zz(t,e)}}function zz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function U3e(t){if(Array.isArray(t))return t}function $z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(r),!0).forEach(function(n){H3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H3e(t,e,r){return e=Q3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q3e(t){var e=z3e(t,"string");return D1(e)=="symbol"?e:e+""}function z3e(t,e){if(D1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vz=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},$3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G3e=function(e){var r=Gz(Gz({},$3e),e),n=F.useRef(),a=F.useState(-1),i=D3e(a,2),o=i[0],l=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,m=r.height,f=r.className,A=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var j=xs("recharts-trapezoid",f);return v?Ue.createElement(uu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:g,animationEasing:A,isActive:v},function(b){var S=b.upperWidth,w=b.lowerWidth,N=b.height,E=b.x,P=b.y;return Ue.createElement(uu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:A},Ue.createElement("path",q5({},Dr(r,!0),{className:j,d:Vz(E,P,S,w,N),ref:n})))}):Ue.createElement("g",null,Ue.createElement("path",q5({},Dr(r,!0),{className:j,d:Vz(c,d,u,h,m)})))},V3e=["option","shapeType","propTransformer","activeClassName","isActive"];function L1(t){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L1(t)}function W3e(t,e){if(t==null)return{};var r=q3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){K3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K3e(t,e,r){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t){var e=Y3e(t,"string");return L1(e)=="symbol"?e:e+""}function Y3e(t,e){if(L1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J3e(t,e){return K5(K5({},e),t)}function Z3e(t,e){return t==="symbols"}function qz(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Ue.createElement(x8,r);case"trapezoid":return Ue.createElement(G3e,r);case"sector":return Ue.createElement(HZ,r);case"symbols":if(Z3e(e))return Ue.createElement(DI,r);break;default:return null}}function eEe(t){return F.isValidElement(t)?t.props:t}function ZZ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?J3e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=W3e(t,V3e),d;if(F.isValidElement(e))d=F.cloneElement(e,K5(K5({},c),eEe(e)));else if(Kr(e))d=e(c);else if(M3e(e)&&!I3e(e)){var u=a(e,c);d=Ue.createElement(qz,{shapeType:r,elementProps:u})}else{var h=c;d=Ue.createElement(qz,{shapeType:r,elementProps:h})}return l?Ue.createElement(Bs,{className:o},d):d}function L4(t,e){return e!=null&&"trapezoids"in t.props}function R4(t,e){return e!=null&&"sectors"in t.props}function R1(t,e){return e!=null&&"points"in t.props}function tEe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function rEe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function sEe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function nEe(t,e){var r;return L4(t,e)?r=tEe:R4(t,e)?r=rEe:R1(t,e)&&(r=sEe),r}function aEe(t,e){var r;return L4(t,e)?r="trapezoids":R4(t,e)?r="sectors":R1(t,e)&&(r="points"),r}function iEe(t,e){if(L4(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(R4(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return R1(t,e)?e.payload:{}}function oEe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=aEe(r,e),i=iEe(r,e),o=n.filter(function(c,d){var u=kA(i,c),h=r.props[a].filter(function(A){var g=nEe(r,e);return g(A,e)}),m=r.props[a].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=n.indexOf(o[o.length-1]);return l}var $N;function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function Kz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(r),!0).forEach(function(n){ld(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tee(n.key),n)}}function cEe(t,e,r){return e&&Xz(t.prototype,e),r&&Xz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dEe(t,e,r){return e=X5(e),uEe(t,eee()?Reflect.construct(e,r||[],X5(t).constructor):e.apply(t,r))}function uEe(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hEe(t)}function hEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eee=function(){return!!t})()}function X5(t){return X5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X5(t)}function fEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jF(t,e)}function jF(t,e){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jF(t,e)}function ld(t,e,r){return e=tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tee(t){var e=mEe(t,"string");return fv(e)=="symbol"?e:e+""}function mEe(t,e){if(fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Au=(function(t){function e(r){var n;return lEe(this,e),n=dEe(this,e,[r]),ld(n,"pieRef",null),ld(n,"sectorRefs",[]),ld(n,"id",WA("recharts-pie-")),ld(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Kr(a)&&a()}),ld(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Kr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return fEe(e,t),cEe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Dr(this.props,!1),h=Dr(o,!1),m=Dr(l,!1),f=o&&o.offsetRadius||20,A=n.map(function(g,x){var v=(g.startAngle+g.endAngle)/2,j=Xn(g.cx,g.cy,g.outerRadius+f,v),b=Vn(Vn(Vn(Vn({},u),g),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(j.x,g.cx)},j),S=Vn(Vn(Vn(Vn({},u),g),{},{fill:"none",stroke:g.fill},m),{},{index:x,points:[Xn(g.cx,g.cy,g.outerRadius,v),j]}),w=c;return as(c)&&as(d)?w="value":as(c)&&(w=d),Ue.createElement(Bs,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(o,b,Wa(g,w)))});return Ue.createElement(Bs,{className:"recharts-pie-labels"},A)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,f=h?o:m,A=Vn(Vn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Ue.createElement(Bs,xg({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},CA(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Ue.createElement(ZZ,xg({option:f,isActive:h,shapeType:"sector"},A)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,m=h.prevSectors,f=h.prevIsAnimationActive;return Ue.createElement(uu,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var g=A.t,x=[],v=i&&i[0],j=v.startAngle;return i.forEach(function(b,S){var w=m&&m[S],N=S>0?bc(b,"paddingAngle",0):0;if(w){var E=Si(w.endAngle-w.startAngle,b.endAngle-b.startAngle),P=Vn(Vn({},b),{},{startAngle:j+N,endAngle:j+E(g)+N});x.push(P),j=P.endAngle}else{var _=b.endAngle,B=b.startAngle,k=Si(0,_-B),M=k(g),T=Vn(Vn({},b),{},{startAngle:j+N,endAngle:j+M+N});x.push(T),j=T.endAngle}}),Ue.createElement(Bs,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!kA(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,m=a.outerRadius,f=a.isAnimationActive,A=this.state.isAnimationFinished;if(i||!o||!o.length||!er(d)||!er(u)||!er(h)||!er(m))return null;var g=xs("recharts-pie",l);return Ue.createElement(Bs,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),qi.renderCallByParent(this.props,null,!1),(!f||A)&&oh.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Ue.isValidElement(n))return Ue.cloneElement(n,a);if(Kr(n))return n(a);var o=xs("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ue.createElement(dA,xg({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Ue.isValidElement(n))return Ue.cloneElement(n,a);var o=i;if(Kr(n)&&(o=n(a),Ue.isValidElement(o)))return o;var l=xs("recharts-pie-label-text",typeof n!="boolean"&&!Kr(n)?n.className:"");return Ue.createElement(EA,xg({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(F.PureComponent);$N=Au;ld(Au,"displayName","Pie");ld(Au,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ld(Au,"parseDeltaAngle",function(t,e){var r=ul(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ld(Au,"getRealPieData",function(t){var e=t.data,r=t.children,n=Dr(t,!1),a=wc(r,Nm);return e&&e.length?e.map(function(i,o){return Vn(Vn(Vn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vn(Vn({},n),i.props)}):[]});ld(Au,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=LZ(a,i),l=n+hl(t.cx,a,a/2),c=r+hl(t.cy,i,i/2),d=hl(t.innerRadius,o,0),u=hl(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});ld(Au,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Vn(Vn({},e.type.defaultProps),e.props):e.props,a=$N.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,h=n.valueKey,m=n.tooltipType,f=Math.abs(n.minAngle),A=$N.parseCoordinateOfPie(n,r),g=$N.parseDeltaAngle(o,l),x=Math.abs(g),v=d;as(d)&&as(h)?(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):as(d)&&(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=h);var j=a.filter(function(P){return Wa(P,v,0)!==0}).length,b=(x>=360?j:j-1)*c,S=x-j*f-b,w=a.reduce(function(P,_){var B=Wa(_,v,0);return P+(er(B)?B:0)},0),N;if(w>0){var E;N=a.map(function(P,_){var B=Wa(P,v,0),k=Wa(P,u,_),M=(er(B)?B:0)/w,T;_?T=E.endAngle+ul(g)*c*(B!==0?1:0):T=o;var H=T+ul(g)*((B!==0?f:0)+M*S),L=(T+H)/2,Q=(A.innerRadius+A.outerRadius)/2,O=[{name:k,value:B,payload:P,dataKey:v,type:m}],V=Xn(A.cx,A.cy,Q,L);return E=Vn(Vn(Vn({percent:M,cornerRadius:i,name:k,tooltipPayload:O,midAngle:L,middleRadius:Q,tooltipPosition:V},P),A),{},{value:Wa(P,v),startAngle:T,endAngle:H,payload:P,paddingAngle:ul(g)*c}),E})}return Vn(Vn({},A),{},{sectors:N,data:a})});var F6,Yz;function pEe(){if(Yz)return F6;Yz=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var l=-1,c=e(t((a-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return F6=r,F6}var P6,Jz;function ree(){if(Jz)return P6;Jz=1;var t=NJ(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return P6=n,P6}var I6,Zz;function AEe(){if(Zz)return I6;Zz=1;var t=pEe(),e=w4(),r=ree();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return I6=n,I6}var D6,e$;function xEe(){if(e$)return D6;e$=1;var t=AEe(),e=t();return D6=e,D6}var gEe=xEe();const Y5=Nn(gEe);function O1(t){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O1(t)}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){see(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function see(t,e,r){return e=vEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vEe(t){var e=yEe(t,"string");return O1(e)=="symbol"?e:e+""}function yEe(t,e){if(O1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bEe=["Webkit","Moz","O","ms"],wEe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=bEe.reduce(function(i,o){return r$(r$({},i),{},see({},o+n,r))},{});return a[e]=r,a};function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function J5(){return J5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J5.apply(this,arguments)}function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function L6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aee(n.key),n)}}function NEe(t,e,r){return e&&n$(t.prototype,e),r&&n$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SEe(t,e,r){return e=Z5(e),_Ee(t,nee()?Reflect.construct(e,r||[],Z5(t).constructor):e.apply(t,r))}function _Ee(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CEe(t)}function CEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nee=function(){return!!t})()}function Z5(t){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z5(t)}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NF(t,e)}function NF(t,e){return NF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NF(t,e)}function hc(t,e,r){return e=aee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aee(t){var e=kEe(t,"string");return mv(e)=="symbol"?e:e+""}function kEe(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BEe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Mb().domain(Y5(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},a$=function(e){return e.changedTouches&&!!e.changedTouches.length},pv=(function(t){function e(r){var n;return jEe(this,e),n=SEe(this,e,[r]),hc(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),hc(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),hc(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hc(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hc(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hc(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hc(n,"handleSlideDragStart",function(a){var i=a$(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return EEe(e,t),NEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),f=e.getIndexInRange(o,h),A=e.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:A===u?u:A-A%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Wa(i[n],l,n);return Kr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,A=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var x=this.getIndex({startX:o+g,endX:l+g});(x.startIndex!==m||x.endIndex!==f)&&A&&A(x),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=a$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,A=u.onChange,g=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,h+m-f-d):j<0&&(j=Math.max(j,h-d)),v[o]=d+j;var b=this.getIndex(v),S=b.startIndex,w=b.endIndex,N=function(){var P=x.length-1;return o==="startX"&&(l>c?S%g===0:w%g===0)||l<c&&w===P||o==="endX"&&(l>c?w%g===0:S%g===0)||l>c&&w===P};this.setState(hc(hc({},o,d+j),"brushMoveStartX",n.pageX),function(){A&&N()&&A(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var f=l[m];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(hc({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Ue.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,h=F.Children.only(d);return h?Ue.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,A=c.data,g=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),j=L6(L6({},Dr(this.props,!1)),{},{x:v,y:d,width:u,height:h}),b=f||"Min value: ".concat((i=A[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=A[x])===null||o===void 0?void 0:o.name);return Ue.createElement(Bs,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,h=Math.max(Math.abs(a-n)-d,0);return Ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,h=u.startX,m=u.endX,f=5,A={pointerEvents:"none",fill:d};return Ue.createElement(Bs,{className:"recharts-brush-texts"},Ue.createElement(EA,J5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},A),this.getTextOfTick(a)),Ue.createElement(EA,J5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},A),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,h=n.alwaysShowText,m=this.state,f=m.startX,A=m.endX,g=m.isTextActive,x=m.isSlideMoving,v=m.isTravellerMoving,j=m.isTravellerFocused;if(!a||!a.length||!er(l)||!er(c)||!er(d)||!er(u)||d<=0||u<=0)return null;var b=xs("recharts-brush",i),S=Ue.Children.count(o)===1,w=wEe("userSelect","none");return Ue.createElement(Bs,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,A),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(A,"endX"),(g||x||v||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return Ue.createElement(Ue.Fragment,null,Ue.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ue.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Ue.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ue.isValidElement(n)?i=Ue.cloneElement(n,a):Kr(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,h=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return L6({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?BEe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(F.PureComponent);hc(pv,"displayName","Brush");hc(pv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R6,i$;function TEe(){if(i$)return R6;i$=1;var t=zI();function e(r,n){var a;return t(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return R6=e,R6}var O6,o$;function MEe(){if(o$)return O6;o$=1;var t=tJ(),e=Ah(),r=TEe(),n=Xl(),a=w4();function i(o,l,c){var d=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return O6=i,O6}var FEe=MEe();const PEe=Nn(FEe);var lh=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},U6,l$;function IEe(){if(l$)return U6;l$=1;var t=vJ();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return U6=e,U6}var H6,c$;function DEe(){if(c$)return H6;c$=1;var t=IEe(),e=xJ(),r=Ah();function n(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return H6=n,H6}var LEe=DEe();const REe=Nn(LEe);var Q6,d$;function OEe(){if(d$)return Q6;d$=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Q6=t,Q6}var z6,u$;function UEe(){if(u$)return z6;u$=1;var t=zI();function e(r,n){var a=!0;return t(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return z6=e,z6}var $6,h$;function HEe(){if(h$)return $6;h$=1;var t=OEe(),e=UEe(),r=Ah(),n=Xl(),a=w4();function i(o,l,c){var d=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return $6=i,$6}var QEe=HEe();const iee=Nn(QEe);var zEe=["x","y"];function U1(t){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U1(t)}function SF(){return SF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SF.apply(this,arguments)}function f$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ky(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(r),!0).forEach(function(n){$Ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ee(t,e,r){return e=GEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GEe(t){var e=VEe(t,"string");return U1(e)=="symbol"?e:e+""}function VEe(t,e){if(U1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WEe(t,e){if(t==null)return{};var r=qEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KEe(t,e){var r=t.x,n=t.y,a=WEe(t,zEe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),m=parseInt(h,10);return Ky(Ky(Ky(Ky(Ky({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:e.name,radius:e.radius})}function m$(t){return Ue.createElement(ZZ,SF({shapeType:"rectangle",propTransformer:KEe,activeClassName:"recharts-active-bar"},t))}var XEe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||TA(),r)}},YEe=["value","background"],oee;function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function JEe(t,e){if(t==null)return{};var r=ZEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eS.apply(this,arguments)}function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){J0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cee(n.key),n)}}function tke(t,e,r){return e&&A$(t.prototype,e),r&&A$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rke(t,e,r){return e=tS(e),ske(t,lee()?Reflect.construct(e,r||[],tS(t).constructor):e.apply(t,r))}function ske(t,e){if(e&&(Av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nke(t)}function nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lee=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(t)}function ake(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_F(t,e)}function _F(t,e){return _F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_F(t,e)}function J0(t,e,r){return e=cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=ike(t,"string");return Av(e)=="symbol"?e:e+""}function ike(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $l=(function(t){function e(){var r;eke(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rke(this,e,[].concat(a)),J0(r,"state",{isAnimationFinished:!1}),J0(r,"id",WA("recharts-bar-")),J0(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),J0(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ake(e,t),tke(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Dr(this.props,!1);return n&&n.map(function(h,m){var f=m===c,A=f?d:o,g=oi(oi(oi({},u),h),{},{isActive:f,option:A,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ue.createElement(Bs,eS({className:"recharts-bar-rectangle"},CA(a.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ue.createElement(m$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return Ue.createElement(uu,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var A=f.t,g=i.map(function(x,v){var j=m&&m[v];if(j){var b=Si(j.x,x.x),S=Si(j.y,x.y),w=Si(j.width,x.width),N=Si(j.height,x.height);return oi(oi({},x),{},{x:b(A),y:S(A),width:w(A),height:N(A)})}if(o==="horizontal"){var E=Si(0,x.height),P=E(A);return oi(oi({},x),{},{y:x.y+x.height-P,height:P})}var _=Si(0,x.width),B=_(A);return oi(oi({},x),{},{width:B})});return Ue.createElement(Bs,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!kA(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Dr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=JEe(d,YEe);if(!h)return null;var f=oi(oi(oi(oi(oi({},m),{},{fill:"#eee"},h),c),CA(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Ue.createElement(m$,eS({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=wc(u,Qw);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(x,v){var j=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:j,errorVal:Wa(x,v)}},A={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Bs,A,h.map(function(g){return Ue.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,h=n.width,m=n.height,f=n.isAnimationActive,A=n.background,g=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=xs("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=j||b,w=as(g)?this.id:g;return Ue.createElement(Bs,{className:v},j||b?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(w)},Ue.createElement("rect",{x:j?d:d-h/2,y:b?u:u-m/2,width:j?h:h*2,height:b?m:m*2}))):null,Ue.createElement(Bs,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},A?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!f||x)&&oh.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(F.PureComponent);oee=$l;J0($l,"displayName","Bar");J0($l,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});J0($l,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=TSe(n,r);if(!f)return null;var A=e.layout,g=r.type.defaultProps,x=g!==void 0?oi(oi({},g),r.props):r.props,v=x.dataKey,j=x.children,b=x.minPointSize,S=A==="horizontal"?o:i,w=d?S.scale.domain():null,N=RSe({numericAxis:S}),E=wc(j,Nm),P=h.map(function(_,B){var k,M,T,H,L,Q;d?k=MSe(d[u+B],w):(k=Wa(_,v),Array.isArray(k)||(k=[N,k]));var O=XEe(b,oee.defaultProps.minPointSize)(k[1],B);if(A==="horizontal"){var V,ee=[o.scale(k[0]),o.scale(k[1])],Y=ee[0],re=ee[1];M=$Q({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:_,index:B}),T=(V=re??Y)!==null&&V!==void 0?V:void 0,H=f.size;var D=Y-re;if(L=Number.isNaN(D)?0:D,Q={x:M,y:o.y,width:H,height:o.height},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var G=ul(L||O)*(Math.abs(O)-Math.abs(L));T-=G,L+=G}}else{var z=[i.scale(k[0]),i.scale(k[1])],K=z[0],oe=z[1];if(M=K,T=$Q({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:_,index:B}),H=oe-K,L=f.size,Q={x:i.x,y:T,width:i.width,height:L},Math.abs(O)>0&&Math.abs(H)<Math.abs(O)){var ue=ul(H||O)*(Math.abs(O)-Math.abs(H));H+=ue}}return oi(oi(oi({},_),{},{x:M,y:T,width:H,height:L,value:d?k:k[1],payload:_,background:Q},E&&E[B]&&E[B].props),{},{tooltipPayload:[IZ(r,_)],tooltipPosition:{x:M+H/2,y:T+L/2}})});return oi({data:P,layout:A},m)});function H1(t){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H1(t)}function oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dee(n.key),n)}}function lke(t,e,r){return e&&x$(t.prototype,e),r&&x$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){O4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O4(t,e,r){return e=dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dee(t){var e=cke(t,"string");return H1(e)=="symbol"?e:e+""}function cke(t,e){if(H1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g8=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!fc(d,$l);return u.reduce(function(f,A){var g=r[A],x=g.orientation,v=g.domain,j=g.padding,b=j===void 0?{}:j,S=g.mirror,w=g.reversed,N="".concat(x).concat(S?"Mirror":""),E,P,_,B,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=v[1]-v[0],T=1/0,H=g.categoricalDomain.sort();if(H.forEach(function(z,K){K>0&&(T=Math.min((z||0)-(H[K-1]||0),T))}),Number.isFinite(T)){var L=T/M,Q=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=L*Q/2),g.padding==="no-gap"){var O=hl(e.barCategoryGap,L*Q),V=L*Q/2;E=V-O-(V-O)/Q*O}}}a==="xAxis"?P=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:P=g.range,w&&(P=[P[1],P[0]]);var ee=TZ(g,i,m),Y=ee.scale,re=ee.realScaleType;Y.domain(v).range(P),MZ(Y);var D=FZ(Y,Xd(Xd({},g),{},{realScaleType:re}));a==="xAxis"?(k=x==="top"&&!S||x==="bottom"&&S,_=n.left,B=h[N]-k*g.height):a==="yAxis"&&(k=x==="left"&&!S||x==="right"&&S,_=h[N]-k*g.width,B=n.top);var G=Xd(Xd(Xd({},g),D),{},{realScaleType:re,x:_,y:B,scale:Y,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return G.bandSize=R5(G,D),!g.hide&&a==="xAxis"?h[N]+=(k?-1:1)*G.height:g.hide||(h[N]+=(k?-1:1)*G.width),Xd(Xd({},f),{},O4({},A,G))},{})},uee=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},dke=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return uee({x:r,y:n},{x:a,y:i})},hee=(function(){function t(e){oke(this,t),this.scale=e}return lke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();O4(hee,"EPS",1e-4);var v8=function(e){var r=Object.keys(e).reduce(function(n,a){return Xd(Xd({},n),{},O4({},a,hee.create(e[a])))},{});return Xd(Xd({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return REe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return iee(a,function(i,o){return r[o].isInRange(i)})}})};function uke(t){return(t%180+180)%180}var hke=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uke(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},G6,v$;function fke(){if(v$)return G6;v$=1;var t=Ah(),e=Lw(),r=y4();function n(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return G6=n,G6}var V6,y$;function mke(){if(y$)return V6;y$=1;var t=ree();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return V6=e,V6}var W6,b$;function pke(){if(b$)return W6;b$=1;var t=hJ(),e=Ah(),r=mke(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return W6=a,W6}var q6,w$;function Ake(){if(w$)return q6;w$=1;var t=fke(),e=pke(),r=t(e);return q6=r,q6}var xke=Ake();const gke=Nn(xke);var vke=CY();const yke=Nn(vke);var bke=yke(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),y8=F.createContext(void 0),b8=F.createContext(void 0),fee=F.createContext(void 0),mee=F.createContext({}),pee=F.createContext(void 0),Aee=F.createContext(0),xee=F.createContext(0),j$=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=bke(i);return Ue.createElement(y8.Provider,{value:n},Ue.createElement(b8.Provider,{value:a},Ue.createElement(mee.Provider,{value:i},Ue.createElement(fee.Provider,{value:u},Ue.createElement(pee.Provider,{value:o},Ue.createElement(Aee.Provider,{value:d},Ue.createElement(xee.Provider,{value:c},l)))))))},wke=function(){return F.useContext(pee)},gee=function(e){var r=F.useContext(y8);r==null&&TA();var n=r[e];return n==null&&TA(),n},jke=function(){var e=F.useContext(y8);return q0(e)},Nke=function(){var e=F.useContext(b8),r=gke(e,function(n){return iee(n.domain,Number.isFinite)});return r||q0(e)},vee=function(e){var r=F.useContext(b8);r==null&&TA();var n=r[e];return n==null&&TA(),n},Ske=function(){var e=F.useContext(fee);return e},_ke=function(){return F.useContext(mee)},w8=function(){return F.useContext(xee)},j8=function(){return F.useContext(Aee)};function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Cke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bee(n.key),n)}}function kke(t,e,r){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bke(t,e,r){return e=rS(e),Tke(t,yee()?Reflect.construct(e,r||[],rS(t).constructor):e.apply(t,r))}function Tke(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mke(t)}function Mke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yee=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(t)}function Fke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CF(t,e)}function CF(t,e){return CF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CF(t,e)}function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){N8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N8(t,e,r){return e=bee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bee(t){var e=Pke(t,"string");return xv(e)=="symbol"?e:e+""}function Pke(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ike(t,e){return Oke(t)||Rke(t,e)||Lke(t,e)||Dke()}function Dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(t,e){if(t){if(typeof t=="string")return _$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _$(t,e)}}function _$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Oke(t){if(Array.isArray(t))return t}function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EF.apply(this,arguments)}var Uke=function(e,r){var n;return Ue.isValidElement(e)?n=Ue.cloneElement(e,r):Kr(e)?n=e(r):n=Ue.createElement("line",EF({},r,{className:"recharts-reference-line-line"})),n},Hke=function(e,r,n,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,f=i.height;if(n){var A=d.y,g=e.y.apply(A,{position:o});if(lh(d,"discard")&&!e.y.isInRange(g))return null;var x=[{x:u+m,y:g},{x:u,y:g}];return c==="left"?x.reverse():x}if(r){var v=d.x,j=e.x.apply(v,{position:o});if(lh(d,"discard")&&!e.x.isInRange(j))return null;var b=[{x:j,y:h+f},{x:j,y:h}];return l==="top"?b.reverse():b}if(a){var S=d.segment,w=S.map(function(N){return e.apply(N,{position:o})});return lh(d,"discard")&&PEe(w,function(N){return!e.isInRange(N)})?null:w}return null};function Qke(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=wke(),u=gee(a),h=vee(i),m=Ske();if(!d||!m)return null;ou(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=v8({x:u.scale,y:h.scale}),A=Bi(e),g=Bi(r),x=n&&n.length===2,v=Hke(f,A,g,x,m,t.position,u.orientation,h.orientation,t);if(!v)return null;var j=Ike(v,2),b=j[0],S=b.x,w=b.y,N=j[1],E=N.x,P=N.y,_=lh(t,"hidden")?"url(#".concat(d,")"):void 0,B=S$(S$({clipPath:_},Dr(t,!0)),{},{x1:S,y1:w,x2:E,y2:P});return Ue.createElement(Bs,{className:xs("recharts-reference-line",l)},Uke(o,B),qi.renderCallByParent(t,dke({x1:S,y1:w,x2:E,y2:P})))}var S8=(function(t){function e(){return Cke(this,e),Bke(this,e,arguments)}return Fke(e,t),kke(e,[{key:"render",value:function(){return Ue.createElement(Qke,this.props)}}])})(Ue.Component);N8(S8,"displayName","ReferenceLine");N8(S8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kF(){return kF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kF.apply(this,arguments)}function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function C$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function E$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(r),!0).forEach(function(n){U4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jee(n.key),n)}}function Gke(t,e,r){return e&&$ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,r){return e=sS(e),Wke(t,wee()?Reflect.construct(e,r||[],sS(t).constructor):e.apply(t,r))}function Wke(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qke(t)}function qke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function sS(t){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sS(t)}function Kke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BF(t,e)}function BF(t,e){return BF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BF(t,e)}function U4(t,e,r){return e=jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jee(t){var e=Xke(t,"string");return gv(e)=="symbol"?e:e+""}function Xke(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yke=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=v8({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return lh(e,"discard")&&!o.isInRange(l)?null:l},H4=(function(t){function e(){return zke(this,e),Vke(this,e,arguments)}return Kke(e,t),Gke(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Bi(a),u=Bi(i);if(ou(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=Yke(this.props);if(!h)return null;var m=h.x,f=h.y,A=this.props,g=A.shape,x=A.className,v=lh(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=E$(E$({clipPath:v},Dr(this.props,!0)),{},{cx:m,cy:f});return Ue.createElement(Bs,{className:xs("recharts-reference-dot",x)},e.renderDot(g,j),qi.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])})(Ue.Component);U4(H4,"displayName","ReferenceDot");U4(H4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});U4(H4,"renderDot",function(t,e){var r;return Ue.isValidElement(t)?r=Ue.cloneElement(t,e):Kr(t)?r=t(e):r=Ue.createElement(zw,kF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function TF(){return TF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TF.apply(this,arguments)}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function k$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(r),!0).forEach(function(n){Q4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function e6e(t,e,r){return e&&Zke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t6e(t,e,r){return e=nS(e),r6e(t,Nee()?Reflect.construct(e,r||[],nS(t).constructor):e.apply(t,r))}function r6e(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(t)}function s6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(t)}function n6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MF(t,e)}function MF(t,e){return MF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MF(t,e)}function Q4(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=a6e(t,"string");return vv(e)=="symbol"?e:e+""}function a6e(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i6e=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=v8({x:u.scale,y:h.scale}),f={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},A={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return lh(i,"discard")&&(!m.isInRange(f)||!m.isInRange(A))?null:uee(f,A)},z4=(function(t){function e(){return Jke(this,e),t6e(this,e,arguments)}return n6e(e,t),e6e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;ou(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Bi(a),m=Bi(i),f=Bi(o),A=Bi(l),g=this.props.shape;if(!h&&!m&&!f&&!A&&!g)return null;var x=i6e(h,m,f,A,this.props);if(!x&&!g)return null;var v=lh(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ue.createElement(Bs,{className:xs("recharts-reference-area",c)},e.renderRect(g,B$(B$({clipPath:v},Dr(this.props,!0)),x)),qi.renderCallByParent(this.props,x))}}])})(Ue.Component);Q4(z4,"displayName","ReferenceArea");Q4(z4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q4(z4,"renderRect",function(t,e){var r;return Ue.isValidElement(t)?r=Ue.cloneElement(t,e):Kr(t)?r=t(e):r=Ue.createElement(x8,TF({},e,{className:"recharts-reference-area-rect"})),r});function _ee(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function o6e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return hke(n,r)}function l6e(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function aS(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function c6e(t,e){return _ee(t,e+1)}function d6e(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var A=n==null?void 0:n[c];if(A===void 0)return{v:_ee(n,d)};var g=c,x,v=function(){return x===void 0&&(x=r(A,g)),x},j=A.coordinate,b=c===0||aS(t,j,v,u,l);b||(c=0,u=o,d+=1),b&&(u=j+t*(v()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Q1(t){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){u6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u6e(t,e,r){return e=h6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h6e(t){var e=f6e(t,"string");return Q1(e)=="symbol"?e:e+""}function f6e(t,e){if(Q1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m6e(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(m){var f=i[m],A,g=function(){return A===void 0&&(A=r(f,m)),A};if(m===o-1){var x=t*(f.coordinate+t*g()/2-c);i[m]=f=Oo(Oo({},f),{},{tickCoord:x>0?f.coordinate-x*t:f.coordinate})}else i[m]=f=Oo(Oo({},f),{},{tickCoord:f.coordinate});var v=aS(t,f.tickCoord,g,l,c);v&&(c=f.tickCoord-t*(g()/2+a),i[m]=Oo(Oo({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function p6e(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],h=r(u,l-1),m=t*(u.coordinate+t*h/2-d);o[l-1]=u=Oo(Oo({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate});var f=aS(t,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Oo(Oo({},u),{},{isShow:!0}))}for(var A=i?l-1:l,g=function(j){var b=o[j],S,w=function(){return S===void 0&&(S=r(b,j)),S};if(j===0){var N=t*(b.coordinate-t*w()/2-c);o[j]=b=Oo(Oo({},b),{},{tickCoord:N<0?b.coordinate-N*t:b.coordinate})}else o[j]=b=Oo(Oo({},b),{},{tickCoord:b.coordinate});var E=aS(t,b.tickCoord,w,c,d);E&&(c=b.tickCoord+t*(w()/2+a),o[j]=Oo(Oo({},b),{},{isShow:!0}))},x=0;x<A;x++)g(x);return o}function _8(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(er(c)||Fm.isSsr)return c6e(a,typeof c=="number"&&er(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",A=u&&f==="width"?Tb(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Kr(d)?d(b.value,S):b.value;return f==="width"?o6e(Tb(w,{fontSize:e,letterSpacing:r}),A,h):Tb(w,{fontSize:e,letterSpacing:r})[f]},x=a.length>=2?ul(a[1].coordinate-a[0].coordinate):1,v=l6e(i,x,f);return c==="equidistantPreserveStart"?d6e(x,v,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=p6e(x,v,g,a,o,c==="preserveStartEnd"):m=m6e(x,v,g,a,o),m.filter(function(j){return j.isShow}))}var A6e=["viewBox"],x6e=["viewBox"],g6e=["ticks"];function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gg.apply(this,arguments)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){C8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K6(t,e){if(t==null)return{};var r=v6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Eee(n.key),n)}}function b6e(t,e,r){return e&&F$(t.prototype,e),r&&F$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w6e(t,e,r){return e=iS(e),j6e(t,Cee()?Reflect.construct(e,r||[],iS(t).constructor):e.apply(t,r))}function j6e(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N6e(t)}function N6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cee=function(){return!!t})()}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(t)}function S6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FF(t,e)}function FF(t,e){return FF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FF(t,e)}function C8(t,e,r){return e=Eee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eee(t){var e=_6e(t,"string");return yv(e)=="symbol"?e:e+""}function _6e(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qv=(function(t){function e(r){var n;return y6e(this,e),n=w6e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return S6e(e,t),b6e(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=K6(n,A6e),l=this.props,c=l.viewBox,d=K6(l,x6e);return!Cg(i,c)||!Cg(o,d)||!Cg(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,f,A,g,x,v,j,b=h?-1:1,S=n.tickSize||u,w=er(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":f=A=n.coordinate,x=o+ +!h*c,g=x-b*S,j=g-b*m,v=w;break;case"left":g=x=n.coordinate,A=i+ +!h*l,f=A-b*S,v=f-b*m,j=w;break;case"right":g=x=n.coordinate,A=i+ +h*l,f=A+b*S,v=f+b*m,j=w;break;default:f=A=n.coordinate,x=o+ +h*c,g=x+b*S,j=g+b*m,v=w;break}return{line:{x1:f,y1:g,x2:A,y2:x},tick:{x:v,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,h=il(il(il({},Dr(this.props,!1)),Dr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=il(il({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=il(il({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return Ue.createElement("line",gg({},h,{className:xs("recharts-cartesian-axis-line",bc(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=_8(il(il({},this.props),{},{ticks:n}),a,i),A=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Dr(this.props,!1),v=Dr(u,!1),j=il(il({},x),{},{fill:"none"},Dr(c,!1)),b=f.map(function(S,w){var N=o.getTickLineCoord(S),E=N.line,P=N.tick,_=il(il(il(il({textAnchor:A,verticalAnchor:g},x),{},{stroke:"none",fill:d},v),P),{},{index:w,payload:S,visibleTicksCount:f.length,tickFormatter:h});return Ue.createElement(Bs,gg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},CA(o.props,S,w)),c&&Ue.createElement("line",gg({},j,E,{className:xs("recharts-cartesian-axis-tick-line",bc(c,"className"))})),u&&e.renderTickItem(u,_,"".concat(Kr(h)?h(S.value,w):S.value).concat(m||"")))});return Ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,f=K6(h,g6e),A=m;return Kr(c)&&(A=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!A||!A.length?null:Ue.createElement(Bs,{className:xs("recharts-cartesian-axis",d),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(A,this.state.fontSize,this.state.letterSpacing),qi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ue.isValidElement(n)?o=Ue.cloneElement(n,a):Kr(n)?o=n(a):o=Ue.createElement(EA,gg({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(F.Component);C8(qv,"displayName","CartesianAxis");C8(qv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var C6e=["x1","y1","x2","y2","key"],E6e=["offset"];function MA(t){"@babel/helpers - typeof";return MA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MA(t)}function P$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(r),!0).forEach(function(n){k6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k6e(t,e,r){return e=B6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B6e(t){var e=T6e(t,"string");return MA(e)=="symbol"?e:e+""}function T6e(t,e){if(MA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(MA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eA.apply(this,arguments)}function I$(t,e){if(t==null)return{};var r=M6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var F6e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Ue.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kee(t,e){var r;if(Ue.isValidElement(t))r=Ue.cloneElement(t,e);else if(Kr(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=I$(e,C6e),d=Dr(c,!1);d.offset;var u=I$(d,E6e);r=Ue.createElement("line",eA({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function P6e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=zo(zo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return kee(a,d)});return Ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function I6e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=zo(zo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return kee(a,d)});return Ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function D6e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,f){return m-f});a!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var A=!u[f+1],g=A?a+o-m:u[f+1]-m;if(g<=0)return null;var x=f%e.length;return Ue.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:g,width:i,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function L6e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,f){return m-f});i!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var A=!u[f+1],g=A?i+l-m:u[f+1]-m;if(g<=0)return null;var x=f%n.length;return Ue.createElement("rect",{key:"react-".concat(f),x:m,y:o,width:g,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var R6e=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return BZ(_8(zo(zo(zo({},qv.defaultProps),n),{},{ticks:Sf(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},O6e=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return BZ(_8(zo(zo(zo({},qv.defaultProps),n),{},{ticks:Sf(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Vx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mf(t){var e,r,n,a,i,o,l=w8(),c=j8(),d=_ke(),u=zo(zo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vx.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Vx.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Vx.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Vx.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Vx.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Vx.verticalFill,x:er(t.x)?t.x:d.left,y:er(t.y)?t.y:d.top,width:er(t.width)?t.width:d.width,height:er(t.height)?t.height:d.height}),h=u.x,m=u.y,f=u.width,A=u.height,g=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,j=jke(),b=Nke();if(!er(f)||f<=0||!er(A)||A<=0||!er(h)||h!==+h||!er(m)||m!==+m)return null;var S=u.verticalCoordinatesGenerator||R6e,w=u.horizontalCoordinatesGenerator||O6e,N=u.horizontalPoints,E=u.verticalPoints;if((!N||!N.length)&&Kr(w)){var P=x&&x.length,_=w({yAxis:b?zo(zo({},b),{},{ticks:P?x:b.ticks}):void 0,width:l,height:c,offset:d},P?!0:g);ou(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(MA(_),"]")),Array.isArray(_)&&(N=_)}if((!E||!E.length)&&Kr(S)){var B=v&&v.length,k=S({xAxis:j?zo(zo({},j),{},{ticks:B?v:j.ticks}):void 0,width:l,height:c,offset:d},B?!0:g);ou(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(MA(k),"]")),Array.isArray(k)&&(E=k)}return Ue.createElement("g",{className:"recharts-cartesian-grid"},Ue.createElement(F6e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ue.createElement(P6e,eA({},u,{offset:d,horizontalPoints:N,xAxis:j,yAxis:b})),Ue.createElement(I6e,eA({},u,{offset:d,verticalPoints:E,xAxis:j,yAxis:b})),Ue.createElement(D6e,eA({},u,{horizontalPoints:N})),Ue.createElement(L6e,eA({},u,{verticalPoints:E})))}Mf.displayName="CartesianGrid";var U6e=["type","layout","connectNulls","ref"],H6e=["key"];function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function D$(t,e){if(t==null)return{};var r=Q6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function L$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wx(t){return V6e(t)||G6e(t)||$6e(t)||z6e()}function z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6e(t,e){if(t){if(typeof t=="string")return PF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PF(t,e)}}function G6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V6e(t){if(Array.isArray(t))return PF(t)}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tee(n.key),n)}}function q6e(t,e,r){return e&&R$(t.prototype,e),r&&R$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6e(t,e,r){return e=oS(e),X6e(t,Bee()?Reflect.construct(e,r||[],oS(t).constructor):e.apply(t,r))}function X6e(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(t)}function Y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bee=function(){return!!t})()}function oS(t){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(t)}function J6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IF(t,e)}function IF(t,e){return IF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IF(t,e)}function Yd(t,e,r){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tee(t){var e=Z6e(t,"string");return bv(e)=="symbol"?e:e+""}function Z6e(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FA=(function(t){function e(){var r;W6e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=K6e(this,e,[].concat(a)),Yd(r,"state",{isAnimationFinished:!0,totalLength:0}),Yd(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Yd(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,j){return v+j});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,m=l-o,f=[],A=0,g=0;A<c.length;g+=c[A],++A)if(g+c[A]>h){f=[].concat(Wx(c.slice(0,A)),[h-g]);break}var x=f.length%2===0?[0,m]:[m];return[].concat(Wx(e.repeat(c,u)),Wx(f),x).map(function(v){return"".concat(v,"px")}).join(", ")}),Yd(r,"id",WA("recharts-line-")),Yd(r,"pathRef",function(o){r.mainCurve=o}),Yd(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Yd(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return J6e(e,t),q6e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=wc(u,Qw);if(!h)return null;var m=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Wa(g.payload,x)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Bs,f,h.map(function(A){return Ue.cloneElement(A,{key:"bar-".concat(A.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Dr(this.props,!1),m=Dr(c,!0),f=d.map(function(g,x){var v=dc(dc(dc({key:"dot-".concat(x),r:3},h),m),{},{value:g.value,dataKey:u,cx:g.x,cy:g.y,index:x,payload:g.payload});return e.renderDotItem(c,v)}),A={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(Bs,Lb({className:"recharts-line-dots",key:"dots"},A),f)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=D$(l,U6e),m=dc(dc(dc({},Dr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return Ue.createElement(dA,Lb({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,A=o.animateNewValues,g=o.width,x=o.height,v=this.state,j=v.prevPoints,b=v.totalLength;return Ue.createElement(uu,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(j){var N=j.length/l.length,E=l.map(function(M,T){var H=Math.floor(T*N);if(j[H]){var L=j[H],Q=Si(L.x,M.x),O=Si(L.y,M.y);return dc(dc({},M),{},{x:Q(w),y:O(w)})}if(A){var V=Si(g*2,M.x),ee=Si(x/2,M.y);return dc(dc({},M),{},{x:V(w),y:ee(w)})}return dc(dc({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(E,n,a)}var P=Si(0,b),_=P(w),B;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});B=i.getStrokeDasharray(_,b,k)}else B=i.generateSimpleStrokeDasharray(b,_);return i.renderCurveStatically(l,n,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!kA(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,m=a.left,f=a.width,A=a.height,g=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,j=l.length===1,b=xs("recharts-line",c),S=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,N=S||w,E=as(x)?this.id:x,P=(n=Dr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,B=_===void 0?3:_,k=P.strokeWidth,M=k===void 0?2:k,T=MY(o)?o:{},H=T.clipDot,L=H===void 0?!0:H,Q=B*2+M;return Ue.createElement(Bs,{className:b},S||w?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(E)},Ue.createElement("rect",{x:S?m:m-f/2,y:w?h:h-A/2,width:S?f:f*2,height:w?A:A*2})),!L&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ue.createElement("rect",{x:m-Q/2,y:h-Q/2,width:f+Q,height:A+Q}))):null,!j&&this.renderCurve(N,E),this.renderErrorBar(N,E),(j||o)&&this.renderDots(N,L,E),(!g||v)&&oh.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Wx(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Wx(o),Wx(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ue.isValidElement(n))i=Ue.cloneElement(n,a);else if(Kr(n))i=n(a);else{var o=a.key,l=D$(a,H6e),c=xs("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ue.createElement(zw,Lb({key:o},l,{className:c}))}return i}}])})(F.PureComponent);Yd(FA,"displayName","Line");Yd(FA,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yd(FA,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=e.layout,h=c.map(function(m,f){var A=Wa(m,o);return u==="horizontal"?{x:L5({axis:r,ticks:a,bandSize:l,entry:m,index:f}),y:as(A)?null:n.scale(A),value:A,payload:m}:{x:as(A)?null:r.scale(A),y:L5({axis:n,ticks:i,bandSize:l,entry:m,index:f}),value:A,payload:m}});return dc({points:h,layout:u},d)});var eBe=["layout","type","stroke","connectNulls","isRange","ref"],tBe=["key"],Mee;function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function Fee(t,e){if(t==null)return{};var r=rBe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tA.apply(this,arguments)}function O$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(r),!0).forEach(function(n){eh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iee(n.key),n)}}function nBe(t,e,r){return e&&U$(t.prototype,e),r&&U$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aBe(t,e,r){return e=lS(e),iBe(t,Pee()?Reflect.construct(e,r||[],lS(t).constructor):e.apply(t,r))}function iBe(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oBe(t)}function oBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pee=function(){return!!t})()}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(t)}function lBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DF(t,e)}function DF(t,e){return DF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DF(t,e)}function eh(t,e,r){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iee(t){var e=cBe(t,"string");return wv(e)=="symbol"?e:e+""}function cBe(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ch=(function(t){function e(){var r;sBe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aBe(this,e,[].concat(a)),eh(r,"state",{isAnimationFinished:!0}),eh(r,"id",WA("recharts-area-")),eh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Kr(o)&&o()}),eh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Kr(o)&&o()}),r}return lBe(e,t),nBe(e,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=Dr(this.props,!1),f=Dr(d,!0),A=u.map(function(x,v){var j=U0(U0(U0({key:"dot-".concat(v),r:3},m),f),{},{index:v,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:u});return e.renderDotItem(d,j)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(Bs,tA({className:"recharts-area-dots"},g),A)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),h=Y0(o.map(function(m){return m.y||0}));return er(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Y0(i.map(function(m){return m.y||0})),h)),er(h)?Ue.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),h=Y0(o.map(function(m){return m.x||0}));return er(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Y0(i.map(function(m){return m.x||0})),h)),er(h)?Ue.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var f=Fee(l,eBe);return Ue.createElement(Bs,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ue.createElement(dA,tA({},Dr(f,!0),{points:n,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ue.createElement(dA,tA({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})),u!=="none"&&m&&Ue.createElement(dA,tA({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,A=this.state,g=A.prevPoints,x=A.prevBaseLine;return Ue.createElement(uu,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t;if(g){var b=g.length/l.length,S=l.map(function(P,_){var B=Math.floor(_*b);if(g[B]){var k=g[B],M=Si(k.x,P.x),T=Si(k.y,P.y);return U0(U0({},P),{},{x:M(j),y:T(j)})}return P}),w;if(er(c)&&typeof c=="number"){var N=Si(x,c);w=N(j)}else if(as(c)||zv(c)){var E=Si(x,0);w=E(j)}else w=c.map(function(P,_){var B=Math.floor(_*b);if(x[B]){var k=x[B],M=Si(k.x,P.x),T=Si(k.y,P.y);return U0(U0({},P),{},{x:M(j),y:T(j)})}return P});return i.renderAreaStatically(S,w,n,a)}return Ue.createElement(Bs,null,Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(j))),Ue.createElement(Bs,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!kA(u,o)||!kA(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,m=a.yAxis,f=a.width,A=a.height,g=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,j=l.length===1,b=xs("recharts-area",c),S=h&&h.allowDataOverflow,w=m&&m.allowDataOverflow,N=S||w,E=as(x)?this.id:x,P=(n=Dr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,B=_===void 0?3:_,k=P.strokeWidth,M=k===void 0?2:k,T=MY(o)?o:{},H=T.clipDot,L=H===void 0?!0:H,Q=B*2+M;return Ue.createElement(Bs,{className:b},S||w?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(E)},Ue.createElement("rect",{x:S?u:u-f/2,y:w?d:d-A/2,width:S?f:f*2,height:w?A:A*2})),!L&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ue.createElement("rect",{x:u-Q/2,y:d-Q/2,width:f+Q,height:A+Q}))):null,j?null:this.renderArea(N,E),(o||j)&&this.renderDots(N,L,E),(!g||v)&&oh.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(F.PureComponent);Mee=ch;eh(ch,"displayName","Area");eh(ch,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});eh(ch,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(er(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});eh(ch,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=e.layout,A=d&&d.length,g=Mee.getBaseValue(e,r,n,a),x=f==="horizontal",v=!1,j=h.map(function(S,w){var N;A?N=d[u+w]:(N=Wa(S,c),Array.isArray(N)?v=!0:N=[g,N]);var E=N[1]==null||A&&Wa(S,c)==null;return x?{x:L5({axis:n,ticks:i,bandSize:l,entry:S,index:w}),y:E?null:a.scale(N[1]),value:N,payload:S}:{x:E?null:n.scale(N[1]),y:L5({axis:a,ticks:o,bandSize:l,entry:S,index:w}),value:N,payload:S}}),b;return A||v?b=j.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(g):n.scale(g),U0({points:j,baseLine:b,layout:f,isRange:v},m)});eh(ch,"renderDotItem",function(t,e){var r;if(Ue.isValidElement(t))r=Ue.cloneElement(t,e);else if(Kr(t))r=t(e);else{var n=xs("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=Fee(e,tBe);r=Ue.createElement(zw,tA({},i,{key:a,className:n}))}return r});function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function dBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ree(n.key),n)}}function hBe(t,e,r){return e&&uBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fBe(t,e,r){return e=cS(e),mBe(t,Dee()?Reflect.construct(e,r||[],cS(t).constructor):e.apply(t,r))}function mBe(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pBe(t)}function pBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dee=function(){return!!t})()}function cS(t){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(t)}function ABe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LF(t,e)}function LF(t,e){return LF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LF(t,e)}function Lee(t,e,r){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ree(t){var e=xBe(t,"string");return jv(e)=="symbol"?e:e+""}function xBe(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RF(){return RF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RF.apply(this,arguments)}function gBe(t){var e=t.xAxisId,r=w8(),n=j8(),a=gee(e);return a==null?null:Ue.createElement(qv,RF({},a,{className:xs("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Sf(o,!0)}}))}var jc=(function(t){function e(){return dBe(this,e),fBe(this,e,arguments)}return ABe(e,t),hBe(e,[{key:"render",value:function(){return Ue.createElement(gBe,this.props)}}])})(Ue.Component);Lee(jc,"displayName","XAxis");Lee(jc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function vBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hee(n.key),n)}}function bBe(t,e,r){return e&&yBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wBe(t,e,r){return e=dS(e),jBe(t,Oee()?Reflect.construct(e,r||[],dS(t).constructor):e.apply(t,r))}function jBe(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NBe(t)}function NBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oee=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dS(t)}function SBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OF(t,e)}function OF(t,e){return OF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OF(t,e)}function Uee(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=_Be(t,"string");return Nv(e)=="symbol"?e:e+""}function _Be(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UF(){return UF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UF.apply(this,arguments)}var CBe=function(e){var r=e.yAxisId,n=w8(),a=j8(),i=vee(r);return i==null?null:Ue.createElement(qv,UF({},i,{className:xs("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Sf(l,!0)}}))},Nc=(function(t){function e(){return vBe(this,e),wBe(this,e,arguments)}return SBe(e,t),bBe(e,[{key:"render",value:function(){return Ue.createElement(CBe,this.props)}}])})(Ue.Component);Uee(Nc,"displayName","YAxis");Uee(Nc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function H$(t){return TBe(t)||BBe(t)||kBe(t)||EBe()}function EBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(t,e){if(t){if(typeof t=="string")return HF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HF(t,e)}}function BBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TBe(t){if(Array.isArray(t))return HF(t)}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QF=function(e,r,n,a,i){var o=wc(e,S8),l=wc(e,H4),c=[].concat(H$(o),H$(l)),d=wc(e,z4),u="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(g,x){if(x.props[u]===n&&lh(x.props,"extendDomain")&&er(x.props[h])){var v=x.props[h];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},m)),d.length){var f="".concat(h,"1"),A="".concat(h,"2");m=d.reduce(function(g,x){if(x.props[u]===n&&lh(x.props,"extendDomain")&&er(x.props[f])&&er(x.props[A])){var v=x.props[f],j=x.props[A];return[Math.min(g[0],v,j),Math.max(g[1],v,j)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,x){return er(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},m)),m},X6={exports:{}},Q$;function MBe(){return Q$||(Q$=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),A=r?r+d:d;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],f]:c._events[A].push(f):(c._events[A]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,A=new Array(f);m<f;m++)A[m]=h[m].fn;return A},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,A){var g=r?r+d:d;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,j,b;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,m),!0;case 5:return x.fn.call(x.context,u,h,m,f),!0;case 6:return x.fn.call(x.context,u,h,m,f,A),!0}for(b=1,j=new Array(v-1);b<v;b++)j[b-1]=arguments[b];x.fn.apply(x.context,j)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(d,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,h);break;case 4:x[b].fn.call(x[b].context,u,h,m);break;default:if(!j)for(w=1,j=new Array(v-1);w<v;w++)j[w-1]=arguments[w];x[b].fn.apply(x[b].context,j)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var A=this._events[f];if(A.fn)A.fn===u&&(!m||A.once)&&(!h||A.context===h)&&o(this,f);else{for(var g=0,x=[],v=A.length;g<v;g++)(A[g].fn!==u||m&&!A[g].once||h&&A[g].context!==h)&&x.push(A[g]);x.length?this._events[f]=x.length===1?x[0]:x:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(X6)),X6.exports}var FBe=MBe();const PBe=Nn(FBe);var Y6=new PBe,J6="recharts.syncMouseEvents";function z1(t){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1(t)}function IBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qee(n.key),n)}}function LBe(t,e,r){return e&&DBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z6(t,e,r){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qee(t){var e=RBe(t,"string");return z1(e)=="symbol"?e:e+""}function RBe(t,e){if(z1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OBe=(function(){function t(){IBe(this,t),Z6(this,"activeIndex",0),Z6(this,"coordinateList",[]),Z6(this,"layout","horizontal")}return LBe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,m=r.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function UBe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&er(n)&&er(a))return!0}return!1}function HBe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function zee(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Xn(e,r,n,a),l=Xn(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function QBe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,m=Xn(l,c,d,h),f=Xn(l,c,u,h);n=m.x,a=m.y,i=f.x,o=f.y}else return zee(e);return[{x:n,y:a},{x:i,y:o}]}function $1(t){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$1(t)}function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){zBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zBe(t,e,r){return e=$Be(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Be(t){var e=GBe(t,"string");return $1(e)=="symbol"?e:e+""}function GBe(t,e){if($1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VBe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var A,g=dA;if(m==="ScatterChart")A=o,g=n3e;else if(m==="BarChart")A=HBe(h,o,c,u),g=x8;else if(h==="radial"){var x=zee(o),v=x.cx,j=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;A={cx:v,cy:j,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=HZ}else A={points:QBe(h,o,c)},g=dA;var N=_j(_j(_j(_j({stroke:"#ccc",pointerEvents:"none"},c),A),Dr(f,!1)),{},{payload:l,payloadIndex:d,className:xs("recharts-tooltip-cursor",f.className)});return F.isValidElement(f)?F.cloneElement(f,N):F.createElement(g,N)}var WBe=["item"],qBe=["children","className","width","height","style","compact","title","desc"];function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function $$(t,e){return YBe(t)||XBe(t,e)||Gee(t,e)||KBe()}function KBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function YBe(t){if(Array.isArray(t))return t}function G$(t,e){if(t==null)return{};var r=JBe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vee(n.key),n)}}function tTe(t,e,r){return e&&eTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rTe(t,e,r){return e=uS(e),sTe(t,$ee()?Reflect.construct(e,r||[],uS(t).constructor):e.apply(t,r))}function sTe(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nTe(t)}function nTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ee=function(){return!!t})()}function uS(t){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(t)}function aTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zF(t,e)}function zF(t,e){return zF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zF(t,e)}function _v(t){return lTe(t)||oTe(t)||Gee(t)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(t,e){if(t){if(typeof t=="string")return $F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $F(t,e)}}function oTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lTe(t){if(Array.isArray(t))return $F(t)}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(r),!0).forEach(function(n){Wr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wr(t,e,r){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vee(t){var e=cTe(t,"string");return Sv(e)=="symbol"?e:e+""}function cTe(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dTe={xAxis:["bottom","top"],yAxis:["left","right"]},uTe={width:"100%",height:"100%"},Wee={x:0,y:0};function Cj(t){return t}var hTe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},fTe=function(e,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return Ft(Ft(Ft({},a),Xn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Ft(Ft(Ft({},a),Xn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return Wee},$4=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(_v(l),_v(d)):l},[]);return o.length>0?o:e&&e.length&&er(a)&&er(i)?e.slice(a,i+1):[]};function qee(t){return t==="number"?[0,"auto"]:void 0}var GF=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=$4(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=h5(f,o.dataKey,a)}else m=h&&h[n]||l[n];return m?[].concat(_v(c),[IZ(d,m)]):c},[])},W$=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=hTe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=SSe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=GF(e,r,u,h),f=fTe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},mTe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=e.stackOffset,f=kZ(u,i);return n.reduce(function(A,g){var x,v=g.type.defaultProps!==void 0?Ft(Ft({},g.type.defaultProps),g.props):g.props,j=v.type,b=v.dataKey,S=v.allowDataOverflow,w=v.allowDuplicatedCategory,N=v.scale,E=v.ticks,P=v.includeHidden,_=v[o];if(A[_])return A;var B=$4(e.data,{graphicalItems:a.filter(function(D){var G,z=o in D.props?D.props[o]:(G=D.type.defaultProps)===null||G===void 0?void 0:G[o];return z===_}),dataStartIndex:c,dataEndIndex:d}),k=B.length,M,T,H;UBe(v.domain,S,j)&&(M=nF(v.domain,null,S),f&&(j==="number"||N!=="auto")&&(H=Fb(B,b,"category")));var L=qee(j);if(!M||M.length===0){var Q,O=(Q=v.domain)!==null&&Q!==void 0?Q:L;if(b){if(M=Fb(B,b,j),j==="category"&&f){var V=yye(M);w&&V?(T=M,M=Y5(0,k)):w||(M=WQ(O,M,g).reduce(function(D,G){return D.indexOf(G)>=0?D:[].concat(_v(D),[G])},[]))}else if(j==="category")w?M=M.filter(function(D){return D!==""&&!as(D)}):M=WQ(O,M,g).reduce(function(D,G){return D.indexOf(G)>=0||G===""||as(G)?D:[].concat(_v(D),[G])},[]);else if(j==="number"){var ee=BSe(B,a.filter(function(D){var G,z,K=o in D.props?D.props[o]:(G=D.type.defaultProps)===null||G===void 0?void 0:G[o],oe="hide"in D.props?D.props.hide:(z=D.type.defaultProps)===null||z===void 0?void 0:z.hide;return K===_&&(P||!oe)}),b,i,u);ee&&(M=ee)}f&&(j==="number"||N!=="auto")&&(H=Fb(B,b,"category"))}else f?M=Y5(0,k):l&&l[_]&&l[_].hasStack&&j==="number"?M=m==="expand"?[0,1]:PZ(l[_].stackGroups,c,d):M=EZ(B,a.filter(function(D){var G=o in D.props?D.props[o]:D.type.defaultProps[o],z="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return G===_&&(P||!z)}),j,u,!0);if(j==="number")M=QF(h,M,_,i,E),O&&(M=nF(O,M,S));else if(j==="category"&&O){var Y=O,re=M.every(function(D){return Y.indexOf(D)>=0});re&&(M=Y)}}return Ft(Ft({},A),{},Wr({},_,Ft(Ft({},v),{},{axisType:i,domain:M,categoricalDomain:H,duplicateDomain:T,originalDomain:(x=v.domain)!==null&&x!==void 0?x:L,isCategorical:f,layout:u})))},{})},pTe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=$4(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),f=m.length,A=kZ(u,i),g=-1;return n.reduce(function(x,v){var j=v.type.defaultProps!==void 0?Ft(Ft({},v.type.defaultProps),v.props):v.props,b=j[o],S=qee("number");if(!x[b]){g++;var w;return A?w=Y5(0,f):l&&l[b]&&l[b].hasStack?(w=PZ(l[b].stackGroups,c,d),w=QF(h,w,b,i)):(w=nF(S,EZ(m,n.filter(function(N){var E,P,_=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],B="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!B}),"number",u),a.defaultProps.allowDataOverflow),w=QF(h,w,b,i)),Ft(Ft({},x),{},Wr({},b,Ft(Ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:bc(dTe,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:A,layout:u})))}return x},{})},ATe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),m=wc(u,i),f={};return m&&m.length?f=mTe(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=pTe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},xTe=function(e){var r=q0(e),n=Sf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$I(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:R5(r,n)}},q$=function(e){var r=e.children,n=e.defaultShowTooltip,a=fc(r,pv),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},gTe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bf(r&&r.type);return n&&n.indexOf("Bar")>=0})},K$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vTe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,h=n.children,m=n.margin||{},f=fc(h,pv),A=fc(h,ah),g=Object.keys(c).reduce(function(w,N){var E=c[N],P=E.orientation;return!E.mirror&&!E.hide?Ft(Ft({},w),{},Wr({},P,w[P]+E.width)):w},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(w,N){var E=o[N],P=E.orientation;return!E.mirror&&!E.hide?Ft(Ft({},w),{},Wr({},P,bc(w,"".concat(P))+E.height)):w},{top:m.top||0,bottom:m.bottom||0}),v=Ft(Ft({},x),g),j=v.bottom;f&&(v.bottom+=f.props.height||pv.defaultProps.height),A&&r&&(v=ESe(v,a,n,r));var b=d-v.left-v.right,S=u-v.top-v.bottom;return Ft(Ft({brushBottom:j},v),{},{width:Math.max(b,0),height:Math.max(S,0)})},yTe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},G4=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,m=function(v,j){var b=j.graphicalItems,S=j.stackGroups,w=j.offset,N=j.updateId,E=j.dataStartIndex,P=j.dataEndIndex,_=v.barSize,B=v.layout,k=v.barGap,M=v.barCategoryGap,T=v.maxBarSize,H=K$(B),L=H.numericAxisName,Q=H.cateAxisName,O=gTe(b),V=[];return b.forEach(function(ee,Y){var re=$4(v.data,{graphicalItems:[ee],dataStartIndex:E,dataEndIndex:P}),D=ee.type.defaultProps!==void 0?Ft(Ft({},ee.type.defaultProps),ee.props):ee.props,G=D.dataKey,z=D.maxBarSize,K=D["".concat(L,"Id")],oe=D["".concat(Q,"Id")],ue={},ge=c.reduce(function(ce,ae){var Se=j["".concat(ae.axisType,"Map")],We=D["".concat(ae.axisType,"Id")];Se&&Se[We]||ae.axisType==="zAxis"||TA();var Je=Se[We];return Ft(Ft({},ce),{},Wr(Wr({},ae.axisType,Je),"".concat(ae.axisType,"Ticks"),Sf(Je)))},ue),pe=ge[Q],ye=ge["".concat(Q,"Ticks")],Pe=S&&S[K]&&S[K].hasStack&&OSe(ee,S[K].stackGroups),le=Bf(ee.type).indexOf("Bar")>=0,lt=R5(pe,ye),ne=[],J=O&&_Se({barSize:_,stackGroups:S,totalSize:yTe(ge,Q)});if(le){var ie,Ce,Oe=as(z)?T:z,Re=(ie=(Ce=R5(pe,ye,!0))!==null&&Ce!==void 0?Ce:Oe)!==null&&ie!==void 0?ie:0;ne=CSe({barGap:k,barCategoryGap:M,bandSize:Re!==lt?Re:lt,sizeList:J[oe],maxBarSize:Oe}),Re!==lt&&(ne=ne.map(function(ce){return Ft(Ft({},ce),{},{position:Ft(Ft({},ce.position),{},{offset:ce.position.offset-Re/2})})}))}var ze=ee&&ee.type&&ee.type.getComposedData;ze&&V.push({props:Ft(Ft({},ze(Ft(Ft({},ge),{},{displayedData:re,props:v,dataKey:G,item:ee,bandSize:lt,barPosition:ne,offset:w,stackedData:Pe,layout:B,dataStartIndex:E,dataEndIndex:P}))),{},Wr(Wr(Wr({key:ee.key||"item-".concat(Y)},L,ge[L]),Q,ge[Q]),"animationId",N)),childIndex:Tye(ee,v.children),item:ee})}),V},f=function(v,j){var b=v.props,S=v.dataStartIndex,w=v.dataEndIndex,N=v.updateId;if(!l7({props:b}))return null;var E=b.children,P=b.layout,_=b.stackOffset,B=b.data,k=b.reverseStackOrder,M=K$(P),T=M.numericAxisName,H=M.cateAxisName,L=wc(E,n),Q=LSe(B,L,"".concat(T,"Id"),"".concat(H,"Id"),_,k),O=c.reduce(function(D,G){var z="".concat(G.axisType,"Map");return Ft(Ft({},D),{},Wr({},z,ATe(b,Ft(Ft({},G),{},{graphicalItems:L,stackGroups:G.axisType===T&&Q,dataStartIndex:S,dataEndIndex:w}))))},{}),V=vTe(Ft(Ft({},O),{},{props:b,graphicalItems:L}),j==null?void 0:j.legendBBox);Object.keys(O).forEach(function(D){O[D]=u(b,O[D],V,D.replace("Map",""),r)});var ee=O["".concat(H,"Map")],Y=xTe(ee),re=m(b,Ft(Ft({},O),{},{dataStartIndex:S,dataEndIndex:w,updateId:N,graphicalItems:L,stackGroups:Q,offset:V}));return Ft(Ft({formattedGraphicalItems:re,graphicalItems:L,offset:V,stackGroups:Q},Y),O)},A=(function(x){function v(j){var b,S,w;return ZBe(this,v),w=rTe(this,v,[j]),Wr(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wr(w,"accessibilityManager",new OBe),Wr(w,"handleLegendBBoxUpdate",function(N){if(N){var E=w.state,P=E.dataStartIndex,_=E.dataEndIndex,B=E.updateId;w.setState(Ft({legendBBox:N},f({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:B},Ft(Ft({},w.state),{},{legendBBox:N}))))}}),Wr(w,"handleReceiveSyncEvent",function(N,E,P){if(w.props.syncId===N){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Wr(w,"handleBrushChange",function(N){var E=N.startIndex,P=N.endIndex;if(E!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return Ft({dataStartIndex:E,dataEndIndex:P},f({props:w.props,dataStartIndex:E,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:P})}}),Wr(w,"handleMouseEnter",function(N){var E=w.getMouseInfo(N);if(E){var P=Ft(Ft({},E),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;Kr(_)&&_(P,N)}}),Wr(w,"triggeredAfterMouseMove",function(N){var E=w.getMouseInfo(N),P=E?Ft(Ft({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;Kr(_)&&_(P,N)}),Wr(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Wr(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Wr(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),Wr(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var P=w.props.onMouseLeave;Kr(P)&&P(E,N)}),Wr(w,"handleOuterEvent",function(N){var E=Bye(N),P=bc(w.props,"".concat(E));if(E&&Kr(P)){var _,B;/.*touch.*/i.test(E)?B=w.getMouseInfo(N.changedTouches[0]):B=w.getMouseInfo(N),P((_=B)!==null&&_!==void 0?_:{},N)}}),Wr(w,"handleClick",function(N){var E=w.getMouseInfo(N);if(E){var P=Ft(Ft({},E),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;Kr(_)&&_(P,N)}}),Wr(w,"handleMouseDown",function(N){var E=w.props.onMouseDown;if(Kr(E)){var P=w.getMouseInfo(N);E(P,N)}}),Wr(w,"handleMouseUp",function(N){var E=w.props.onMouseUp;if(Kr(E)){var P=w.getMouseInfo(N);E(P,N)}}),Wr(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Wr(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),Wr(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),Wr(w,"handleDoubleClick",function(N){var E=w.props.onDoubleClick;if(Kr(E)){var P=w.getMouseInfo(N);E(P,N)}}),Wr(w,"handleContextMenu",function(N){var E=w.props.onContextMenu;if(Kr(E)){var P=w.getMouseInfo(N);E(P,N)}}),Wr(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&Y6.emit(J6,w.props.syncId,N,w.eventEmitterSymbol)}),Wr(w,"applySyncEvent",function(N){var E=w.props,P=E.layout,_=E.syncMethod,B=w.state.updateId,k=N.dataStartIndex,M=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(Ft({dataStartIndex:k,dataEndIndex:M},f({props:w.props,dataStartIndex:k,dataEndIndex:M,updateId:B},w.state)));else if(N.activeTooltipIndex!==void 0){var T=N.chartX,H=N.chartY,L=N.activeTooltipIndex,Q=w.state,O=Q.offset,V=Q.tooltipTicks;if(!O)return;if(typeof _=="function")L=_(V,N);else if(_==="value"){L=-1;for(var ee=0;ee<V.length;ee++)if(V[ee].value===N.activeLabel){L=ee;break}}var Y=Ft(Ft({},O),{},{x:O.left,y:O.top}),re=Math.min(T,Y.x+Y.width),D=Math.min(H,Y.y+Y.height),G=V[L]&&V[L].value,z=GF(w.state,w.props.data,L),K=V[L]?{x:P==="horizontal"?V[L].coordinate:re,y:P==="horizontal"?D:V[L].coordinate}:Wee;w.setState(Ft(Ft({},N),{},{activeLabel:G,activeCoordinate:K,activePayload:z,activeTooltipIndex:L}))}else w.setState(N)}),Wr(w,"renderCursor",function(N){var E,P=w.state,_=P.isTooltipActive,B=P.activeCoordinate,k=P.activePayload,M=P.offset,T=P.activeTooltipIndex,H=P.tooltipAxisBandSize,L=w.getTooltipEventType(),Q=(E=N.props.active)!==null&&E!==void 0?E:_,O=w.props.layout,V=N.key||"_recharts-cursor";return Ue.createElement(VBe,{key:V,activeCoordinate:B,activePayload:k,activeTooltipIndex:T,chartName:r,element:N,isActive:Q,layout:O,offset:M,tooltipAxisBandSize:H,tooltipEventType:L})}),Wr(w,"renderPolarAxis",function(N,E,P){var _=bc(N,"type.axisType"),B=bc(w.state,"".concat(_,"Map")),k=N.type.defaultProps,M=k!==void 0?Ft(Ft({},k),N.props):N.props,T=B&&B[M["".concat(_,"Id")]];return F.cloneElement(N,Ft(Ft({},T),{},{className:xs(_,T.className),key:N.key||"".concat(E,"-").concat(P),ticks:Sf(T,!0)}))}),Wr(w,"renderPolarGrid",function(N){var E=N.props,P=E.radialLines,_=E.polarAngles,B=E.polarRadius,k=w.state,M=k.radiusAxisMap,T=k.angleAxisMap,H=q0(M),L=q0(T),Q=L.cx,O=L.cy,V=L.innerRadius,ee=L.outerRadius;return F.cloneElement(N,{polarAngles:Array.isArray(_)?_:Sf(L,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(B)?B:Sf(H,!0).map(function(Y){return Y.coordinate}),cx:Q,cy:O,innerRadius:V,outerRadius:ee,key:N.key||"polar-grid",radialLines:P})}),Wr(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,E=w.props,P=E.children,_=E.width,B=E.height,k=w.props.margin||{},M=_-(k.left||0)-(k.right||0),T=_Z({children:P,formattedGraphicalItems:N,legendWidth:M,legendContent:d});if(!T)return null;var H=T.item,L=G$(T,WBe);return F.cloneElement(H,Ft(Ft({},L),{},{chartWidth:_,chartHeight:B,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Wr(w,"renderTooltip",function(){var N,E=w.props,P=E.children,_=E.accessibilityLayer,B=fc(P,di);if(!B)return null;var k=w.state,M=k.isTooltipActive,T=k.activeCoordinate,H=k.activePayload,L=k.activeLabel,Q=k.offset,O=(N=B.props.active)!==null&&N!==void 0?N:M;return F.cloneElement(B,{viewBox:Ft(Ft({},Q),{},{x:Q.left,y:Q.top}),active:O,label:L,payload:O?H:[],coordinate:T,accessibilityLayer:_})}),Wr(w,"renderBrush",function(N){var E=w.props,P=E.margin,_=E.data,B=w.state,k=B.offset,M=B.dataStartIndex,T=B.dataEndIndex,H=B.updateId;return F.cloneElement(N,{key:N.key||"_recharts-brush",onChange:wj(w.handleBrushChange,N.props.onChange),data:_,x:er(N.props.x)?N.props.x:k.left,y:er(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(P.bottom||0),width:er(N.props.width)?N.props.width:k.width,startIndex:M,endIndex:T,updateId:"brush-".concat(H)})}),Wr(w,"renderReferenceElement",function(N,E,P){if(!N)return null;var _=w,B=_.clipPathId,k=w.state,M=k.xAxisMap,T=k.yAxisMap,H=k.offset,L=N.type.defaultProps||{},Q=N.props,O=Q.xAxisId,V=O===void 0?L.xAxisId:O,ee=Q.yAxisId,Y=ee===void 0?L.yAxisId:ee;return F.cloneElement(N,{key:N.key||"".concat(E,"-").concat(P),xAxis:M[V],yAxis:T[Y],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:B})}),Wr(w,"renderActivePoints",function(N){var E=N.item,P=N.activePoint,_=N.basePoint,B=N.childIndex,k=N.isRange,M=[],T=E.props.key,H=E.item.type.defaultProps!==void 0?Ft(Ft({},E.item.type.defaultProps),E.item.props):E.item.props,L=H.activeDot,Q=H.dataKey,O=Ft(Ft({index:B,dataKey:Q,cx:P.x,cy:P.y,r:4,fill:A8(E.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Dr(L,!1)),f5(L));return M.push(v.renderActiveDot(L,O,"".concat(T,"-activePoint-").concat(B))),_?M.push(v.renderActiveDot(L,Ft(Ft({},O),{},{cx:_.x,cy:_.y}),"".concat(T,"-basePoint-").concat(B))):k&&M.push(null),M}),Wr(w,"renderGraphicChild",function(N,E,P){var _=w.filterFormatItem(N,E,P);if(!_)return null;var B=w.getTooltipEventType(),k=w.state,M=k.isTooltipActive,T=k.tooltipAxis,H=k.activeTooltipIndex,L=k.activeLabel,Q=w.props.children,O=fc(Q,di),V=_.props,ee=V.points,Y=V.isRange,re=V.baseLine,D=_.item.type.defaultProps!==void 0?Ft(Ft({},_.item.type.defaultProps),_.item.props):_.item.props,G=D.activeDot,z=D.hide,K=D.activeBar,oe=D.activeShape,ue=!!(!z&&M&&O&&(G||K||oe)),ge={};B!=="axis"&&O&&O.props.trigger==="click"?ge={onClick:wj(w.handleItemMouseEnter,N.props.onClick)}:B!=="axis"&&(ge={onMouseLeave:wj(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:wj(w.handleItemMouseEnter,N.props.onMouseEnter)});var pe=F.cloneElement(N,Ft(Ft({},_.props),ge));function ye(ae){return typeof T.dataKey=="function"?T.dataKey(ae.payload):null}if(ue)if(H>=0){var Pe,le;if(T.dataKey&&!T.allowDuplicatedCategory){var lt=typeof T.dataKey=="function"?ye:"payload.".concat(T.dataKey.toString());Pe=h5(ee,lt,L),le=Y&&re&&h5(re,lt,L)}else Pe=ee==null?void 0:ee[H],le=Y&&re&&re[H];if(oe||K){var ne=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[F.cloneElement(N,Ft(Ft(Ft({},_.props),ge),{},{activeIndex:ne})),null,null]}if(!as(Pe))return[pe].concat(_v(w.renderActivePoints({item:_,activePoint:Pe,basePoint:le,childIndex:H,isRange:Y})))}else{var J,ie=(J=w.getItemByXY(w.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:pe},Ce=ie.graphicalItem,Oe=Ce.item,Re=Oe===void 0?N:Oe,ze=Ce.childIndex,ce=Ft(Ft(Ft({},_.props),ge),{},{activeIndex:ze});return[F.cloneElement(Re,ce),null,null]}return Y?[pe,null,null]:[pe,null]}),Wr(w,"renderCustomized",function(N,E,P){return F.cloneElement(N,Ft(Ft({key:"recharts-customized-".concat(P)},w.props),w.state))}),Wr(w,"renderMap",{CartesianGrid:{handler:Cj,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Cj},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Cj},YAxis:{handler:Cj},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:WA("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=SJ(w.triggeredAfterMouseMove,(S=j.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return aTe(v,x),tTe(v,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,N=b.height,E=b.layout,P=fc(S,di);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,k=GF(this.state,w,_,B),M=this.state.tooltipTicks[_].coordinate,T=(this.state.offset.top+N)/2,H=E==="horizontal",L=H?{x:M,y:T}:{y:M,x:T},Q=this.state.formattedGraphicalItems.find(function(V){var ee=V.item;return ee.type.name==="Scatter"});Q&&(L=Ft(Ft({},L),Q.props.points[_].tooltipPosition),k=Q.props.points[_].tooltipPayload);var O={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:B,activePayload:k,activeCoordinate:L};this.setState(O),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){_M([fc(b.children,di)],[fc(this.props.children,di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=fc(this.props.children,di);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),N=x2e(w),E={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},P=w.width/S.offsetWidth||1,_=this.inRange(E.chartX,E.chartY,P);if(!_)return null;var B=this.state,k=B.xAxisMap,M=B.yAxisMap,T=this.getTooltipEventType();if(T!=="axis"&&k&&M){var H=q0(k).scale,L=q0(M).scale,Q=H&&H.invert?H.invert(E.chartX):null,O=L&&L.invert?L.invert(E.chartY):null;return Ft(Ft({},E),{},{xValue:Q,yValue:O})}var V=W$(this.state,this.props.data,this.props.layout,_);return V?Ft(Ft({},E),V):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=b/w,P=S/w;if(N==="horizontal"||N==="vertical"){var _=this.state.offset,B=E>=_.left&&E<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return B?{x:E,y:P}:null}var k=this.state,M=k.angleAxisMap,T=k.radiusAxisMap;if(M&&T){var H=q0(M);return XQ({x:E,y:P},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=fc(b,di),N={};w&&S==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=f5(this.props,this.handleOuterEvent);return Ft(Ft({},E),N)}},{key:"addListener",value:function(){Y6.on(J6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y6.removeListener(J6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var N=this.state.formattedGraphicalItems,E=0,P=N.length;E<P;E++){var _=N[E];if(_.item===b||_.props.key===b.key||S===Bf(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,N=S.top,E=S.height,P=S.width;return Ue.createElement("defs",null,Ue.createElement("clipPath",{id:b},Ue.createElement("rect",{x:w,y:N,height:E,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var N=$$(w,2),E=N[0],P=N[1];return Ft(Ft({},S),{},Wr({},E,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var N=$$(w,2),E=N[0],P=N[1];return Ft(Ft({},S),{},Wr({},E,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,N=S.activeItem;if(w&&w.length)for(var E=0,P=w.length;E<P;E++){var _=w[E],B=_.props,k=_.item,M=k.type.defaultProps!==void 0?Ft(Ft({},k.type.defaultProps),k.props):k.props,T=Bf(k.type);if(T==="Bar"){var H=(B.data||[]).find(function(V){return RCe(b,V)});if(H)return{graphicalItem:_,payload:H}}else if(T==="RadialBar"){var L=(B.data||[]).find(function(V){return XQ(b,V)});if(L)return{graphicalItem:_,payload:L}}else if(L4(_,N)||R4(_,N)||R1(_,N)){var Q=oEe({graphicalItem:_,activeTooltipItem:N,itemData:M.data}),O=M.activeIndex===void 0?Q:M.activeIndex;return{graphicalItem:Ft(Ft({},_),{},{childIndex:O}),payload:R1(_,N)?M.data[Q]:_.props.data[Q]}}}return null}},{key:"render",value:function(){var b=this;if(!l7(this))return null;var S=this.props,w=S.children,N=S.className,E=S.width,P=S.height,_=S.style,B=S.compact,k=S.title,M=S.desc,T=G$(S,qBe),H=Dr(T,!1);if(B)return Ue.createElement(j$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement(EM,vg({},H,{width:E,height:P,title:k,desc:M}),this.renderClipPath(),d7(w,this.renderMap)));if(this.props.accessibilityLayer){var L,Q;H.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,H.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",H.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},H.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return Ue.createElement(j$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement("div",vg({className:xs("recharts-wrapper",N),style:Ft({position:"relative",cursor:"default",width:E,height:P},_)},O,{ref:function(ee){b.container=ee}}),Ue.createElement(EM,vg({},H,{width:E,height:P,title:k,desc:M,style:uTe}),this.renderClipPath(),d7(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(F.Component);Wr(A,"displayName",r),Wr(A,"defaultProps",Ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Wr(A,"getDerivedStateFromProps",function(x,v){var j=x.dataKey,b=x.data,S=x.children,w=x.width,N=x.height,E=x.layout,P=x.stackOffset,_=x.margin,B=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var M=q$(x);return Ft(Ft(Ft({},M),{},{updateId:0},f(Ft(Ft({props:x},M),{},{updateId:0}),v)),{},{prevDataKey:j,prevData:b,prevWidth:w,prevHeight:N,prevLayout:E,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(j!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||N!==v.prevHeight||E!==v.prevLayout||P!==v.prevStackOffset||!Cg(_,v.prevMargin)){var T=q$(x),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},L=Ft(Ft({},W$(v,b,E)),{},{updateId:v.updateId+1}),Q=Ft(Ft(Ft({},T),H),L);return Ft(Ft(Ft({},Q),f(Ft({props:x},Q),v)),{},{prevDataKey:j,prevData:b,prevWidth:w,prevHeight:N,prevLayout:E,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!_M(S,v.prevChildren)){var O,V,ee,Y,re=fc(S,pv),D=re&&(O=(V=re.props)===null||V===void 0?void 0:V.startIndex)!==null&&O!==void 0?O:B,G=re&&(ee=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&ee!==void 0?ee:k,z=D!==B||G!==k,K=!as(b),oe=K&&!z?v.updateId:v.updateId+1;return Ft(Ft({updateId:oe},f(Ft(Ft({props:x},v),{},{updateId:oe,dataStartIndex:D,dataEndIndex:G}),v)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:G})}return null}),Wr(A,"renderActiveDot",function(x,v,j){var b;return F.isValidElement(x)?b=F.cloneElement(x,v):Kr(x)?b=x(v):b=Ue.createElement(zw,v),Ue.createElement(Bs,{className:"recharts-active-dot",key:j},b)});var g=F.forwardRef(function(v,j){return Ue.createElement(A,vg({},v,{ref:j}))});return g.displayName=A.displayName,g},Kee=G4({chartName:"LineChart",GraphicalChild:FA,axisComponents:[{axisType:"xAxis",AxisComp:jc},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:g8}),G1=G4({chartName:"BarChart",GraphicalChild:$l,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jc},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:g8}),E8=G4({chartName:"PieChart",GraphicalChild:Au,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:D4},{axisType:"radiusAxis",AxisComp:P4}],formatAxisMap:KSe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),bTe=G4({chartName:"AreaChart",GraphicalChild:ch,axisComponents:[{axisType:"xAxis",AxisComp:jc},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:g8});const Xee=1245,Yee=85,wTe=Math.round(Xee*(Yee/100)),Jee=82,Zee=92,jTe=Math.round(Jee*(Zee/100)),NTe=[{label:"Students Present",value:wTe,total:Xee,percentage:Yee,icon:pr,color:"blue",trend:"+5% from yesterday"},{label:"Teachers Present",value:jTe,total:Jee,percentage:Zee,icon:pd,color:"green",trend:"+2% from yesterday"},{label:"Staff Present",value:8,total:10,percentage:80,icon:As,color:"purple",trend:"Same as yesterday"},{label:"Buses Available",value:6,total:8,percentage:75,icon:_X,color:"orange",trend:"2 under maintenance"}],STe=[{label:"Total Teachers",value:82,icon:Yn,change:"+2",color:"blue"},{label:"Total Students",value:1245,icon:pr,change:"+15",color:"green"},{label:"Active Courses",value:18,icon:Qr,change:"+3",color:"purple"},{label:"Total Parents",value:1100,icon:Yhe,change:"+8",color:"orange"}],_Te=[{title:"Add Student",action:"student",icon:$s,color:"blue"},{title:"Create Course",action:"course",icon:Qr,color:"green"},{title:"Send Notification",action:"notification",icon:Kn,color:"purple"},{title:"Generate Report",action:"report",icon:Qde,color:"orange"}],X$=[{month:"Jan",collected:12e4,due:3e4},{month:"Feb",collected:11e4,due:25e3},{month:"Mar",collected:13e4,due:2e4},{month:"Apr",collected:125e3,due:28e3},{month:"May",collected:14e4,due:22e3},{month:"Jun",collected:135e3,due:25e3}],CTe=[{date:"2025-07-05",title:"Annual Sports Day",desc:"All students and staff participate in sports events.",type:"sports"},{date:"2025-07-12",title:"Parent-Teacher Meeting",desc:"Meetings for all classes.",type:"meeting"},{date:"2025-07-20",title:"Science Exhibition",desc:"Student science projects on display.",type:"academic"}],ETe=[{time:"10 mins ago",activity:"New student enrollment completed",type:"info"},{time:"1 hour ago",activity:"Fee payment received from Class 10-A",type:"success"},{time:"2 hours ago",activity:"Teacher leave request pending approval",type:"warning"}],Y$=({setShowAdminHeader:t})=>{const[e,r]=F.useState(null),n=i=>{r(i),setTimeout(()=>r(null),2e3)};F.useEffect(()=>{t(!0)},[]);const a=i=>{const o={blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",icon:"text-blue-500",hover:"hover:bg-blue-100",progress:"bg-blue-500"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",icon:"text-green-500",hover:"hover:bg-green-100",progress:"bg-green-500"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",icon:"text-purple-500",hover:"hover:bg-purple-100",progress:"bg-purple-500"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",icon:"text-orange-500",hover:"hover:bg-orange-100",progress:"bg-orange-500"}};return o[i]||o.blue};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:NTe.map(i=>{const o=i.icon,l=a(i.color);return s.jsxs("div",{className:`bg-white rounded-xl p-6 shadow-sm border ${l.border} hover:shadow-md transition-shadow duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${l.bg}`,children:s.jsx(o,{className:`w-6 h-6 ${l.icon}`})}),s.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${l.bg} ${l.text}`,children:[i.percentage,"%"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.label}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.value}),s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",i.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:`${l.progress} h-2 rounded-full transition-all duration-300`,style:{width:`${i.percentage}%`}})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i.trend})]})]},i.label)})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:STe.map(i=>{const o=i.icon,l=a(i.color);return s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:i.label}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.value}),s.jsxs("p",{className:`text-xs ${l.text} font-medium mt-2 flex items-center gap-1`,children:[s.jsx(cs,{className:"w-3 h-3"}),i.change," this month"]})]}),s.jsx("div",{className:`p-3 rounded-lg ${l.bg}`,children:s.jsx(o,{className:`w-6 h-6 ${l.icon}`})})]})},i.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(nde,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Last 6 months overview"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Collected"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(X$.reduce((i,o)=>i+o.collected,0)/1e5).toFixed(1),"L"]})]})]}),s.jsx(ru,{width:"100%",height:280,children:s.jsxs(G1,{data:X$,children:[s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(jc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(Nc,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:i=>`${i/1e3}k`}),s.jsx(di,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:i=>[`${i.toLocaleString()}`,""]}),s.jsx(ah,{wrapperStyle:{fontSize:"12px"}}),s.jsx($l,{dataKey:"collected",fill:"#3b82f6",radius:[8,8,0,0],name:"Collected"}),s.jsx($l,{dataKey:"due",fill:"#f59e0b",radius:[8,8,0,0],name:"Due"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:_Te.map(i=>{const o=i.icon,l=a(i.color);return s.jsxs("button",{onClick:()=>n(i.action),className:`w-full flex items-center gap-3 p-4 rounded-lg border transition-all duration-200 ${e===i.action?`${l.bg} ${l.border} scale-95`:`border-gray-200 hover:border-${i.color}-300 ${l.hover}`}`,children:[s.jsx("div",{className:`p-2 rounded-lg ${l.bg}`,children:s.jsx(o,{className:`w-4 h-4 ${l.icon}`})}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:i.title})]},i.action)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-gray-700"}),"Upcoming Events"]}),s.jsx("div",{className:"space-y-4",children:CTe.map((i,o)=>s.jsxs("div",{className:"flex gap-4 p-4 rounded-lg bg-gray-50 border border-gray-100 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[60px] p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("span",{className:"text-lg font-bold text-blue-600",children:new Date(i.date).getDate()}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:new Date(i.date).toLocaleString("default",{month:"short"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),s.jsx("p",{className:"text-sm text-gray-600",children:i.desc})]})]},o))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),s.jsx("div",{className:"space-y-4",children:ETe.map((i,o)=>s.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[s.jsx("div",{className:`mt-1 p-1.5 rounded-full ${i.type==="success"?"bg-green-100":i.type==="warning"?"bg-orange-100":"bg-blue-100"}`,children:s.jsx("div",{className:`w-2 h-2 rounded-full ${i.type==="success"?"bg-green-500":i.type==="warning"?"bg-orange-500":"bg-blue-500"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-900 mb-1",children:i.activity}),s.jsx("p",{className:"text-xs text-gray-500",children:i.time})]})]},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(_X,{className:"w-5 h-5 text-gray-700"}),"Bus Schedule"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Bus"}),s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Route"}),s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Departure"}),s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Arrival"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3 px-2 font-medium text-gray-900",children:"Bus 1"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"Sector 5 - School"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"7:15 AM"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"1:45 PM"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-3 px-2 font-medium text-gray-900",children:"Bus 2"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"Salt Lake - School"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"7:30 AM"}),s.jsx("td",{className:"py-3 px-2 text-gray-600",children:"2:00 PM"})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(dm,{className:"w-5 h-5 text-gray-700"}),"Classroom Status"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{room:"Room 101",status:"Occupied"},{room:"Room 102",status:"Empty"},{room:"Room 103",status:"Occupied"},{room:"Room 104",status:"Empty"}].map((i,o)=>s.jsxs("div",{className:`p-4 rounded-lg border-2 ${i.status==="Occupied"?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.room}),s.jsx("p",{className:`text-sm font-medium ${i.status==="Occupied"?"text-green-600":"text-gray-500"}`,children:i.status})]},o))})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-red-500"}),"Emergency Contacts"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-red-50 border border-red-200",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Police"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 100"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-orange-50 border border-orange-200",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Fire"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 101"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-blue-50 border border-blue-200",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Hospital"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 102"})]})]})]})]}),e&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(cs,{className:"w-5 h-5 text-green-600"})}),s.jsxs("p",{className:"text-sm font-medium text-green-900",children:["Processing ",e," action..."]})]})]})})};function bn(t){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(t)}var hu=Uint8Array,yc=Uint16Array,k8=Int32Array,B8=new hu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T8=new hu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),J$=new hu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ete=function(t,e){for(var r=new yc(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new k8(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},tte=ete(B8,2),kTe=tte.b,VF=tte.r;kTe[28]=258,VF[258]=28;var BTe=ete(T8,0),Z$=BTe.r,WF=new yc(32768);for(var ia=0;ia<32768;++ia){var I0=(ia&43690)>>1|(ia&21845)<<1;I0=(I0&52428)>>2|(I0&13107)<<2,I0=(I0&61680)>>4|(I0&3855)<<4,WF[ia]=((I0&65280)>>8|(I0&255)<<8)>>1}var Rb=(function(t,e,r){for(var n=t.length,a=0,i=new yc(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new yc(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new yc(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[WF[h]>>c]=d}else for(l=new yc(n),a=0;a<n;++a)t[a]&&(l[a]=WF[o[t[a]-1]++]>>15-t[a]);return l}),PA=new hu(288);for(var ia=0;ia<144;++ia)PA[ia]=8;for(var ia=144;ia<256;++ia)PA[ia]=9;for(var ia=256;ia<280;++ia)PA[ia]=7;for(var ia=280;ia<288;++ia)PA[ia]=8;var hS=new hu(32);for(var ia=0;ia<32;++ia)hS[ia]=5;var TTe=Rb(PA,9,0),MTe=Rb(hS,5,0),rte=function(t){return(t+7)/8|0},FTe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new hu(t.subarray(e,r))},of=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Xy=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},eB=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:nte,l:0};if(a==1){var o=new hu(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,N){return w.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var f=new yc(m+1),A=qF(r[u-1],f,0);if(A>e){var n=0,g=0,x=A-e,v=1<<x;for(i.sort(function(N,E){return f[E.s]-f[N.s]||N.f-E.f});n<a;++n){var j=i[n].s;if(f[j]>e)g+=v-(1<<A-f[j]),f[j]=e;else break}for(g>>=x;g>0;){var b=i[n].s;f[b]<e?g-=1<<e-f[b]++-1:++n}for(;n>=0&&g;--n){var S=i[n].s;f[S]==e&&(--f[S],++g)}A=e}return{t:new hu(f),l:A}},qF=function(t,e,r){return t.s==-1?Math.max(qF(t.l,e,r+1),qF(t.r,e,r+1)):e[t.s]=r},eG=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new yc(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Yy=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},ste=function(t,e,r){var n=r.length,a=rte(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},tG=function(t,e,r,n,a,i,o,l,c,d,u){of(e,u++,r),++a[256];for(var h=eB(a,15),m=h.t,f=h.l,A=eB(i,15),g=A.t,x=A.l,v=eG(m),j=v.c,b=v.n,S=eG(g),w=S.c,N=S.n,E=new yc(19),P=0;P<j.length;++P)++E[j[P]&31];for(var P=0;P<w.length;++P)++E[w[P]&31];for(var _=eB(E,7),B=_.t,k=_.l,M=19;M>4&&!B[J$[M-1]];--M);var T=d+5<<3,H=Yy(a,PA)+Yy(i,hS)+o,L=Yy(a,m)+Yy(i,g)+o+14+3*M+Yy(E,B)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&T<=H&&T<=L)return ste(e,u,t.subarray(c,c+d));var Q,O,V,ee;if(of(e,u,1+(L<H)),u+=2,L<H){Q=Rb(m,f,0),O=m,V=Rb(g,x,0),ee=g;var Y=Rb(B,k,0);of(e,u,b-257),of(e,u+5,N-1),of(e,u+10,M-4),u+=14;for(var P=0;P<M;++P)of(e,u+3*P,B[J$[P]]);u+=3*M;for(var re=[j,w],D=0;D<2;++D)for(var G=re[D],P=0;P<G.length;++P){var z=G[P]&31;of(e,u,Y[z]),u+=B[z],z>15&&(of(e,u,G[P]>>5&127),u+=G[P]>>12)}}else Q=TTe,O=PA,V=MTe,ee=hS;for(var P=0;P<l;++P){var K=n[P];if(K>255){var z=K>>18&31;Xy(e,u,Q[z+257]),u+=O[z+257],z>7&&(of(e,u,K>>23&31),u+=B8[z]);var oe=K&31;Xy(e,u,V[oe]),u+=ee[oe],oe>3&&(Xy(e,u,K>>5&8191),u+=T8[oe])}else Xy(e,u,Q[K]),u+=O[K]}return Xy(e,u,Q[256]),u+O[256]},PTe=new k8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nte=new hu(0),ITe=function(t,e,r,n,a,i){var o=i.z||t.length,l=new hu(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=PTe[e-1],m=h>>13,f=h&8191,A=(1<<r)-1,g=i.p||new yc(32768),x=i.h||new yc(A+1),v=Math.ceil(r/3),j=2*v,b=function(ne){return(t[ne]^t[ne+1]<<v^t[ne+2]<<j)&A},S=new k8(25e3),w=new yc(288),N=new yc(32),E=0,P=0,_=i.i||0,B=0,k=i.w||0,M=0;_+2<o;++_){var T=b(_),H=_&32767,L=x[T];if(g[H]=L,x[T]=H,k<=_){var Q=o-_;if((E>7e3||B>24576)&&(Q>423||!d)){u=tG(t,c,0,S,w,N,P,B,M,_-M,u),B=E=P=0,M=_;for(var O=0;O<286;++O)w[O]=0;for(var O=0;O<30;++O)N[O]=0}var V=2,ee=0,Y=f,re=H-L&32767;if(Q>2&&T==b(_-re))for(var D=Math.min(m,Q)-1,G=Math.min(32767,_),z=Math.min(258,Q);re<=G&&--Y&&H!=L;){if(t[_+V]==t[_+V-re]){for(var K=0;K<z&&t[_+K]==t[_+K-re];++K);if(K>V){if(V=K,ee=re,K>D)break;for(var oe=Math.min(re,K-2),ue=0,O=0;O<oe;++O){var ge=_-re+O&32767,pe=g[ge],ye=ge-pe&32767;ye>ue&&(ue=ye,L=ge)}}}H=L,L=g[H],re+=H-L&32767}if(ee){S[B++]=268435456|VF[V]<<18|Z$[ee];var Pe=VF[V]&31,le=Z$[ee]&31;P+=B8[Pe]+T8[le],++w[257+Pe],++N[le],k=_+V,++E}else S[B++]=t[_],++w[t[_]]}}for(_=Math.max(_,k);_<o;++_)S[B++]=t[_],++w[t[_]];u=tG(t,c,d,S,w,N,P,B,M,_-M,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=x,i.p=g,i.i=_,i.w=k)}else{for(var _=i.w||0;_<o+d;_+=65535){var lt=_+65535;lt>=o&&(c[u/8|0]=d,lt=o),u=ste(c,u+1,t.subarray(_,lt))}i.i=o}return FTe(l,0,n+rte(u)+a)},ate=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},DTe=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new hu(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return ITe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},ite=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},LTe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=ate();a.p(e.dictionary),ite(t,2,a.d())}};function KF(t,e){e||(e={});var r=ate();r.p(t);var n=DTe(t,e,e.dictionary?6:2,4);return LTe(n,e),ite(n,n.length-4,r.d()),n}var RTe=typeof TextDecoder<"u"&&new TextDecoder,OTe=0;try{RTe.decode(nte,{stream:!0}),OTe=1}catch{}function UTe(t){if(Array.isArray(t))return t}function HTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function QTe(t,e){if(t){if(typeof t=="string")return rG(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rG(t,e):void 0}}function zTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(t,e){return UTe(t)||HTe(t,e)||QTe(t,e)||zTe()}function nG(t,e="utf8"){return new TextDecoder(e).decode(t)}const $Te=new TextEncoder;function GTe(t){return $Te.encode(t)}const VTe=1024*8,WTe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),tB={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class M8{constructor(e=VTe,r={}){ur(this,"buffer");ur(this,"byteLength");ur(this,"byteOffset");ur(this,"length");ur(this,"offset");ur(this,"lastWrittenByte");ur(this,"littleEndian");ur(this,"_data");ur(this,"_mark");ur(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof M8)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=tB[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===WTe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new tB[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new tB[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return nG(this.readBytes(e))}decodeText(e=1,r="utf8"){return nG(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(GTe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Kv(t){let e=t.length;for(;--e>=0;)t[e]=0}const qTe=3,KTe=258,ote=29,XTe=256,YTe=XTe+1+ote,lte=30,JTe=512,ZTe=new Array((YTe+2)*2);Kv(ZTe);const eMe=new Array(lte*2);Kv(eMe);const tMe=new Array(JTe);Kv(tMe);const rMe=new Array(KTe-qTe+1);Kv(rMe);const sMe=new Array(ote);Kv(sMe);const nMe=new Array(lte);Kv(nMe);const aMe=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var XF=aMe;const iMe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},oMe=new Uint32Array(iMe()),lMe=(t,e,r,n)=>{const a=oMe,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var Iu=lMe,YF={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cMe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var dMe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)cMe(r,n)&&(t[n]=r[n])}}return t},uMe=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];r.set(o,a),a+=o.length}return r},dte={assign:dMe,flattenChunks:uMe};let ute=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ute=!1}const V1=new Uint8Array(256);for(let t=0;t<256;t++)V1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;V1[254]=V1[254]=1;var hMe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const fMe=(t,e)=>{if(e<65534&&t.subarray&&ute)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var mMe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){i[a++]=o;continue}let l=V1[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return fMe(i,a)},pMe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+V1[t[r]]>e?r:e},JF={string2buf:hMe,buf2string:mMe,utf8border:pMe};function AMe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xMe=AMe;const Ej=16209,gMe=16191;var vMe=function(e,r){let n,a,i,o,l,c,d,u,h,m,f,A,g,x,v,j,b,S,w,N,E,P,_,B;const k=e.state;n=e.next_in,_=e.input,a=n+(e.avail_in-5),i=e.next_out,B=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=k.dmax,d=k.wsize,u=k.whave,h=k.wnext,m=k.window,f=k.hold,A=k.bits,g=k.lencode,x=k.distcode,v=(1<<k.lenbits)-1,j=(1<<k.distbits)-1;e:do{A<15&&(f+=_[n++]<<A,A+=8,f+=_[n++]<<A,A+=8),b=g[f&v];t:for(;;){if(S=b>>>24,f>>>=S,A-=S,S=b>>>16&255,S===0)B[i++]=b&65535;else if(S&16){w=b&65535,S&=15,S&&(A<S&&(f+=_[n++]<<A,A+=8),w+=f&(1<<S)-1,f>>>=S,A-=S),A<15&&(f+=_[n++]<<A,A+=8,f+=_[n++]<<A,A+=8),b=x[f&j];r:for(;;){if(S=b>>>24,f>>>=S,A-=S,S=b>>>16&255,S&16){if(N=b&65535,S&=15,A<S&&(f+=_[n++]<<A,A+=8,A<S&&(f+=_[n++]<<A,A+=8)),N+=f&(1<<S)-1,N>c){e.msg="invalid distance too far back",k.mode=Ej;break e}if(f>>>=S,A-=S,S=i-o,N>S){if(S=N-S,S>u&&k.sane){e.msg="invalid distance too far back",k.mode=Ej;break e}if(E=0,P=m,h===0){if(E+=d-S,S<w){w-=S;do B[i++]=m[E++];while(--S);E=i-N,P=B}}else if(h<S){if(E+=d+h-S,S-=h,S<w){w-=S;do B[i++]=m[E++];while(--S);if(E=0,h<w){S=h,w-=S;do B[i++]=m[E++];while(--S);E=i-N,P=B}}}else if(E+=h-S,S<w){w-=S;do B[i++]=m[E++];while(--S);E=i-N,P=B}for(;w>2;)B[i++]=P[E++],B[i++]=P[E++],B[i++]=P[E++],w-=3;w&&(B[i++]=P[E++],w>1&&(B[i++]=P[E++]))}else{E=i-N;do B[i++]=B[E++],B[i++]=B[E++],B[i++]=B[E++],w-=3;while(w>2);w&&(B[i++]=B[E++],w>1&&(B[i++]=B[E++]))}}else if((S&64)===0){b=x[(b&65535)+(f&(1<<S)-1)];continue r}else{e.msg="invalid distance code",k.mode=Ej;break e}break}}else if((S&64)===0){b=g[(b&65535)+(f&(1<<S)-1)];continue t}else if(S&32){k.mode=gMe;break e}else{e.msg="invalid literal/length code",k.mode=Ej;break e}break}}while(n<a&&i<l);w=A>>3,n-=w,A-=w<<3,f&=(1<<A)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),k.hold=f,k.bits=A};const qx=15,aG=852,iG=592,oG=0,rB=1,lG=2,yMe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bMe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wMe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jMe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NMe=(t,e,r,n,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,f=0,A=0,g=0,x=0,v=0,j=0,b,S,w,N,E,P=null,_;const B=new Uint16Array(qx+1),k=new Uint16Array(qx+1);let M=null,T,H,L;for(d=0;d<=qx;d++)B[d]=0;for(u=0;u<n;u++)B[e[r+u]]++;for(f=c,m=qx;m>=1&&B[m]===0;m--);if(f>m&&(f=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&B[h]===0;h++);for(f<h&&(f=h),x=1,d=1;d<=qx;d++)if(x<<=1,x-=B[d],x<0)return-1;if(x>0&&(t===oG||m!==1))return-1;for(k[1]=0,d=1;d<qx;d++)k[d+1]=k[d]+B[d];for(u=0;u<n;u++)e[r+u]!==0&&(o[k[e[r+u]]++]=u);if(t===oG?(P=M=o,_=20):t===rB?(P=yMe,M=bMe,_=257):(P=wMe,M=jMe,_=0),j=0,u=0,d=h,E=i,A=f,g=0,w=-1,v=1<<f,N=v-1,t===rB&&v>aG||t===lG&&v>iG)return 1;for(;;){T=d-g,o[u]+1<_?(H=0,L=o[u]):o[u]>=_?(H=M[o[u]-_],L=P[o[u]-_]):(H=96,L=0),b=1<<d-g,S=1<<A,h=S;do S-=b,a[E+(j>>g)+S]=T<<24|H<<16|L|0;while(S!==0);for(b=1<<d-1;j&b;)b>>=1;if(b!==0?(j&=b-1,j+=b):j=0,u++,--B[d]===0){if(d===m)break;d=e[r+o[u]]}if(d>f&&(j&N)!==w){for(g===0&&(g=f),E+=h,A=d-g,x=1<<A;A+g<m&&(x-=B[A+g],!(x<=0));)A++,x<<=1;if(v+=1<<A,t===rB&&v>aG||t===lG&&v>iG)return 1;w=j&N,a[w]=f<<24|A<<16|E-i|0}}return j!==0&&(a[E+j]=d-g<<24|64<<16|0),l.bits=f,0};var Ob=NMe;const SMe=0,hte=1,fte=2,{Z_FINISH:cG,Z_BLOCK:_Me,Z_TREES:kj,Z_OK:IA,Z_STREAM_END:CMe,Z_NEED_DICT:EMe,Z_STREAM_ERROR:xd,Z_DATA_ERROR:mte,Z_MEM_ERROR:pte,Z_BUF_ERROR:kMe,Z_DEFLATED:dG}=cte,V4=16180,uG=16181,hG=16182,fG=16183,mG=16184,pG=16185,AG=16186,xG=16187,gG=16188,vG=16189,fS=16190,lf=16191,sB=16192,yG=16193,nB=16194,bG=16195,wG=16196,jG=16197,NG=16198,Bj=16199,Tj=16200,SG=16201,_G=16202,CG=16203,EG=16204,kG=16205,aB=16206,BG=16207,TG=16208,fa=16209,Ate=16210,xte=16211,BMe=852,TMe=592,MMe=15,FMe=MMe,MG=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function PMe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const YA=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<V4||e.mode>xte?1:0},gte=t=>{if(YA(t))return xd;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=V4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(BMe),e.distcode=e.distdyn=new Int32Array(TMe),e.sane=1,e.back=-1,IA},vte=t=>{if(YA(t))return xd;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gte(t)},yte=(t,e)=>{let r;if(YA(t))return xd;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xd:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,vte(t))},bte=(t,e)=>{if(!t)return xd;const r=new PMe;t.state=r,r.strm=t,r.window=null,r.mode=V4;const n=yte(t,e);return n!==IA&&(t.state=null),n},IMe=t=>bte(t,FMe);let FG=!0,iB,oB;const DMe=t=>{if(FG){iB=new Int32Array(512),oB=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ob(hte,t.lens,0,288,iB,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ob(fte,t.lens,0,32,oB,0,t.work,{bits:5}),FG=!1}t.lencode=iB,t.lenbits=9,t.distcode=oB,t.distbits=5},wte=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},LMe=(t,e)=>{let r,n,a,i,o,l,c,d,u,h,m,f,A,g,x=0,v,j,b,S,w,N,E,P;const _=new Uint8Array(4);let B,k;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(YA(t)||!t.output||!t.input&&t.avail_in!==0)return xd;r=t.state,r.mode===lf&&(r.mode=sB),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,h=l,m=c,P=IA;e:for(;;)switch(r.mode){case V4:if(r.wrap===0){r.mode=sB;break}for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,_[0]=d&255,_[1]=d>>>8&255,r.check=Iu(r.check,_,2,0),d=0,u=0,r.mode=uG;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=fa;break}if((d&15)!==dG){t.msg="unknown compression method",r.mode=fa;break}if(d>>>=4,u-=4,E=(d&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=fa;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?vG:lf,d=0,u=0;break;case uG:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==dG){t.msg="unknown compression method",r.mode=fa;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=fa;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Iu(r.check,_,2,0)),d=0,u=0,r.mode=hG;case hG:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,r.check=Iu(r.check,_,4,0)),d=0,u=0,r.mode=fG;case fG:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Iu(r.check,_,2,0)),d=0,u=0,r.mode=mG;case mG:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Iu(r.check,_,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=pG;case pG:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),E)),r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=AG;case AG:if(r.flags&2048){if(l===0)break e;f=0;do E=n[i+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,f,i)),l-=f,i+=f,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xG;case xG:if(r.flags&4096){if(l===0)break e;f=0;do E=n[i+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,f,i)),l-=f,i+=f,E)break e}else r.head&&(r.head.comment=null);r.mode=gG;case gG:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=fa;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=lf;break;case vG:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}t.adler=r.check=MG(d),d=0,u=0,r.mode=fS;case fS:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,EMe;t.adler=r.check=1,r.mode=lf;case lf:if(e===_Me||e===kj)break e;case sB:if(r.last){d>>>=u&7,u-=u&7,r.mode=aB;break}for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=yG;break;case 1:if(DMe(r),r.mode=Bj,e===kj){d>>>=2,u-=2;break e}break;case 2:r.mode=wG;break;case 3:t.msg="invalid block type",r.mode=fa}d>>>=2,u-=2;break;case yG:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=fa;break}if(r.length=d&65535,d=0,u=0,r.mode=nB,e===kj)break e;case nB:r.mode=bG;case bG:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(n.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=lf;break;case wG:for(;u<14;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=fa;break}r.have=0,r.mode=jG;case jG:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.lens[M[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},P=Ob(SMe,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,P){t.msg="invalid code lengths set",r.mode=fa;break}r.have=0,r.mode=NG;case NG:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[d&(1<<r.lenbits)-1],v=x>>>24,j=x>>>16&255,b=x&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(b<16)d>>>=v,u-=v,r.lens[r.have++]=b;else{if(b===16){for(k=v+2;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d>>>=v,u-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=fa;break}E=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(b===17){for(k=v+3;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=v,u-=v,E=0,f=3+(d&7),d>>>=3,u-=3}else{for(k=v+7;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=v,u-=v,E=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=fa;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===fa)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=fa;break}if(r.lenbits=9,B={bits:r.lenbits},P=Ob(hte,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,P){t.msg="invalid literal/lengths set",r.mode=fa;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},P=Ob(fte,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,P){t.msg="invalid distances set",r.mode=fa;break}if(r.mode=Bj,e===kj)break e;case Bj:r.mode=Tj;case Tj:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,vMe(t,m),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,r.mode===lf&&(r.back=-1);break}for(r.back=0;x=r.lencode[d&(1<<r.lenbits)-1],v=x>>>24,j=x>>>16&255,b=x&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(j&&(j&240)===0){for(S=v,w=j,N=b;x=r.lencode[N+((d&(1<<S+w)-1)>>S)],v=x>>>24,j=x>>>16&255,b=x&65535,!(S+v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=S,u-=S,r.back+=S}if(d>>>=v,u-=v,r.back+=v,r.length=b,j===0){r.mode=kG;break}if(j&32){r.back=-1,r.mode=lf;break}if(j&64){t.msg="invalid literal/length code",r.mode=fa;break}r.extra=j&15,r.mode=SG;case SG:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_G;case _G:for(;x=r.distcode[d&(1<<r.distbits)-1],v=x>>>24,j=x>>>16&255,b=x&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((j&240)===0){for(S=v,w=j,N=b;x=r.distcode[N+((d&(1<<S+w)-1)>>S)],v=x>>>24,j=x>>>16&255,b=x&65535,!(S+v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=S,u-=S,r.back+=S}if(d>>>=v,u-=v,r.back+=v,j&64){t.msg="invalid distance code",r.mode=fa;break}r.offset=b,r.extra=j&15,r.mode=CG;case CG:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=fa;break}r.mode=EG;case EG:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=fa;break}f>r.wnext?(f-=r.wnext,A=r.wsize-f):A=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=a,A=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=g[A++];while(--f);r.length===0&&(r.mode=Tj);break;case kG:if(c===0)break e;a[o++]=r.length,c--,r.mode=Tj;break;case aB:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[i++]<<u,u+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Iu(r.check,a,m,o-m):XF(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?d:MG(d))!==r.check){t.msg="incorrect data check",r.mode=fa;break}d=0,u=0}r.mode=BG;case BG:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=fa;break}d=0,u=0}r.mode=TG;case TG:P=CMe;break e;case fa:P=mte;break e;case Ate:return pte;case xte:default:return xd}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,(r.wsize||m!==t.avail_out&&r.mode<fa&&(r.mode<aB||e!==cG))&&wte(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Iu(r.check,a,m,t.next_out-m):XF(r.check,a,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===lf?128:0)+(r.mode===Bj||r.mode===nB?256:0),(h===0&&m===0||e===cG)&&P===IA&&(P=kMe),P},RMe=t=>{if(YA(t))return xd;let e=t.state;return e.window&&(e.window=null),t.state=null,IA},OMe=(t,e)=>{if(YA(t))return xd;const r=t.state;return(r.wrap&2)===0?xd:(r.head=e,e.done=!1,IA)},UMe=(t,e)=>{const r=e.length;let n,a,i;return YA(t)||(n=t.state,n.wrap!==0&&n.mode!==fS)?xd:n.mode===fS&&(a=1,a=XF(a,e,r,0),a!==n.check)?mte:(i=wte(t,e,r,r),i?(n.mode=Ate,pte):(n.havedict=1,IA))};var HMe=vte,QMe=yte,zMe=gte,$Me=IMe,GMe=bte,VMe=LMe,WMe=RMe,qMe=OMe,KMe=UMe,XMe="pako inflate (from Nodeca project)",gf={inflateReset:HMe,inflateReset2:QMe,inflateResetKeep:zMe,inflateInit:$Me,inflateInit2:GMe,inflate:VMe,inflateEnd:WMe,inflateGetHeader:qMe,inflateSetDictionary:KMe,inflateInfo:XMe};function YMe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JMe=YMe;const jte=Object.prototype.toString,{Z_NO_FLUSH:ZMe,Z_FINISH:eFe,Z_OK:W1,Z_STREAM_END:lB,Z_NEED_DICT:cB,Z_STREAM_ERROR:tFe,Z_DATA_ERROR:PG,Z_MEM_ERROR:rFe}=cte;function $w(t){this.options=dte.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xMe,this.strm.avail_out=0;let r=gf.inflateInit2(this.strm,e.windowBits);if(r!==W1)throw new Error(YF[r]);if(this.header=new JMe,gf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=JF.string2buf(e.dictionary):jte.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=gf.inflateSetDictionary(this.strm,e.dictionary),r!==W1)))throw new Error(YF[r])}$w.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?eFe:ZMe,jte.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=gf.inflate(r,o),i===cB&&a&&(i=gf.inflateSetDictionary(r,a),i===W1?i=gf.inflate(r,o):i===PG&&(i=cB));r.avail_in>0&&i===lB&&r.state.wrap>0&&t[r.next_in]!==0;)gf.inflateReset(r),i=gf.inflate(r,o);switch(i){case tFe:case PG:case cB:case rFe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===lB))if(this.options.to==="string"){let c=JF.utf8border(r.output,r.next_out),d=r.next_out-c,u=JF.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===W1&&l===0)){if(i===lB)return i=gf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$w.prototype.onData=function(t){this.chunks.push(t)};$w.prototype.onEnd=function(t){t===W1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dte.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function sFe(t,e){const r=new $w(e);if(r.push(t),r.err)throw r.msg||YF[r.err];return r.result}var nFe=$w,aFe=sFe,iFe={Inflate:nFe,inflate:aFe};const{Inflate:oFe,inflate:lFe}=iFe;var IG=oFe,cFe=lFe;const Nte=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Nte[t]=e}const DG=4294967295;function dFe(t,e,r){let n=t;for(let a=0;a<r;a++)n=Nte[(n^e[a])&255]^n>>>8;return n}function uFe(t,e){return(dFe(DG,t,e)^DG)>>>0}function LG(t,e,r){const n=t.readUint32(),a=uFe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Ste(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function _te(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function Cte(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function Ete(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function kte(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+hFe(e[i-a],r[i],r[i-a])&255}}function hFe(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return a<=i&&a<=o?t:i<=o?e:r}function fFe(t,e,r,n,a,i){switch(t){case 0:Ste(e,r,a);break;case 1:_te(e,r,a,i);break;case 2:Cte(e,r,n,a);break;case 3:Ete(e,r,n,a,i);break;case 4:kte(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const mFe=new Uint16Array([255]),pFe=new Uint8Array(mFe.buffer),AFe=pFe[0]===255;function xFe(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(m<=0||f<=0)continue;const A=m*l,g=new Uint8Array(A);for(let x=0;x<f;x++){const v=e[d++],j=e.subarray(d,d+A);d+=A;const b=new Uint8Array(A);fFe(v,j,b,g,A,l),g.set(b);for(let S=0;S<m;S++){const w=h.x+S*h.xStep,N=h.y+x*h.yStep;if(!(w>=r||N>=n))for(let E=0;E<l;E++)c[(N*r+w)*l+E]=b[S*l+E]}}}if(i===16){const u=new Uint16Array(c.buffer);if(AFe)for(let h=0;h<u.length;h++)u[h]=gFe(u[h]);return u}else return c}function gFe(t){return(t&255)<<8|t>>8&255}const vFe=new Uint16Array([255]),yFe=new Uint8Array(vFe.buffer),bFe=yFe[0]===255,wFe=new Uint8Array(0);function RG(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let d=wFe,u=0,h,m;for(let f=0;f<n;f++){switch(h=e.subarray(u+1,u+1+l),m=c.subarray(f*l,(f+1)*l),e[u]){case 0:Ste(h,m,l);break;case 1:_te(h,m,l,o);break;case 2:Cte(h,m,d,l);break;case 3:Ete(h,m,d,l,o);break;case 4:kte(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=m,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(bFe)for(let A=0;A<f.length;A++)f[A]=jFe(f[A]);return f}else return c}function jFe(t){return(t&255)<<8|t>>8&255}const GN=Uint8Array.of(137,80,78,71,13,10,26,10);function OG(t){if(!NFe(t.readBytes(GN.length)))throw new Error("wrong PNG signature")}function NFe(t){if(t.length<GN.length)return!1;for(let e=0;e<GN.length;e++)if(t[e]!==GN[e])return!1;return!0}const SFe="tEXt",_Fe=0,Bte=new TextDecoder("latin1");function CFe(t){if(kFe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const EFe=/^[\u0000-\u00FF]*$/;function kFe(t){if(!EFe.test(t))throw new Error("invalid latin1 text")}function BFe(t,e,r){const n=Tte(e);t[n]=TFe(e,r-n.length-1)}function Tte(t){for(t.mark();t.readByte()!==_Fe;);const e=t.offset;t.reset();const r=Bte.decode(t.readBytes(e-t.offset-1));return t.skip(1),CFe(r),r}function TFe(t,e){return Bte.decode(t.readBytes(e))}const cc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dB={UNKNOWN:-1,DEFLATE:0},UG={UNKNOWN:-1,ADAPTIVE:0},uB={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mj={NONE:0,BACKGROUND:1,PREVIOUS:2},hB={SOURCE:0,OVER:1};class MFe extends M8{constructor(r,n={}){super(r);ur(this,"_checkCrc");ur(this,"_inflator");ur(this,"_png");ur(this,"_apng");ur(this,"_end");ur(this,"_hasPalette");ur(this,"_palette");ur(this,"_hasTransparency");ur(this,"_transparency");ur(this,"_compressionMethod");ur(this,"_filterMethod");ur(this,"_interlaceMethod");ur(this,"_colorType");ur(this,"_isAnimated");ur(this,"_numberOfFrames");ur(this,"_numberOfPlays");ur(this,"_frames");ur(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new IG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dB.UNKNOWN,this._filterMethod=UG.UNKNOWN,this._interlaceMethod=uB.UNKNOWN,this._colorType=cc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(OG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(OG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case SFe:BFe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LG(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LG(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=FFe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case cc.GREYSCALE:a=1;break;case cc.TRUECOLOUR:a=3;break;case cc.INDEXED_COLOUR:a=1;break;case cc.GREYSCALE_ALPHA:a=2;break;case cc.TRUECOLOUR_ALPHA:a=4;break;case cc.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==dB.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case cc.GREYSCALE:case cc.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case cc.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case cc.UNKNOWN:case cc.GREYSCALE_ALPHA:case cc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Tte(this),a=this.readUint8();if(a!==dB.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:cFe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=RG({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Mj.NONE:break;case Mj.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Mj.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case hB.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case hB.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=n.data[d+this._png.channels-1]/a,m=u%(this._png.channels-1)===0?1:n.data[d+u],f=Math.floor(h*m+(1-h)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==UG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===uB.NO_INTERLACE)this._png.data=RG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===uB.ADAM7)this._png.data=xFe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mj.NONE,blendOp:hB.SOURCE,data:r}),this._inflator=new IG,this._writingDataChunks=!1}}function FFe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var HG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(HG||(HG={}));function PFe(t,e){return new MFe(t,e).decode()}var ts=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fB(){ts.console&&typeof ts.console.log=="function"&&ts.console.log.apply(ts.console,arguments)}var Ln={log:fB,warn:function(t){ts.console&&(typeof ts.console.warn=="function"?ts.console.warn.apply(ts.console,arguments):fB.call(null,arguments))},error:function(t){ts.console&&(typeof ts.console.error=="function"?ts.console.error.apply(ts.console,arguments):fB(t))}};function mB(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Qp(n.response,e,r)},n.onerror=function(){Ln.error("could not download file")},n.send()}function QG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fj(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Qp=ts.saveAs||((typeof window>"u"?"undefined":bn(window))!=="object"||window!==ts?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ts.URL||ts.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?QG(a.href)?mB(t,e,r):Fj(a,a.target="_blank"):Fj(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Fj(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(QG(t))mB(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Fj(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:bn(i)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return mB(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(ts.HTMLElement)||ts.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":bn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=ts.URL||ts.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Mte(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var VN=ts.atob.bind(ts),zG=ts.btoa.bind(ts);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pB(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Mo(r,n,a,i,e[0],7,-680876936),i=Mo(i,r,n,a,e[1],12,-389564586),a=Mo(a,i,r,n,e[2],17,606105819),n=Mo(n,a,i,r,e[3],22,-1044525330),r=Mo(r,n,a,i,e[4],7,-176418897),i=Mo(i,r,n,a,e[5],12,1200080426),a=Mo(a,i,r,n,e[6],17,-1473231341),n=Mo(n,a,i,r,e[7],22,-45705983),r=Mo(r,n,a,i,e[8],7,1770035416),i=Mo(i,r,n,a,e[9],12,-1958414417),a=Mo(a,i,r,n,e[10],17,-42063),n=Mo(n,a,i,r,e[11],22,-1990404162),r=Mo(r,n,a,i,e[12],7,1804603682),i=Mo(i,r,n,a,e[13],12,-40341101),a=Mo(a,i,r,n,e[14],17,-1502002290),r=Fo(r,n=Mo(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Fo(i,r,n,a,e[6],9,-1069501632),a=Fo(a,i,r,n,e[11],14,643717713),n=Fo(n,a,i,r,e[0],20,-373897302),r=Fo(r,n,a,i,e[5],5,-701558691),i=Fo(i,r,n,a,e[10],9,38016083),a=Fo(a,i,r,n,e[15],14,-660478335),n=Fo(n,a,i,r,e[4],20,-405537848),r=Fo(r,n,a,i,e[9],5,568446438),i=Fo(i,r,n,a,e[14],9,-1019803690),a=Fo(a,i,r,n,e[3],14,-187363961),n=Fo(n,a,i,r,e[8],20,1163531501),r=Fo(r,n,a,i,e[13],5,-1444681467),i=Fo(i,r,n,a,e[2],9,-51403784),a=Fo(a,i,r,n,e[7],14,1735328473),r=Po(r,n=Fo(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Po(i,r,n,a,e[8],11,-2022574463),a=Po(a,i,r,n,e[11],16,1839030562),n=Po(n,a,i,r,e[14],23,-35309556),r=Po(r,n,a,i,e[1],4,-1530992060),i=Po(i,r,n,a,e[4],11,1272893353),a=Po(a,i,r,n,e[7],16,-155497632),n=Po(n,a,i,r,e[10],23,-1094730640),r=Po(r,n,a,i,e[13],4,681279174),i=Po(i,r,n,a,e[0],11,-358537222),a=Po(a,i,r,n,e[3],16,-722521979),n=Po(n,a,i,r,e[6],23,76029189),r=Po(r,n,a,i,e[9],4,-640364487),i=Po(i,r,n,a,e[12],11,-421815835),a=Po(a,i,r,n,e[15],16,530742520),r=Io(r,n=Po(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Io(i,r,n,a,e[7],10,1126891415),a=Io(a,i,r,n,e[14],15,-1416354905),n=Io(n,a,i,r,e[5],21,-57434055),r=Io(r,n,a,i,e[12],6,1700485571),i=Io(i,r,n,a,e[3],10,-1894986606),a=Io(a,i,r,n,e[10],15,-1051523),n=Io(n,a,i,r,e[1],21,-2054922799),r=Io(r,n,a,i,e[8],6,1873313359),i=Io(i,r,n,a,e[15],10,-30611744),a=Io(a,i,r,n,e[6],15,-1560198380),n=Io(n,a,i,r,e[13],21,1309151649),r=Io(r,n,a,i,e[4],6,-145523070),i=Io(i,r,n,a,e[11],10,-1120210379),a=Io(a,i,r,n,e[2],15,718787259),n=Io(n,a,i,r,e[9],21,-343485551),t[0]=Z0(r,t[0]),t[1]=Z0(n,t[1]),t[2]=Z0(a,t[2]),t[3]=Z0(i,t[3])}function W4(t,e,r,n,a,i){return e=Z0(Z0(e,t),Z0(n,i)),Z0(e<<a|e>>>32-a,r)}function Mo(t,e,r,n,a,i,o){return W4(e&r|~e&n,t,e,a,i,o)}function Fo(t,e,r,n,a,i,o){return W4(e&n|r&~n,t,e,a,i,o)}function Po(t,e,r,n,a,i,o){return W4(e^r^n,t,e,a,i,o)}function Io(t,e,r,n,a,i,o){return W4(r^(e|~n),t,e,a,i,o)}function Fte(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)pB(n,IFe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(pB(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,pB(n,a),n}function IFe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var $G="0123456789abcdef".split("");function DFe(t){for(var e="",r=0;r<4;r++)e+=$G[t>>8*r+4&15]+$G[t>>8*r&15];return e}function LFe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ZF(t){return Fte(t).map(LFe).join("")}var RFe=(function(t){for(var e=0;e<t.length;e++)t[e]=DFe(t[e]);return t.join("")})(Fte("hello"))!="5d41402abc4b2a76b9719d911017c592";function Z0(t,e){if(RFe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function eP(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var h=e.length,m=0,f=0,A="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],A+=String.fromCharCode(e.charCodeAt(c)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GG={print:4,modify:8,copy:16,"annot-forms":32};function cg(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(GG.perm!==void 0)throw new Error("Invalid permission: "+l);a+=GG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=ZF(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=eP(this.encryptionKey,this.padding)}function dg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function VG(t){if(bn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){ts.console&&Ln.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function q1(t){if(!(this instanceof q1))return new q1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Pte(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function K0(t,e,r,n,a){if(!(this instanceof K0))return new K0(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Pte.call(this,n,a)}function rA(t,e,r,n,a){if(!(this instanceof rA))return new rA(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Pte.call(this,n,a)}function gr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;bn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=VG;var A="1.3",g=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(q){A=q};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var v=f.__private__.getPageFormat=function(q){return x[q]};a=a||"a4";var j="compat",b="advanced",S=j;function w(){this.saveGraphicsState(),J(new cr(_t,0,0,-_t,0,wl()*_t).toString()+" cm"),this.setFontSize(this.getFontSize()/_t),d="n",S=b}function N(){this.restoreGraphicsState(),d="S",S=j}var E=f.__private__.combineFontStyleAndFontWeight=function(q,fe){if(q=="bold"&&fe=="normal"||q=="bold"&&fe==400||q=="normal"&&fe=="italic"||q=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(q=fe==400||fe==="normal"?q==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||q!=="normal"?(fe==700?"bold":fe)+""+q:"bold"),q};f.advancedAPI=function(q){var fe=S===j;return fe&&w.call(this),typeof q!="function"||(q(this),fe&&N.call(this)),this},f.compatAPI=function(q){var fe=S===b;return fe&&N.call(this),typeof q!="function"||(q(this),fe&&w.call(this)),this},f.isAdvancedAPI=function(){return S===b};var P,_=function(q){if(S!==b)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=f.roundToPrecision=f.__private__.roundToPrecision=function(q,fe){var Ie=e||fe;if(isNaN(q)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(Ie).replace(/0+$/,"")};P=f.hpf=f.__private__.hpf=typeof c=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,c)}:c==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,16)};var k=f.f2=f.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return B(q,2)},M=f.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return B(q,3)},T=f.scale=f.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return S===j?q*_t:S===b?q:void 0},H=function(q){return T((function(fe){return S===j?wl()-fe:S===b?fe:void 0})(q))};f.__private__.setPrecision=f.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(e=parseInt(q,10))};var L,Q="00000000000000000000000000000000",O=f.__private__.getFileId=function(){return Q},V=f.__private__.setFileId=function(q){return Q=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Fn=new cg(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};f.setFileId=function(q){return V(q),this},f.getFileId=function(){return O()};var ee=f.__private__.convertDateToPDFDate=function(q){var fe=q.getTimezoneOffset(),Ie=fe<0?"+":"-",Ke=Math.floor(Math.abs(fe/60)),at=Math.abs(fe%60),Mt=[Ie,z(Ke),"'",z(at),"'"].join("");return["D:",q.getFullYear(),z(q.getMonth()+1),z(q.getDate()),z(q.getHours()),z(q.getMinutes()),z(q.getSeconds()),Mt].join("")},Y=f.__private__.convertPDFDateToDate=function(q){var fe=parseInt(q.substr(2,4),10),Ie=parseInt(q.substr(6,2),10)-1,Ke=parseInt(q.substr(8,2),10),at=parseInt(q.substr(10,2),10),Mt=parseInt(q.substr(12,2),10),Qt=parseInt(q.substr(14,2),10);return new Date(fe,Ie,Ke,at,Mt,Qt,0)},re=f.__private__.setCreationDate=function(q){var fe;if(q===void 0&&(q=new Date),q instanceof Date)fe=ee(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=q}return L=fe},D=f.__private__.getCreationDate=function(q){var fe=L;return q==="jsDate"&&(fe=Y(L)),fe};f.setCreationDate=function(q){return re(q),this},f.getCreationDate=function(q){return D(q)};var G,z=f.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},K=f.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},oe=0,ue=[],ge=[],pe=0,ye=[],Pe=[],le=!1,lt=ge;f.__private__.setCustomOutputDestination=function(q){le=!0,lt=q};var ne=function(q){le||(lt=q)};f.__private__.resetCustomOutputDestination=function(){le=!1,lt=ge};var J=f.__private__.out=function(q){return q=q.toString(),pe+=q.length+1,lt.push(q),lt},ie=f.__private__.write=function(q){return J(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},Ce=f.__private__.getArrayBuffer=function(q){for(var fe=q.length,Ie=new ArrayBuffer(fe),Ke=new Uint8Array(Ie);fe--;)Ke[fe]=q.charCodeAt(fe);return Ie},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Oe};var Re=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(q){return Re=S===b?q/_t:q,this};var ze,ce=f.__private__.getFontSize=f.getFontSize=function(){return S===j?Re:Re*_t},ae=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(q){return ae=q,this},f.__private__.getR2L=f.getR2L=function(){return ae};var Se,We=f.__private__.setZoomMode=function(q){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))ze=q;else if(isNaN(q)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');ze=q}else ze=parseInt(q,10)};f.__private__.getZoomMode=function(){return ze};var Je,tt=f.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');Se=q};f.__private__.getPageMode=function(){return Se};var Tt=f.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');Je=q};f.__private__.getLayoutMode=function(){return Je},f.__private__.setDisplayMode=f.setDisplayMode=function(q,fe,Ie){return We(q),Tt(fe),tt(Ie),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(q){if(Object.keys(ft).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[q]},f.__private__.getDocumentProperties=function(){return ft},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(q){for(var fe in ft)ft.hasOwnProperty(fe)&&q[fe]&&(ft[fe]=q[fe]);return this},f.__private__.setDocumentProperty=function(q,fe){if(Object.keys(ft).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[q]=fe};var vt,_t,et,It,Lt,Gt={},Rt={},mr=[],Ht={},Ge={},we={},Ze={},qe=null,st=0,ct=[],St=new VG(f),Xt=t.hotfixes||[],Vt={},Pr={},sr=[],cr=function q(fe,Ie,Ke,at,Mt,Qt){if(!(this instanceof q))return new q(fe,Ie,Ke,at,Mt,Qt);isNaN(fe)&&(fe=1),isNaN(Ie)&&(Ie=0),isNaN(Ke)&&(Ke=0),isNaN(at)&&(at=1),isNaN(Mt)&&(Mt=0),isNaN(Qt)&&(Qt=0),this._matrix=[fe,Ie,Ke,at,Mt,Qt]};Object.defineProperty(cr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(cr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(cr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(cr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(cr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(cr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(cr.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(cr.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(cr.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(cr.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(cr.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(cr.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(cr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cr.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(q)},cr.prototype.multiply=function(q){var fe=q.sx*this.sx+q.shy*this.shx,Ie=q.sx*this.shy+q.shy*this.sy,Ke=q.shx*this.sx+q.sy*this.shx,at=q.shx*this.shy+q.sy*this.sy,Mt=q.tx*this.sx+q.ty*this.shx+this.tx,Qt=q.tx*this.shy+q.ty*this.sy+this.ty;return new cr(fe,Ie,Ke,at,Mt,Qt)},cr.prototype.decompose=function(){var q=this.sx,fe=this.shy,Ie=this.shx,Ke=this.sy,at=this.tx,Mt=this.ty,Qt=Math.sqrt(q*q+fe*fe),Nr=(q/=Qt)*Ie+(fe/=Qt)*Ke;Ie-=q*Nr,Ke-=fe*Nr;var Tr=Math.sqrt(Ie*Ie+Ke*Ke);return Nr/=Tr,q*(Ke/=Tr)<fe*(Ie/=Tr)&&(q=-q,fe=-fe,Nr=-Nr,Qt=-Qt),{scale:new cr(Qt,0,0,Tr,0,0),translate:new cr(1,0,0,1,at,Mt),rotate:new cr(q,fe,-fe,q,0,0),skew:new cr(1,0,Nr,1,0,0)}},cr.prototype.toString=function(q){return this.join(" ")},cr.prototype.inversed=function(){var q=this.sx,fe=this.shy,Ie=this.shx,Ke=this.sy,at=this.tx,Mt=this.ty,Qt=1/(q*Ke-fe*Ie),Nr=Ke*Qt,Tr=-fe*Qt,Yr=-Ie*Qt,rs=q*Qt;return new cr(Nr,Tr,Yr,rs,-Nr*at-Yr*Mt,-Tr*at-rs*Mt)},cr.prototype.applyToPoint=function(q){var fe=q.x*this.sx+q.y*this.shx+this.tx,Ie=q.x*this.shy+q.y*this.sy+this.ty;return new vl(fe,Ie)},cr.prototype.applyToRectangle=function(q){var fe=this.applyToPoint(q),Ie=this.applyToPoint(new vl(q.x+q.w,q.y+q.h));return new _h(fe.x,fe.y,Ie.x-fe.x,Ie.y-fe.y)},cr.prototype.clone=function(){var q=this.sx,fe=this.shy,Ie=this.shx,Ke=this.sy,at=this.tx,Mt=this.ty;return new cr(q,fe,Ie,Ke,at,Mt)},f.Matrix=cr;var Ts=f.matrixMult=function(q,fe){return fe.multiply(q)},tn=new cr(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=tn;var Ls=function(q,fe){if(!Ge[q]){var Ie=(fe instanceof K0?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);fe.id=Ie,Ge[q]=Ie,Ht[Ie]=fe,St.publish("addPattern",fe)}};f.ShadingPattern=K0,f.TilingPattern=rA,f.addShadingPattern=function(q,fe){return _("addShadingPattern()"),Ls(q,fe),this},f.beginTilingPattern=function(q){_("beginTilingPattern()"),yl(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},f.endTilingPattern=function(q,fe){_("endTilingPattern()"),fe.stream=Pe[G].join(`
`),Ls(q,fe),St.publish("endTilingPattern",fe),sr.pop().restore()};var on,hs=f.__private__.newObject=function(){var q=Rs();return me(q,!0),q},Rs=f.__private__.newObjectDeferred=function(){return oe++,ue[oe]=function(){return pe},oe},me=function(q,fe){return fe=typeof fe=="boolean"&&fe,ue[q]=pe,fe&&J(q+" 0 obj"),q},ke=f.__private__.newAdditionalObject=function(){var q={objId:Rs(),content:""};return ye.push(q),q},je=Rs(),Ee=Rs(),Fe=f.__private__.decodeColorString=function(q){var fe=q.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Ie=parseFloat(fe[0]);fe=[Ie,Ie,Ie,"r"]}for(var Ke="#",at=0;at<3;at++)Ke+=("0"+Math.floor(255*parseFloat(fe[at])).toString(16)).slice(-2);return Ke},Be=f.__private__.encodeColorString=function(q){var fe;typeof q=="string"&&(q={ch1:q});var Ie=q.ch1,Ke=q.ch2,at=q.ch3,Mt=q.ch4,Qt=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Nr=new Mte(Ie);if(Nr.ok)Ie=Nr.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var Tr=parseInt(Ie.substr(1),16);Ie=Tr>>16&255,Ke=Tr>>8&255,at=255&Tr}if(Ke===void 0||Mt===void 0&&Ie===Ke&&Ke===at)fe=typeof Ie=="string"?Ie+" "+Qt[0]:q.precision===2?k(Ie/255)+" "+Qt[0]:M(Ie/255)+" "+Qt[0];else if(Mt===void 0||bn(Mt)==="object"){if(Mt&&!isNaN(Mt.a)&&Mt.a===0)return["1.","1.","1.",Qt[1]].join(" ");fe=typeof Ie=="string"?[Ie,Ke,at,Qt[1]].join(" "):q.precision===2?[k(Ie/255),k(Ke/255),k(at/255),Qt[1]].join(" "):[M(Ie/255),M(Ke/255),M(at/255),Qt[1]].join(" ")}else fe=typeof Ie=="string"?[Ie,Ke,at,Mt,Qt[2]].join(" "):q.precision===2?[k(Ie),k(Ke),k(at),k(Mt),Qt[2]].join(" "):[M(Ie),M(Ke),M(at),M(Mt),Qt[2]].join(" ");return fe},it=f.__private__.getFilters=function(){return o},wt=f.__private__.putStream=function(q){var fe=(q=q||{}).data||"",Ie=q.filters||it(),Ke=q.alreadyAppliedFilters||[],at=q.addLength1||!1,Mt=fe.length,Qt=q.objectId,Nr=function(Ra){return Ra};if(u!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Nr=Fn.encryptor(Qt,0));var Tr={};Ie===!0&&(Ie=["FlateEncode"]);var Yr=q.additionalKeyValues||[],rs=(Tr=gr.API.processDataByFilters!==void 0?gr.API.processDataByFilters(fe,Ie):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Ke)?Ke.join(" "):Ke.toString());if(Tr.data.length!==0&&(Yr.push({key:"Length",value:Tr.data.length}),at===!0&&Yr.push({key:"Length1",value:Mt})),rs.length!=0)if(rs.split("/").length-1==1)Yr.push({key:"Filter",value:rs});else{Yr.push({key:"Filter",value:"["+rs+"]"});for(var Fs=0;Fs<Yr.length;Fs+=1)if(Yr[Fs].key==="DecodeParms"){for(var ea=[],Ca=0;Ca<Tr.reverseChain.split("/").length-1;Ca+=1)ea.push("null");ea.push(Yr[Fs].value),Yr[Fs].value="["+ea.join(" ")+"]"}}J("<<");for(var Sn=0;Sn<Yr.length;Sn++)J("/"+Yr[Sn].key+" "+Yr[Sn].value);J(">>"),Tr.data.length!==0&&(J("stream"),J(Nr(Tr.data)),J("endstream"))},dt=f.__private__.putPage=function(q){var fe=q.number,Ie=q.data,Ke=q.objId,at=q.contentsObjId;me(Ke,!0),J("<</Type /Page"),J("/Parent "+q.rootDictionaryObjId+" 0 R"),J("/Resources "+q.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(P(q.mediaBox.bottomLeftX))+" "+parseFloat(P(q.mediaBox.bottomLeftY))+" "+P(q.mediaBox.topRightX)+" "+P(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&J("/CropBox ["+P(q.cropBox.bottomLeftX)+" "+P(q.cropBox.bottomLeftY)+" "+P(q.cropBox.topRightX)+" "+P(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&J("/BleedBox ["+P(q.bleedBox.bottomLeftX)+" "+P(q.bleedBox.bottomLeftY)+" "+P(q.bleedBox.topRightX)+" "+P(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&J("/TrimBox ["+P(q.trimBox.bottomLeftX)+" "+P(q.trimBox.bottomLeftY)+" "+P(q.trimBox.topRightX)+" "+P(q.trimBox.topRightY)+"]"),q.artBox!==null&&J("/ArtBox ["+P(q.artBox.bottomLeftX)+" "+P(q.artBox.bottomLeftY)+" "+P(q.artBox.topRightX)+" "+P(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&J("/UserUnit "+q.userUnit),St.publish("putPage",{objId:Ke,pageContext:ct[fe],pageNumber:fe,page:Ie}),J("/Contents "+at+" 0 R"),J(">>"),J("endobj");var Mt=Ie.join(`
`);return S===b&&(Mt+=`
Q`),me(at,!0),wt({data:Mt,filters:it(),objectId:at}),J("endobj"),Ke},ut=f.__private__.putPages=function(){var q,fe,Ie=[];for(q=1;q<=st;q++)ct[q].objId=Rs(),ct[q].contentsObjId=Rs();for(q=1;q<=st;q++)Ie.push(dt({number:q,data:Pe[q],objId:ct[q].objId,contentsObjId:ct[q].contentsObjId,mediaBox:ct[q].mediaBox,cropBox:ct[q].cropBox,bleedBox:ct[q].bleedBox,trimBox:ct[q].trimBox,artBox:ct[q].artBox,userUnit:ct[q].userUnit,rootDictionaryObjId:je,resourceDictionaryObjId:Ee}));me(je,!0),J("<</Type /Pages");var Ke="/Kids [";for(fe=0;fe<st;fe++)Ke+=Ie[fe]+" 0 R ";J(Ke+"]"),J("/Count "+st),J(">>"),J("endobj"),St.publish("postPutPages")},xt=function(q){St.publish("putFont",{font:q,out:J,newObject:hs,putStream:wt}),q.isAlreadyPutted!==!0&&(q.objectNumber=hs(),J("<<"),J("/Type /Font"),J("/BaseFont /"+dg(q.postScriptName)),J("/Subtype /Type1"),typeof q.encoding=="string"&&J("/Encoding /"+q.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},de=function(q){q.objectNumber=hs();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[P(q.x),P(q.y),P(q.x+q.width),P(q.y+q.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var Ie=q.pages[1].join(`
`);wt({data:Ie,additionalKeyValues:fe,objectId:q.objectNumber}),J("endobj")},Le=function(q,fe){fe||(fe=21);var Ie=hs(),Ke=(function(Qt,Nr){var Tr,Yr=[],rs=1/(Nr-1);for(Tr=0;Tr<1;Tr+=rs)Yr.push(Tr);if(Yr.push(1),Qt[0].offset!=0){var Fs={offset:0,color:Qt[0].color};Qt.unshift(Fs)}if(Qt[Qt.length-1].offset!=1){var ea={offset:1,color:Qt[Qt.length-1].color};Qt.push(ea)}for(var Ca="",Sn=0,Ra=0;Ra<Yr.length;Ra++){for(Tr=Yr[Ra];Tr>Qt[Sn+1].offset;)Sn++;var xa=Qt[Sn].offset,pi=(Tr-xa)/(Qt[Sn+1].offset-xa),Cd=Qt[Sn].color,Zl=Qt[Sn+1].color;Ca+=K(Math.round((1-pi)*Cd[0]+pi*Zl[0]).toString(16))+K(Math.round((1-pi)*Cd[1]+pi*Zl[1]).toString(16))+K(Math.round((1-pi)*Cd[2]+pi*Zl[2]).toString(16))}return Ca.trim()})(q.colors,fe),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+fe+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:Ke,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),J("endobj"),q.objectNumber=hs(),J("<< /ShadingType "+q.type),J("/ColorSpace /DeviceRGB");var Mt="/Coords ["+P(parseFloat(q.coords[0]))+" "+P(parseFloat(q.coords[1]))+" ";q.type===2?Mt+=P(parseFloat(q.coords[2]))+" "+P(parseFloat(q.coords[3])):Mt+=P(parseFloat(q.coords[2]))+" "+P(parseFloat(q.coords[3]))+" "+P(parseFloat(q.coords[4]))+" "+P(parseFloat(q.coords[5])),J(Mt+="]"),q.matrix&&J("/Matrix ["+q.matrix.toString()+"]"),J("/Function "+Ie+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ve=function(q,fe){var Ie=Rs(),Ke=hs();fe.push({resourcesOid:Ie,objectOid:Ke}),q.objectNumber=Ke;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+q.boundingBox.map(P).join(" ")+"]"}),at.push({key:"XStep",value:P(q.xStep)}),at.push({key:"YStep",value:P(q.yStep)}),at.push({key:"Resources",value:Ie+" 0 R"}),q.matrix&&at.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),wt({data:q.stream,additionalKeyValues:at,objectId:q.objectNumber}),J("endobj")},Qe=function(q){for(var fe in q.objectNumber=hs(),J("<<"),q)switch(fe){case"opacity":J("/ca "+k(q[fe]));break;case"stroke-opacity":J("/CA "+k(q[fe]))}J(">>"),J("endobj")},De=function(q){me(q.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in J("/Font <<"),Gt)Gt.hasOwnProperty(fe)&&(h===!1||h===!0&&m.hasOwnProperty(fe))&&J("/"+fe+" "+Gt[fe].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(Ht).length>0){for(var fe in J("/Shading <<"),Ht)Ht.hasOwnProperty(fe)&&Ht[fe]instanceof K0&&Ht[fe].objectNumber>=0&&J("/"+fe+" "+Ht[fe].objectNumber+" 0 R");St.publish("putShadingPatternDict"),J(">>")}})(),(function(fe){if(Object.keys(Ht).length>0){for(var Ie in J("/Pattern <<"),Ht)Ht.hasOwnProperty(Ie)&&Ht[Ie]instanceof f.TilingPattern&&Ht[Ie].objectNumber>=0&&Ht[Ie].objectNumber<fe&&J("/"+Ie+" "+Ht[Ie].objectNumber+" 0 R");St.publish("putTilingPatternDict"),J(">>")}})(q.objectOid),(function(){if(Object.keys(we).length>0){var fe;for(fe in J("/ExtGState <<"),we)we.hasOwnProperty(fe)&&we[fe].objectNumber>=0&&J("/"+fe+" "+we[fe].objectNumber+" 0 R");St.publish("putGStateDict"),J(">>")}})(),(function(){for(var fe in J("/XObject <<"),Vt)Vt.hasOwnProperty(fe)&&Vt[fe].objectNumber>=0&&J("/"+fe+" "+Vt[fe].objectNumber+" 0 R");St.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},yt=function(q){Rt[q.fontName]=Rt[q.fontName]||{},Rt[q.fontName][q.fontStyle]=q.id},Ut=function(q,fe,Ie,Ke,at){var Mt={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:q,fontName:fe,fontStyle:Ie,encoding:Ke,isStandardFont:at||!1,metadata:{}};return St.publish("addFont",{font:Mt,instance:this}),Gt[Mt.id]=Mt,yt(Mt),Mt.id},zt=f.__private__.pdfEscape=f.pdfEscape=function(q,fe){return(function(Ie,Ke){var at,Mt,Qt,Nr,Tr,Yr,rs,Fs,ea;if(Qt=(Ke=Ke||{}).sourceEncoding||"Unicode",Tr=Ke.outputEncoding,(Ke.autoencode||Tr)&&Gt[vt].metadata&&Gt[vt].metadata[Qt]&&Gt[vt].metadata[Qt].encoding&&(Nr=Gt[vt].metadata[Qt].encoding,!Tr&&Gt[vt].encoding&&(Tr=Gt[vt].encoding),!Tr&&Nr.codePages&&(Tr=Nr.codePages[0]),typeof Tr=="string"&&(Tr=Nr[Tr]),Tr)){for(rs=!1,Yr=[],at=0,Mt=Ie.length;at<Mt;at++)(Fs=Tr[Ie.charCodeAt(at)])?Yr.push(String.fromCharCode(Fs)):Yr.push(Ie[at]),Yr[at].charCodeAt(0)>>8&&(rs=!0);Ie=Yr.join("")}for(at=Ie.length;rs===void 0&&at!==0;)Ie.charCodeAt(at-1)>>8&&(rs=!0),at--;if(!rs)return Ie;for(Yr=Ke.noBOM?[]:[254,255],at=0,Mt=Ie.length;at<Mt;at++){if((ea=(Fs=Ie.charCodeAt(at))>>8)>>8)throw new Error("Character at position "+at+" of string '"+Ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yr.push(ea),Yr.push(Fs-(ea<<8))}return String.fromCharCode.apply(void 0,Yr)})(q,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zt=f.__private__.beginPage=function(q){Pe[++st]=[],ct[st]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},$e(st),ne(Pe[G])},Br=function(q,fe){var Ie,Ke,at;switch(r=fe||r,typeof q=="string"&&(Ie=v(q.toLowerCase()),Array.isArray(Ie)&&(Ke=Ie[0],at=Ie[1])),Array.isArray(q)&&(Ke=q[0]*_t,at=q[1]*_t),isNaN(Ke)&&(Ke=a[0],at=a[1]),(Ke>14400||at>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ke=Math.min(14400,Ke),at=Math.min(14400,at)),a=[Ke,at],r.substr(0,1)){case"l":at>Ke&&(a=[at,Ke]);break;case"p":Ke>at&&(a=[at,Ke])}Zt(a),Vr(gl),J(Nh),zm!==0&&J(zm+" J"),$m!==0&&J($m+" j"),St.publish("addPage",{pageNumber:st})},_e=function(q){q>0&&q<=st&&(Pe.splice(q,1),ct.splice(q,1),st--,G>st&&(G=st),this.setPage(G))},$e=function(q){q>0&&q<=st&&(G=q)},Ot=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},lr=function(q,fe,Ie){var Ke,at=void 0;return Ie=Ie||{},q=q!==void 0?q:Gt[vt].fontName,fe=fe!==void 0?fe:Gt[vt].fontStyle,Ke=q.toLowerCase(),Rt[Ke]!==void 0&&Rt[Ke][fe]!==void 0?at=Rt[Ke][fe]:Rt[q]!==void 0&&Rt[q][fe]!==void 0?at=Rt[q][fe]:Ie.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+q+"', '"+fe+"'. Refer to getFontList() for available fonts."),at||Ie.noFallback||(at=Rt.times[fe])==null&&(at=Rt.times.normal),at},Yt=f.__private__.putInfo=function(){var q=hs(),fe=function(Ke){return Ke};for(var Ie in u!==null&&(fe=Fn.encryptor(q,0)),J("<<"),J("/Producer ("+zt(fe("jsPDF "+gr.version))+")"),ft)ft.hasOwnProperty(Ie)&&ft[Ie]&&J("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+zt(fe(ft[Ie]))+")");J("/CreationDate ("+zt(fe(L))+")"),J(">>"),J("endobj")},hr=f.__private__.putCatalog=function(q){var fe=(q=q||{}).rootDictionaryObjId||je;switch(hs(),J("<<"),J("/Type /Catalog"),J("/Pages "+fe+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+ze;Ie.substr(Ie.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&J("/OpenAction [3 0 R /XYZ null null "+k(ze)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Se&&J("/PageMode /"+Se),St.publish("putCatalog"),J(">>"),J("endobj")},Rr=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(oe+1)),J("/Root "+oe+" 0 R"),J("/Info "+(oe-1)+" 0 R"),u!==null&&J("/Encrypt "+Fn.oid+" 0 R"),J("/ID [ <"+Q+"> <"+Q+"> ]"),J(">>")},nr=f.__private__.putHeader=function(){J("%PDF-"+A),J("%")},fs=f.__private__.putXRef=function(){var q="0000000000";J("xref"),J("0 "+(oe+1)),J("0000000000 65535 f ");for(var fe=1;fe<=oe;fe++)typeof ue[fe]=="function"?J((q+ue[fe]()).slice(-10)+" 00000 n "):ue[fe]!==void 0?J((q+ue[fe]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Or=f.__private__.buildDocument=function(){var q;oe=0,pe=0,ge=[],ue=[],ye=[],je=Rs(),Ee=Rs(),ne(ge),St.publish("buildDocument"),nr(),ut(),(function(){St.publish("putAdditionalObjects");for(var Ie=0;Ie<ye.length;Ie++){var Ke=ye[Ie];me(Ke.objId,!0),J(Ke.content),J("endobj")}St.publish("postPutAdditionalObjects")})(),q=[],(function(){for(var Ie in Gt)Gt.hasOwnProperty(Ie)&&(h===!1||h===!0&&m.hasOwnProperty(Ie))&&xt(Gt[Ie])})(),(function(){var Ie;for(Ie in we)we.hasOwnProperty(Ie)&&Qe(we[Ie])})(),(function(){for(var Ie in Vt)Vt.hasOwnProperty(Ie)&&de(Vt[Ie])})(),(function(Ie){var Ke;for(Ke in Ht)Ht.hasOwnProperty(Ke)&&(Ht[Ke]instanceof K0?Le(Ht[Ke]):Ht[Ke]instanceof rA&&Ve(Ht[Ke],Ie))})(q),St.publish("putResources"),q.forEach(De),De({resourcesOid:Ee,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources"),u!==null&&(Fn.oid=hs(),J("<<"),J("/Filter /Standard"),J("/V "+Fn.v),J("/R "+Fn.r),J("/U <"+Fn.toHexString(Fn.U)+">"),J("/O <"+Fn.toHexString(Fn.O)+">"),J("/P "+Fn.P),J(">>"),J("endobj")),Yt(),hr();var fe=pe;return fs(),Rr(),J("startxref"),J(""+fe),J("%%EOF"),ne(Pe[G]),ge.join(`
`)},us=f.__private__.getBlob=function(q){return new Blob([Ce(q)],{type:"application/pdf"})},_a=f.output=f.__private__.output=(on=function(q,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",q){case void 0:return Or();case"save":f.save(fe.filename);break;case"arraybuffer":return Ce(Or());case"blob":return us(Or());case"bloburi":case"bloburl":if(ts.URL!==void 0&&typeof ts.URL.createObjectURL=="function")return ts.URL&&ts.URL.createObjectURL(us(Or()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Ke=Or();try{Ie=zG(Ke)}catch{Ie=zG(unescape(encodeURIComponent(Ke)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ts)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(at=fe.pdfObjectUrl,Mt="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Nr=ts.open();return Nr!==null&&Nr.document.write(Qt),Nr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ts)==="[object Window]"){var Tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',Yr=ts.open();if(Yr!==null){Yr.document.write(Tr);var rs=this;Yr.document.documentElement.querySelector("#pdfViewer").onload=function(){Yr.document.title=fe.filename,Yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rs.output("bloburl"))}}return Yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ts)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',ea=ts.open();if(ea!==null&&(ea.document.write(Fs),ea.document.title=fe.filename),ea||typeof safari>"u")return ea;break;case"datauri":case"dataurl":return ts.document.location.href=this.output("datauristring",fe);default:return null}},on.foo=function(){try{return on.apply(this,arguments)}catch(Ie){var q=Ie.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var fe="Error in function "+q.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!ts.console)throw new Error(fe);ts.console.error(fe,Ie),ts.alert&&alert(fe)}},on.foo.bar=on,on.foo),bs=function(q){return Array.isArray(Xt)===!0&&Xt.indexOf(q)>-1};switch(n){case"pt":_t=1;break;case"mm":_t=72/25.4;break;case"cm":_t=72/2.54;break;case"in":_t=72;break;case"px":_t=bs("px_scaling")==1?.75:96/72;break;case"pc":case"em":_t=12;break;case"ex":_t=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);_t=n}var Fn=null;re(),V();var Ns=f.__private__.getPageInfo=f.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[q].objId,pageNumber:q,pageContext:ct[q]}},ei=f.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in ct)if(ct[fe].objId===q)break;return Ns(fe)},ti=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ct[G].objId,pageNumber:G,pageContext:ct[G]}};f.addPage=function(){return Br.apply(this,arguments),this},f.setPage=function(){return $e.apply(this,arguments),ne.call(this,Pe[G]),this},f.insertPage=function(q){return this.addPage(),this.movePage(G,q),this},f.movePage=function(q,fe){var Ie,Ke;if(q>fe){Ie=Pe[q],Ke=ct[q];for(var at=q;at>fe;at--)Pe[at]=Pe[at-1],ct[at]=ct[at-1];Pe[fe]=Ie,ct[fe]=Ke,this.setPage(fe)}else if(q<fe){Ie=Pe[q],Ke=ct[q];for(var Mt=q;Mt<fe;Mt++)Pe[Mt]=Pe[Mt+1],ct[Mt]=ct[Mt+1];Pe[fe]=Ie,ct[fe]=Ke,this.setPage(fe)}return this},f.deletePage=function(){return _e.apply(this,arguments),this},f.__private__.text=f.text=function(q,fe,Ie,Ke,at){var Mt,Qt,Nr,Tr,Yr,rs,Fs,ea,Ca,Sn=(Ke=Ke||{}).scope||this;if(typeof q=="number"&&typeof fe=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Ra=Ie;Ie=fe,fe=q,q=Ra}if(arguments[3]instanceof cr==0?(Nr=arguments[4],Tr=arguments[5],bn(Fs=arguments[3])==="object"&&Fs!==null||(typeof Nr=="string"&&(Tr=Nr,Nr=null),typeof Fs=="string"&&(Tr=Fs,Fs=null),typeof Fs=="number"&&(Nr=Fs,Fs=null),Ke={flags:Fs,angle:Nr,align:Tr})):(_("The transform parameter of text() with a Matrix value"),Ca=at),isNaN(fe)||isNaN(Ie)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return Sn;var xa,pi="",Cd=typeof Ke.lineHeightFactor=="number"?Ke.lineHeightFactor:vo,Zl=Sn.internal.scaleFactor;function Ed(Os){return Os=Os.split("	").join(Array(Ke.TabLen||9).join(" ")),zt(Os,Fs)}function kh(Os){for(var ln,da=Os.concat(),Ea=[],rc=da.length;rc--;)typeof(ln=da.shift())=="string"?Ea.push(ln):Array.isArray(Os)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?Ea.push(ln[0]):Ea.push([ln[0],ln[1],ln[2]]);return Ea}function o0(Os,ln){var da;if(typeof Os=="string")da=ln(Os)[0];else if(Array.isArray(Os)){for(var Ea,rc,qm=Os.concat(),h0=[],Fd=qm.length;Fd--;)typeof(Ea=qm.shift())=="string"?h0.push(ln(Ea)[0]):Array.isArray(Ea)&&typeof Ea[0]=="string"&&(rc=ln(Ea[0],Ea[1],Ea[2]),h0.push([rc[0],rc[1],rc[2]]));da=h0}return da}var wu=!1,Bh=!0;if(typeof q=="string")wu=!0;else if(Array.isArray(q)){var ju=q.concat();Qt=[];for(var Nu,Ai=ju.length;Ai--;)(typeof(Nu=ju.shift())!="string"||Array.isArray(Nu)&&typeof Nu[0]!="string")&&(Bh=!1);wu=Bh}if(wu===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var Th=Re/Sn.internal.scaleFactor,Mh=Th*(Cd-1);switch(Ke.baseline){case"bottom":Ie-=Mh;break;case"top":Ie+=Th-Mh;break;case"hanging":Ie+=Th-2*Mh;break;case"middle":Ie+=Th/2-Mh}if((rs=Ke.maxWidth||0)>0&&(typeof q=="string"?q=Sn.splitTextToSize(q,rs):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(Os,ln){return Os.concat(Sn.splitTextToSize(ln,rs))},[]))),Mt={text:q,x:fe,y:Ie,options:Ke,mutex:{pdfEscape:zt,activeFontKey:vt,fonts:Gt,activeFontSize:Re}},St.publish("preProcessText",Mt),q=Mt.text,Nr=(Ke=Mt.options).angle,Ca instanceof cr==0&&Nr&&typeof Nr=="number"){Nr*=Math.PI/180,Ke.rotationDirection===0&&(Nr=-Nr),S===b&&(Nr=-Nr);var Vm=Math.cos(Nr),Wm=Math.sin(Nr);Ca=new cr(Vm,Wm,-Wm,Vm,0,0)}else Nr&&Nr instanceof cr&&(Ca=Nr);S!==b||Ca||(Ca=tn),(Yr=Ke.charSpace||yo)!==void 0&&(pi+=P(T(Yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ea=Ke.horizontalScale)!==void 0&&(pi+=P(100*ea)+` Tz
`),Ke.lang;var to=-1,ec=Ke.renderingMode!==void 0?Ke.renderingMode:Ke.stroke,Ic=Sn.internal.getCurrentPageInfo().pageContext;switch(ec){case 0:case!1:case"fill":to=0;break;case 1:case!0:case"stroke":to=1;break;case 2:case"fillThenStroke":to=2;break;case 3:case"invisible":to=3;break;case 4:case"fillAndAddForClipping":to=4;break;case 5:case"strokeAndAddPathForClipping":to=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":to=6;break;case 7:case"addToPathForClipping":to=7}var hx=Ic.usedRenderingMode!==void 0?Ic.usedRenderingMode:-1;to!==-1?pi+=to+` Tr
`:hx!==-1&&(pi+=`0 Tr
`),to!==-1&&(Ic.usedRenderingMode=to),Tr=Ke.align||"left";var tl,Su=Re*Cd,l0=Sn.internal.pageSize.getWidth(),c0=Gt[vt];Yr=Ke.charSpace||yo,rs=Ke.maxWidth||0,Fs=Object.assign({autoencode:!0,noBOM:!0},Ke.flags);var kd=[],jl=function(Os){return Sn.getStringUnitWidth(Os,{font:c0,charSpace:Yr,fontSize:Re,doKerning:!1})*Re/Zl};if(Object.prototype.toString.call(q)==="[object Array]"){var rl;Qt=kh(q),Tr!=="left"&&(tl=Qt.map(jl));var sl,_u=0;if(Tr==="right"){fe-=tl[0],q=[],Ai=Qt.length;for(var Dc=0;Dc<Ai;Dc++)Dc===0?(sl=el(fe),rl=Sd(Ie)):(sl=T(_u-tl[Dc]),rl=-Su),q.push([Qt[Dc],sl,rl]),_u=tl[Dc]}else if(Tr==="center"){fe-=tl[0]/2,q=[],Ai=Qt.length;for(var Bd=0;Bd<Ai;Bd++)Bd===0?(sl=el(fe),rl=Sd(Ie)):(sl=T((_u-tl[Bd])/2),rl=-Su),q.push([Qt[Bd],sl,rl]),_u=tl[Bd]}else if(Tr==="left"){q=[],Ai=Qt.length;for(var Td=0;Td<Ai;Td++)q.push(Qt[Td])}else if(Tr==="justify"&&c0.encoding==="Identity-H"){q=[],Ai=Qt.length,rs=rs!==0?rs:l0;for(var Lc=0,ga=0;ga<Ai;ga++)if(rl=ga===0?Sd(Ie):-Su,sl=ga===0?el(fe):Lc,ga<Ai-1){var Fh=T((rs-tl[ga])/(Qt[ga].split(" ").length-1)),Rc=Qt[ga].split(" ");q.push([Rc[0]+" ",sl,rl]),Lc=0;for(var tc=1;tc<Rc.length;tc++){var Ph=(jl(Rc[tc-1]+" "+Rc[tc])-jl(Rc[tc]))*Zl+Fh;tc==Rc.length-1?q.push([Rc[tc],Ph,0]):q.push([Rc[tc]+" ",Ph,0]),Lc-=Ph}}else q.push([Qt[ga],sl,rl]);q.push(["",Lc,0])}else{if(Tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],Ai=Qt.length,rs=rs!==0?rs:l0,ga=0;ga<Ai;ga++){rl=ga===0?Sd(Ie):-Su,sl=ga===0?el(fe):0;var Ih=Qt[ga].split(" ").length-1,d0=Ih>0?(rs-tl[ga])/Ih:0;ga<Ai-1?kd.push(P(T(d0))):kd.push(0),q.push([Qt[ga],sl,rl])}}}(typeof Ke.R2L=="boolean"?Ke.R2L:ae)===!0&&(q=o0(q,function(Os,ln,da){return[Os.split("").reverse().join(""),ln,da]})),Mt={text:q,x:fe,y:Ie,options:Ke,mutex:{pdfEscape:zt,activeFontKey:vt,fonts:Gt,activeFontSize:Re}},St.publish("postProcessText",Mt),q=Mt.text,xa=Mt.mutex.isHex||!1;var u0=Gt[vt].encoding;u0!=="WinAnsiEncoding"&&u0!=="StandardEncoding"||(q=o0(q,function(Os,ln,da){return[Ed(Os),ln,da]})),Qt=kh(q),q=[];for(var Md,Cu,Eu,Dh=Array.isArray(Qt[0])?1:0,ku="",Lh=function(Os,ln,da){var Ea="";return da instanceof cr?(da=typeof Ke.angle=="number"?Ts(da,new cr(1,0,0,1,Os,ln)):Ts(new cr(1,0,0,1,Os,ln),da),S===b&&(da=Ts(new cr(1,0,0,-1,0,0),da)),Ea=da.join(" ")+` Tm
`):Ea=P(Os)+" "+P(ln)+` Td
`,Ea},ca=0;ca<Qt.length;ca++){switch(ku="",Dh){case 1:Eu=(xa?"<":"(")+Qt[ca][0]+(xa?">":")"),Md=parseFloat(Qt[ca][1]),Cu=parseFloat(Qt[ca][2]);break;case 0:Eu=(xa?"<":"(")+Qt[ca]+(xa?">":")"),Md=el(fe),Cu=Sd(Ie)}kd!==void 0&&kd[ca]!==void 0&&(ku=kd[ca]+` Tw
`),ca===0?q.push(ku+Lh(Md,Cu,Ca)+Eu):Dh===0?q.push(ku+Eu):Dh===1&&q.push(ku+Lh(Md,Cu,Ca)+Eu)}q=Dh===0?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var bo=`BT
/`;return bo+=vt+" "+Re+` Tf
`,bo+=P(Re*Cd)+` TL
`,bo+=Jl+`
`,bo+=pi,bo+=q,J(bo+="ET"),m[vt]=!0,Sn};var Zn=f.__private__.clip=f.clip=function(q){return J(q==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Zn("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Pn=f.__private__.isValidStyle=function(q){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(fe=!0),fe};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(q){return Pn(q)&&(d=q),this};var Tc=f.__private__.getStyle=f.getStyle=function(q){var fe=d;switch(q){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=q}return fe},ms=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(q){return wh("f",q),this},f.fillEvenOdd=function(q){return wh("f*",q),this},f.fillStroke=function(q){return wh("B",q),this},f.fillStrokeEvenOdd=function(q){return wh("B*",q),this};var wh=function(q,fe){bn(fe)==="object"?lx(fe,q):J(q)},yu=function(q){q===null||S===b&&q===void 0||(q=Tc(q),J(q))};function Hm(q,fe,Ie,Ke,at){var Mt=new rA(fe||this.boundingBox,Ie||this.xStep,Ke||this.yStep,this.gState,at||this.matrix);Mt.stream=this.stream;var Qt=q+"$$"+this.cloneIndex+++"$$";return Ls(Qt,Mt),Mt}var lx=function(q,fe){var Ie=Ge[q.key],Ke=Ht[Ie];if(Ke instanceof K0)J("q"),J(cx(fe)),Ke.gState&&f.setGState(Ke.gState),J(q.matrix.toString()+" cm"),J("/"+Ie+" sh"),J("Q");else if(Ke instanceof rA){var at=new cr(1,0,0,-1,0,wl());q.matrix&&(at=at.multiply(q.matrix||tn),Ie=Hm.call(Ke,q.key,q.boundingBox,q.xStep,q.yStep,at).id),J("q"),J("/Pattern cs"),J("/"+Ie+" scn"),Ke.gState&&f.setGState(Ke.gState),J(fe),J("Q")}},cx=function(q){switch(q){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},t0=f.moveTo=function(q,fe){return J(P(T(q))+" "+P(H(fe))+" m"),this},r0=f.lineTo=function(q,fe){return J(P(T(q))+" "+P(H(fe))+" l"),this},go=f.curveTo=function(q,fe,Ie,Ke,at,Mt){return J([P(T(q)),P(H(fe)),P(T(Ie)),P(H(Ke)),P(T(at)),P(H(Mt)),"c"].join(" ")),this};f.__private__.line=f.line=function(q,fe,Ie,Ke,at){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||isNaN(Ke)||!Pn(at))throw new Error("Invalid arguments passed to jsPDF.line");return S===j?this.lines([[Ie-q,Ke-fe]],q,fe,[1,1],at||"S"):this.lines([[Ie-q,Ke-fe]],q,fe,[1,1]).stroke()},f.__private__.lines=f.lines=function(q,fe,Ie,Ke,at,Mt){var Qt,Nr,Tr,Yr,rs,Fs,ea,Ca,Sn,Ra,xa,pi;if(typeof q=="number"&&(pi=Ie,Ie=fe,fe=q,q=pi),Ke=Ke||[1,1],Mt=Mt||!1,isNaN(fe)||isNaN(Ie)||!Array.isArray(q)||!Array.isArray(Ke)||!Pn(at)||typeof Mt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(t0(fe,Ie),Qt=Ke[0],Nr=Ke[1],Yr=q.length,Ra=fe,xa=Ie,Tr=0;Tr<Yr;Tr++)(rs=q[Tr]).length===2?(Ra=rs[0]*Qt+Ra,xa=rs[1]*Nr+xa,r0(Ra,xa)):(Fs=rs[0]*Qt+Ra,ea=rs[1]*Nr+xa,Ca=rs[2]*Qt+Ra,Sn=rs[3]*Nr+xa,Ra=rs[4]*Qt+Ra,xa=rs[5]*Nr+xa,go(Fs,ea,Ca,Sn,Ra,xa));return Mt&&ms(),yu(at),this},f.path=function(q){for(var fe=0;fe<q.length;fe++){var Ie=q[fe],Ke=Ie.c;switch(Ie.op){case"m":t0(Ke[0],Ke[1]);break;case"l":r0(Ke[0],Ke[1]);break;case"c":go.apply(this,Ke);break;case"h":ms()}}return this},f.__private__.rect=f.rect=function(q,fe,Ie,Ke,at){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||isNaN(Ke)||!Pn(at))throw new Error("Invalid arguments passed to jsPDF.rect");return S===j&&(Ke=-Ke),J([P(T(q)),P(H(fe)),P(T(Ie)),P(T(Ke)),"re"].join(" ")),yu(at),this},f.__private__.triangle=f.triangle=function(q,fe,Ie,Ke,at,Mt,Qt){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||isNaN(Ke)||isNaN(at)||isNaN(Mt)||!Pn(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-q,Ke-fe],[at-Ie,Mt-Ke],[q-at,fe-Mt]],q,fe,[1,1],Qt,!0),this},f.__private__.roundedRect=f.roundedRect=function(q,fe,Ie,Ke,at,Mt,Qt){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||isNaN(Ke)||isNaN(at)||isNaN(Mt)||!Pn(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nr=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Ie),Mt=Math.min(Mt,.5*Ke),this.lines([[Ie-2*at,0],[at*Nr,0,at,Mt-Mt*Nr,at,Mt],[0,Ke-2*Mt],[0,Mt*Nr,-at*Nr,Mt,-at,Mt],[2*at-Ie,0],[-at*Nr,0,-at,-Mt*Nr,-at,-Mt],[0,2*Mt-Ke],[0,-Mt*Nr,at*Nr,-Mt,at,-Mt]],q+at,fe,[1,1],Qt,!0),this},f.__private__.ellipse=f.ellipse=function(q,fe,Ie,Ke,at){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||isNaN(Ke)||!Pn(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*Ie,Qt=4/3*(Math.SQRT2-1)*Ke;return t0(q+Ie,fe),go(q+Ie,fe-Qt,q+Mt,fe-Ke,q,fe-Ke),go(q-Mt,fe-Ke,q-Ie,fe-Qt,q-Ie,fe),go(q-Ie,fe+Qt,q-Mt,fe+Ke,q,fe+Ke),go(q+Mt,fe+Ke,q+Ie,fe+Qt,q+Ie,fe),yu(at),this},f.__private__.circle=f.circle=function(q,fe,Ie,Ke){if(isNaN(q)||isNaN(fe)||isNaN(Ie)||!Pn(Ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,fe,Ie,Ie,Ke)},f.setFont=function(q,fe,Ie){return Ie&&(fe=E(fe,Ie)),vt=lr(q,fe,{disableWarning:!1}),this};var Mc=f.__private__.getFont=f.getFont=function(){return Gt[lr.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var q,fe,Ie={};for(q in Rt)if(Rt.hasOwnProperty(q))for(fe in Ie[q]=[],Rt[q])Rt[q].hasOwnProperty(fe)&&Ie[q].push(fe);return Ie},f.addFont=function(q,fe,Ie,Ke,at){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Mt.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&Mt.indexOf(arguments[3])==-1&&(Ie=E(Ie,Ke)),Ut.call(this,q,fe,Ie,at=at||"Identity-H")};var vo,gl=t.lineWidth||.200025,jh=f.__private__.getLineWidth=f.getLineWidth=function(){return gl},Vr=f.__private__.setLineWidth=f.setLineWidth=function(q){return gl=q,J(P(T(q))+" w"),this};f.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(q,fe){if(q=q||[],fe=fe||0,isNaN(fe)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(Ie){return P(T(Ie))}).join(" "),fe=P(T(fe)),J("["+q+"] "+fe+" d"),this};var Fc=f.__private__.getLineHeight=f.getLineHeight=function(){return Re*vo};f.__private__.getLineHeight=f.getLineHeight=function(){return Re*vo};var ly=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(vo=q),this},dx=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return vo};ly(t.lineHeight);var el=f.__private__.getHorizontalCoordinate=function(q){return T(q)},Sd=f.__private__.getVerticalCoordinate=function(q){return S===b?q:ct[G].mediaBox.topRightY-ct[G].mediaBox.bottomLeftY-T(q)},ux=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(q){return P(el(q))},s0=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(q){return P(Sd(q))},Nh=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Fe(Nh)},f.__private__.setStrokeColor=f.setDrawColor=function(q,fe,Ie,Ke){return Nh=Be({ch1:q,ch2:fe,ch3:Ie,ch4:Ke,pdfColorType:"draw",precision:2}),J(Nh),this};var Qm=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Fe(Qm)},f.__private__.setFillColor=f.setFillColor=function(q,fe,Ie,Ke){return Qm=Be({ch1:q,ch2:fe,ch3:Ie,ch4:Ke,pdfColorType:"fill",precision:2}),J(Qm),this};var Jl=t.textColor||"0 g",Sh=f.__private__.getTextColor=f.getTextColor=function(){return Fe(Jl)};f.__private__.setTextColor=f.setTextColor=function(q,fe,Ie,Ke){return Jl=Be({ch1:q,ch2:fe,ch3:Ie,ch4:Ke,pdfColorType:"text",precision:3}),this};var yo=t.charSpace,n0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(yo||0)};f.__private__.setCharSpace=f.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yo=q,this};var zm=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(q){var fe=f.CapJoinStyles[q];if(fe===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zm=fe,J(fe+" J"),this};var $m=0;f.__private__.setLineJoin=f.setLineJoin=function(q){var fe=f.CapJoinStyles[q];if(fe===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $m=fe,J(fe+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(P(T(q))+" M"),this},f.GState=q1,f.setGState=function(q){(q=typeof q=="string"?we[Ze[q]]:a0(null,q)).equals(qe)||(J("/"+q.id+" gs"),qe=q)};var a0=function(q,fe){if(!q||!Ze[q]){var Ie=!1;for(var Ke in we)if(we.hasOwnProperty(Ke)&&we[Ke].equals(fe)){Ie=!0;break}if(Ie)fe=we[Ke];else{var at="GS"+(Object.keys(we).length+1).toString(10);we[at]=fe,fe.id=at}return q&&(Ze[q]=fe.id),St.publish("addGState",fe),fe}};f.addGState=function(q,fe){return a0(q,fe),this},f.saveGraphicsState=function(){return J("q"),mr.push({key:vt,size:Re,color:Jl}),this},f.restoreGraphicsState=function(){J("Q");var q=mr.pop();return vt=q.key,Re=q.size,Jl=q.color,qe=null,this},f.setCurrentTransformationMatrix=function(q){return J(q.toString()+" cm"),this},f.comment=function(q){return J("#"+q),this};var vl=function(q,fe){var Ie=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(Mt){isNaN(Mt)||(Ie=parseFloat(Mt))}});var Ke=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ke},set:function(Mt){isNaN(Mt)||(Ke=parseFloat(Mt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Mt){at=Mt.toString()}}),this},_h=function(q,fe,Ie,Ke){vl.call(this,q,fe),this.type="rect";var at=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Qt){isNaN(Qt)||(at=parseFloat(Qt))}});var Mt=Ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(Qt){isNaN(Qt)||(Mt=parseFloat(Qt))}}),this},Ch=function(){this.page=st,this.currentPage=G,this.pages=Pe.slice(0),this.pagesContext=ct.slice(0),this.x=et,this.y=It,this.matrix=Lt,this.width=bu(G),this.height=Eh(G),this.outputDestination=lt,this.id="",this.objectNumber=-1};Ch.prototype.restore=function(){st=this.page,G=this.currentPage,ct=this.pagesContext,Pe=this.pages,et=this.x,It=this.y,Lt=this.matrix,Gm(G,this.width),bl(G,this.height),lt=this.outputDestination};var yl=function(q,fe,Ie,Ke,at){sr.push(new Ch),st=G=0,Pe=[],et=q,It=fe,Lt=at,Zt([Ie,Ke])};for(var _d in f.beginFormObject=function(q,fe,Ie,Ke,at){return yl(q,fe,Ie,Ke,at),this},f.endFormObject=function(q){return(function(fe){if(Pr[fe])sr.pop().restore();else{var Ie=new Ch,Ke="Xo"+(Object.keys(Vt).length+1).toString(10);Ie.id=Ke,Pr[fe]=Ke,Vt[Ke]=Ie,St.publish("addFormObject",Ie),sr.pop().restore()}})(q),this},f.doFormObject=function(q,fe){var Ie=Vt[Pr[q]];return J("q"),J(fe.toString()+" cm"),J("/"+Ie.id+" Do"),J("Q"),this},f.getFormObject=function(q){var fe=Vt[Pr[q]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},f.save=function(q,fe){return q=q||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Qp(us(Or()),q),typeof Qp.unload=="function"&&ts.setTimeout&&setTimeout(Qp.unload,911),this):new Promise(function(Ie,Ke){try{var at=Qp(us(Or()),q);typeof Qp.unload=="function"&&ts.setTimeout&&setTimeout(Qp.unload,911),Ie(at)}catch(Mt){Ke(Mt.message)}})},gr.API)gr.API.hasOwnProperty(_d)&&(_d==="events"&&gr.API.events.length?(function(q,fe){var Ie,Ke,at;for(at=fe.length-1;at!==-1;at--)Ie=fe[at][0],Ke=fe[at][1],q.subscribe.apply(q,[Ie].concat(typeof Ke=="function"?[Ke]:Ke))})(St,gr.API.events):f[_d]=gr.API[_d]);function bu(q){return ct[q].mediaBox.topRightX-ct[q].mediaBox.bottomLeftX}function Gm(q,fe){ct[q].mediaBox.topRightX=fe+ct[q].mediaBox.bottomLeftX}function Eh(q){return ct[q].mediaBox.topRightY-ct[q].mediaBox.bottomLeftY}function bl(q,fe){ct[q].mediaBox.topRightY=fe+ct[q].mediaBox.bottomLeftY}var Pc=f.getPageWidth=function(q){return bu(q=q||G)/_t},Li=f.setPageWidth=function(q,fe){Gm(q,fe*_t)},wl=f.getPageHeight=function(q){return Eh(q=q||G)/_t},i0=f.setPageHeight=function(q,fe){bl(q,fe*_t)};return f.internal={pdfEscape:zt,getStyle:Tc,getFont:Mc,getFontSize:ce,getCharSpace:n0,getTextColor:Sh,getLineHeight:Fc,getLineHeightFactor:dx,getLineWidth:jh,write:ie,getHorizontalCoordinate:el,getVerticalCoordinate:Sd,getCoordinateString:ux,getVerticalCoordinateString:s0,collections:{},newObject:hs,newAdditionalObject:ke,newObjectDeferred:Rs,newObjectDeferredBegin:me,getFilters:it,putStream:wt,events:St,scaleFactor:_t,pageSize:{getWidth:function(){return Pc(G)},setWidth:function(q){Li(G,q)},getHeight:function(){return wl(G)},setHeight:function(q){i0(G,q)}},encryptionOptions:u,encryption:Fn,getEncryptor:function(q){return u!==null?Fn.encryptor(q,0):function(fe){return fe}},output:_a,getNumberOfPages:Ot,get pages(){return Pe},out:J,f2:k,f3:M,getPageInfo:Ns,getPageInfoByObjId:ei,getCurrentPageInfo:ti,getPDFVersion:g,Point:vl,Rectangle:_h,Matrix:cr,hasHotfix:bs},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Pc(G)},set:function(q){Li(G,q)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return wl(G)},set:function(q){i0(G,q)},enumerable:!0,configurable:!0}),(function(q){for(var fe=0,Ie=Oe.length;fe<Ie;fe++){var Ke=Ut.call(this,q[fe][0],q[fe][1],q[fe][2],Oe[fe][3],!0);h===!1&&(m[Ke]=!0);var at=q[fe][0].split("-");yt({id:Ke,fontName:at[0],fontStyle:at[1]||""})}St.publish("addFonts",{fonts:Gt,dictionary:Rt})}).call(f,Oe),vt="F1",Br(a,r),St.publish("initialized"),f}cg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cg.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},cg.prototype.processOwnerPassword=function(t,e){return eP(ZF(e).substr(0,5),t)},cg.prototype.encryptor=function(t,e){var r=ZF(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return eP(r,n)}},q1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||bn(t)!==bn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},gr.API={events:[]},gr.version="3.0.4";var Ta=gr.API,F8=1,JA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ls=function(t){return t.toFixed(2)},D0=function(t){return t.toFixed(5)};Ta.__acroform__={};var Yl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WG=function(t){return t*F8},Uu=function(t){var e=new Dte,r=_r.internal.getHeight(t)||0,n=_r.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ls(n)),Number(ls(r))],e},OFe=Ta.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},UFe=Ta.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},HFe=Ta.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},$a=Ta.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HFe(t,e-1)},Ga=Ta.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OFe(t,e-1)},Va=Ta.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UFe(t,e-1)},QFe=Ta.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ls(c.lowerLeft_X)),Number(ls(c.lowerLeft_Y)),Number(ls(c.upperRight_X)),Number(ls(c.upperRight_Y))]},zFe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=tP(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+ls(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Uu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},tP=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=_r.internal.getHeight(t)||0;o=o<0?-o:o;var l=_r.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(k,M,T){if(k+1<a.length){var H=M+" "+a[k+1][0];return Pj(H,t,T).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=Pj("3",t,i).height,m=t.multiline?o-i:(o-h)/2,f=m+=2,A=0,g=0,x=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pj(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",j=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var S=!1;if(a[b].length!==1&&x!==a[b].length-1){if((h+2)*(j+2)+2>o)continue e;v+=a[b][x],S=!0,g=b,b--}else{v=(v+=a[b][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var w=parseInt(b),N=c(w,v,i),E=b>=a.length-1;if(N&&!E){v+=" ",x=0;continue}if(N||E){if(E)g=w;else if(t.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(j+2)+2>o)continue e;g=w}}for(var P="",_=A;_<=g;_++){var B=a[_];if(t.multiline){if(_===g){P+=B[x]+" ",x=(x+1)%B.length;continue}if(_===A){P+=B[B.length-1]+" ";continue}}P+=B[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=Pj(P,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}e+=ls(d)+" "+ls(f)+` Td
`,e+="("+JA(P)+`) Tj
`,e+=-ls(d)+` 0 Td
`,f=-(i+2),u=0,A=S?g:g+1,j++,v=""}break}return n.text=e,n.fontSize=i,n},Pj=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$Fe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},GFe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},VFe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($Fe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");F8=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Lte,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&GFe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=QFe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=_r.createDefaultAppearanceStream(l),bn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=zFe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var A=f[o];typeof A=="function"&&(A=A.call(a,l)),h+="/"+o+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=f)=="function"&&(A=A.call(a,l)),h+="/"+o+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(g,x){for(var v in g)if(g.hasOwnProperty(v)){var j=v,b=g[v];x.internal.newObjectDeferredBegin(b.objId,!0),bn(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete g[j]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ite=Ta.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),bn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+JA(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},AB=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+JA(n(t))+")"},th=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};th.prototype.toString=function(){return this.objId+" 0 R"},th.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},th.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Ite(a,this.objId,this.scope)}):a instanceof th?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var Dte=function(){th.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Yl(Dte,th);var Lte=function(){th.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+JA(r(t))+")"}},set:function(r){t=r}})};Yl(Lte,th);var xu=function t(){th.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$a(e,3)},set:function(v){v?this.F=Ga(e,3):this.F=Va(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof mS)return;i="FieldObject"+t.FieldNum++}var v=function(j){return j};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+JA(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/F8:d},set:function(v){d=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof mS||this instanceof mm))return AB(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wi==0?AB(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof wi==0?v.substr(0,1)==="("?Kx(v.substr(1,v.length-2)):Kx(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Kx(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof wi==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof wi==0?AB(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof wi==0?v.substr(0,1)==="("?Kx(v.substr(1,v.length-2)):Kx(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Kx(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof wi==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(v){A=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,1)},set:function(v){v?this.Ff=Ga(this.Ff,1):this.Ff=Va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,2)},set:function(v){v?this.Ff=Ga(this.Ff,2):this.Ff=Va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,3)},set:function(v){v?this.Ff=Ga(this.Ff,3):this.Ff=Va(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Yl(xu,th);var uA=function(){xu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ite(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,18)},set:function(r){r?this.Ff=Ga(this.Ff,18):this.Ff=Va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ga(this.Ff,19):this.Ff=Va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,20)},set:function(r){r?(this.Ff=Ga(this.Ff,20),e.sort()):this.Ff=Va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,22)},set:function(r){r?this.Ff=Ga(this.Ff,22):this.Ff=Va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,23)},set:function(r){r?this.Ff=Ga(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,27)},set:function(r){r?this.Ff=Ga(this.Ff,27):this.Ff=Va(this.Ff,27)}}),this.hasAppearanceStream=!1};Yl(uA,xu);var hA=function(){uA.call(this),this.fontName="helvetica",this.combo=!1};Yl(hA,uA);var fA=function(){hA.call(this),this.combo=!0};Yl(fA,hA);var Ub=function(){fA.call(this),this.edit=!0};Yl(Ub,fA);var wi=function(){xu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,15)},set:function(r){r?this.Ff=Ga(this.Ff,15):this.Ff=Va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,16)},set:function(r){r?this.Ff=Ga(this.Ff,16):this.Ff=Va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,17)},set:function(r){r?this.Ff=Ga(this.Ff,17):this.Ff=Va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,26)},set:function(r){r?this.Ff=Ga(this.Ff,26):this.Ff=Va(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+JA(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){bn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Yl(wi,xu);var Hb=function(){wi.call(this),this.pushButton=!0};Yl(Hb,wi);var mA=function(){wi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yl(mA,wi);var mS=function(){var t,e;xu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+JA(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){bn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yl(mS,xu),mA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},mA.prototype.createOption=function(t){var e=new mS;return e.Parent=this,e.optionName=t,this.Kids.push(e),WFe.call(this.scope,e),e};var Qb=function(){wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};Yl(Qb,wi);var mm=function(){xu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,13)},set:function(e){e?this.Ff=Ga(this.Ff,13):this.Ff=Va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,21)},set:function(e){e?this.Ff=Ga(this.Ff,21):this.Ff=Va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,23)},set:function(e){e?this.Ff=Ga(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,24)},set:function(e){e?this.Ff=Ga(this.Ff,24):this.Ff=Va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,25)},set:function(e){e?this.Ff=Ga(this.Ff,25):this.Ff=Va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,26)},set:function(e){e?this.Ff=Ga(this.Ff,26):this.Ff=Va(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yl(mm,xu);var zb=function(){mm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$a(this.Ff,14)},set:function(t){t?this.Ff=Ga(this.Ff,14):this.Ff=Va(this.Ff,14)}}),this.password=!0};Yl(zb,mm);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=tP(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ls(_r.internal.getWidth(t))+" "+ls(_r.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ls(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=_r.internal.getHeight(t),o=_r.internal.getWidth(t),l=tP(t,t.caption);return a.push("1 g"),a.push("0 0 "+ls(o)+" "+ls(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ls(o-1)+" "+ls(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ls(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ls(_r.internal.getWidth(t))+" "+ls(_r.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_r.RadioButton.Circle.YesNormal,e.D[t]=_r.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=_r.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+D0(_r.internal.getWidth(t)/2)+" "+D0(_r.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*_r.internal.Bezier_C).toFixed(5)),o=Number((n*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+D0(_r.internal.getWidth(t)/2)+" "+D0(_r.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+D0(_r.internal.getWidth(t)/2)+" "+D0(_r.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=[],n=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*_r.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+D0(_r.internal.getWidth(t)/2)+" "+D0(_r.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_r.RadioButton.Cross.YesNormal,e.D[t]=_r.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Uu(t);e.scope=t.scope;var r=[],n=_r.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ls(_r.internal.getWidth(t)-2)+" "+ls(_r.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ls(n.x1.x)+" "+ls(n.x1.y)+" m"),r.push(ls(n.x2.x)+" "+ls(n.x2.y)+" l"),r.push(ls(n.x4.x)+" "+ls(n.x4.y)+" m"),r.push(ls(n.x3.x)+" "+ls(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=_r.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ls(_r.internal.getWidth(t))+" "+ls(_r.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ls(_r.internal.getWidth(t)-2)+" "+ls(_r.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ls(r.x1.x)+" "+ls(r.x1.y)+" m"),n.push(ls(r.x2.x)+" "+ls(r.x2.y)+" l"),n.push(ls(r.x4.x)+" "+ls(r.x4.y)+" m"),n.push(ls(r.x3.x)+" "+ls(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Uu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ls(_r.internal.getWidth(t))+" "+ls(_r.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};_r.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_r.internal.getWidth(t),r=_r.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},_r.internal.getWidth=function(t){var e=0;return bn(t)==="object"&&(e=WG(t.Rect[2])),e},_r.internal.getHeight=function(t){var e=0;return bn(t)==="object"&&(e=WG(t.Rect[3])),e};var WFe=Ta.addField=function(t){if(VFe(this,t),!(t instanceof xu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ta.AcroFormChoiceField=uA,Ta.AcroFormListBox=hA,Ta.AcroFormComboBox=fA,Ta.AcroFormEditBox=Ub,Ta.AcroFormButton=wi,Ta.AcroFormPushButton=Hb,Ta.AcroFormRadioButton=mA,Ta.AcroFormCheckBox=Qb,Ta.AcroFormTextField=mm,Ta.AcroFormPasswordField=zb,Ta.AcroFormAppearance=_r,Ta.AcroForm={ChoiceField:uA,ListBox:hA,ComboBox:fA,EditBox:Ub,Button:wi,PushButton:Hb,RadioButton:mA,CheckBox:Qb,TextField:mm,PasswordField:zb,Appearance:_r},gr.AcroForm={ChoiceField:uA,ListBox:hA,ComboBox:fA,EditBox:Ub,Button:wi,PushButton:Hb,RadioButton:mA,CheckBox:Qb,TextField:mm,PasswordField:zb,Appearance:_r};var qFe=gr.AcroForm;function Rte(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(k,M){var T,H,L,Q,O,V=r;if((M=M||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(N(k))for(O in n)for(L=n[O],T=0;T<L.length;T+=1){for(Q=!0,H=0;H<L[T].length;H+=1)if(L[T][H]!==void 0&&L[T][H]!==k[H]){Q=!1;break}if(Q===!0){V=O;break}}else for(O in n)for(L=n[O],T=0;T<L.length;T+=1){for(Q=!0,H=0;H<L[T].length;H+=1)if(L[T][H]!==void 0&&L[T][H]!==k.charCodeAt(H)){Q=!1;break}if(Q===!0){V=O;break}}return V===r&&M!==r&&(V=M),V},i=function k(M){for(var T=this.internal.write,H=this.internal.putStream,L=(0,this.internal.getFilters)();L.indexOf("FlateEncode")!==-1;)L.splice(L.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:M.width}),Q.push({key:"Height",value:M.height}),M.colorSpace===v.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===v.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var O="",V=0,ee=M.transparency.length;V<ee;V++)O+=M.transparency[V]+" "+M.transparency[V]+" ";Q.push({key:"Mask",value:"["+O+"]"})}M.sMask!==void 0&&Q.push({key:"SMask",value:M.objectId+1+" 0 R"});var Y=M.filter!==void 0?["/"+M.filter]:void 0;if(H({data:M.data,additionalKeyValues:Q,alreadyAppliedFilters:Y,objectId:M.objectId}),T("endobj"),"sMask"in M&&M.sMask!==void 0){var re,D=(re=M.sMaskBitsPerComponent)!==null&&re!==void 0?re:M.bitsPerComponent,G={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:M.sMask};"filter"in M&&(G.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(M.width),G.filter=M.filter),k.call(this,G)}if(M.colorSpace===v.INDEXED){var z=this.internal.newObject();H({data:P(new Uint8Array(M.palette)),objectId:z}),T("endobj")}},o=function(){var k=this.internal.collections[e+"images"];for(var M in k)i.call(this,k[M])},l=function(){var k,M=this.internal.collections[e+"images"],T=this.internal.write;for(var H in M)T("/I"+(k=M[H]).index,k.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var k=this.internal.collections[e+"images"];return c.call(this),k},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof t["process"+k.toUpperCase()]=="function"},m=function(k){return bn(k)==="object"&&k.nodeType===1},f=function(k,M){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var T=""+k.getAttribute("src");if(T.indexOf("data:image/")===0)return VN(unescape(T).split("base64,").pop());var H=t.loadFile(T,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var L;switch(M){case"PNG":L="image/png";break;case"WEBP":L="image/webp";break;default:L="image/jpeg"}return VN(k.toDataURL(L,1).split("base64,").pop())}},A=function(k){var M=this.internal.collections[e+"images"];if(M){for(var T in M)if(k===M[T].alias)return M[T]}},g=function(k,M,T){return k||M||(k=-96,M=-96),k<0&&(k=-1*T.width*72/k/this.internal.scaleFactor),M<0&&(M=-1*T.height*72/M/this.internal.scaleFactor),k===0&&(k=M*T.width/T.height),M===0&&(M=k*T.height/T.width),[k,M]},x=function(k,M,T,H,L,Q){var O=g.call(this,T,H,L),V=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,Y=d.call(this);if(T=O[0],H=O[1],Y[L.index]=L,Q){Q*=Math.PI/180;var re=Math.cos(Q),D=Math.sin(Q),G=function(K){return K.toFixed(4)},z=[G(re),G(D),G(-1*D),G(re),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,V(k),ee(M+H),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([V(T),"0","0",V(H),"0","0","cm"].join(" "))):this.internal.write([V(T),"0","0",V(H),V(k),ee(M+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+L.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(k){var M,T,H=0;if(typeof k=="string")for(T=k.length,M=0;M<T;M++)H=(H<<5)-H+k.charCodeAt(M),H|=0;else if(N(k))for(T=k.byteLength/2,M=0;M<T;M++)H=(H<<5)-H+k[M],H|=0;return H},S=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var M=!0;return k.length===0&&(M=!1),k.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(M=!1),M},w=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var M=k.indexOf(",");return M<0?null:k.substring(0,M).trim().endsWith("base64")?k.substring(M+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(k){for(var M=k.length,T=new Uint8Array(M),H=0;H<M;H++)T[H]=k.charCodeAt(H);return T},P=t.__addimage__.arrayBufferToBinaryString=function(k){for(var M="",T=N(k)?k:new Uint8Array(k),H=0;H<T.length;H+=8192)M+=String.fromCharCode.apply(null,T.subarray(H,H+8192));return M};t.addImage=function(){var k,M,T,H,L,Q,O,V,ee;if(typeof arguments[1]=="number"?(M=r,T=arguments[1],H=arguments[2],L=arguments[3],Q=arguments[4],O=arguments[5],V=arguments[6],ee=arguments[7]):(M=arguments[1],T=arguments[2],H=arguments[3],L=arguments[4],Q=arguments[5],O=arguments[6],V=arguments[7],ee=arguments[8]),bn(k=arguments[0])==="object"&&!m(k)&&"imageData"in k){var Y=k;k=Y.imageData,M=Y.format||M||r,T=Y.x||T||0,H=Y.y||H||0,L=Y.w||Y.width||L,Q=Y.h||Y.height||Q,O=Y.alias||O,V=Y.compression||V,ee=Y.rotation||Y.angle||ee}var re=this.internal.getFilters();if(V===void 0&&re.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(T)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=_.call(this,k,M,O,V);return x.call(this,T,H,L,Q,D,ee),this};var _=function(k,M,T,H){var L,Q,O;if(typeof k=="string"&&a(k)===r){k=unescape(k);var V=B(k,!1);(V!==""||(V=t.loadFile(k,!0))!==void 0)&&(k=V)}if(m(k)&&(k=f(k,M)),M=a(k,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((O=T)==null||O.length===0)&&(T=(function(ee){return typeof ee=="string"||N(ee)?b(ee):N(ee.data)?b(ee.data):null})(k)),(L=A.call(this,T))||(k instanceof Uint8Array||M==="RGBA"||(Q=k,k=E(k)),L=this["process"+M.toUpperCase()](k,u.call(this),T,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:j.NONE})(H),Q)),!L)throw new Error("An unknown error occurred whilst processing the image.");return L},B=t.__addimage__.convertBase64ToBinaryString=function(k,M){M=typeof M!="boolean"||M;var T,H="";if(typeof k=="string"){var L;T=(L=w(k))!==null&&L!==void 0?L:k;try{H=VN(T)}catch(Q){if(M)throw S(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(k){var M,T,H="";if(m(k)&&(k=f(k)),typeof k=="string"&&a(k)===r&&((H=B(k,!1))===""&&(H=t.loadFile(k)||""),k=H),T=a(k),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(k instanceof Uint8Array||(k=E(k)),!(M=this["process"+T.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=T,M}})(gr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(v(j))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(A(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(gr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var x=0,v=r,j="",b=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(b++,typeof(v=v[g.charCodeAt(x)])=="number"&&(j+=String.fromCharCode(v),v=r,b=0),x===g.length-1&&(v=r,j+=g.charAt(x-(b-1)),x-=b-1,b=0)):(v=r,j+=g.charAt(x-b),x-=b,b=0);return j};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(g,x,v){return o(g)?i(g)===!1?-1:!d(g)||!o(x)&&!o(v)||!o(v)&&l(x)||l(g)&&!o(x)||l(g)&&c(x)||l(g)&&l(x)?0:u(g)&&o(x)&&!l(x)&&o(v)&&d(v)?3:l(g)||!o(v)?1:2:-1},f=function(g){var x=0,v=0,j=0,b="",S="",w="",N=(g=g||"").split("\\s+"),E=[];for(x=0;x<N.length;x+=1){for(E.push(""),v=0;v<N[x].length;v+=1)b=N[x][v],S=N[x][v-1],w=N[x][v+1],o(b)?(j=m(b,S,w),E[x]+=j!==-1?String.fromCharCode(e[b.charCodeAt(0)][j]):b):E[x]+=b;E[x]=h(E[x])}return E.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var j=0;for(v=[],j=0;j<x.length;j+=1)Array.isArray(x[j])?v.push([f(x[j][0]),x[j][1],x[j][2]]):v.push([f(x[j])]);g=v}else g=f(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",A])})(gr.API),gr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(gr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(g){A=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,A=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=d.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,S){return b.concat(x.splitTextToSize(S,v))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)f<(g=this.getStringUnitWidth(c[j],{font:h})*u)&&(f=g);return f!==0&&(A=c.length),{w:f/=m,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,A,g,x,v=[],j=[],b=[],S={},w={},N=[],E=[],P=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,B=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},e),M=typeof m.padding=="number"?m.padding:3,T=m.headerBackgroundColor||"#c8c8c8",H=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=H,this.setFontSize(B),h==null)j=v=Object.keys(u[0]),b=v.map(function(){return"left"});else if(Array.isArray(h)&&bn(h[0])==="object")for(v=h.map(function(Y){return Y.name}),j=h.map(function(Y){return Y.prompt||Y.name||""}),b=h.map(function(Y){return Y.align||"left"}),f=0;f<h.length;f+=1)w[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=v=h,b=v.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(S[x=v[f]]=u.map(function(Y){return Y[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(j[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=S[x],this.setFont(void 0,"normal"),g=0;g<A.length;g+=1)N.push(this.getTextDimensions(A[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[x]=Math.max.apply(null,N)+M+M,N=[]}if(_){var L={};for(f=0;f<v.length;f+=1)L[v[f]]={},L[v[f]].text=j[f],L[v[f]].align=b[f];var Q=l.call(this,L,w);E=v.map(function(Y){return new i(c,d,w[Y],Q,L[Y].text,void 0,L[Y].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var O=h.reduce(function(Y,re){return Y[re.name]=re.align,Y},{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var V=l.call(this,u[f],w);for(g=0;g<v.length;g+=1){var ee=u[f][v[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:g,data:ee},this),o.call(this,new i(c,d,w[v[g]],V,ee,f+2,O[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var A=c[f];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+u+u},this).reduce(function(f,A){return Math.max(f,A)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(gr.API);var Ote={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ute=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rP=Rte(Ute),Hte=[100,200,300,400,500,600,700,800,900],KFe=Rte(Hte);function xB(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return Ote[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof rP[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function qG(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var XFe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function YG(t){return t.trimLeft()}function YFe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function JFe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ij,JG,ZG,Xx,Dj,eV,tV,rV,gB=["times"];function sV(t,e,r,n,a){var i=4,o=aV;switch(a){case gr.API.image_compression.FAST:i=1,o=nV;break;case gr.API.image_compression.MEDIUM:i=6,o=iV;break;case gr.API.image_compression.SLOW:i=9,o=oV}t=(function(c,d,u,h){for(var m,f=c.length/d,A=new Uint8Array(c.length+f),g=[ZFe,nV,aV,iV,oV],x=0;x<f;x+=1){var v=x*d,j=c.subarray(v,v+d);if(h)A.set(h(j,u,m),v+x);else{for(var b=g.length,S=[],w=0;w<b;w+=1)S[w]=g[w](j,u,m);var N=tPe(S.concat());A.set(S[N],v+x)}m=j}return A})(t,e,Math.ceil(r*n/8),o);var l=KF(t,{level:i});return gr.API.__addimage__.arrayBufferToBinaryString(l)}function ZFe(t){var e=Array.apply([],t);return e.unshift(0),e}function nV(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function aV(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function iV(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function oV(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=ePe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function ePe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function tPe(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function vB(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return Qte(t,a)>>i&o}function lV(t,e,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(t,i,Qte(t,i)&~(l<<o)&65535|c)}function Qte(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function rPe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,m=null,f=0,A=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&g||(m=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++],w=S>>6&1,N=1<<1+(7&S),E=l,P=c,_=!1;S>>7&&(_=!0,E=e,P=N,e+=3*N);var B=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x,y:v,width:j,height:b,has_local_palette:_,palette_offset:E,palette_size:P,data_offset:B,data_length:e-B,transparent_index:m,interlaced:!!w,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,T){var H=this.frameInfo(M),L=H.width*H.height,Q=new Uint8Array(L);cV(t,H.data_offset,Q,L);var O=H.palette_offset,V=H.transparent_index;V===null&&(V=256);var ee=H.width,Y=r-ee,re=ee,D=4*(H.y*r+H.x),G=4*((H.y+H.height)*r+H.x),z=D,K=4*Y;H.interlaced===!0&&(K+=4*r*7);for(var oe=8,ue=0,ge=Q.length;ue<ge;++ue){var pe=Q[ue];if(re===0&&(re=ee,(z+=K)>=G&&(K=4*Y+4*r*(oe-1),z=D+(ee+Y)*(oe<<1),oe>>=1)),pe===V)z+=4;else{var ye=t[O+3*pe],Pe=t[O+3*pe+1],le=t[O+3*pe+2];T[z++]=le,T[z++]=Pe,T[z++]=ye,T[z++]=255}--re}},this.decodeAndBlitFrameRGBA=function(M,T){var H=this.frameInfo(M),L=H.width*H.height,Q=new Uint8Array(L);cV(t,H.data_offset,Q,L);var O=H.palette_offset,V=H.transparent_index;V===null&&(V=256);var ee=H.width,Y=r-ee,re=ee,D=4*(H.y*r+H.x),G=4*((H.y+H.height)*r+H.x),z=D,K=4*Y;H.interlaced===!0&&(K+=4*r*7);for(var oe=8,ue=0,ge=Q.length;ue<ge;++ue){var pe=Q[ue];if(re===0&&(re=ee,(z+=K)>=G&&(K=4*Y+4*r*(oe-1),z=D+(ee+Y)*(oe<<1),oe>>=1)),pe===V)z+=4;else{var ye=t[O+3*pe],Pe=t[O+3*pe+1],le=t[O+3*pe+2];T[z++]=ye,T[z++]=Pe,T[z++]=le,T[z++]=255}--re}}}function cV(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,m=0,f=t[e++],A=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var x=h&d;if(h>>=c,u-=c,x!==i){if(x===o)break;for(var v=x<l?x:g,j=0,b=v;b>i;)b=A[b]>>8,++j;var S=b;if(m+j+(v!==x?1:0)>n)return void Ln.log("Warning, gif stream longer than expected.");r[m++]=S;var w=m+=j;for(v!==x&&(r[m++]=S),b=v;j--;)b=A[b],r[--w]=255&b,b>>=8;g!==null&&l<4096&&(A[l++]=g<<8|S,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=x}else l=o+1,d=(1<<(c=a+1))-1,g=null}return m!==n&&Ln.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yB(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),A=new Array(64),g=[],x=0,v=7,j=new Array(64),b=new Array(64),S=new Array(64),w=new Array(256),N=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(D,G){for(var z=0,K=0,oe=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=D[ue];ge++)oe[G[K]]=[],oe[G[K]][0]=z,oe[G[K]][1]=ue,K++,z++;z*=2}return oe}function O(D){for(var G=D[0],z=D[1]-1;z>=0;)G&1<<z&&(x|=1<<v),z--,--v<0&&(x==255?(V(255),V(0)):V(x),v=7,x=0)}function V(D){g.push(D)}function ee(D){V(D>>8&255),V(255&D)}function Y(D,G,z,K,oe){for(var ue,ge=oe[0],pe=oe[240],ye=(function(Re,ze){var ce,ae,Se,We,Je,tt,Tt,ft,vt,_t,et=0;for(vt=0;vt<8;++vt){ce=Re[et],ae=Re[et+1],Se=Re[et+2],We=Re[et+3],Je=Re[et+4],tt=Re[et+5],Tt=Re[et+6];var It=ce+(ft=Re[et+7]),Lt=ce-ft,Gt=ae+Tt,Rt=ae-Tt,mr=Se+tt,Ht=Se-tt,Ge=We+Je,we=We-Je,Ze=It+Ge,qe=It-Ge,st=Gt+mr,ct=Gt-mr;Re[et]=Ze+st,Re[et+4]=Ze-st;var St=.707106781*(ct+qe);Re[et+2]=qe+St,Re[et+6]=qe-St;var Xt=.382683433*((Ze=we+Ht)-(ct=Rt+Lt)),Vt=.5411961*Ze+Xt,Pr=1.306562965*ct+Xt,sr=.707106781*(st=Ht+Rt),cr=Lt+sr,Ts=Lt-sr;Re[et+5]=Ts+Vt,Re[et+3]=Ts-Vt,Re[et+1]=cr+Pr,Re[et+7]=cr-Pr,et+=8}for(et=0,vt=0;vt<8;++vt){ce=Re[et],ae=Re[et+8],Se=Re[et+16],We=Re[et+24],Je=Re[et+32],tt=Re[et+40],Tt=Re[et+48];var tn=ce+(ft=Re[et+56]),Ls=ce-ft,on=ae+Tt,hs=ae-Tt,Rs=Se+tt,me=Se-tt,ke=We+Je,je=We-Je,Ee=tn+ke,Fe=tn-ke,Be=on+Rs,it=on-Rs;Re[et]=Ee+Be,Re[et+32]=Ee-Be;var wt=.707106781*(it+Fe);Re[et+16]=Fe+wt,Re[et+48]=Fe-wt;var dt=.382683433*((Ee=je+me)-(it=hs+Ls)),ut=.5411961*Ee+dt,xt=1.306562965*it+dt,de=.707106781*(Be=me+hs),Le=Ls+de,Ve=Ls-de;Re[et+40]=Ve+ut,Re[et+24]=Ve-ut,Re[et+8]=Le+xt,Re[et+56]=Le-xt,et++}for(vt=0;vt<64;++vt)_t=Re[vt]*ze[vt],f[vt]=_t>0?_t+.5|0:_t-.5|0;return f})(D,G),Pe=0;Pe<64;++Pe)A[E[Pe]]=ye[Pe];var le=A[0]-z;z=A[0],le==0?O(K[0]):(O(K[m[ue=32767+le]]),O(h[ue]));for(var lt=63;lt>0&&A[lt]==0;)lt--;if(lt==0)return O(ge),z;for(var ne,J=1;J<=lt;){for(var ie=J;A[J]==0&&J<=lt;)++J;var Ce=J-ie;if(Ce>=16){ne=Ce>>4;for(var Oe=1;Oe<=ne;++Oe)O(pe);Ce&=15}ue=32767+A[J],O(oe[(Ce<<4)+m[ue]]),O(h[ue]),J++}return lt!=63&&O(ge),z}function re(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(G){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var oe=o((z[K]*G+50)/100);oe=Math.min(Math.max(oe,1),255),l[E[K]]=oe}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var pe=o((ue[ge]*G+50)/100);pe=Math.min(Math.max(pe,1),255),c[E[ge]]=pe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,le=0;le<8;le++)for(var lt=0;lt<8;lt++)d[Pe]=1/(l[E[Pe]]*ye[le]*ye[lt]*8),u[Pe]=1/(c[E[Pe]]*ye[le]*ye[lt]*8),Pe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,G){G&&re(G),g=new Array,x=0,v=7,ee(65496),ee(65504),ee(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ee(1),ee(1),V(0),V(0),(function(){ee(65499),ee(132),V(0);for(var ae=0;ae<64;ae++)V(l[ae]);V(1);for(var Se=0;Se<64;Se++)V(c[Se])})(),(function(ae,Se){ee(65472),ee(17),V(8),ee(Se),ee(ae),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)})(D.width,D.height),(function(){ee(65476),ee(418),V(0);for(var ae=0;ae<16;ae++)V(P[ae+1]);for(var Se=0;Se<=11;Se++)V(_[Se]);V(16);for(var We=0;We<16;We++)V(B[We+1]);for(var Je=0;Je<=161;Je++)V(k[Je]);V(1);for(var tt=0;tt<16;tt++)V(M[tt+1]);for(var Tt=0;Tt<=11;Tt++)V(T[Tt]);V(17);for(var ft=0;ft<16;ft++)V(H[ft+1]);for(var vt=0;vt<=161;vt++)V(L[vt])})(),ee(65498),ee(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var z=0,K=0,oe=0;x=0,v=7,this.encode.displayName="_encode_";for(var ue,ge,pe,ye,Pe,le,lt,ne,J,ie=D.data,Ce=D.width,Oe=D.height,Re=4*Ce,ze=0;ze<Oe;){for(ue=0;ue<Re;){for(Pe=Re*ze+ue,lt=-1,ne=0,J=0;J<64;J++)le=Pe+(ne=J>>3)*Re+(lt=4*(7&J)),ze+ne>=Oe&&(le-=Re*(ze+1+ne-Oe)),ue+lt>=Re&&(le-=ue+lt-Re+4),ge=ie[le++],pe=ie[le++],ye=ie[le++],j[J]=(N[ge]+N[pe+256|0]+N[ye+512|0]>>16)-128,b[J]=(N[ge+768|0]+N[pe+1024|0]+N[ye+1280|0]>>16)-128,S[J]=(N[ge+1280|0]+N[pe+1536|0]+N[ye+1792|0]>>16)-128;z=Y(j,d,z,e,n),K=Y(b,u,K,r,a),oe=Y(S,u,oe,r,a),ue+=32}ze+=8}if(v>=0){var ce=[];ce[1]=v+1,ce[0]=(1<<v+1)-1,O(ce)}return ee(65497),new Uint8Array(g)},t=t||50,(function(){for(var D=String.fromCharCode,G=0;G<256;G++)w[G]=D(G)})(),e=Q(P,_),r=Q(M,T),n=Q(B,k),a=Q(H,L),(function(){for(var D=1,G=2,z=1;z<=15;z++){for(var K=D;K<G;K++)m[32767+K]=z,h[32767+K]=[],h[32767+K][1]=z,h[32767+K][0]=K;for(var oe=-(G-1);oe<=-D;oe++)m[32767+oe]=z,h[32767+oe]=[],h[32767+oe][1]=z,h[32767+oe][0]=G-1+oe;D<<=1,G<<=1}})(),(function(){for(var D=0;D<256;D++)N[D]=19595*D,N[D+256|0]=38470*D,N[D+512|0]=7471*D+32768,N[D+768|0]=-11059*D,N[D+1024|0]=-21709*D,N[D+1280|0]=32768*D+8421375,N[D+1536|0]=-27439*D,N[D+1792|0]=-5329*D})(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dV(t){function e(_){if(!_)throw Error("assert :P")}function r(_,B,k){for(var M=0;4>M;M++)if(_[B+M]!=k.charCodeAt(M))return!0;return!1}function n(_,B,k,M,T){for(var H=0;H<T;H++)_[B+H]=k[M+H]}function a(_,B,k,M){for(var T=0;T<M;T++)_[B+T]=k}function i(_){return new Int32Array(_)}function o(_,B){for(var k=[],M=0;M<_;M++)k.push(new B);return k}function l(_,B){var k=[];return(function M(T,H,L){for(var Q=L[H],O=0;O<Q&&(T.push(L.length>H+1?[]:new B),!(L.length<H+1));O++)M(T[O],H+1,L)})(k,0,_),k}var c=function(){var _=this;function B(I,U){for(var Z=1<<U-1>>>0;I&Z;)Z>>>=1;return Z?(I&Z-1)+Z:I}function k(I,U,Z,se,he){e(!(se%Z));do I[U+(se-=Z)]=he;while(0<se)}function M(I,U,Z,se,he){if(e(2328>=he),512>=he)var xe=i(512);else if((xe=i(he))==null)return 0;return(function(ve,be,Ne,Te,Xe,ht){var Me,rt,ot=be,kt=1<<Ne,At=i(16),Nt=i(16);for(e(Xe!=0),e(Te!=null),e(ve!=null),e(0<Ne),rt=0;rt<Xe;++rt){if(15<Te[rt])return 0;++At[Te[rt]]}if(At[0]==Xe)return 0;for(Nt[1]=0,Me=1;15>Me;++Me){if(At[Me]>1<<Me)return 0;Nt[Me+1]=Nt[Me]+At[Me]}for(rt=0;rt<Xe;++rt)Me=Te[rt],0<Te[rt]&&(ht[Nt[Me]++]=rt);if(Nt[15]==1)return(Te=new T).g=0,Te.value=ht[0],k(ve,ot,1,kt,Te),kt;var Ct,Pt=-1,Dt=kt-1,Mr=0,yr=1,ns=1,Sr=1<<Ne;for(rt=0,Me=1,Xe=2;Me<=Ne;++Me,Xe<<=1){if(yr+=ns<<=1,0>(ns-=At[Me]))return 0;for(;0<At[Me];--At[Me])(Te=new T).g=Me,Te.value=ht[rt++],k(ve,ot+Mr,Xe,Sr,Te),Mr=B(Mr,Me)}for(Me=Ne+1,Xe=2;15>=Me;++Me,Xe<<=1){if(yr+=ns<<=1,0>(ns-=At[Me]))return 0;for(;0<At[Me];--At[Me]){if(Te=new T,(Mr&Dt)!=Pt){for(ot+=Sr,Ct=1<<(Pt=Me)-Ne;15>Pt&&!(0>=(Ct-=At[Pt]));)++Pt,Ct<<=1;kt+=Sr=1<<(Ct=Pt-Ne),ve[be+(Pt=Mr&Dt)].g=Ct+Ne,ve[be+Pt].value=ot-be-Pt}Te.g=Me-Ne,Te.value=ht[rt++],k(ve,ot+(Mr>>Ne),Xe,Sr,Te),Mr=B(Mr,Me)}}return yr!=2*Nt[15]-1?0:kt})(I,U,Z,se,he,xe)}function T(){this.value=this.g=0}function H(){this.value=this.g=0}function L(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(jl,H)}function Q(I,U,Z,se){e(I!=null),e(U!=null),e(2147483648>se),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=U,I.pa=Z,I.Jd=U,I.Yc=Z+se,I.Zc=4<=se?Z+se-4+1:Z,ge(I)}function O(I,U){for(var Z=0;0<U--;)Z|=ye(I,128)<<U;return Z}function V(I,U){var Z=O(I,U);return pe(I)?-Z:Z}function ee(I,U,Z,se){var he,xe=0;for(e(I!=null),e(U!=null),e(4294967288>se),I.Sb=se,I.Ra=0,I.u=0,I.h=0,4<se&&(se=4),he=0;he<se;++he)xe+=U[Z+he]<<8*he;I.Ra=xe,I.bb=se,I.oa=U,I.pa=Z}function Y(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<_u-8>>>0,++I.bb,I.u-=8;K(I)&&(I.h=1,I.u=0)}function re(I,U){if(e(0<=U),!I.h&&U<=sl){var Z=z(I)&rl[U];return I.u+=U,Y(I),Z}return I.h=1,I.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(I){return I.Ra>>>(I.u&_u-1)>>>0}function K(I){return e(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>_u}function oe(I,U){I.u=U,I.h=K(I)}function ue(I){I.u>=Dc&&(e(I.u>=Dc),Y(I))}function ge(I){e(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(e(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function pe(I){return O(I,1)}function ye(I,U){var Z=I.Ca;0>I.b&&ge(I);var se=I.b,he=Z*U>>>8,xe=(I.I>>>se>he)+0;for(xe?(Z-=he,I.I-=he+1<<se>>>0):Z=he+1,se=Z,he=0;256<=se;)he+=8,se>>=8;return se=7^he+Bd[se],I.b-=se,I.Ca=(Z<<se)-1,xe}function Pe(I,U,Z){I[U+0]=Z>>24&255,I[U+1]=Z>>16&255,I[U+2]=Z>>8&255,I[U+3]=255&Z}function le(I,U){return I[U+0]|I[U+1]<<8}function lt(I,U){return le(I,U)|I[U+2]<<16}function ne(I,U){return le(I,U)|le(I,U+2)<<16}function J(I,U){var Z=1<<U;return e(I!=null),e(0<U),I.X=i(Z),I.X==null?0:(I.Mb=32-U,I.Xa=U,1)}function ie(I,U){e(I!=null),e(U!=null),e(I.Xa==U.Xa),n(U.X,0,I.X,0,1<<U.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function Oe(I,U,Z,se){e(Z!=null),e(se!=null);var he=Z[0],xe=se[0];return he==0&&(he=(I*xe+U/2)/U),xe==0&&(xe=(U*he+I/2)/I),0>=he||0>=xe?0:(Z[0]=he,se[0]=xe,1)}function Re(I,U){return I+(1<<U)-1>>>U}function ze(I,U){return((4278255360&I)+(4278255360&U)>>>0&4278255360)+((16711935&I)+(16711935&U)>>>0&16711935)>>>0}function ce(I,U){_[U]=function(Z,se,he,xe,ve,be,Ne){var Te;for(Te=0;Te<ve;++Te){var Xe=_[I](be[Ne+Te-1],he,xe+Te);be[Ne+Te]=ze(Z[se+Te],Xe)}}}function ae(){this.ud=this.hd=this.jd=0}function Se(I,U){return((4278124286&(I^U))>>>1)+(I&U)>>>0}function We(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Je(I,U){return We(I+(I-U+.5>>1))}function tt(I,U,Z){return Math.abs(U-Z)-Math.abs(I-Z)}function Tt(I,U,Z,se,he,xe,ve){for(se=xe[ve-1],Z=0;Z<he;++Z)xe[ve+Z]=se=ze(I[U+Z],se)}function ft(I,U,Z,se,he){var xe;for(xe=0;xe<Z;++xe){var ve=I[U+xe],be=ve>>8&255,Ne=16711935&(Ne=(Ne=16711935&ve)+((be<<16)+be));se[he+xe]=(4278255360&ve)+Ne>>>0}}function vt(I,U){U.jd=255&I,U.hd=I>>8&255,U.ud=I>>16&255}function _t(I,U,Z,se,he,xe){var ve;for(ve=0;ve<se;++ve){var be=U[Z+ve],Ne=be>>>8,Te=be,Xe=255&(Xe=(Xe=be>>>16)+((I.jd<<24>>24)*(Ne<<24>>24)>>>5));Te=255&(Te=(Te+=(I.hd<<24>>24)*(Ne<<24>>24)>>>5)+((I.ud<<24>>24)*(Xe<<24>>24)>>>5)),he[xe+ve]=(4278255360&be)+(Xe<<16)+Te}}function et(I,U,Z,se,he){_[U]=function(xe,ve,be,Ne,Te,Xe,ht,Me,rt){for(Ne=ht;Ne<Me;++Ne)for(ht=0;ht<rt;++ht)Te[Xe++]=he(be[se(xe[ve++])])},_[I]=function(xe,ve,be,Ne,Te,Xe,ht){var Me=8>>xe.b,rt=xe.Ea,ot=xe.K[0],kt=xe.w;if(8>Me)for(xe=(1<<xe.b)-1,kt=(1<<Me)-1;ve<be;++ve){var At,Nt=0;for(At=0;At<rt;++At)At&xe||(Nt=se(Ne[Te++])),Xe[ht++]=he(ot[Nt&kt]),Nt>>=Me}else _["VP8LMapColor"+Z](Ne,Te,ot,kt,Xe,ht,ve,be,rt)}}function It(I,U,Z,se,he){for(Z=U+Z;U<Z;){var xe=I[U++];se[he++]=xe>>16&255,se[he++]=xe>>8&255,se[he++]=255&xe}}function Lt(I,U,Z,se,he){for(Z=U+Z;U<Z;){var xe=I[U++];se[he++]=xe>>16&255,se[he++]=xe>>8&255,se[he++]=255&xe,se[he++]=xe>>24&255}}function Gt(I,U,Z,se,he){for(Z=U+Z;U<Z;){var xe=(ve=I[U++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;se[he++]=xe,se[he++]=ve}}function Rt(I,U,Z,se,he){for(Z=U+Z;U<Z;){var xe=(ve=I[U++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;se[he++]=xe,se[he++]=ve}}function mr(I,U,Z,se,he){for(Z=U+Z;U<Z;){var xe=I[U++];se[he++]=255&xe,se[he++]=xe>>8&255,se[he++]=xe>>16&255}}function Ht(I,U,Z,se,he,xe){if(xe==0)for(Z=U+Z;U<Z;)Pe(se,((xe=I[U++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),he+=32;else n(se,he,I,U,Z)}function Ge(I,U){_[U][0]=_[I+"0"],_[U][1]=_[I+"1"],_[U][2]=_[I+"2"],_[U][3]=_[I+"3"],_[U][4]=_[I+"4"],_[U][5]=_[I+"5"],_[U][6]=_[I+"6"],_[U][7]=_[I+"7"],_[U][8]=_[I+"8"],_[U][9]=_[I+"9"],_[U][10]=_[I+"10"],_[U][11]=_[I+"11"],_[U][12]=_[I+"12"],_[U][13]=_[I+"13"],_[U][14]=_[I+"0"],_[U][15]=_[I+"0"]}function we(I){return I==p0||I==Uh||I==Zm||I==ep}function Ze(){this.eb=[],this.size=this.A=this.fb=0}function qe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function st(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ze,this.f.kb=new qe,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function St(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Vt(I,U){var Z=I.T,se=U.ba.f.RGBA,he=se.eb,xe=se.fb+I.ka*se.A,ve=jo[U.ba.S],be=I.y,Ne=I.O,Te=I.f,Xe=I.N,ht=I.ea,Me=I.W,rt=U.cc,ot=U.dc,kt=U.Mc,At=U.Nc,Nt=I.ka,Ct=I.ka+I.T,Pt=I.U,Dt=Pt+1>>1;for(Nt==0?ve(be,Ne,null,null,Te,Xe,ht,Me,Te,Xe,ht,Me,he,xe,null,null,Pt):(ve(U.ec,U.fc,be,Ne,rt,ot,kt,At,Te,Xe,ht,Me,he,xe-se.A,he,xe,Pt),++Z);Nt+2<Ct;Nt+=2)rt=Te,ot=Xe,kt=ht,At=Me,Xe+=I.Rc,Me+=I.Rc,xe+=2*se.A,ve(be,(Ne+=2*I.fa)-I.fa,be,Ne,rt,ot,kt,At,Te,Xe,ht,Me,he,xe-se.A,he,xe,Pt);return Ne+=I.fa,I.j+Ct<I.o?(n(U.ec,U.fc,be,Ne,Pt),n(U.cc,U.dc,Te,Xe,Dt),n(U.Mc,U.Nc,ht,Me,Dt),Z--):1&Ct||ve(be,Ne,null,null,Te,Xe,ht,Me,Te,Xe,ht,Me,he,xe+se.A,null,null,Pt),Z}function Pr(I,U,Z){var se=I.F,he=[I.J];if(se!=null){var xe=I.U,ve=U.ba.S,be=ve==Jm||ve==Zm;U=U.ba.f.RGBA;var Ne=[0],Te=I.ka;Ne[0]=I.T,I.Kb&&(Te==0?--Ne[0]:(--Te,he[0]-=I.width),I.j+I.ka+I.T==I.o&&(Ne[0]=I.o-I.j-Te));var Xe=U.eb;Te=U.fb+Te*U.A,I=Xm(se,he[0],I.width,xe,Ne,Xe,Te+(be?0:3),U.A),e(Z==Ne),I&&we(ve)&&Oh(Xe,Te,be,xe,Ne,U.A)}return 0}function sr(I){var U=I.ma,Z=U.ba.S,se=11>Z,he=Z==Bu||Z==Ym||Z==Jm||Z==xn||Z==12||we(Z);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!l0(U.Oa,I,he?11:12))return 0;if(he&&we(Z)&&kh(),I.da)alert("todo:use_scaling");else{if(se){if(U.Ib=Xt,I.Kb){if(Z=I.U+1>>1,U.memory=i(I.U+2*Z),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+I.U,U.Mc=U.cc,U.Nc=U.dc+Z,U.Ib=Vt,kh()}}else alert("todo:EmitYUV");he&&(U.Jb=Pr,se&&Zl())}if(se&&!xi){for(I=0;256>I;++I)No[I]=89858*(I-128)+sc>>Pd,So[I]=-22014*(I-128)+sc,v0[I]=-45773*(I-128),$h[I]=113618*(I-128)+sc>>Pd;for(I=rn;I<cn;++I)U=76283*(I-16)+sc>>Pd,vx[I-rn]=Yt(U,255),m2[I-rn]=Yt(U+8>>4,15);xi=1}return 1}function cr(I){var U=I.ma,Z=I.U,se=I.T;return e(!(1&I.ka)),0>=Z||0>=se?0:(Z=U.Ib(I,U),U.Jb!=null&&U.Jb(I,U,Z),U.Dc+=Z,1)}function Ts(I){I.ma.memory=null}function tn(I,U,Z,se){return re(I,8)!=47?0:(U[0]=re(I,14)+1,Z[0]=re(I,14)+1,se[0]=re(I,1),re(I,3)!=0?0:!I.h)}function Ls(I,U){if(4>I)return I+1;var Z=I-2>>1;return(2+(1&I)<<Z)+re(U,Z)+1}function on(I,U){return 120<U?U-120:1<=(Z=((Z=j_[U-1])>>4)*I+(8-(15&Z)))?Z:1;var Z}function hs(I,U,Z){var se=z(Z),he=I[U+=255&se].g-8;return 0<he&&(oe(Z,Z.u+8),se=z(Z),U+=I[U].value,U+=se&(1<<he)-1),oe(Z,Z.u+I[U].g),I[U].value}function Rs(I,U,Z){return Z.g+=I.g,Z.value+=I.value<<U>>>0,e(8>=Z.g),I.g}function me(I,U,Z){var se=I.xc;return e((U=se==0?0:I.vc[I.md*(Z>>se)+(U>>se)])<I.Wb),I.Ya[U]}function ke(I,U,Z,se){var he=I.ab,xe=I.c*U,ve=I.C;U=ve+U;var be=Z,Ne=se;for(se=I.Ta,Z=I.Ua;0<he--;){var Te=I.gc[he],Xe=ve,ht=U,Me=be,rt=Ne,ot=(Ne=se,be=Z,Te.Ea);switch(e(Xe<ht),e(ht<=Te.nc),Te.hc){case 2:ga(Me,rt,(ht-Xe)*ot,Ne,be);break;case 0:var kt=Xe,At=ht,Nt=Ne,Ct=be,Pt=(Sr=Te).Ea;kt==0&&(Td(Me,rt,null,null,1,Nt,Ct),Tt(Me,rt+1,0,0,Pt-1,Nt,Ct+1),rt+=Pt,Ct+=Pt,++kt);for(var Dt=1<<Sr.b,Mr=Dt-1,yr=Re(Pt,Sr.b),ns=Sr.K,Sr=Sr.w+(kt>>Sr.b)*yr;kt<At;){var Ss=ns,ua=Sr,os=1;for(Lc(Me,rt,Nt,Ct-Pt,1,Nt,Ct);os<Pt;){var br=(os&~Mr)+Dt;br>Pt&&(br=Pt),(0,Ih[Ss[ua++]>>8&15])(Me,rt+ +os,Nt,Ct+os-Pt,br-os,Nt,Ct+os),os=br}rt+=Pt,Ct+=Pt,++kt&Mr||(Sr+=yr)}ht!=Te.nc&&n(Ne,be-ot,Ne,be+(ht-Xe-1)*ot,ot);break;case 1:for(ot=Me,At=rt,Pt=(Me=Te.Ea)-(Ct=Me&~(Nt=(rt=1<<Te.b)-1)),kt=Re(Me,Te.b),Dt=Te.K,Te=Te.w+(Xe>>Te.b)*kt;Xe<ht;){for(Mr=Dt,yr=Te,ns=new ae,Sr=At+Ct,Ss=At+Me;At<Sr;)vt(Mr[yr++],ns),d0(ns,ot,At,rt,Ne,be),At+=rt,be+=rt;At<Ss&&(vt(Mr[yr++],ns),d0(ns,ot,At,Pt,Ne,be),At+=Pt,be+=Pt),++Xe&Nt||(Te+=kt)}break;case 3:if(Me==Ne&&rt==be&&0<Te.b){for(At=Ne,Me=ot=be+(ht-Xe)*ot-(Ct=(ht-Xe)*Re(Te.Ea,Te.b)),rt=Ne,Nt=be,kt=[],Ct=(Pt=Ct)-1;0<=Ct;--Ct)kt[Ct]=rt[Nt+Ct];for(Ct=Pt-1;0<=Ct;--Ct)At[Me+Ct]=kt[Ct];Fh(Te,Xe,ht,Ne,ot,Ne,be)}else Fh(Te,Xe,ht,Me,rt,Ne,be)}be=se,Ne=Z}Ne!=Z&&n(se,Z,be,Ne,xe)}function je(I,U){var Z=I.V,se=I.Ba+I.c*I.C,he=U-I.C;if(e(U<=I.l.o),e(16>=he),0<he){var xe=I.l,ve=I.Ta,be=I.Ua,Ne=xe.width;if(ke(I,he,Z,se),he=be=[be],e((Z=I.C)<(se=U)),e(xe.v<xe.va),se>xe.o&&(se=xe.o),Z<xe.j){var Te=xe.j-Z;Z=xe.j,he[0]+=Te*Ne}if(Z>=se?Z=0:(he[0]+=4*xe.v,xe.ka=Z-xe.j,xe.U=xe.va-xe.v,xe.T=se-Z,Z=1),Z){if(be=be[0],11>(Z=I.ca).S){var Xe=Z.f.RGBA,ht=(se=Z.S,he=xe.U,xe=xe.T,Te=Xe.eb,Xe.A),Me=xe;for(Xe=Xe.fb+I.Ma*Xe.A;0<Me--;){var rt=ve,ot=be,kt=he,At=Te,Nt=Xe;switch(se){case px:u0(rt,ot,kt,At,Nt);break;case Bu:Md(rt,ot,kt,At,Nt);break;case p0:Md(rt,ot,kt,At,Nt),Oh(At,Nt,0,kt,1,0);break;case c2:Dh(rt,ot,kt,At,Nt);break;case Ym:Ht(rt,ot,kt,At,Nt,1);break;case Uh:Ht(rt,ot,kt,At,Nt,1),Oh(At,Nt,0,kt,1,0);break;case Jm:Ht(rt,ot,kt,At,Nt,0);break;case Zm:Ht(rt,ot,kt,At,Nt,0),Oh(At,Nt,1,kt,1,0);break;case xn:Cu(rt,ot,kt,At,Nt);break;case ep:Cu(rt,ot,kt,At,Nt),dy(At,Nt,kt,1,0);break;case Ax:Eu(rt,ot,kt,At,Nt);break;default:e(0)}be+=Ne,Xe+=ht}I.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");e(I.Ma<=Z.height)}}I.C=U,e(I.C<=I.i)}function Ee(I){var U;if(0<I.ua)return 0;for(U=0;U<I.Wb;++U){var Z=I.Ya[U].G,se=I.Ya[U].H;if(0<Z[1][se[1]+0].g||0<Z[2][se[2]+0].g||0<Z[3][se[3]+0].g)return 0}return 1}function Fe(I,U,Z,se,he,xe){if(I.Z!=0){var ve=I.qd,be=I.rd;for(e(Ri[I.Z]!=null);U<Z;++U)Ri[I.Z](ve,be,se,he,se,he,xe),ve=se,be=he,he+=xe;I.qd=ve,I.rd=be}}function Be(I,U){var Z=I.l.ma,se=Z.Z==0||Z.Z==1?I.l.j:I.C;if(se=I.C<se?se:I.C,e(U<=I.l.o),U>se){var he=I.l.width,xe=Z.ca,ve=Z.tb+he*se,be=I.V,Ne=I.Ba+I.c*se,Te=I.gc;e(I.ab==1),e(Te[0].hc==3),tc(Te[0],se,U,be,Ne,xe,ve),Fe(Z,se,U,xe,ve,he)}I.C=I.Ma=U}function it(I,U,Z,se,he,xe,ve){var be=I.$/se,Ne=I.$%se,Te=I.m,Xe=I.s,ht=Z+I.$,Me=ht;he=Z+se*he;var rt=Z+se*xe,ot=280+Xe.ua,kt=I.Pb?be:16777216,At=0<Xe.ua?Xe.Wa:null,Nt=Xe.wc,Ct=ht<rt?me(Xe,Ne,be):null;e(I.C<xe),e(rt<=he);var Pt=!1;e:for(;;){for(;Pt||ht<rt;){var Dt=0;if(be>=kt){var Mr=ht-Z;e((kt=I).Pb),kt.wd=kt.m,kt.xd=Mr,0<kt.s.ua&&ie(kt.s.Wa,kt.s.vb),kt=be+gx}if(Ne&Nt||(Ct=me(Xe,Ne,be)),e(Ct!=null),Ct.Qb&&(U[ht]=Ct.qb,Pt=!0),!Pt)if(ue(Te),Ct.jc){Dt=Te,Mr=U;var yr=ht,ns=Ct.pd[z(Dt)&jl-1];e(Ct.jc),256>ns.g?(oe(Dt,Dt.u+ns.g),Mr[yr]=ns.value,Dt=0):(oe(Dt,Dt.u+ns.g-256),e(256<=ns.value),Dt=ns.value),Dt==0&&(Pt=!0)}else Dt=hs(Ct.G[0],Ct.H[0],Te);if(Te.h)break;if(Pt||256>Dt){if(!Pt)if(Ct.nd)U[ht]=(Ct.qb|Dt<<8)>>>0;else{if(ue(Te),Pt=hs(Ct.G[1],Ct.H[1],Te),ue(Te),Mr=hs(Ct.G[2],Ct.H[2],Te),yr=hs(Ct.G[3],Ct.H[3],Te),Te.h)break;U[ht]=(yr<<24|Pt<<16|Dt<<8|Mr)>>>0}if(Pt=!1,++ht,++Ne>=se&&(Ne=0,++be,ve!=null&&be<=xe&&!(be%16)&&ve(I,be),At!=null))for(;Me<ht;)Dt=U[Me++],At.X[(506832829*Dt&4294967295)>>>At.Mb]=Dt}else if(280>Dt){if(Dt=Ls(Dt-256,Te),Mr=hs(Ct.G[4],Ct.H[4],Te),ue(Te),Mr=on(se,Mr=Ls(Mr,Te)),Te.h)break;if(ht-Z<Mr||he-ht<Dt)break e;for(yr=0;yr<Dt;++yr)U[ht+yr]=U[ht+yr-Mr];for(ht+=Dt,Ne+=Dt;Ne>=se;)Ne-=se,++be,ve!=null&&be<=xe&&!(be%16)&&ve(I,be);if(e(ht<=he),Ne&Nt&&(Ct=me(Xe,Ne,be)),At!=null)for(;Me<ht;)Dt=U[Me++],At.X[(506832829*Dt&4294967295)>>>At.Mb]=Dt}else{if(!(Dt<ot))break e;for(Pt=Dt-280,e(At!=null);Me<ht;)Dt=U[Me++],At.X[(506832829*Dt&4294967295)>>>At.Mb]=Dt;Dt=ht,e(!(Pt>>>(Mr=At).Xa)),U[Dt]=Mr.X[Pt],Pt=!0}Pt||e(Te.h==K(Te))}if(I.Pb&&Te.h&&ht<he)e(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&ie(I.s.vb,I.s.Wa);else{if(Te.h)break e;ve!=null&&ve(I,be>xe?xe:be),I.a=0,I.$=ht-Z}return 1}return I.a=3,0}function wt(I){e(I!=null),I.vc=null,I.yc=null,I.Ya=null;var U=I.Wa;U!=null&&(U.X=null),I.vb=null,e(I!=null)}function dt(){var I=new Yr;return I==null?null:(I.a=0,I.xb=x0,Ge("Predictor","VP8LPredictors"),Ge("Predictor","VP8LPredictors_C"),Ge("PredictorAdd","VP8LPredictorsAdd"),Ge("PredictorAdd","VP8LPredictorsAdd_C"),ga=ft,d0=_t,u0=It,Md=Lt,Cu=Gt,Eu=Rt,Dh=mr,_.VP8LMapColor32b=Rc,_.VP8LMapColor8b=Ph,I)}function ut(I,U,Z,se,he){var xe=1,ve=[I],be=[U],Ne=se.m,Te=se.s,Xe=null,ht=0;e:for(;;){if(Z)for(;xe&&re(Ne,1);){var Me=ve,rt=be,ot=se,kt=1,At=ot.m,Nt=ot.gc[ot.ab],Ct=re(At,2);if(ot.Oc&1<<Ct)xe=0;else{switch(ot.Oc|=1<<Ct,Nt.hc=Ct,Nt.Ea=Me[0],Nt.nc=rt[0],Nt.K=[null],++ot.ab,e(4>=ot.ab),Ct){case 0:case 1:Nt.b=re(At,3)+2,kt=ut(Re(Nt.Ea,Nt.b),Re(Nt.nc,Nt.b),0,ot,Nt.K),Nt.K=Nt.K[0];break;case 3:var Pt,Dt=re(At,8)+1,Mr=16<Dt?0:4<Dt?1:2<Dt?2:3;if(Me[0]=Re(Nt.Ea,Mr),Nt.b=Mr,Pt=kt=ut(Dt,1,0,ot,Nt.K)){var yr,ns=Dt,Sr=Nt,Ss=1<<(8>>Sr.b),ua=i(Ss);if(ua==null)Pt=0;else{var os=Sr.K[0],br=Sr.w;for(ua[0]=Sr.K[0][0],yr=1;yr<1*ns;++yr)ua[yr]=ze(os[br+yr],ua[yr-1]);for(;yr<4*Ss;++yr)ua[yr]=0;Sr.K[0]=null,Sr.K[0]=ua,Pt=1}}kt=Pt;break;case 2:break;default:e(0)}xe=kt}}if(ve=ve[0],be=be[0],xe&&re(Ne,1)&&!(xe=1<=(ht=re(Ne,4))&&11>=ht)){se.a=3;break e}var or;if(or=xe)t:{var va,Ur,ws,dn=se,ha=ve,gi=be,Hn=ht,ri=Z,vi=dn.m,Qn=dn.s,ss=[null],Cs=1,zn=0,Ws=u2[Hn];r:for(;;){if(ri&&re(vi,1)){var In=re(vi,3)+2,si=Re(ha,In),ta=Re(gi,In),no=si*ta;if(!ut(si,ta,0,dn,ss))break r;for(ss=ss[0],Qn.xc=In,va=0;va<no;++va){var Es=ss[va]>>8&65535;ss[va]=Es,Es>=Cs&&(Cs=Es+1)}}if(vi.h)break r;for(Ur=0;5>Ur;++Ur){var _n=Hh[Ur];!Ur&&0<Hn&&(_n+=1<<Hn),zn<_n&&(zn=_n)}var Oi=o(Cs*Ws,T),Ui=Cs,Hi=o(Ui,L);if(Hi==null)var _o=null;else e(65536>=Ui),_o=Hi;var ao=i(zn);if(_o==null||ao==null||Oi==null){dn.a=1;break r}var io=Oi;for(va=ws=0;va<Cs;++va){var sn=_o[va],Co=sn.G,_l=sn.H,Fu=0,nc=1,ya=0;for(Ur=0;5>Ur;++Ur){_n=Hh[Ur],Co[Ur]=io,_l[Ur]=ws,!Ur&&0<Hn&&(_n+=1<<Hn);n:{var Vh,yx=_n,ap=dn,Hc=ao,A2=io,ip=ws,Cl=0,El=ap.m,op=re(El,1);if(a(Hc,0,0,yx),op){var Wh=re(El,1)+1,wy=re(El,1),qh=re(El,wy==0?1:8);Hc[qh]=1,Wh==2&&(Hc[qh=re(El,8)]=1);var lp=1}else{var bx=i(19),$n=re(El,4)+4;if(19<$n){ap.a=3;var Kh=0;break n}for(Vh=0;Vh<$n;++Vh)bx[w_[Vh]]=re(El,3);var cp=void 0,Xh=void 0,dp=ap,jy=bx,Qc=yx,Gn=Hc,ba=0,Dn=dp.m,up=8,y0=o(128,T);s:for(;M(y0,0,7,jy,19);){if(re(Dn,1)){var hp=2+2*re(Dn,3);if((cp=2+re(Dn,hp))>Qc)break s}else cp=Qc;for(Xh=0;Xh<Qc&&cp--;){ue(Dn);var x2=y0[0+(127&z(Dn))];oe(Dn,Dn.u+x2.g);var wa=x2.value;if(16>wa)Gn[Xh++]=wa,wa!=0&&(up=wa);else{var Ny=wa==16,wx=wa-16,Sy=xx[wx],ac=re(Dn,tp[wx])+Sy;if(Xh+ac>Qc)break s;for(var kl=Ny?up:0;0<ac--;)Gn[Xh++]=kl}}ba=1;break s}ba||(dp.a=3),lp=ba}(lp=lp&&!El.h)&&(Cl=M(A2,ip,8,Hc,yx)),lp&&Cl!=0?Kh=Cl:(ap.a=3,Kh=0)}if(Kh==0)break r;if(nc&&d2[Ur]==1&&(nc=io[ws].g==0),Fu+=io[ws].g,ws+=Kh,3>=Ur){var Dd,fp=ao[0];for(Dd=1;Dd<_n;++Dd)ao[Dd]>fp&&(fp=ao[Dd]);ya+=fp}}if(sn.nd=nc,sn.Qb=0,nc&&(sn.qb=(Co[3][_l[3]+0].value<<24|Co[1][_l[1]+0].value<<16|Co[2][_l[2]+0].value)>>>0,Fu==0&&256>Co[0][_l[0]+0].value&&(sn.Qb=1,sn.qb+=Co[0][_l[0]+0].value<<8)),sn.jc=!sn.Qb&&6>ya,sn.jc){var b0,zc=sn;for(b0=0;b0<jl;++b0){var Ld=b0,Rd=zc.pd[Ld],mp=zc.G[0][zc.H[0]+Ld];256<=mp.value?(Rd.g=mp.g+256,Rd.value=mp.value):(Rd.g=0,Rd.value=0,Ld>>=Rs(mp,8,Rd),Ld>>=Rs(zc.G[1][zc.H[1]+Ld],16,Rd),Ld>>=Rs(zc.G[2][zc.H[2]+Ld],0,Rd),Rs(zc.G[3][zc.H[3]+Ld],24,Rd))}}}Qn.vc=ss,Qn.Wb=Cs,Qn.Ya=_o,Qn.yc=Oi,or=1;break t}or=0}if(!(xe=or)){se.a=3;break e}if(0<ht){if(Te.ua=1<<ht,!J(Te.Wa,ht)){se.a=1,xe=0;break e}}else Te.ua=0;var jx=se,_y=ve,g2=be,Nx=jx.s,Yh=Nx.xc;if(jx.c=_y,jx.i=g2,Nx.md=Re(_y,Yh),Nx.wc=Yh==0?-1:(1<<Yh)-1,Z){se.xb=Uc;break e}if((Xe=i(ve*be))==null){se.a=1,xe=0;break e}xe=(xe=it(se,Xe,0,ve,be,be,null))&&!Ne.h;break e}return xe?(he!=null?he[0]=Xe:(e(Xe==null),e(Z)),se.$=0,Z||wt(Te)):wt(Te),xe}function xt(I,U){var Z=I.c*I.i,se=Z+U+16*U;return e(I.c<=U),I.V=i(se),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+Z+U,1)}function de(I,U){var Z=I.C,se=U-Z,he=I.V,xe=I.Ba+I.c*Z;for(e(U<=I.l.o);0<se;){var ve=16<se?16:se,be=I.l.ma,Ne=I.l.width,Te=Ne*ve,Xe=be.ca,ht=be.tb+Ne*Z,Me=I.Ta,rt=I.Ua;ke(I,ve,he,xe),uy(Me,rt,Xe,ht,Te),Fe(be,Z,Z+ve,Xe,ht,Ne),se-=ve,he+=ve*I.c,Z+=ve}e(Z==U),I.C=I.Ma=U}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Ve(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qe(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function De(){this.Yb=(function(){var I=[];return(function U(Z,se,he){for(var xe=he[se],ve=0;ve<xe&&(Z.push(he.length>se+1?[]:0),!(he.length<se+1));ve++)U(Z[ve],se+1,he)})(I,0,[3,11]),I})()}function yt(){this.jb=i(3),this.Wc=l([4,8],De),this.Xc=l([4,17],De)}function Ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zt(){this.ld=this.La=this.dd=this.tc=0}function Zt(){this.Na=this.la=0}function Br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _e(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $e(){this.uc=this.M=this.Nb=0,this.wa=Array(new zt),this.Y=0,this.ya=Array(new _e),this.aa=0,this.l=new hr}function Ot(){this.y=i(16),this.f=i(8),this.ea=i(8)}function lr(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Le,this.Kc=new Ve,this.ed=new Ut,this.Qa=new Qe,this.Ic=this.$c=this.Aa=0,this.D=new $e,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,Br),this.Pa=new yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ot),this.Hd=0,this.rb=Array(new Zt),this.sb=0,this.wa=Array(new zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _e),this.L=this.aa=0,this.gd=l([4,2],zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yt(I,U){return 0>I?0:I>U?U:I}function hr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rr(){var I=new lr;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,Qh||(Qh=us)),I}function nr(I,U,Z){return I.a==0&&(I.a=U,I.sc=Z,I.cb=0),0}function fs(I,U,Z){return 3<=Z&&I[U+0]==157&&I[U+1]==1&&I[U+2]==42}function Or(I,U){if(I==null)return 0;if(I.a=0,I.sc="OK",U==null)return nr(I,2,"null VP8Io passed to VP8GetHeaders()");var Z=U.data,se=U.w,he=U.ha;if(4>he)return nr(I,7,"Truncated header.");var xe=Z[se+0]|Z[se+1]<<8|Z[se+2]<<16,ve=I.Od;if(ve.Rb=!(1&xe),ve.td=xe>>1&7,ve.yd=xe>>4&1,ve.ub=xe>>5,3<ve.td)return nr(I,3,"Incorrect keyframe parameters.");if(!ve.yd)return nr(I,4,"Frame not displayable.");se+=3,he-=3;var be=I.Kc;if(ve.Rb){if(7>he)return nr(I,7,"cannot parse picture header");if(!fs(Z,se,he))return nr(I,3,"Bad code word");be.c=16383&(Z[se+4]<<8|Z[se+3]),be.Td=Z[se+4]>>6,be.i=16383&(Z[se+6]<<8|Z[se+5]),be.Ud=Z[se+6]>>6,se+=7,he-=7,I.za=be.c+15>>4,I.Ub=be.i+15>>4,U.width=be.c,U.height=be.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,a((xe=I.Pa).jb,0,255,xe.jb.length),e((xe=I.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,a(xe.Zb,0,0,xe.Zb.length),a(xe.Lb,0,0,xe.Lb)}if(ve.ub>he)return nr(I,7,"bad partition length");Q(xe=I.m,Z,se,ve.ub),se+=ve.ub,he-=ve.ub,ve.Rb&&(be.Ld=pe(xe),be.Kd=pe(xe)),be=I.Qa;var Ne,Te=I.Pa;if(e(xe!=null),e(be!=null),be.Cb=pe(xe),be.Cb){if(be.Bb=pe(xe),pe(xe)){for(be.Fb=pe(xe),Ne=0;4>Ne;++Ne)be.Zb[Ne]=pe(xe)?V(xe,7):0;for(Ne=0;4>Ne;++Ne)be.Lb[Ne]=pe(xe)?V(xe,6):0}if(be.Bb)for(Ne=0;3>Ne;++Ne)Te.jb[Ne]=pe(xe)?O(xe,8):255}else be.Bb=0;if(xe.Ka)return nr(I,3,"cannot parse segment header");if((be=I.ed).zd=pe(xe),be.Tb=O(xe,6),be.wb=O(xe,3),be.Pc=pe(xe),be.Pc&&pe(xe)){for(Te=0;4>Te;++Te)pe(xe)&&(be.vd[Te]=V(xe,6));for(Te=0;4>Te;++Te)pe(xe)&&(be.od[Te]=V(xe,6))}if(I.L=be.Tb==0?0:be.zd?1:2,xe.Ka)return nr(I,3,"cannot parse filter header");var Xe=he;if(he=Ne=se,se=Ne+Xe,be=Xe,I.Xb=(1<<O(I.m,2))-1,Xe<3*(Te=I.Xb))Z=7;else{for(Ne+=3*Te,be-=3*Te,Xe=0;Xe<Te;++Xe){var ht=Z[he+0]|Z[he+1]<<8|Z[he+2]<<16;ht>be&&(ht=be),Q(I.Jc[+Xe],Z,Ne,ht),Ne+=ht,be-=ht,he+=3}Q(I.Jc[+Te],Z,Ne,be),Z=Ne<se?0:5}if(Z!=0)return nr(I,Z,"cannot parse partitions");for(Z=O(Ne=I.m,7),he=pe(Ne)?V(Ne,4):0,se=pe(Ne)?V(Ne,4):0,be=pe(Ne)?V(Ne,4):0,Te=pe(Ne)?V(Ne,4):0,Ne=pe(Ne)?V(Ne,4):0,Xe=I.Qa,ht=0;4>ht;++ht){if(Xe.Cb){var Me=Xe.Zb[ht];Xe.Fb||(Me+=Z)}else{if(0<ht){I.pb[ht]=I.pb[0];continue}Me=Z}var rt=I.pb[ht];rt.Sc[0]=A0[Yt(Me+he,127)],rt.Sc[1]=rp[Yt(Me+0,127)],rt.Eb[0]=2*A0[Yt(Me+se,127)],rt.Eb[1]=101581*rp[Yt(Me+be,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=A0[Yt(Me+Te,117)],rt.Qc[1]=rp[Yt(Me+Ne,127)],rt.lc=Me+Ne}if(!ve.Rb)return nr(I,4,"Not a key frame.");for(pe(xe),ve=I.Pa,Z=0;4>Z;++Z){for(he=0;8>he;++he)for(se=0;3>se;++se)for(be=0;11>be;++be)Te=ye(xe,S_[Z][he][se][be])?O(xe,8):f2[Z][he][se][be],ve.Wc[Z][he].Yb[se][be]=Te;for(he=0;17>he;++he)ve.Xc[Z][he]=ve.Wc[Z][vy[he]]}return I.kc=pe(xe),I.kc&&(I.Bd=O(xe,8)),I.cb=1}function us(I,U,Z,se,he,xe,ve){var be=U[he].Yb[Z];for(Z=0;16>he;++he){if(!ye(I,be[Z+0]))return he;for(;!ye(I,be[Z+1]);)if(be=U[++he].Yb[0],Z=0,he==16)return 16;var Ne=U[he+1].Yb;if(ye(I,be[Z+2])){var Te=I,Xe=0;if(ye(Te,(Me=be)[(ht=Z)+3]))if(ye(Te,Me[ht+6])){for(be=0,ht=2*(Xe=ye(Te,Me[ht+8]))+(Me=ye(Te,Me[ht+9+Xe])),Xe=0,Me=xy[ht];Me[be];++be)Xe+=Xe+ye(Te,Me[be]);Xe+=3+(8<<ht)}else ye(Te,Me[ht+7])?(Xe=7+2*ye(Te,165),Xe+=ye(Te,145)):Xe=5+ye(Te,159);else Xe=ye(Te,Me[ht+4])?3+ye(Te,Me[ht+5]):2;be=Ne[2]}else Xe=1,be=Ne[1];Ne=ve+gy[he],0>(Te=I).b&&ge(Te);var ht,Me=Te.b,rt=(ht=Te.Ca>>1)-(Te.I>>Me)>>31;--Te.b,Te.Ca+=rt,Te.Ca|=1,Te.I-=(ht+1&rt)<<Me,xe[Ne]=((Xe^rt)-rt)*se[(0<he)+0]}return 16}function _a(I){var U=I.rb[I.sb-1];U.la=0,U.Na=0,a(I.zc,0,0,I.zc.length),I.ja=0}function bs(I,U,Z,se,he){he=I[U+Z+32*se]+(he>>3),I[U+Z+32*se]=-256&he?0>he?0:255:he}function Fn(I,U,Z,se,he,xe){bs(I,U,0,Z,se+he),bs(I,U,1,Z,se+xe),bs(I,U,2,Z,se-xe),bs(I,U,3,Z,se-he)}function Ns(I){return(20091*I>>16)+I}function ei(I,U,Z,se){var he,xe=0,ve=i(16);for(he=0;4>he;++he){var be=I[U+0]+I[U+8],Ne=I[U+0]-I[U+8],Te=(35468*I[U+4]>>16)-Ns(I[U+12]),Xe=Ns(I[U+4])+(35468*I[U+12]>>16);ve[xe+0]=be+Xe,ve[xe+1]=Ne+Te,ve[xe+2]=Ne-Te,ve[xe+3]=be-Xe,xe+=4,U++}for(he=xe=0;4>he;++he)be=(I=ve[xe+0]+4)+ve[xe+8],Ne=I-ve[xe+8],Te=(35468*ve[xe+4]>>16)-Ns(ve[xe+12]),bs(Z,se,0,0,be+(Xe=Ns(ve[xe+4])+(35468*ve[xe+12]>>16))),bs(Z,se,1,0,Ne+Te),bs(Z,se,2,0,Ne-Te),bs(Z,se,3,0,be-Xe),xe++,se+=32}function ti(I,U,Z,se){var he=I[U+0]+4,xe=35468*I[U+4]>>16,ve=Ns(I[U+4]),be=35468*I[U+1]>>16;Fn(Z,se,0,he+ve,I=Ns(I[U+1]),be),Fn(Z,se,1,he+xe,I,be),Fn(Z,se,2,he-xe,I,be),Fn(Z,se,3,he-ve,I,be)}function Zn(I,U,Z,se,he){ei(I,U,Z,se),he&&ei(I,U+16,Z,se+4)}function Pn(I,U,Z,se){Lh(I,U+0,Z,se,1),Lh(I,U+32,Z,se+128,1)}function Tc(I,U,Z,se){var he;for(I=I[U+0]+4,he=0;4>he;++he)for(U=0;4>U;++U)bs(Z,se,U,he,I)}function ms(I,U,Z,se){I[U+0]&&Os(I,U+0,Z,se),I[U+16]&&Os(I,U+16,Z,se+4),I[U+32]&&Os(I,U+32,Z,se+128),I[U+48]&&Os(I,U+48,Z,se+128+4)}function wh(I,U,Z,se){var he,xe=i(16);for(he=0;4>he;++he){var ve=I[U+0+he]+I[U+12+he],be=I[U+4+he]+I[U+8+he],Ne=I[U+4+he]-I[U+8+he],Te=I[U+0+he]-I[U+12+he];xe[0+he]=ve+be,xe[8+he]=ve-be,xe[4+he]=Te+Ne,xe[12+he]=Te-Ne}for(he=0;4>he;++he)ve=(I=xe[0+4*he]+3)+xe[3+4*he],be=xe[1+4*he]+xe[2+4*he],Ne=xe[1+4*he]-xe[2+4*he],Te=I-xe[3+4*he],Z[se+0]=ve+be>>3,Z[se+16]=Te+Ne>>3,Z[se+32]=ve-be>>3,Z[se+48]=Te-Ne>>3,se+=64}function yu(I,U,Z){var se,he=U-32,xe=ro,ve=255-I[he-1];for(se=0;se<Z;++se){var be,Ne=xe,Te=ve+I[U-1];for(be=0;be<Z;++be)I[U+be]=Ne[Te+I[he+be]];U+=32}}function Hm(I,U){yu(I,U,4)}function lx(I,U){yu(I,U,8)}function cx(I,U){yu(I,U,16)}function t0(I,U){var Z;for(Z=0;16>Z;++Z)n(I,U+32*Z,I,U-32,16)}function r0(I,U){var Z;for(Z=16;0<Z;--Z)a(I,U,I[U-1],16),U+=32}function go(I,U,Z){var se;for(se=0;16>se;++se)a(U,Z+32*se,I,16)}function Mc(I,U){var Z,se=16;for(Z=0;16>Z;++Z)se+=I[U-1+32*Z]+I[U+Z-32];go(se>>5,I,U)}function vo(I,U){var Z,se=8;for(Z=0;16>Z;++Z)se+=I[U-1+32*Z];go(se>>4,I,U)}function gl(I,U){var Z,se=8;for(Z=0;16>Z;++Z)se+=I[U+Z-32];go(se>>4,I,U)}function jh(I,U){go(128,I,U)}function Vr(I,U,Z){return I+2*U+Z+2>>2}function Fc(I,U){var Z,se=U-32;for(se=new Uint8Array([Vr(I[se-1],I[se+0],I[se+1]),Vr(I[se+0],I[se+1],I[se+2]),Vr(I[se+1],I[se+2],I[se+3]),Vr(I[se+2],I[se+3],I[se+4])]),Z=0;4>Z;++Z)n(I,U+32*Z,se,0,se.length)}function ly(I,U){var Z=I[U-1],se=I[U-1+32],he=I[U-1+64],xe=I[U-1+96];Pe(I,U+0,16843009*Vr(I[U-1-32],Z,se)),Pe(I,U+32,16843009*Vr(Z,se,he)),Pe(I,U+64,16843009*Vr(se,he,xe)),Pe(I,U+96,16843009*Vr(he,xe,xe))}function dx(I,U){var Z,se=4;for(Z=0;4>Z;++Z)se+=I[U+Z-32]+I[U-1+32*Z];for(se>>=3,Z=0;4>Z;++Z)a(I,U+32*Z,se,4)}function el(I,U){var Z=I[U-1+0],se=I[U-1+32],he=I[U-1+64],xe=I[U-1-32],ve=I[U+0-32],be=I[U+1-32],Ne=I[U+2-32],Te=I[U+3-32];I[U+0+96]=Vr(se,he,I[U-1+96]),I[U+1+96]=I[U+0+64]=Vr(Z,se,he),I[U+2+96]=I[U+1+64]=I[U+0+32]=Vr(xe,Z,se),I[U+3+96]=I[U+2+64]=I[U+1+32]=I[U+0+0]=Vr(ve,xe,Z),I[U+3+64]=I[U+2+32]=I[U+1+0]=Vr(be,ve,xe),I[U+3+32]=I[U+2+0]=Vr(Ne,be,ve),I[U+3+0]=Vr(Te,Ne,be)}function Sd(I,U){var Z=I[U+1-32],se=I[U+2-32],he=I[U+3-32],xe=I[U+4-32],ve=I[U+5-32],be=I[U+6-32],Ne=I[U+7-32];I[U+0+0]=Vr(I[U+0-32],Z,se),I[U+1+0]=I[U+0+32]=Vr(Z,se,he),I[U+2+0]=I[U+1+32]=I[U+0+64]=Vr(se,he,xe),I[U+3+0]=I[U+2+32]=I[U+1+64]=I[U+0+96]=Vr(he,xe,ve),I[U+3+32]=I[U+2+64]=I[U+1+96]=Vr(xe,ve,be),I[U+3+64]=I[U+2+96]=Vr(ve,be,Ne),I[U+3+96]=Vr(be,Ne,Ne)}function ux(I,U){var Z=I[U-1+0],se=I[U-1+32],he=I[U-1+64],xe=I[U-1-32],ve=I[U+0-32],be=I[U+1-32],Ne=I[U+2-32],Te=I[U+3-32];I[U+0+0]=I[U+1+64]=xe+ve+1>>1,I[U+1+0]=I[U+2+64]=ve+be+1>>1,I[U+2+0]=I[U+3+64]=be+Ne+1>>1,I[U+3+0]=Ne+Te+1>>1,I[U+0+96]=Vr(he,se,Z),I[U+0+64]=Vr(se,Z,xe),I[U+0+32]=I[U+1+96]=Vr(Z,xe,ve),I[U+1+32]=I[U+2+96]=Vr(xe,ve,be),I[U+2+32]=I[U+3+96]=Vr(ve,be,Ne),I[U+3+32]=Vr(be,Ne,Te)}function s0(I,U){var Z=I[U+0-32],se=I[U+1-32],he=I[U+2-32],xe=I[U+3-32],ve=I[U+4-32],be=I[U+5-32],Ne=I[U+6-32],Te=I[U+7-32];I[U+0+0]=Z+se+1>>1,I[U+1+0]=I[U+0+64]=se+he+1>>1,I[U+2+0]=I[U+1+64]=he+xe+1>>1,I[U+3+0]=I[U+2+64]=xe+ve+1>>1,I[U+0+32]=Vr(Z,se,he),I[U+1+32]=I[U+0+96]=Vr(se,he,xe),I[U+2+32]=I[U+1+96]=Vr(he,xe,ve),I[U+3+32]=I[U+2+96]=Vr(xe,ve,be),I[U+3+64]=Vr(ve,be,Ne),I[U+3+96]=Vr(be,Ne,Te)}function Nh(I,U){var Z=I[U-1+0],se=I[U-1+32],he=I[U-1+64],xe=I[U-1+96];I[U+0+0]=Z+se+1>>1,I[U+2+0]=I[U+0+32]=se+he+1>>1,I[U+2+32]=I[U+0+64]=he+xe+1>>1,I[U+1+0]=Vr(Z,se,he),I[U+3+0]=I[U+1+32]=Vr(se,he,xe),I[U+3+32]=I[U+1+64]=Vr(he,xe,xe),I[U+3+64]=I[U+2+64]=I[U+0+96]=I[U+1+96]=I[U+2+96]=I[U+3+96]=xe}function Qm(I,U){var Z=I[U-1+0],se=I[U-1+32],he=I[U-1+64],xe=I[U-1+96],ve=I[U-1-32],be=I[U+0-32],Ne=I[U+1-32],Te=I[U+2-32];I[U+0+0]=I[U+2+32]=Z+ve+1>>1,I[U+0+32]=I[U+2+64]=se+Z+1>>1,I[U+0+64]=I[U+2+96]=he+se+1>>1,I[U+0+96]=xe+he+1>>1,I[U+3+0]=Vr(be,Ne,Te),I[U+2+0]=Vr(ve,be,Ne),I[U+1+0]=I[U+3+32]=Vr(Z,ve,be),I[U+1+32]=I[U+3+64]=Vr(se,Z,ve),I[U+1+64]=I[U+3+96]=Vr(he,se,Z),I[U+1+96]=Vr(xe,he,se)}function Jl(I,U){var Z;for(Z=0;8>Z;++Z)n(I,U+32*Z,I,U-32,8)}function Sh(I,U){var Z;for(Z=0;8>Z;++Z)a(I,U,I[U-1],8),U+=32}function yo(I,U,Z){var se;for(se=0;8>se;++se)a(U,Z+32*se,I,8)}function n0(I,U){var Z,se=8;for(Z=0;8>Z;++Z)se+=I[U+Z-32]+I[U-1+32*Z];yo(se>>4,I,U)}function zm(I,U){var Z,se=4;for(Z=0;8>Z;++Z)se+=I[U+Z-32];yo(se>>3,I,U)}function $m(I,U){var Z,se=4;for(Z=0;8>Z;++Z)se+=I[U-1+32*Z];yo(se>>3,I,U)}function a0(I,U){yo(128,I,U)}function vl(I,U,Z){var se=I[U-Z],he=I[U+0],xe=3*(he-se)+Oc[1020+I[U-2*Z]-I[U+Z]],ve=m0[112+(xe+4>>3)];I[U-Z]=ro[255+se+m0[112+(xe+3>>3)]],I[U+0]=ro[255+he-ve]}function _h(I,U,Z,se){var he=I[U+0],xe=I[U+Z];return Nl[255+I[U-2*Z]-I[U-Z]]>se||Nl[255+xe-he]>se}function Ch(I,U,Z,se){return 4*Nl[255+I[U-Z]-I[U+0]]+Nl[255+I[U-2*Z]-I[U+Z]]<=se}function yl(I,U,Z,se,he){var xe=I[U-3*Z],ve=I[U-2*Z],be=I[U-Z],Ne=I[U+0],Te=I[U+Z],Xe=I[U+2*Z],ht=I[U+3*Z];return 4*Nl[255+be-Ne]+Nl[255+ve-Te]>se?0:Nl[255+I[U-4*Z]-xe]<=he&&Nl[255+xe-ve]<=he&&Nl[255+ve-be]<=he&&Nl[255+ht-Xe]<=he&&Nl[255+Xe-Te]<=he&&Nl[255+Te-Ne]<=he}function _d(I,U,Z,se){var he=2*se+1;for(se=0;16>se;++se)Ch(I,U+se,Z,he)&&vl(I,U+se,Z)}function bu(I,U,Z,se){var he=2*se+1;for(se=0;16>se;++se)Ch(I,U+se*Z,1,he)&&vl(I,U+se*Z,1)}function Gm(I,U,Z,se){var he;for(he=3;0<he;--he)_d(I,U+=4*Z,Z,se)}function Eh(I,U,Z,se){var he;for(he=3;0<he;--he)bu(I,U+=4,Z,se)}function bl(I,U,Z,se,he,xe,ve,be){for(xe=2*xe+1;0<he--;){if(yl(I,U,Z,xe,ve))if(_h(I,U,Z,be))vl(I,U,Z);else{var Ne=I,Te=U,Xe=Z,ht=Ne[Te-2*Xe],Me=Ne[Te-Xe],rt=Ne[Te+0],ot=Ne[Te+Xe],kt=Ne[Te+2*Xe],At=27*(Ct=Oc[1020+3*(rt-Me)+Oc[1020+ht-ot]])+63>>7,Nt=18*Ct+63>>7,Ct=9*Ct+63>>7;Ne[Te-3*Xe]=ro[255+Ne[Te-3*Xe]+Ct],Ne[Te-2*Xe]=ro[255+ht+Nt],Ne[Te-Xe]=ro[255+Me+At],Ne[Te+0]=ro[255+rt-At],Ne[Te+Xe]=ro[255+ot-Nt],Ne[Te+2*Xe]=ro[255+kt-Ct]}U+=se}}function Pc(I,U,Z,se,he,xe,ve,be){for(xe=2*xe+1;0<he--;){if(yl(I,U,Z,xe,ve))if(_h(I,U,Z,be))vl(I,U,Z);else{var Ne=I,Te=U,Xe=Z,ht=Ne[Te-Xe],Me=Ne[Te+0],rt=Ne[Te+Xe],ot=m0[112+(4+(kt=3*(Me-ht))>>3)],kt=m0[112+(kt+3>>3)],At=ot+1>>1;Ne[Te-2*Xe]=ro[255+Ne[Te-2*Xe]+At],Ne[Te-Xe]=ro[255+ht+kt],Ne[Te+0]=ro[255+Me-ot],Ne[Te+Xe]=ro[255+rt-At]}U+=se}}function Li(I,U,Z,se,he,xe){bl(I,U,Z,1,16,se,he,xe)}function wl(I,U,Z,se,he,xe){bl(I,U,1,Z,16,se,he,xe)}function i0(I,U,Z,se,he,xe){var ve;for(ve=3;0<ve;--ve)Pc(I,U+=4*Z,Z,1,16,se,he,xe)}function q(I,U,Z,se,he,xe){var ve;for(ve=3;0<ve;--ve)Pc(I,U+=4,1,Z,16,se,he,xe)}function fe(I,U,Z,se,he,xe,ve,be){bl(I,U,he,1,8,xe,ve,be),bl(Z,se,he,1,8,xe,ve,be)}function Ie(I,U,Z,se,he,xe,ve,be){bl(I,U,1,he,8,xe,ve,be),bl(Z,se,1,he,8,xe,ve,be)}function Ke(I,U,Z,se,he,xe,ve,be){Pc(I,U+4*he,he,1,8,xe,ve,be),Pc(Z,se+4*he,he,1,8,xe,ve,be)}function at(I,U,Z,se,he,xe,ve,be){Pc(I,U+4,1,he,8,xe,ve,be),Pc(Z,se+4,1,he,8,xe,ve,be)}function Mt(){this.ba=new st,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new St,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tr(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new T}function Yr(){this.xb=this.a=0,this.l=new hr,this.ca=new st,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tr,this.ab=0,this.gc=o(4,Nr),this.Oc=0}function rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fs(I,U,Z,se,he,xe,ve){for(I=I==null?0:I[U+0],U=0;U<ve;++U)he[xe+U]=I+Z[se+U]&255,I=he[xe+U]}function ea(I,U,Z,se,he,xe,ve){var be;if(I==null)Fs(null,null,Z,se,he,xe,ve);else for(be=0;be<ve;++be)he[xe+be]=I[U+be]+Z[se+be]&255}function Ca(I,U,Z,se,he,xe,ve){if(I==null)Fs(null,null,Z,se,he,xe,ve);else{var be,Ne=I[U+0],Te=Ne,Xe=Ne;for(be=0;be<ve;++be)Te=Xe+(Ne=I[U+be])-Te,Xe=Z[se+be]+(-256&Te?0>Te?0:255:Te)&255,Te=Ne,he[xe+be]=Xe}}function Sn(I,U,Z,se){var he=U.width,xe=U.o;if(e(I!=null&&U!=null),0>Z||0>=se||Z+se>xe)return null;if(!I.Cc){if(I.ga==null){var ve;if(I.ga=new rs,(ve=I.ga==null)||(ve=U.width*U.o,e(I.Gb.length==0),I.Gb=i(ve),I.Uc=0,I.Gb==null?ve=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,ve=1),ve=!ve),!ve){ve=I.ga;var be=I.Fa,Ne=I.P,Te=I.qc,Xe=I.mb,ht=I.nb,Me=Ne+1,rt=Te-1,ot=ve.l;if(e(be!=null&&Xe!=null&&U!=null),Ri[0]=null,Ri[1]=Fs,Ri[2]=ea,Ri[3]=Ca,ve.ca=Xe,ve.tb=ht,ve.c=U.width,ve.i=U.height,e(0<ve.c&&0<ve.i),1>=Te)U=0;else if(ve.$a=3&be[Ne+0],ve.Z=be[Ne+0]>>2&3,ve.Lc=be[Ne+0]>>4&3,Ne=be[Ne+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Ne)U=0;else if(ot.put=cr,ot.ac=sr,ot.bc=Ts,ot.ma=ve,ot.width=U.width,ot.height=U.height,ot.Da=U.Da,ot.v=U.v,ot.va=U.va,ot.j=U.j,ot.o=U.o,ve.$a)e:{e(ve.$a==1),U=dt();t:for(;;){if(U==null){U=0;break e}if(e(ve!=null),ve.mc=U,U.c=ve.c,U.i=ve.i,U.l=ve.l,U.l.ma=ve,U.l.width=ve.c,U.l.height=ve.i,U.a=0,ee(U.m,be,Me,rt),!ut(ve.c,ve.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&Ee(U.s)?(ve.ic=1,be=U.c*U.i,U.Ta=null,U.Ua=0,U.V=i(be),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(ve.ic=0,U=xt(U,ve.c)),!U))break t;U=1;break e}ve.mc=null,U=0}else U=rt>=ve.c*ve.i;ve=!U}if(ve)return null;I.ga.Lc!=1?I.Ga=0:se=xe-Z}e(I.ga!=null),e(Z+se<=xe);e:{if(U=(be=I.ga).c,xe=be.l.o,be.$a==0){if(Me=I.rc,rt=I.Vc,ot=I.Fa,Ne=I.P+1+Z*U,Te=I.mb,Xe=I.nb+Z*U,e(Ne<=I.P+I.qc),be.Z!=0)for(e(Ri[be.Z]!=null),ve=0;ve<se;++ve)Ri[be.Z](Me,rt,ot,Ne,Te,Xe,U),Me=Te,rt=Xe,Xe+=U,Ne+=U;else for(ve=0;ve<se;++ve)n(Te,Xe,ot,Ne,U),Me=Te,rt=Xe,Xe+=U,Ne+=U;I.rc=Me,I.Vc=rt}else{if(e(be.mc!=null),U=Z+se,e((ve=be.mc)!=null),e(U<=ve.i),ve.C>=U)U=1;else if(be.ic||Zl(),be.ic){be=ve.V,Me=ve.Ba,rt=ve.c;var kt=ve.i,At=(ot=1,Ne=ve.$/rt,Te=ve.$%rt,Xe=ve.m,ht=ve.s,ve.$),Nt=rt*kt,Ct=rt*U,Pt=ht.wc,Dt=At<Ct?me(ht,Te,Ne):null;e(At<=Nt),e(U<=kt),e(Ee(ht));t:for(;;){for(;!Xe.h&&At<Ct;){if(Te&Pt||(Dt=me(ht,Te,Ne)),e(Dt!=null),ue(Xe),256>(kt=hs(Dt.G[0],Dt.H[0],Xe)))be[Me+At]=kt,++At,++Te>=rt&&(Te=0,++Ne<=U&&!(Ne%16)&&Be(ve,Ne));else{if(!(280>kt)){ot=0;break t}kt=Ls(kt-256,Xe);var Mr,yr=hs(Dt.G[4],Dt.H[4],Xe);if(ue(Xe),!(At>=(yr=on(rt,yr=Ls(yr,Xe)))&&Nt-At>=kt)){ot=0;break t}for(Mr=0;Mr<kt;++Mr)be[Me+At+Mr]=be[Me+At+Mr-yr];for(At+=kt,Te+=kt;Te>=rt;)Te-=rt,++Ne<=U&&!(Ne%16)&&Be(ve,Ne);At<Ct&&Te&Pt&&(Dt=me(ht,Te,Ne))}e(Xe.h==K(Xe))}Be(ve,Ne>U?U:Ne);break t}!ot||Xe.h&&At<Nt?(ot=0,ve.a=Xe.h?5:3):ve.$=At,U=ot}else U=it(ve,ve.V,ve.Ba,ve.c,ve.i,U,de);if(!U){se=0;break e}}Z+se>=xe&&(I.Cc=1),se=1}if(!se)return null;if(I.Cc&&((se=I.ga)!=null&&(se.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+Z*he}function Ra(I,U,Z,se,he,xe){for(;0<he--;){var ve,be=I,Ne=U+(Z?1:0),Te=I,Xe=U+(Z?0:3);for(ve=0;ve<se;++ve){var ht=Te[Xe+4*ve];ht!=255&&(ht*=32897,be[Ne+4*ve+0]=be[Ne+4*ve+0]*ht>>23,be[Ne+4*ve+1]=be[Ne+4*ve+1]*ht>>23,be[Ne+4*ve+2]=be[Ne+4*ve+2]*ht>>23)}U+=xe}}function xa(I,U,Z,se,he){for(;0<se--;){var xe;for(xe=0;xe<Z;++xe){var ve=I[U+2*xe+0],be=15&(Te=I[U+2*xe+1]),Ne=4369*be,Te=(240&Te|Te>>4)*Ne>>16;I[U+2*xe+0]=(240&ve|ve>>4)*Ne>>16&240|(15&ve|ve<<4)*Ne>>16>>4&15,I[U+2*xe+1]=240&Te|be}U+=he}}function pi(I,U,Z,se,he,xe,ve,be){var Ne,Te,Xe=255;for(Te=0;Te<he;++Te){for(Ne=0;Ne<se;++Ne){var ht=I[U+Ne];xe[ve+4*Ne]=ht,Xe&=ht}U+=Z,ve+=be}return Xe!=255}function Cd(I,U,Z,se,he){var xe;for(xe=0;xe<he;++xe)Z[se+xe]=I[U+xe]>>8}function Zl(){Oh=Ra,dy=xa,Xm=pi,uy=Cd}function Ed(I,U,Z){_[I]=function(se,he,xe,ve,be,Ne,Te,Xe,ht,Me,rt,ot,kt,At,Nt,Ct,Pt){var Dt,Mr=Pt-1>>1,yr=be[Ne+0]|Te[Xe+0]<<16,ns=ht[Me+0]|rt[ot+0]<<16;e(se!=null);var Sr=3*yr+ns+131074>>2;for(U(se[he+0],255&Sr,Sr>>16,kt,At),xe!=null&&(Sr=3*ns+yr+131074>>2,U(xe[ve+0],255&Sr,Sr>>16,Nt,Ct)),Dt=1;Dt<=Mr;++Dt){var Ss=be[Ne+Dt]|Te[Xe+Dt]<<16,ua=ht[Me+Dt]|rt[ot+Dt]<<16,os=yr+Ss+ns+ua+524296,br=os+2*(Ss+ns)>>3;Sr=br+yr>>1,yr=(os=os+2*(yr+ua)>>3)+Ss>>1,U(se[he+2*Dt-1],255&Sr,Sr>>16,kt,At+(2*Dt-1)*Z),U(se[he+2*Dt-0],255&yr,yr>>16,kt,At+(2*Dt-0)*Z),xe!=null&&(Sr=os+ns>>1,yr=br+ua>>1,U(xe[ve+2*Dt-1],255&Sr,Sr>>16,Nt,Ct+(2*Dt-1)*Z),U(xe[ve+2*Dt+0],255&yr,yr>>16,Nt,Ct+(2*Dt+0)*Z)),yr=Ss,ns=ua}1&Pt||(Sr=3*yr+ns+131074>>2,U(se[he+Pt-1],255&Sr,Sr>>16,kt,At+(Pt-1)*Z),xe!=null&&(Sr=3*ns+yr+131074>>2,U(xe[ve+Pt-1],255&Sr,Sr>>16,Nt,Ct+(Pt-1)*Z)))}}function kh(){jo[px]=__,jo[Bu]=Tu,jo[c2]=C_,jo[Ym]=g0,jo[Jm]=zh,jo[xn]=sp,jo[Ax]=yy,jo[p0]=Tu,jo[Uh]=g0,jo[Zm]=zh,jo[ep]=sp}function o0(I){return I&-16384?0>I?0:255:I>>Mu}function wu(I,U){return o0((19077*I>>8)+(26149*U>>8)-14234)}function Bh(I,U,Z){return o0((19077*I>>8)-(6419*U>>8)-(13320*Z>>8)+8708)}function ju(I,U){return o0((19077*I>>8)+(33050*U>>8)-17685)}function Nu(I,U,Z,se,he){se[he+0]=wu(I,Z),se[he+1]=Bh(I,U,Z),se[he+2]=ju(I,U)}function Ai(I,U,Z,se,he){se[he+0]=ju(I,U),se[he+1]=Bh(I,U,Z),se[he+2]=wu(I,Z)}function Th(I,U,Z,se,he){var xe=Bh(I,U,Z);U=xe<<3&224|ju(I,U)>>3,se[he+0]=248&wu(I,Z)|xe>>5,se[he+1]=U}function Mh(I,U,Z,se,he){var xe=240&ju(I,U)|15;se[he+0]=240&wu(I,Z)|Bh(I,U,Z)>>4,se[he+1]=xe}function Vm(I,U,Z,se,he){se[he+0]=255,Nu(I,U,Z,se,he+1)}function Wm(I,U,Z,se,he){Ai(I,U,Z,se,he),se[he+3]=255}function to(I,U,Z,se,he){Nu(I,U,Z,se,he),se[he+3]=255}function ec(I,U,Z){_[I]=function(se,he,xe,ve,be,Ne,Te,Xe,ht){for(var Me=Xe+(-2&ht)*Z;Xe!=Me;)U(se[he+0],xe[ve+0],be[Ne+0],Te,Xe),U(se[he+1],xe[ve+0],be[Ne+0],Te,Xe+Z),he+=2,++ve,++Ne,Xe+=2*Z;1&ht&&U(se[he+0],xe[ve+0],be[Ne+0],Te,Xe)}}function Ic(I,U,Z){return Z==0?I==0?U==0?6:5:U==0?4:0:Z}function hx(I,U,Z,se,he){switch(I>>>30){case 3:Lh(U,Z,se,he,0);break;case 2:ca(U,Z,se,he);break;case 1:Os(U,Z,se,he)}}function tl(I,U){var Z,se,he=U.M,xe=U.Nb,ve=I.oc,be=I.pc+40,Ne=I.oc,Te=I.pc+584,Xe=I.oc,ht=I.pc+600;for(Z=0;16>Z;++Z)ve[be+32*Z-1]=129;for(Z=0;8>Z;++Z)Ne[Te+32*Z-1]=129,Xe[ht+32*Z-1]=129;for(0<he?ve[be-1-32]=Ne[Te-1-32]=Xe[ht-1-32]=129:(a(ve,be-32-1,127,21),a(Ne,Te-32-1,127,9),a(Xe,ht-32-1,127,9)),se=0;se<I.za;++se){var Me=U.ya[U.aa+se];if(0<se){for(Z=-1;16>Z;++Z)n(ve,be+32*Z-4,ve,be+32*Z+12,4);for(Z=-1;8>Z;++Z)n(Ne,Te+32*Z-4,Ne,Te+32*Z+4,4),n(Xe,ht+32*Z-4,Xe,ht+32*Z+4,4)}var rt=I.Gd,ot=I.Hd+se,kt=Me.ad,At=Me.Hc;if(0<he&&(n(ve,be-32,rt[ot].y,0,16),n(Ne,Te-32,rt[ot].f,0,8),n(Xe,ht-32,rt[ot].ea,0,8)),Me.Za){var Nt=ve,Ct=be-32+16;for(0<he&&(se>=I.za-1?a(Nt,Ct,rt[ot].y[15],4):n(Nt,Ct,rt[ot+1].y,0,4)),Z=0;4>Z;Z++)Nt[Ct+128+Z]=Nt[Ct+256+Z]=Nt[Ct+384+Z]=Nt[Ct+0+Z];for(Z=0;16>Z;++Z,At<<=2)Nt=ve,Ct=be+by[Z],Sl[Me.Ob[Z]](Nt,Ct),hx(At,kt,16*+Z,Nt,Ct)}else if(Nt=Ic(se,he,Me.Ob[0]),so[Nt](ve,be),At!=0)for(Z=0;16>Z;++Z,At<<=2)hx(At,kt,16*+Z,ve,be+by[Z]);for(Z=Me.Gc,Nt=Ic(se,he,Me.Dd),wo[Nt](Ne,Te),wo[Nt](Xe,ht),At=kt,Nt=Ne,Ct=Te,255&(Me=0|Z)&&(170&Me?bo(At,256,Nt,Ct):ln(At,256,Nt,Ct)),Me=Xe,At=ht,255&(Z>>=8)&&(170&Z?bo(kt,320,Me,At):ln(kt,320,Me,At)),he<I.Ub-1&&(n(rt[ot].y,0,ve,be+480,16),n(rt[ot].f,0,Ne,Te+224,8),n(rt[ot].ea,0,Xe,ht+224,8)),Z=8*xe*I.B,rt=I.sa,ot=I.ta+16*se+16*xe*I.R,kt=I.qa,Me=I.ra+8*se+Z,At=I.Ha,Nt=I.Ia+8*se+Z,Z=0;16>Z;++Z)n(rt,ot+Z*I.R,ve,be+32*Z,16);for(Z=0;8>Z;++Z)n(kt,Me+Z*I.B,Ne,Te+32*Z,8),n(At,Nt+Z*I.B,Xe,ht+32*Z,8)}}function Su(I,U,Z,se,he,xe,ve,be,Ne){var Te=[0],Xe=[0],ht=0,Me=Ne!=null?Ne.kd:0,rt=Ne??new Qt;if(I==null||12>Z)return 7;rt.data=I,rt.w=U,rt.ha=Z,U=[U],Z=[Z],rt.gb=[rt.gb];e:{var ot=U,kt=Z,At=rt.gb;if(e(I!=null),e(kt!=null),e(At!=null),At[0]=0,12<=kt[0]&&!r(I,ot[0],"RIFF")){if(r(I,ot[0]+8,"WEBP")){At=3;break e}var Nt=ne(I,ot[0]+4);if(12>Nt||4294967286<Nt){At=3;break e}if(Me&&Nt>kt[0]-8){At=7;break e}At[0]=Nt,ot[0]+=12,kt[0]-=12}At=0}if(At!=0)return At;for(Nt=0<rt.gb[0],Z=Z[0];;){e:{var Ct=I;kt=U,At=Z;var Pt=Te,Dt=Xe,Mr=ot=[0];if((Sr=ht=[ht])[0]=0,8>At[0])At=7;else{if(!r(Ct,kt[0],"VP8X")){if(ne(Ct,kt[0]+4)!=10){At=3;break e}if(18>At[0]){At=7;break e}var yr=ne(Ct,kt[0]+8),ns=1+lt(Ct,kt[0]+12);if(2147483648<=ns*(Ct=1+lt(Ct,kt[0]+15))){At=3;break e}Mr!=null&&(Mr[0]=yr),Pt!=null&&(Pt[0]=ns),Dt!=null&&(Dt[0]=Ct),kt[0]+=18,At[0]-=18,Sr[0]=1}At=0}}if(ht=ht[0],ot=ot[0],At!=0)return At;if(kt=!!(2&ot),!Nt&&ht)return 3;if(xe!=null&&(xe[0]=!!(16&ot)),ve!=null&&(ve[0]=kt),be!=null&&(be[0]=0),ve=Te[0],ot=Xe[0],ht&&kt&&Ne==null){At=0;break}if(4>Z){At=7;break}if(Nt&&ht||!Nt&&!ht&&!r(I,U[0],"ALPH")){Z=[Z],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];e:{yr=I,At=U,Nt=Z;var Sr=rt.gb;Pt=rt.na,Dt=rt.P,Mr=rt.Sa,ns=22,e(yr!=null),e(Nt!=null),Ct=At[0];var Ss=Nt[0];for(e(Pt!=null),e(Mr!=null),Pt[0]=null,Dt[0]=null,Mr[0]=0;;){if(At[0]=Ct,Nt[0]=Ss,8>Ss){At=7;break e}var ua=ne(yr,Ct+4);if(4294967286<ua){At=3;break e}var os=8+ua+1&-2;if(ns+=os,0<Sr&&ns>Sr){At=3;break e}if(!r(yr,Ct,"VP8 ")||!r(yr,Ct,"VP8L")){At=0;break e}if(Ss[0]<os){At=7;break e}r(yr,Ct,"ALPH")||(Pt[0]=yr,Dt[0]=Ct+8,Mr[0]=ua),Ct+=os,Ss-=os}}if(Z=Z[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],At!=0)break}Z=[Z],rt.Ja=[rt.Ja],rt.xa=[rt.xa];e:if(Sr=I,At=U,Nt=Z,Pt=rt.gb[0],Dt=rt.Ja,Mr=rt.xa,yr=At[0],Ct=!r(Sr,yr,"VP8 "),ns=!r(Sr,yr,"VP8L"),e(Sr!=null),e(Nt!=null),e(Dt!=null),e(Mr!=null),8>Nt[0])At=7;else{if(Ct||ns){if(Sr=ne(Sr,yr+4),12<=Pt&&Sr>Pt-12){At=3;break e}if(Me&&Sr>Nt[0]-8){At=7;break e}Dt[0]=Sr,At[0]+=8,Nt[0]-=8,Mr[0]=ns}else Mr[0]=5<=Nt[0]&&Sr[yr+0]==47&&!(Sr[yr+4]>>5),Dt[0]=Nt[0];At=0}if(Z=Z[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],U=U[0],At!=0)break;if(4294967286<rt.Ja)return 3;if(be==null||kt||(be[0]=rt.xa?2:1),ve=[ve],ot=[ot],rt.xa){if(5>Z){At=7;break}be=ve,Me=ot,kt=xe,I==null||5>Z?I=0:5<=Z&&I[U+0]==47&&!(I[U+4]>>5)?(Nt=[0],Sr=[0],Pt=[0],ee(Dt=new G,I,U,Z),tn(Dt,Nt,Sr,Pt)?(be!=null&&(be[0]=Nt[0]),Me!=null&&(Me[0]=Sr[0]),kt!=null&&(kt[0]=Pt[0]),I=1):I=0):I=0}else{if(10>Z){At=7;break}be=ot,I==null||10>Z||!fs(I,U+3,Z-3)?I=0:(Me=I[U+0]|I[U+1]<<8|I[U+2]<<16,kt=16383&(I[U+7]<<8|I[U+6]),I=16383&(I[U+9]<<8|I[U+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=rt.Ja||!kt||!I?I=0:(ve&&(ve[0]=kt),be&&(be[0]=I),I=1))}if(!I||(ve=ve[0],ot=ot[0],ht&&(Te[0]!=ve||Xe[0]!=ot)))return 3;Ne!=null&&(Ne[0]=rt,Ne.offset=U-Ne.w,e(4294967286>U-Ne.w),e(Ne.offset==Ne.ha-Z));break}return At==0||At==7&&ht&&Ne==null?(xe!=null&&(xe[0]|=rt.na!=null&&0<rt.na.length),se!=null&&(se[0]=ve),he!=null&&(he[0]=ot),0):At}function l0(I,U,Z){var se=U.width,he=U.height,xe=0,ve=0,be=se,Ne=he;if(U.Da=I!=null&&0<I.Da,U.Da&&(be=I.cd,Ne=I.bd,xe=I.v,ve=I.j,11>Z||(xe&=-2,ve&=-2),0>xe||0>ve||0>=be||0>=Ne||xe+be>se||ve+Ne>he))return 0;if(U.v=xe,U.j=ve,U.va=xe+be,U.o=ve+Ne,U.U=be,U.T=Ne,U.da=I!=null&&0<I.da,U.da){if(!Oe(be,Ne,Z=[I.ib],xe=[I.hb]))return 0;U.ib=Z[0],U.hb=xe[0]}return U.ob=I!=null&&I.ob,U.Kb=I==null||!I.Sd,U.da&&(U.ob=U.ib<3*se/4&&U.hb<3*he/4,U.Kb=0),1}function c0(I){if(I==null)return 2;if(11>I.S){var U=I.f.RGBA;U.fb+=(I.height-1)*U.A,U.A=-U.A}else U=I.f.kb,I=I.height,U.O+=(I-1)*U.fa,U.fa=-U.fa,U.N+=(I-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(I-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(I-1)*U.lb,U.lb=-U.lb);return 0}function kd(I,U,Z,se){if(se==null||0>=I||0>=U)return 2;if(Z!=null){if(Z.Da){var he=Z.cd,xe=Z.bd,ve=-2&Z.v,be=-2&Z.j;if(0>ve||0>be||0>=he||0>=xe||ve+he>I||be+xe>U)return 2;I=he,U=xe}if(Z.da){if(!Oe(I,U,he=[Z.ib],xe=[Z.hb]))return 2;I=he[0],U=xe[0]}}se.width=I,se.height=U;e:{var Ne=se.width,Te=se.height;if(I=se.S,0>=Ne||0>=Te||!(I>=px&&13>I))I=2;else{if(0>=se.Rd&&se.sd==null){ve=xe=he=U=0;var Xe=(be=Ne*np[I])*Te;if(11>I||(xe=(Te+1)/2*(U=(Ne+1)/2),I==12&&(ve=(he=Ne)*Te)),(Te=i(Xe+2*xe+ve))==null){I=1;break e}se.sd=Te,11>I?((Ne=se.f.RGBA).eb=Te,Ne.fb=0,Ne.A=be,Ne.size=Xe):((Ne=se.f.kb).y=Te,Ne.O=0,Ne.fa=be,Ne.Fd=Xe,Ne.f=Te,Ne.N=0+Xe,Ne.Ab=U,Ne.Cd=xe,Ne.ea=Te,Ne.W=0+Xe+xe,Ne.Db=U,Ne.Ed=xe,I==12&&(Ne.F=Te,Ne.J=0+Xe+2*xe),Ne.Tc=ve,Ne.lb=he)}if(U=1,he=se.S,xe=se.width,ve=se.height,he>=px&&13>he)if(11>he)I=se.f.RGBA,U&=(be=Math.abs(I.A))*(ve-1)+xe<=I.size,U&=be>=xe*np[he],U&=I.eb!=null;else{I=se.f.kb,be=(xe+1)/2,Xe=(ve+1)/2,Ne=Math.abs(I.fa),Te=Math.abs(I.Ab);var ht=Math.abs(I.Db),Me=Math.abs(I.lb),rt=Me*(ve-1)+xe;U&=Ne*(ve-1)+xe<=I.Fd,U&=Te*(Xe-1)+be<=I.Cd,U=(U&=ht*(Xe-1)+be<=I.Ed)&Ne>=xe&Te>=be&ht>=be,U&=I.y!=null,U&=I.f!=null,U&=I.ea!=null,he==12&&(U&=Me>=xe,U&=rt<=I.Tc,U&=I.F!=null)}else U=0;I=U?0:2}}return I!=0||Z!=null&&Z.fd&&(I=c0(se)),I}var jl=64,rl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sl=24,_u=32,Dc=8,Bd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(I){return I},_.Predictor2=function(I,U,Z){return U[Z+0]},_.Predictor3=function(I,U,Z){return U[Z+1]},_.Predictor4=function(I,U,Z){return U[Z-1]},_.Predictor5=function(I,U,Z){return Se(Se(I,U[Z+1]),U[Z+0])},_.Predictor6=function(I,U,Z){return Se(I,U[Z-1])},_.Predictor7=function(I,U,Z){return Se(I,U[Z+0])},_.Predictor8=function(I,U,Z){return Se(U[Z-1],U[Z+0])},_.Predictor9=function(I,U,Z){return Se(U[Z+0],U[Z+1])},_.Predictor10=function(I,U,Z){return Se(Se(I,U[Z-1]),Se(U[Z+0],U[Z+1]))},_.Predictor11=function(I,U,Z){var se=U[Z+0];return 0>=tt(se>>24&255,I>>24&255,(U=U[Z-1])>>24&255)+tt(se>>16&255,I>>16&255,U>>16&255)+tt(se>>8&255,I>>8&255,U>>8&255)+tt(255&se,255&I,255&U)?se:I},_.Predictor12=function(I,U,Z){var se=U[Z+0];return(We((I>>24&255)+(se>>24&255)-((U=U[Z-1])>>24&255))<<24|We((I>>16&255)+(se>>16&255)-(U>>16&255))<<16|We((I>>8&255)+(se>>8&255)-(U>>8&255))<<8|We((255&I)+(255&se)-(255&U)))>>>0},_.Predictor13=function(I,U,Z){var se=U[Z-1];return(Je((I=Se(I,U[Z+0]))>>24&255,se>>24&255)<<24|Je(I>>16&255,se>>16&255)<<16|Je(I>>8&255,se>>8&255)<<8|Je(255&I,255&se))>>>0};var Td=_.PredictorAdd0;_.PredictorAdd1=Tt,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Lc=_.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var ga,Fh=_.ColorIndexInverseTransform,Rc=_.MapARGB,tc=_.VP8LColorIndexInverseTransformAlpha,Ph=_.MapAlpha,Ih=_.VP8LPredictorsAdd=[];Ih.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var d0,u0,Md,Cu,Eu,Dh,ku,Lh,ca,bo,Os,ln,da,Ea,rc,qm,h0,Fd,fx,f0,mx,cy,Km,Rh,Oh,dy,Xm,uy,hy=i(511),fy=i(2041),my=i(225),py=i(767),Ay=0,Oc=fy,m0=my,ro=py,Nl=hy,px=0,Bu=1,c2=2,Ym=3,Jm=4,xn=5,Ax=6,p0=7,Uh=8,Zm=9,ep=10,tp=[2,3,7],xx=[3,3,11],Hh=[280,256,256,256,40],d2=[0,1,1,1,0],w_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],j_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],u2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gx=8,A0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qh=null,xy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],f2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],N_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],S_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],so=[],Sl=[],wo=[],Uc=1,x0=2,Ri=[],jo=[];Ed("UpsampleRgbLinePair",Nu,3),Ed("UpsampleBgrLinePair",Ai,3),Ed("UpsampleRgbaLinePair",to,4),Ed("UpsampleBgraLinePair",Wm,4),Ed("UpsampleArgbLinePair",Vm,4),Ed("UpsampleRgba4444LinePair",Mh,2),Ed("UpsampleRgb565LinePair",Th,2);var __=_.UpsampleRgbLinePair,C_=_.UpsampleBgrLinePair,Tu=_.UpsampleRgbaLinePair,g0=_.UpsampleBgraLinePair,zh=_.UpsampleArgbLinePair,sp=_.UpsampleRgba4444LinePair,yy=_.UpsampleRgb565LinePair,Pd=16,sc=1<<Pd-1,rn=-227,cn=482,Mu=6,xi=0,No=i(256),$h=i(256),v0=i(256),So=i(256),vx=i(cn-rn),m2=i(cn-rn);ec("YuvToRgbRow",Nu,3),ec("YuvToBgrRow",Ai,3),ec("YuvToRgbaRow",to,4),ec("YuvToBgraRow",Wm,4),ec("YuvToArgbRow",Vm,4),ec("YuvToRgba4444Row",Mh,2),ec("YuvToRgb565Row",Th,2);var by=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gh=[0,2,8],p2=[8,7,6,4,4,2,2,2,1,1,1,1],Id=1;this.WebPDecodeRGBA=function(I,U,Z,se,he){var xe=Bu,ve=new Mt,be=new st;ve.ba=be,be.S=xe,be.width=[be.width],be.height=[be.height];var Ne=be.width,Te=be.height,Xe=new ct;if(Xe==null||I==null)var ht=2;else e(Xe!=null),ht=Su(I,U,Z,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(ht!=0?Ne=0:(Ne!=null&&(Ne[0]=Xe.width[0]),Te!=null&&(Te[0]=Xe.height[0]),Ne=1),Ne){be.width=be.width[0],be.height=be.height[0],se!=null&&(se[0]=be.width),he!=null&&(he[0]=be.height);e:{if(se=new hr,(he=new Qt).data=I,he.w=U,he.ha=Z,he.kd=1,U=[0],e(he!=null),((I=Su(he.data,he.w,he.ha,null,null,null,U,null,he))==0||I==7)&&U[0]&&(I=4),(U=I)==0){if(e(ve!=null),se.data=he.data,se.w=he.w+he.offset,se.ha=he.ha-he.offset,se.put=cr,se.ac=sr,se.bc=Ts,se.ma=ve,he.xa){if((I=dt())==null){ve=1;break e}if((function(Me,rt){var ot=[0],kt=[0],At=[0];t:for(;;){if(Me==null)return 0;if(rt==null)return Me.a=2,0;if(Me.l=rt,Me.a=0,ee(Me.m,rt.data,rt.w,rt.ha),!tn(Me.m,ot,kt,At)){Me.a=3;break t}if(Me.xb=x0,rt.width=ot[0],rt.height=kt[0],!ut(ot[0],kt[0],1,Me,null))break t;return 1}return e(Me.a!=0),0})(I,se)){if(se=(U=kd(se.width,se.height,ve.Oa,ve.ba))==0){t:{se=I;r:for(;;){if(se==null){se=0;break t}if(e(se.s.yc!=null),e(se.s.Ya!=null),e(0<se.s.Wb),e((Z=se.l)!=null),e((he=Z.ma)!=null),se.xb!=0){if(se.ca=he.ba,se.tb=he.tb,e(se.ca!=null),!l0(he.Oa,Z,Ym)){se.a=2;break r}if(!xt(se,Z.width)||Z.da)break r;if((Z.da||we(se.ca.S))&&Zl(),11>se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),se.ca.f.kb.F!=null&&Zl()),se.Pb&&0<se.s.ua&&se.s.vb.X==null&&!J(se.s.vb,se.s.Wa.Xa)){se.a=1;break r}se.xb=0}if(!it(se,se.V,se.Ba,se.c,se.i,Z.o,je))break r;he.Dc=se.Ma,se=1;break t}e(se.a!=0),se=0}se=!se}se&&(U=I.a)}else U=I.a}else{if((I=new Rr)==null){ve=1;break e}if(I.Fa=he.na,I.P=he.P,I.qc=he.Sa,Or(I,se)){if((U=kd(se.width,se.height,ve.Oa,ve.ba))==0){if(I.Aa=0,Z=ve.Oa,e((he=I)!=null),Z!=null){if(0<(Ne=0>(Ne=Z.Md)?0:100<Ne?255:255*Ne/100)){for(Te=Xe=0;4>Te;++Te)12>(ht=he.pb[Te]).lc&&(ht.ia=Ne*p2[0>ht.lc?0:ht.lc]>>3),Xe|=ht.ia;Xe&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=Z.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(Me,rt){if(Me==null)return 0;if(rt==null)return nr(Me,2,"NULL VP8Io parameter in VP8Decode().");if(!Me.cb&&!Or(Me,rt))return 0;if(e(Me.cb),rt.ac==null||rt.ac(rt)){rt.ob&&(Me.L=0);var ot=Gh[Me.L];if(Me.L==2?(Me.yb=0,Me.zb=0):(Me.yb=rt.v-ot>>4,Me.zb=rt.j-ot>>4,0>Me.yb&&(Me.yb=0),0>Me.zb&&(Me.zb=0)),Me.Va=rt.o+15+ot>>4,Me.Hb=rt.va+15+ot>>4,Me.Hb>Me.za&&(Me.Hb=Me.za),Me.Va>Me.Ub&&(Me.Va=Me.Ub),0<Me.L){var kt=Me.ed;for(ot=0;4>ot;++ot){var At;if(Me.Qa.Cb){var Nt=Me.Qa.Lb[ot];Me.Qa.Fb||(Nt+=kt.Tb)}else Nt=kt.Tb;for(At=0;1>=At;++At){var Ct=Me.gd[ot][At],Pt=Nt;if(kt.Pc&&(Pt+=kt.vd[0],At&&(Pt+=kt.od[0])),0<(Pt=0>Pt?0:63<Pt?63:Pt)){var Dt=Pt;0<kt.wb&&(Dt=4<kt.wb?Dt>>2:Dt>>1)>9-kt.wb&&(Dt=9-kt.wb),1>Dt&&(Dt=1),Ct.dd=Dt,Ct.tc=2*Pt+Dt,Ct.ld=40<=Pt?2:15<=Pt?1:0}else Ct.tc=0;Ct.La=At}}}ot=0}else nr(Me,6,"Frame setup failed"),ot=Me.a;if(ot=ot==0){if(ot){Me.$c=0,0<Me.Aa||(Me.Ic=Id);t:{ot=Me.Ic,kt=4*(Dt=Me.za);var Mr=32*Dt,yr=Dt+1,ns=0<Me.L?Dt*(0<Me.Aa?2:1):0,Sr=(Me.Aa==2?2:1)*Dt;if((Ct=kt+832+(At=3*(16*ot+Gh[Me.L])/2*Mr)+(Nt=Me.Fa!=null&&0<Me.Fa.length?Me.Kc.c*Me.Kc.i:0))!=Ct)ot=0;else{if(Ct>Me.Vb){if(Me.Vb=0,Me.Ec=i(Ct),Me.Fc=0,Me.Ec==null){ot=nr(Me,1,"no memory during frame initialization.");break t}Me.Vb=Ct}Ct=Me.Ec,Pt=Me.Fc,Me.Ac=Ct,Me.Bc=Pt,Pt+=kt,Me.Gd=o(Mr,Ot),Me.Hd=0,Me.rb=o(yr+1,Zt),Me.sb=1,Me.wa=ns?o(ns,zt):null,Me.Y=0,Me.D.Nb=0,Me.D.wa=Me.wa,Me.D.Y=Me.Y,0<Me.Aa&&(Me.D.Y+=Dt),e(!0),Me.oc=Ct,Me.pc=Pt,Pt+=832,Me.ya=o(Sr,_e),Me.aa=0,Me.D.ya=Me.ya,Me.D.aa=Me.aa,Me.Aa==2&&(Me.D.aa+=Dt),Me.R=16*Dt,Me.B=8*Dt,Dt=(Mr=Gh[Me.L])*Me.R,Mr=Mr/2*Me.B,Me.sa=Ct,Me.ta=Pt+Dt,Me.qa=Me.sa,Me.ra=Me.ta+16*ot*Me.R+Mr,Me.Ha=Me.qa,Me.Ia=Me.ra+8*ot*Me.B+Mr,Me.$c=0,Pt+=At,Me.mb=Nt?Ct:null,Me.nb=Nt?Pt:null,e(Pt+Nt<=Me.Fc+Me.Vb),_a(Me),a(Me.Ac,Me.Bc,0,kt),ot=1}}if(ot){if(rt.ka=0,rt.y=Me.sa,rt.O=Me.ta,rt.f=Me.qa,rt.N=Me.ra,rt.ea=Me.Ha,rt.Vd=Me.Ia,rt.fa=Me.R,rt.Rc=Me.B,rt.F=null,rt.J=0,!Ay){for(ot=-255;255>=ot;++ot)hy[255+ot]=0>ot?-ot:ot;for(ot=-1020;1020>=ot;++ot)fy[1020+ot]=-128>ot?-128:127<ot?127:ot;for(ot=-112;112>=ot;++ot)my[112+ot]=-16>ot?-16:15<ot?15:ot;for(ot=-255;510>=ot;++ot)py[255+ot]=0>ot?0:255<ot?255:ot;Ay=1}ku=wh,Lh=Zn,bo=Pn,Os=Tc,ln=ms,ca=ti,da=Li,Ea=wl,rc=fe,qm=Ie,h0=i0,Fd=q,fx=Ke,f0=at,mx=_d,cy=bu,Km=Gm,Rh=Eh,Sl[0]=dx,Sl[1]=Hm,Sl[2]=Fc,Sl[3]=ly,Sl[4]=el,Sl[5]=ux,Sl[6]=Sd,Sl[7]=s0,Sl[8]=Qm,Sl[9]=Nh,so[0]=Mc,so[1]=cx,so[2]=t0,so[3]=r0,so[4]=vo,so[5]=gl,so[6]=jh,wo[0]=n0,wo[1]=lx,wo[2]=Jl,wo[3]=Sh,wo[4]=$m,wo[5]=zm,wo[6]=a0,ot=1}else ot=0}ot&&(ot=(function(Ss,ua){for(Ss.M=0;Ss.M<Ss.Va;++Ss.M){var os,br=Ss.Jc[Ss.M&Ss.Xb],or=Ss.m,va=Ss;for(os=0;os<va.za;++os){var Ur=or,ws=va,dn=ws.Ac,ha=ws.Bc+4*os,gi=ws.zc,Hn=ws.ya[ws.aa+os];if(ws.Qa.Bb?Hn.$b=ye(Ur,ws.Pa.jb[0])?2+ye(Ur,ws.Pa.jb[2]):ye(Ur,ws.Pa.jb[1]):Hn.$b=0,ws.kc&&(Hn.Ad=ye(Ur,ws.Bd)),Hn.Za=!ye(Ur,145)+0,Hn.Za){var ri=Hn.Ob,vi=0;for(ws=0;4>ws;++ws){var Qn,ss=gi[0+ws];for(Qn=0;4>Qn;++Qn){ss=N_[dn[ha+Qn]][ss];for(var Cs=h2[ye(Ur,ss[0])];0<Cs;)Cs=h2[2*Cs+ye(Ur,ss[Cs])];ss=-Cs,dn[ha+Qn]=ss}n(ri,vi,dn,ha,4),vi+=4,gi[0+ws]=ss}}else ss=ye(Ur,156)?ye(Ur,128)?1:3:ye(Ur,163)?2:0,Hn.Ob[0]=ss,a(dn,ha,ss,4),a(gi,0,ss,4);Hn.Dd=ye(Ur,142)?ye(Ur,114)?ye(Ur,183)?1:3:2:0}if(va.m.Ka)return nr(Ss,7,"Premature end-of-partition0 encountered.");for(;Ss.ja<Ss.za;++Ss.ja){if(va=br,Ur=(or=Ss).rb[or.sb-1],dn=or.rb[or.sb+or.ja],os=or.ya[or.aa+or.ja],ha=or.kc?os.Ad:0)Ur.la=dn.la=0,os.Za||(Ur.Na=dn.Na=0),os.Hc=0,os.Gc=0,os.ia=0;else{var zn,Ws;if(Ur=dn,dn=va,ha=or.Pa.Xc,gi=or.ya[or.aa+or.ja],Hn=or.pb[gi.$b],ws=gi.ad,ri=0,vi=or.rb[or.sb-1],ss=Qn=0,a(ws,ri,0,384),gi.Za)var In=0,si=ha[3];else{Cs=i(16);var ta=Ur.Na+vi.Na;if(ta=Qh(dn,ha[1],ta,Hn.Eb,0,Cs,0),Ur.Na=vi.Na=(0<ta)+0,1<ta)ku(Cs,0,ws,ri);else{var no=Cs[0]+3>>3;for(Cs=0;256>Cs;Cs+=16)ws[ri+Cs]=no}In=1,si=ha[0]}var Es=15&Ur.la,_n=15&vi.la;for(Cs=0;4>Cs;++Cs){var Oi=1&_n;for(no=Ws=0;4>no;++no)Es=Es>>1|(Oi=(ta=Qh(dn,si,ta=Oi+(1&Es),Hn.Sc,In,ws,ri))>In)<<7,Ws=Ws<<2|(3<ta?3:1<ta?2:ws[ri+0]!=0),ri+=16;Es>>=4,_n=_n>>1|Oi<<7,Qn=(Qn<<8|Ws)>>>0}for(si=Es,In=_n>>4,zn=0;4>zn;zn+=2){for(Ws=0,Es=Ur.la>>4+zn,_n=vi.la>>4+zn,Cs=0;2>Cs;++Cs){for(Oi=1&_n,no=0;2>no;++no)ta=Oi+(1&Es),Es=Es>>1|(Oi=0<(ta=Qh(dn,ha[2],ta,Hn.Qc,0,ws,ri)))<<3,Ws=Ws<<2|(3<ta?3:1<ta?2:ws[ri+0]!=0),ri+=16;Es>>=2,_n=_n>>1|Oi<<5}ss|=Ws<<4*zn,si|=Es<<4<<zn,In|=(240&_n)<<zn}Ur.la=si,vi.la=In,gi.Hc=Qn,gi.Gc=ss,gi.ia=43690&ss?0:Hn.ia,ha=!(Qn|ss)}if(0<or.L&&(or.wa[or.Y+or.ja]=or.gd[os.$b][os.Za],or.wa[or.Y+or.ja].La|=!ha),va.Ka)return nr(Ss,7,"Premature end-of-file encountered.")}if(_a(Ss),or=ua,va=1,os=(br=Ss).D,Ur=0<br.L&&br.M>=br.zb&&br.M<=br.Va,br.Aa==0)t:{if(os.M=br.M,os.uc=Ur,tl(br,os),va=1,os=(Ws=br.D).Nb,Ur=(ss=Gh[br.L])*br.R,dn=ss/2*br.B,Cs=16*os*br.R,no=8*os*br.B,ha=br.sa,gi=br.ta-Ur+Cs,Hn=br.qa,ws=br.ra-dn+no,ri=br.Ha,vi=br.Ia-dn+no,_n=(Es=Ws.M)==0,Qn=Es>=br.Va-1,br.Aa==2&&tl(br,Ws),Ws.uc)for(Oi=(ta=br).D.M,e(ta.D.uc),Ws=ta.yb;Ws<ta.Hb;++Ws){In=Ws,si=Oi;var Ui=(Hi=(ya=ta).D).Nb;zn=ya.R;var Hi=Hi.wa[Hi.Y+In],_o=ya.sa,ao=ya.ta+16*Ui*zn+16*In,io=Hi.dd,sn=Hi.tc;if(sn!=0)if(e(3<=sn),ya.L==1)0<In&&cy(_o,ao,zn,sn+4),Hi.La&&Rh(_o,ao,zn,sn),0<si&&mx(_o,ao,zn,sn+4),Hi.La&&Km(_o,ao,zn,sn);else{var Co=ya.B,_l=ya.qa,Fu=ya.ra+8*Ui*Co+8*In,nc=ya.Ha,ya=ya.Ia+8*Ui*Co+8*In;Ui=Hi.ld,0<In&&(Ea(_o,ao,zn,sn+4,io,Ui),qm(_l,Fu,nc,ya,Co,sn+4,io,Ui)),Hi.La&&(Fd(_o,ao,zn,sn,io,Ui),f0(_l,Fu,nc,ya,Co,sn,io,Ui)),0<si&&(da(_o,ao,zn,sn+4,io,Ui),rc(_l,Fu,nc,ya,Co,sn+4,io,Ui)),Hi.La&&(h0(_o,ao,zn,sn,io,Ui),fx(_l,Fu,nc,ya,Co,sn,io,Ui))}}if(br.ia&&alert("todo:DitherRow"),or.put!=null){if(Ws=16*Es,Es=16*(Es+1),_n?(or.y=br.sa,or.O=br.ta+Cs,or.f=br.qa,or.N=br.ra+no,or.ea=br.Ha,or.W=br.Ia+no):(Ws-=ss,or.y=ha,or.O=gi,or.f=Hn,or.N=ws,or.ea=ri,or.W=vi),Qn||(Es-=ss),Es>or.o&&(Es=or.o),or.F=null,or.J=null,br.Fa!=null&&0<br.Fa.length&&Ws<Es&&(or.J=Sn(br,or,Ws,Es-Ws),or.F=br.mb,or.F==null&&or.F.length==0)){va=nr(br,3,"Could not decode alpha data.");break t}Ws<or.j&&(ss=or.j-Ws,Ws=or.j,e(!(1&ss)),or.O+=br.R*ss,or.N+=br.B*(ss>>1),or.W+=br.B*(ss>>1),or.F!=null&&(or.J+=or.width*ss)),Ws<Es&&(or.O+=or.v,or.N+=or.v>>1,or.W+=or.v>>1,or.F!=null&&(or.J+=or.v),or.ka=Ws-or.j,or.U=or.va-or.v,or.T=Es-Ws,va=or.put(or))}os+1!=br.Ic||Qn||(n(br.sa,br.ta-Ur,ha,gi+16*br.R,Ur),n(br.qa,br.ra-dn,Hn,ws+8*br.B,dn),n(br.Ha,br.Ia-dn,ri,vi+8*br.B,dn))}if(!va)return nr(Ss,6,"Output aborted.")}return 1})(Me,rt)),rt.bc!=null&&rt.bc(rt),ot&=1}return ot?(Me.cb=0,ot):0})(I,se)||(U=I.a)}}else U=I.a}U==0&&ve.Oa!=null&&ve.Oa.fd&&(U=c0(ve.ba))}ve=U}xe=ve!=0?null:11>xe?be.f.RGBA.eb:be.f.kb.y}else xe=null;return xe};var np=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,B){for(var k="",M=0;M<4;M++)k+=String.fromCharCode(_[B++]);return k}function u(_,B){return _[B+0]|_[B+1]<<8}function h(_,B){return(_[B+0]|_[B+1]<<8|_[B+2]<<16)>>>0}function m(_,B){return(_[B+0]|_[B+1]<<8|_[B+2]<<16|_[B+3]<<24)>>>0}new c;var f=[0],A=[0],g=[],x=new c,v=t,j=(function(_,B){var k={},M=0,T=!1,H=0,L=0;if(k.frames=[],!(function(D,G){for(var z=0;z<4;z++)if(D[G+z]!="RIFF".charCodeAt(z))return!0;return!1})(_,B)){for(m(_,B+=4),B+=8;B<_.length;){var Q=d(_,B),O=m(_,B+=4);B+=4;var V=O+(1&O);switch(Q){case"VP8 ":case"VP8L":k.frames[M]===void 0&&(k.frames[M]={}),(re=k.frames[M]).src_off=T?L:B-8,re.src_size=H+O+8,M++,T&&(T=!1,H=0,L=0);break;case"VP8X":(re=k.header={}).feature_flags=_[B];var ee=B+4;re.canvas_width=1+h(_,ee),ee+=3,re.canvas_height=1+h(_,ee),ee+=3;break;case"ALPH":T=!0,H=V+8,L=B-8;break;case"ANIM":(re=k.header).bgcolor=m(_,B),ee=B+4,re.loop_count=u(_,ee),ee+=2;break;case"ANMF":var Y,re;(re=k.frames[M]={}).offset_x=2*h(_,B),B+=3,re.offset_y=2*h(_,B),B+=3,re.width=1+h(_,B),B+=3,re.height=1+h(_,B),B+=3,re.duration=h(_,B),B+=3,Y=_[B++],re.dispose=1&Y,re.blend=Y>>1&1}Q!="ANMF"&&(B+=V)}return k}})(v,0);j.response=v,j.rgbaoutput=!0,j.dataurl=!1;var b=j.header?j.header:null,S=j.frames?j.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],A=[b.canvas_width];for(var w=0;w<S.length&&S[w].blend!=0;w++);}var N=S[0],E=x.WebPDecodeRGBA(v,N.src_off,N.src_size,A,f);N.rgba=E,N.imgwidth=A[0],N.imgheight=f[0];for(var P=0;P<A[0]*f[0]*4;P++)g[P]=E[P];return this.width=A,this.height=f,this.data=g,this}(function(t){var e,r,n,a,i,o,l,c,d,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=D;Object.defineProperty(this,"pdf",{get:function(){return G}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(J){z=!!J}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(J){K=!!J}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(J){isNaN(J)||(oe=J)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(J){isNaN(J)||(ue=J)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(J){var ie;typeof J=="number"?ie=[J,J,J,J]:((ie=new Array(4))[0]=J[0],ie[1]=J.length>=2?J[1]:ie[0],ie[2]=J.length>=3?J[2]:ie[0],ie[3]=J.length>=4?J[3]:ie[1]),d.margin=ie}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(J){ge=J}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(J){pe=J}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(J){ye=J}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(J){J instanceof u&&(d=J)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(J){d.path=J}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var ie;ie=m(J),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var ie=m(J);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var le=null,lt=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(J){le=null,lt=null,ne=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var ie;if(this.ctx.font=J,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ce=ie[1];ie[2];var Oe=ie[3],Re=ie[4];ie[5];var ze=ie[6],ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(ce==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var ae=(function(et){var It,Lt,Gt=[],Rt=et.trim();if(Rt==="")return gB;if(Rt in KG)return[KG[Rt]];for(;Rt!=="";){switch(Lt=null,It=(Rt=YG(Rt)).charAt(0)){case'"':case"'":Lt=YFe(Rt.substring(1),It);break;default:Lt=JFe(Rt)}if(Lt===null||(Gt.push(Lt[0]),(Rt=YG(Lt[1]))!==""&&Rt.charAt(0)!==","))return gB;Rt=Rt.replace(/^,/,"")}return Gt})(ze);if(this.fontFaces){var Se=(function(et,It){var Lt=et.getFontList(),Gt=JSON.stringify(Lt);if(le===null||lt!==Gt){var Rt=(function(mr){var Ht=[];return Object.keys(mr).forEach(function(Ge){mr[Ge].forEach(function(we){var Ze=null;switch(we){case"bold":Ze={family:Ge,weight:"bold"};break;case"italic":Ze={family:Ge,style:"italic"};break;case"bolditalic":Ze={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Ge}}Ze!==null&&(Ze.ref={name:Ge,style:we},Ht.push(Ze))})}),Ht})(Lt);le=(function(mr){for(var Ht={},Ge=0;Ge<mr.length;++Ge){var we=xB(mr[Ge]),Ze=we.family,qe=we.stretch,st=we.style,ct=we.weight;Ht[Ze]=Ht[Ze]||{},Ht[Ze][qe]=Ht[Ze][qe]||{},Ht[Ze][qe][st]=Ht[Ze][qe][st]||{},Ht[Ze][qe][st][ct]=we}return Ht})(Rt.concat(It)),lt=Gt}return le})(this.pdf,this.fontFaces),We=ae.map(function(et){return{family:et,stretch:"normal",weight:Oe,style:Ce}}),Je=(function(et,It,Lt){for(var Gt=(Lt=Lt||{}).defaultFontFamily||"times",Rt=Object.assign({},XFe,Lt.genericFontFamilies||{}),mr=null,Ht=null,Ge=0;Ge<It.length;++Ge)if(Rt[(mr=xB(It[Ge])).family]&&(mr.family=Rt[mr.family]),et.hasOwnProperty(mr.family)){Ht=et[mr.family];break}if(!(Ht=Ht||et[Gt]))throw new Error("Could not find a font-family for the rule '"+XG(mr)+"' and default family '"+Gt+"'.");if(Ht=(function(we,Ze){if(Ze[we])return Ze[we];var qe=rP[we],st=qe<=rP.normal?-1:1,ct=qG(Ze,Ute,qe,st);if(!ct)throw new Error("Could not find a matching font-stretch value for "+we);return ct})(mr.stretch,Ht),Ht=(function(we,Ze){if(Ze[we])return Ze[we];for(var qe=Ote[we],st=0;st<qe.length;++st)if(Ze[qe[st]])return Ze[qe[st]];throw new Error("Could not find a matching font-style for "+we)})(mr.style,Ht),!(Ht=(function(we,Ze){if(Ze[we])return Ze[we];if(we===400&&Ze[500])return Ze[500];if(we===500&&Ze[400])return Ze[400];var qe=KFe[we],st=qG(Ze,Hte,qe,we<400?-1:1);if(!st)throw new Error("Could not find a matching font-weight for value "+we);return st})(mr.weight,Ht)))throw new Error("Failed to resolve a font for the rule '"+XG(mr)+"'.");return Ht})(Se,We);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var tt="";(Oe==="bold"||parseInt(Oe,10)>=700||Ce==="bold")&&(tt="bold"),Ce==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var Tt="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<ae.length;vt++){if(this.pdf.internal.getFont(ae[vt],tt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=ae[vt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(ae[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=ae[vt],tt="bold";else if(this.pdf.internal.getFont(ae[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=ae[vt],tt="normal";break}}if(Tt===""){for(var _t=0;_t<ae.length;_t++)if(ft[ae[_t]]){Tt=ft[ae[_t]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,G){if(isNaN(D)||isNaN(G))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(D,G)},h.prototype.closePath=function(){var D=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&bn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){D=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,G){if(isNaN(D)||isNaN(G))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,G,z,K){if(isNaN(z)||isNaN(K)||isNaN(D)||isNaN(G))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(z,K)),ue=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},h.prototype.bezierCurveTo=function(D,G,z,K,oe,ue){if(isNaN(oe)||isNaN(ue)||isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(oe,ue)),pe=this.ctx.transform.applyToPoint(new o(D,G)),ye=this.ctx.transform.applyToPoint(new o(z,K));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:ye.x,y2:ye.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.arc=function(D,G,z,K,oe,ue){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K)||isNaN(oe))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(D,G));D=ge.x,G=ge.y;var pe=this.ctx.transform.applyToPoint(new o(0,z)),ye=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(pe.x-ye.x,2)+Math.pow(pe.y-ye.y,2))}Math.abs(oe-K)>=2*Math.PI&&(K=0,oe=2*Math.PI),this.path.push({type:"arc",x:D,y:G,radius:z,startAngle:K,endAngle:oe,counterclockwise:ue})},h.prototype.arcTo=function(D,G,z,K,oe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,G,z,K){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,G),this.lineTo(D+z,G),this.lineTo(D+z,G+K),this.lineTo(D,G+K),this.lineTo(D,G),this.lineTo(D+z,G),this.lineTo(D,G)},h.prototype.fillRect=function(D,G,z,K){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,G,z,K),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},h.prototype.strokeRect=function(D,G,z,K){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(D,G,z,K),this.stroke())},h.prototype.clearRect=function(D,G,z,K){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,G,z,K))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var G,z,K,oe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))G=0,z=0,K=0,oe=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ue!==null)G=parseInt(ue[1]),z=parseInt(ue[2]),K=parseInt(ue[3]),oe=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)G=parseInt(ue[1]),z=parseInt(ue[2]),K=parseInt(ue[3]),oe=parseFloat(ue[4]);else{if(oe=1,typeof D=="string"&&D.charAt(0)!=="#"){var ge=new Mte(D);D=ge.ok?ge.toHex():"#000000"}D.length===4?(G=D.substring(1,2),G+=G,z=D.substring(2,3),z+=z,K=D.substring(3,4),K+=K):(G=D.substring(1,3),z=D.substring(3,5),K=D.substring(5,7)),G=parseInt(G,16),z=parseInt(z,16),K=parseInt(K,16)}}return{r:G,g:z,b:K,a:oe,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,G,z,K){if(isNaN(G)||isNaN(z)||typeof D!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var oe=V(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:D,x:G,y:z,scale:ue,angle:oe,align:this.textAlign,maxWidth:K})}},h.prototype.strokeText=function(D,G,z,K){if(isNaN(G)||isNaN(z)||typeof D!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){K=isNaN(K)?void 0:K;var oe=V(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;M.call(this,{text:D,x:G,y:z,scale:ue,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:K})}},h.prototype.measureText=function(D){if(typeof D!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,z=this.pdf.internal.scaleFactor,K=G.internal.getFontSize(),oe=G.getStringUnitWidth(D)*K/G.internal.scaleFactor;return new function(ue){var ge=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:oe*=Math.round(96*z/72*1e4)/1e4})},h.prototype.scale=function(D,G){if(isNaN(D)||isNaN(G))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c(D,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.rotate=function(D){if(isNaN(D))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.translate=function(D,G){if(isNaN(D)||isNaN(G))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,D,G);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.transform=function(D,G,z,K,oe,ue){if(isNaN(D)||isNaN(G)||isNaN(z)||isNaN(K)||isNaN(oe)||isNaN(ue))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(D,G,z,K,oe,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},h.prototype.setTransform=function(D,G,z,K,oe,ue){D=isNaN(D)?1:D,G=isNaN(G)?0:G,z=isNaN(z)?0:z,K=isNaN(K)?1:K,oe=isNaN(oe)?0:oe,ue=isNaN(ue)?0:ue,this.ctx.transform=new c(D,G,z,K,oe,ue)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,G,z,K,oe,ue,ge,pe,ye){var Pe=this.pdf.getImageProperties(D),le=1,lt=1,ne=1,J=1;K!==void 0&&pe!==void 0&&(ne=pe/K,J=ye/oe,le=Pe.width/K*pe/K,lt=Pe.height/oe*ye/oe),ue===void 0&&(ue=G,ge=z,G=0,z=0),K!==void 0&&pe===void 0&&(pe=K,ye=oe),K===void 0&&pe===void 0&&(pe=Pe.width,ye=Pe.height);var ie=this.ctx.transform.decompose(),Ce=V(ie.rotate.shx),Oe=new c,Re=(Oe=(Oe=(Oe=Oe.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale)).applyToRectangle(new l(ue-G*ne,ge-z*J,K*le,oe*lt));if(this.autoPaging){for(var ze,ce=x.call(this,Re),ae=[],Se=0;Se<ce.length;Se+=1)ae.indexOf(ce[Se])===-1&&ae.push(ce[Se]);b(ae);for(var We=ae[0],Je=ae[ae.length-1],tt=We;tt<Je+1;tt++){this.pdf.setPage(tt);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=tt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=tt===1?0:vt+(tt-2)*_t;if(this.ctx.clip_path.length!==0){var It=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ze,this.posX+this.margin[3],-et+ft+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=It}var Lt=JSON.parse(JSON.stringify(Re));Lt=j([Lt],this.posX+this.margin[3],-et+ft+this.ctx.prevPageLastElemOffset)[0];var Gt=(tt>We||tt<Je)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,_t,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ce),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ce)};var x=function(D,G,z){var K=[];G=G||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":K.push(Math.floor((D.y+oe)/z)+1);break;case"arc":K.push(Math.floor((D.y+oe-D.radius)/z)+1),K.push(Math.floor((D.y+oe+D.radius)/z)+1);break;case"qct":var ue=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);K.push(Math.floor((ue.y+oe)/z)+1),K.push(Math.floor((ue.y+ue.h+oe)/z)+1);break;case"bct":var ge=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);K.push(Math.floor((ge.y+oe)/z)+1),K.push(Math.floor((ge.y+ge.h+oe)/z)+1);break;case"rect":K.push(Math.floor((D.y+oe)/z)+1),K.push(Math.floor((D.y+D.h+oe)/z)+1)}for(var pe=0;pe<K.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<K[pe];)v.call(this);return K},v=function(){var D=this.fillStyle,G=this.strokeStyle,z=this.font,K=this.lineCap,oe=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=G,this.font=z,this.lineCap=K,this.lineWidth=oe,this.lineJoin=ue},j=function(D,G,z){for(var K=0;K<D.length;K++)switch(D[K].type){case"bct":D[K].x2+=G,D[K].y2+=z;case"qct":D[K].x1+=G,D[K].y1+=z;default:D[K].x+=G,D[K].y+=z}return D},b=function(D){return D.sort(function(G,z){return G-z})},S=function(D,G){var z=this.fillStyle,K=this.strokeStyle,oe=this.lineCap,ue=this.lineWidth,ge=Math.abs(ue*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var ye,Pe,le=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),ne=[],J=0;J<lt.length;J++)if(lt[J].x!==void 0)for(var ie=x.call(this,lt[J]),Ce=0;Ce<ie.length;Ce+=1)ne.indexOf(ie[Ce])===-1&&ne.push(ie[Ce]);for(var Oe=0;Oe<ne.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<ne[Oe];)v.call(this);b(ne);for(var Re=ne[0],ze=ne[ne.length-1],ce=Re;ce<ze+1;ce++){this.pdf.setPage(ce),this.fillStyle=z,this.strokeStyle=K,this.lineCap=oe,this.lineWidth=ge,this.lineJoin=pe;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=ce===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ce===1?0:We+(ce-2)*Je;if(this.ctx.clip_path.length!==0){var Tt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ye,this.posX+this.margin[3],-tt+Se+this.ctx.prevPageLastElemOffset),w.call(this,D,!0),this.path=Tt}if(Pe=JSON.parse(JSON.stringify(le)),this.path=j(Pe,this.posX+this.margin[3],-tt+Se+this.ctx.prevPageLastElemOffset),G===!1||ce===0){var ft=(ce>Re||ce<ze)&&g.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Je,null).clip().discardPath()),w.call(this,D,G),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=le}else this.lineWidth=ge,w.call(this,D,G),this.lineWidth=ue},w=function(D,G){if((D!=="stroke"||G||!A.call(this))&&(D==="stroke"||G||!f.call(this))){for(var z,K,oe=[],ue=this.path,ge=0;ge<ue.length;ge++){var pe=ue[ge];switch(pe.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:pe,deltas:[],abs:[]});break;case"lt":var ye=oe.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(z=[pe.x-ue[ge-1].x,pe.y-ue[ge-1].y],ye>0)){for(;ye>=0;ye--)if(oe[ye-1].close!==!0&&oe[ye-1].begin!==!0){oe[ye-1].deltas.push(z),oe[ye-1].abs.push(pe);break}}break;case"bct":z=[pe.x1-ue[ge-1].x,pe.y1-ue[ge-1].y,pe.x2-ue[ge-1].x,pe.y2-ue[ge-1].y,pe.x-ue[ge-1].x,pe.y-ue[ge-1].y],oe[oe.length-1].deltas.push(z);break;case"qct":var Pe=ue[ge-1].x+2/3*(pe.x1-ue[ge-1].x),le=ue[ge-1].y+2/3*(pe.y1-ue[ge-1].y),lt=pe.x+2/3*(pe.x1-pe.x),ne=pe.y+2/3*(pe.y1-pe.y),J=pe.x,ie=pe.y;z=[Pe-ue[ge-1].x,le-ue[ge-1].y,lt-ue[ge-1].x,ne-ue[ge-1].y,J-ue[ge-1].x,ie-ue[ge-1].y],oe[oe.length-1].deltas.push(z);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(pe)}}K=G?null:D==="stroke"?"stroke":"fill";for(var Ce=!1,Oe=0;Oe<oe.length;Oe++)if(oe[Oe].arc)for(var Re=oe[Oe].abs,ze=0;ze<Re.length;ze++){var ce=Re[ze];ce.type==="arc"?P.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,G,!Ce):T.call(this,ce.x,ce.y),Ce=!0}else if(oe[Oe].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(oe[Oe].begin!==!0){var ae=oe[Oe].start.x,Se=oe[Oe].start.y;H.call(this,oe[Oe].deltas,ae,Se),Ce=!0}K&&_.call(this,K),G&&B.call(this)}},N=function(D){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-z;case"top":return D+G-z;case"hanging":return D+G-2*z;case"middle":return D+G/2-z;default:return D}},E=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(G,z){this.colorStops.push([G,z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(D,G,z,K,oe,ue,ge,pe,ye){for(var Pe=Q.call(this,z,K,oe,ue),le=0;le<Pe.length;le++){var lt=Pe[le];le===0&&(ye?k.call(this,lt.x1+D,lt.y1+G):T.call(this,lt.x1+D,lt.y1+G)),L.call(this,D,G,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}pe?B.call(this):_.call(this,ge)},_=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(D,G){this.pdf.internal.out(r(D)+" "+n(G)+" m")},M=function(D){var G;switch(D.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var z,K,oe,ue=this.pdf.getTextDimensions(D.text),ge=N.call(this,D.y),pe=E.call(this,ge)-ue.h,ye=this.ctx.transform.applyToPoint(new o(D.x,ge));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var lt=this.ctx.transform.applyToRectangle(new l(D.x,ge,ue.w,ue.h)),ne=le.applyToRectangle(new l(D.x,pe,ue.w,ue.h)),J=x.call(this,ne),ie=[],Ce=0;Ce<J.length;Ce+=1)ie.indexOf(J[Ce])===-1&&ie.push(J[Ce]);b(ie);for(var Oe=ie[0],Re=ie[ie.length-1],ze=Oe;ze<Re+1;ze++){this.pdf.setPage(ze);var ce=ze===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],We=Se-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],tt=Je-this.margin[3],Tt=ze===1?0:ae+(ze-2)*We;if(this.ctx.clip_path.length!==0){var ft=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(z,this.posX+this.margin[3],-1*Tt+ce),w.call(this,"fill",!0),this.path=ft}var vt=j([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Tt+ce+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale);var _t=this.autoPaging!=="text";if(_t||vt.y+vt.h<=Se){if(_t||vt.y>=ce&&vt.x<=Je){var et=_t?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Je-vt.x)[0],It=j([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Tt+ce+this.ctx.prevPageLastElemOffset)[0],Lt=_t&&(ze>Oe||ze<Re)&&g.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,We,null).clip().discardPath()),this.pdf.text(et,It.x,It.y,{angle:D.angle,align:G,renderingMode:D.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else vt.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-vt.y);D.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=oe)}}else D.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale),this.pdf.text(D.text,ye.x+this.posX,ye.y+this.posY,{angle:D.angle,align:G,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=oe)},T=function(D,G,z,K){z=z||0,K=K||0,this.pdf.internal.out(r(D+z)+" "+n(G+K)+" l")},H=function(D,G,z){return this.pdf.lines(D,G,z,null,null)},L=function(D,G,z,K,oe,ue,ge,pe){this.pdf.internal.out([e(a(z+D)),e(i(K+G)),e(a(oe+D)),e(i(ue+G)),e(a(ge+D)),e(i(pe+G)),"c"].join(" "))},Q=function(D,G,z,K){for(var oe=2*Math.PI,ue=Math.PI/2;G>z;)G-=oe;var ge=Math.abs(z-G);ge<oe&&K&&(ge=oe-ge);for(var pe=[],ye=K?-1:1,Pe=G;ge>1e-5;){var le=Pe+ye*Math.min(ge,ue);pe.push(O.call(this,D,Pe,le)),ge-=Math.abs(le-Pe),Pe=le}return pe},O=function(D,G,z){var K=(z-G)/2,oe=D*Math.cos(K),ue=D*Math.sin(K),ge=oe,pe=-ue,ye=ge*ge+pe*pe,Pe=ye+ge*oe+pe*ue,le=4/3*(Math.sqrt(2*ye*Pe)-Pe)/(ge*ue-pe*oe),lt=ge-le*pe,ne=pe+le*ge,J=lt,ie=-ne,Ce=K+G,Oe=Math.cos(Ce),Re=Math.sin(Ce);return{x1:D*Math.cos(G),y1:D*Math.sin(G),x2:lt*Oe-ne*Re,y2:lt*Re+ne*Oe,x3:J*Oe-ie*Re,y3:J*Re+ie*Oe,x4:D*Math.cos(z),y4:D*Math.sin(z)}},V=function(D){return 180*D/Math.PI},ee=function(D,G,z,K,oe,ue){var ge=D+.5*(z-D),pe=G+.5*(K-G),ye=oe+.5*(z-oe),Pe=ue+.5*(K-ue),le=Math.min(D,oe,ge,ye),lt=Math.max(D,oe,ge,ye),ne=Math.min(G,ue,pe,Pe),J=Math.max(G,ue,pe,Pe);return new l(le,ne,lt-le,J-ne)},Y=function(D,G,z,K,oe,ue,ge,pe){var ye,Pe,le,lt,ne,J,ie,Ce,Oe,Re,ze,ce,ae,Se,We=z-D,Je=K-G,tt=oe-z,Tt=ue-K,ft=ge-oe,vt=pe-ue;for(Pe=0;Pe<41;Pe++)Oe=(ie=(le=D+(ye=Pe/40)*We)+ye*((ne=z+ye*tt)-le))+ye*(ne+ye*(oe+ye*ft-ne)-ie),Re=(Ce=(lt=G+ye*Je)+ye*((J=K+ye*Tt)-lt))+ye*(J+ye*(ue+ye*vt-J)-Ce),Pe==0?(ze=Oe,ce=Re,ae=Oe,Se=Re):(ze=Math.min(ze,Oe),ce=Math.min(ce,Re),ae=Math.max(ae,Oe),Se=Math.max(Se,Re));return new l(Math.round(ze),Math.round(ce),Math.round(ae-ze),Math.round(Se-ce))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,G,z=(D=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:G}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(gr.API),(function(t){var e=function(o){var l,c,d,u,h,m,f,A,g,x;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(x=h%85))/85)-(g=h%85))/85)-(A=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,A+33,g+33,x+33)):c.push(122);return(function(v,j){for(var b=j;b>0;b--)v.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,m=String,f="length",A=255,g="charCodeAt",x="slice",v="replace";for(o[x](-2),o=o[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[x](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(A&c>>24,A&c>>16,A&c>>8,A&c);return(function(j,b){for(var S=b;S>0;S--)j.pop()})(d,l[f]),m.fromCharCode.apply(m,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=KF(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(gr.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(A){var g=A.length,x=[],v=String.fromCharCode;for(m=0;m<g;m+=1)x.push(v(255&A.charCodeAt(m)));return x.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)})(a,i,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(gr.API),(function(t){function e(){return(ts.html2canvas?Promise.resolve(ts.html2canvas):LN(()=>Promise.resolve().then(()=>jnt),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ts.DOMPurify?Promise.resolve(ts.DOMPurify):LN(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=bn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var A=u[f],g=A.src.find(function(x){return x.format==="truetype"});g&&d.addFont(g.url,A.ref.name,A.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,gr.getPageSize=function(l,c,d){if(bn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var A,g=0,x=0;if(f.hasOwnProperty(m))g=f[m][1]/h,x=f[m][0]/h;else try{g=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",x>g&&(A=x,x=g,g=A);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>x&&(A=x,x=g,g=A)}return{width:x,height:g,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(xB):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(gr.API),gr.API.addJS=function(t){return ZG=t,this.internal.events.subscribe("postPutResources",function(){Ij=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ij+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ij!==void 0&&JG!==void 0&&this.internal.out("/Names <</JavaScript "+Ij+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(gr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),A=h.length,g={width:0,height:0,numcomponents:1},x=4;x<A;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){m=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),g={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:m,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return g})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}})(gr.API),gr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=PFe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?(function(P){for(var _=P.width,B=P.height,k=P.data,M=P.palette,T=P.depth,H=!1,L=[],Q=[],O=void 0,V=!1,ee=0,Y=0;Y<M.length;Y++){var re=sG(M[Y],4),D=re[0],G=re[1],z=re[2],K=re[3];L.push(D,G,z),K!=null&&(K===0?(ee++,Q.length<1&&Q.push(Y)):K<255&&(V=!0))}if(V||ee>1){H=!0,Q=void 0;var oe=_*B;O=new Uint8Array(oe);for(var ue=new DataView(k.buffer),ge=0;ge<oe;ge++){var pe=vB(ue,ge,T),ye=sG(M[pe],4)[3];O[ge]=ye}}else ee===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:O,needSMask:H,palette:L,mask:Q}})(i):c===2||c===4?(function(P){for(var _=P.data,B=P.width,k=P.height,M=P.channels,T=P.depth,H=M===2?"DeviceGray":"DeviceRGB",L=M-1,Q=B*k,O=L,V=Q*O,ee=1*Q,Y=Math.ceil(V*T/8),re=Math.ceil(ee*T/8),D=new Uint8Array(Y),G=new Uint8Array(re),z=new DataView(_.buffer),K=new DataView(D.buffer),oe=new DataView(G.buffer),ue=!1,ge=0;ge<Q;ge++){for(var pe=ge*M,ye=0;ye<O;ye++)lV(K,vB(z,pe+ye,T),ge*O+ye,T);var Pe=vB(z,pe+O,T);Pe<(1<<T)-1&&(ue=!0),lV(oe,Pe,1*ge,T)}return{colorSpace:H,colorsPerPixel:L,sMaskBitsPerComponent:ue?T:void 0,colorBytes:D,alphaBytes:G,needSMask:ue}})(i):(function(P){var _=P.data,B=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(k){for(var M=k.length,T=new Uint8Array(2*M),H=new DataView(T.buffer,T.byteOffset,T.byteLength),L=0;L<M;L++)H.setUint16(2*L,k[L],!1);return T})(_):_,needSMask:!1}})(i);var h,m,f,A=a,g=A.colorSpace,x=A.colorsPerPixel,v=A.sMaskBitsPerComponent,j=A.colorBytes,b=A.alphaBytes,S=A.needSMask,w=A.palette,N=A.mask,E=null;return n!==gr.API.image_compression.NONE&&typeof KF=="function"?(E=(function(P){var _;switch(P){case gr.API.image_compression.FAST:_=11;break;case gr.API.image_compression.MEDIUM:_=13;break;case gr.API.image_compression.SLOW:_=14;break;default:_=12}return _})(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(E," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=sV(j,Math.ceil(o*x*u/8),x,u,n),S&&(f=sV(b,Math.ceil(o*v/8),1,v,n))):(h=void 0,m=void 0,t=j,S&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:m,transparency:N,palette:w,sMask:f,predictor:E,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new rPe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new yB(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A})(gr.API),Vd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ln.log("bit decode error:"+r)}},Vd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Vd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Vd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Vd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Vd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Vd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Vd.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new Vd(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new yB(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}})(gr.API),dV.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new dV(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new yB(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}})(gr.API),gr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],m=n[d+2],f=n[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=f}var A=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},gr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xx=gr.API,Dj=Xx.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,f=t.length,A=0,g=l[0]||c,x=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&bn(d[n])==="object"&&!isNaN(parseInt(d[n][A],10))?d[n][A]/u:0,x.push((l[n]||g)/c+m)),A=n;return x},eV=Xx.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Xx.processArabic&&(t=Xx.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Dj.apply(this,arguments).reduce(function(i,o){return i+o},0)},tV=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},rV=function(t,e,r){r||(r={});var n,a,i,o,l,c,d,u=[],h=[u],m=r.textIndent||0,f=0,A=0,g=t.split(" "),x=Dj.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),j=[];g.map(function(S){(S=S.split(/\s*\n/)).length>1?j=j.concat(S.map(function(w,N){return(N&&w.length?`
`:"")+w})):j.push(S[0])}),g=j,c=eV.apply(this,[v,r])}for(i=0,o=g.length;i<o;i++){var b=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),m+f+(A=(a=Dj.apply(this,[n,r])).reduce(function(S,w){return S+w},0))>e||b){if(A>e){for(l=tV.apply(this,[n,a,e-(m+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);A=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(S,w){return S+w},0)}else u=[n];h.push(u),m=A+c,f=x}else u.push(n),m+=f+A,f=x}return d=c?function(S,w){return(w?v:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(d)},Xx.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(rV.apply(this,[n[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,A,g,x,v=["{"];for(var j in m){if(f=m[j],isNaN(parseInt(j,10))?A="'"+j+"'":(j=parseInt(j,10),A=(A=o(j).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),x="-"):(g=o(f).slice(2),x=""),g=x+g.slice(0,-1)+a[g.slice(-1)];else{if(bn(f)!=="object")throw new Error("Don't know what to do with value type "+bn(f)+".");g=l(f)}v.push(A+g)}return v.push("}"),v.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,A,g,x,v={},j=1,b=v,S=[],w="",N="",E=m.length-1,P=1;P<E;P+=1)(x=m[P])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(S.push([b,g]),b={},g=void 0):x=="}"?((A=S.pop())[0][A[1]]=b,g=void 0,b=A[0]):x=="-"?j=-1:g===void 0?n.hasOwnProperty(x)?(w+=n[x],g=parseInt(w,16)*j,j=1,w=""):w+=x:n.hasOwnProperty(x)?(N+=n[x],b[g]=parseInt(N,16)*j,j=1,g=void 0,N=""):N+=x;return v},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,A=h.Unicode[f.postScriptName];A&&(f.metadata.Unicode={},f.metadata.Unicode.widths=A.widths,f.metadata.Unicode.kerning=A.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])})(gr.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(VN(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(gr),gr.API.addSvgAsImage=function(t,e,r,n,a,i,o,l){if(isNaN(e)||isNaN(r))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(ts.canvg?Promise.resolve(ts.canvg):LN(()=>import("./index.es-CYF01nLK.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,l)})},gr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},gr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(A,g){var x,v=!1;for(x=0;x<A.length;x+=1)A[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(bn(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,g=[];for(A in r)r[A].explicitSet===!0&&(r[A].type==="name"?g.push("/"+A+" /"+r[A].value):g.push("/"+A+" "+r[A].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(gr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(f,A){return f-A})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",A=0;A<m.length;A++)f+=String.fromCharCode(m[A]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dg(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+dg(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+dg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var A=d();u({data:m,addLength1:!0,objectId:A}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+A+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+dg(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,A=h.fonts,g=f,x="",v=0,j="",b=A[g].encoding;if(A[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(j=l,g=f,Array.isArray(l)&&(j=l[0]),v=0;v<j.length;v+=1)A[g].metadata.hasOwnProperty("cmap")&&(o=A[g].metadata.cmap.unicode.codeMap[j[v].charCodeAt(0)]),o||j[v].charCodeAt(0)<256&&A[g].metadata.hasOwnProperty("Unicode")?x+=j[v]:x+="";var S="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?S=m(x,g).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(S=r(x,A[g])),h.isHex=!0,{text:S,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(gr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(gr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,b=0;this.__bidiEngine__={};var S=function(k){var M=k.charCodeAt(),T=M>>8,H=g[T];return H!==void 0?h[256*H+(255&M)]:T===252||T===253?"AL":v.test(T)?"L":T===8?"R":"N"},w=function(k){for(var M,T=0;T<k.length;T++){if((M=S(k.charAt(T)))==="L")return!1;if(M==="R")return!0}return!1},N=function(k,M,T,H){var L,Q,O,V,ee=M[H];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ee="AN");break;case"AL":j=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":H<1||H+1>=M.length||(L=T[H-1])!=="EN"&&L!=="AN"||(Q=M[H+1])!=="EN"&&Q!=="AN"?ee="N":j&&(Q="AN"),ee=Q===L?Q:"N";break;case"ES":ee=(L=H>0?T[H-1]:"B")==="EN"&&H+1<M.length&&M[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&T[H-1]==="EN"){ee="EN";break}if(j){ee="N";break}for(O=H+1,V=M.length;O<V&&M[O]==="ET";)O++;ee=O<V&&M[O]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=M.length,O=H+1;O<V&&M[O]==="NSM";)O++;if(O<V){var Y=k[H],re=Y>=1425&&Y<=2303||Y===64286;if(L=M[O],re&&(L==="R"||L==="AL")){ee="R";break}}}ee=H<1||(L=M[H-1])==="B"?"N":T[H-1];break;case"B":j=!1,a=!0,ee=b;break;case"S":i=!0,ee="N"}return ee},E=function(k,M,T){var H=k.split("");return T&&P(H,T,{hiLevel:b}),H.reverse(),M&&M.reverse(),H.join("")},P=function(k,M,T){var H,L,Q,O,V,ee=-1,Y=k.length,re=0,D=[],G=b?f:m,z=[];for(j=!1,a=!1,i=!1,L=0;L<Y;L++)z[L]=S(k[L]);for(Q=0;Q<Y;Q++){if(V=re,D[Q]=N(k,z,D,Q),H=240&(re=G[V][A[D[Q]]]),re&=15,M[Q]=O=G[re][5],H>0)if(H===16){for(L=ee;L<Q;L++)M[L]=1;ee=-1}else ee=-1;if(G[re][6])ee===-1&&(ee=Q);else if(ee>-1){for(L=ee;L<Q;L++)M[L]=O;ee=-1}z[Q]==="B"&&(M[Q]=0),T.hiLevel|=O}i&&(function(K,oe,ue){for(var ge=0;ge<ue;ge++)if(K[ge]==="S"){oe[ge]=b;for(var pe=ge-1;pe>=0&&K[pe]==="WS";pe--)oe[pe]=b}})(z,M,Y)},_=function(k,M,T,H,L){if(!(L.hiLevel<k)){if(k===1&&b===1&&!a)return M.reverse(),void(T&&T.reverse());for(var Q,O,V,ee,Y=M.length,re=0;re<Y;){if(H[re]>=k){for(V=re+1;V<Y&&H[V]>=k;)V++;for(ee=re,O=V-1;ee<O;ee++,O--)Q=M[ee],M[ee]=M[O],M[O]=Q,T&&(Q=T[ee],T[ee]=T[O],T[O]=Q);re=V}re++}}},B=function(k,M,T){var H=k.split(""),L={hiLevel:b};return T||(T=[]),P(H,T,L),(function(Q,O,V){if(V.hiLevel!==0&&u)for(var ee,Y=0;Y<Q.length;Y++)O[Y]===1&&(ee=x.indexOf(Q[Y]))>=0&&(Q[Y]=x[ee+1])})(H,T,L),_(2,H,M,T,L),_(1,H,M,T,L),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,M,T){if((function(L,Q){if(Q)for(var O=0;O<L.length;O++)Q[O]=O;l===void 0&&(l=w(L)),d===void 0&&(d=w(L))})(k,M),o||!c||d)if(o&&c&&l^d)b=l?1:0,k=E(k,M,T);else if(!o&&c&&d)b=l?1:0,k=B(k,M,T),k=E(k,M);else if(!o||l||c||d){if(o&&!c&&l^d)k=E(k,M),l?(b=0,k=B(k,M,T)):(b=1,k=B(k,M,T),k=E(k,M));else if(o&&l&&!c&&d)b=1,k=B(k,M,T),k=E(k,M);else if(!o&&!c&&l^d){var H=u;l?(b=1,k=B(k,M,T),b=0,u=!1,k=B(k,M,T),u=H):(b=0,k=B(k,M,T),k=E(k,M),b=1,u=!1,k=B(k,M,T),u=H,k=E(k,M))}}else b=0,k=B(k,M,T);else b=l?1:0,k=B(k,M,T);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,d=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(gr),gr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Sm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new xPe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new sPe(this.contents),this.head=new aPe(this),this.name=new dPe(this),this.cmap=new zte(this),this.toUnicode={},this.hhea=new iPe(this),this.maxp=new uPe(this),this.hmtx=new hPe(this),this.post=new lPe(this),this.os2=new oPe(this),this.loca=new APe(this),this.glyf=new fPe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var gu,Sm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),sPe=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,d,u,h,m,f,A,g;for(g in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new Sm).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,A=[],r)for(m=r[g],a.writeString(g),a.writeInt(t(m)),a.writeInt(d),a.writeInt(m.length),A=A.concat(m),g==="head"&&(l=d),d+=m.length;d%4;)A.push(0),d++;return a.write(A),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=$te.call(r);r.length%4;)r.push(0);for(i=new Sm(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),nPe={}.hasOwnProperty,xh=function(t,e){for(var r in e)nPe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};gu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var aPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Sm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),uV=(function(){function t(e,r){var n,a,i,o,l,c,d,u,h,m,f,A,g,x,v,j,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,i=(function(){var S,w;for(w=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)w.push(e.readUInt16());return w})(),e.pos+=2,g=(function(){var S,w;for(w=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)w.push(e.readUInt16());return w})(),d=(function(){var S,w;for(w=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)w.push(e.readUInt16());return w})(),u=(function(){var S,w;for(w=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)w.push(e.readUInt16());return w})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var S,w;for(w=[],c=S=0;0<=a?S<a:S>a;c=0<=a?++S:--S)w.push(e.readUInt16());return w})(),c=v=0,b=i.length;v<b;c=++v)for(x=i[c],n=j=A=g[c];A<=x?j<=x:j>=x;n=A<=x?++j:--j)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-A)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,a,i,o,l,c,d,u,h,m,f,A,g,x,v,j,b,S,w,N,E,P,_,B,k,M,T,H,L,Q,O,V,ee,Y,re,D,G,z,K,oe,ue,ge,pe,ye,Pe,le;switch(H=new Sm,o=Object.keys(e).sort(function(lt,ne){return lt-ne}),r){case"macroman":for(g=0,x=(function(){var lt=[];for(A=0;A<256;++A)lt.push(0);return lt})(),j={0:0},i={},L=0,ee=o.length;L<ee;L++)j[pe=e[a=o[L]]]==null&&(j[pe]=++g),i[a]={old:e[a],new:j[e[a]]},x[a]=j[e[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:i,subtable:H.data,maxGlyphID:g+1};case"unicode":for(M=[],h=[],b=0,j={},n={},v=d=null,Q=0,Y=o.length;Q<Y;Q++)j[w=e[a=o[Q]]]==null&&(j[w]=++b),n[a]={old:w,new:j[w]},l=j[w]-a,v!=null&&l===d||(v&&h.push(v),M.push(a),d=l),v=a;for(v&&h.push(v),h.push(65535),M.push(65535),B=2*(_=M.length),P=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(P/2)/Math.LN2,E=2*_-P,c=[],N=[],f=[],A=O=0,re=M.length;O<re;A=++O){if(k=M[A],u=h[A],k===65535){c.push(0),N.push(0);break}if(k-(T=n[k].new)>=32768)for(c.push(0),N.push(2*(f.length+_-A)),a=V=k;k<=u?V<=u:V>=u;a=k<=u?++V:--V)f.push(n[a].new);else c.push(T-k),N.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*_+2*f.length),H.writeUInt16(0),H.writeUInt16(B),H.writeUInt16(P),H.writeUInt16(m),H.writeUInt16(E),ue=0,D=h.length;ue<D;ue++)a=h[ue],H.writeUInt16(a);for(H.writeUInt16(0),ge=0,G=M.length;ge<G;ge++)a=M[ge],H.writeUInt16(a);for(ye=0,z=c.length;ye<z;ye++)l=c[ye],H.writeUInt16(l);for(Pe=0,K=N.length;Pe<K;Pe++)S=N[Pe],H.writeUInt16(S);for(le=0,oe=f.length;le<oe;le++)g=f[le],H.writeUInt16(g);return{charMap:n,subtable:H.data,maxGlyphID:b+1}}},t})(),zte=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new uV(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=uV.encode(e,r),(a=new Sm).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),iPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),oPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),lPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),cPe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},dPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,o,l,c,d,u,h,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=u=0,h=n.length;u<h;i=++u)a=n[i],e.pos=a.offset,d=e.readString(a.length),o=new cPe(d,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),uPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),hPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(e.readInt16());return u})(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),$te=[].slice,fPe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,o,l,c,d,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new Sm(r.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=o===-1?new pPe(l,d,h,c,u):new mPe(l,o,d,h,c,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),mPe=(function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),pPe=(function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Sm($te.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),APe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return xh(t,gu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},t})(),xPe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,d,u,h,m,f,A,g,x,v;for(a in n=zte.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=n.charMap)f[(c=v[a]).old]=c.new;for(A in m=n.maxGlyphID,o)A in f||(f[A]=m++);return u=(function(j){var b,S;for(b in S={},j)S[j[b]]=b;return S})(f),h=Object.keys(u).sort(function(j,b){return j-b}),g=(function(){var j,b,S;for(S=[],j=0,b=h.length;j<b;j++)l=h[j],S.push(u[l]);return S})(),i=this.font.glyf.encode(o,g,f),d=this.font.loca.encode(i.offsets,g),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();gr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();const gPe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:qFe,AcroFormAppearance:_r,AcroFormButton:wi,AcroFormCheckBox:Qb,AcroFormChoiceField:uA,AcroFormComboBox:fA,AcroFormEditBox:Ub,AcroFormListBox:hA,AcroFormPasswordField:zb,AcroFormPushButton:Hb,AcroFormRadioButton:mA,AcroFormTextField:mm,GState:q1,ShadingPattern:K0,TilingPattern:rA,default:gr,jsPDF:gr},Symbol.toStringTag,{value:"Module"})),vPe=({setShowAdminHeader:t})=>{const[e,r]=F.useState("Class 10"),[n,a]=F.useState("A");F.useEffect(()=>{t(!0)},[]);const i=[{title:"Total Students",value:"1,245",change:"+5.2%",trend:"up",icon:pr,color:"blue",description:"Active students"},{title:"Attendance Rate",value:"85%",change:"+2.1%",trend:"up",icon:Lr,color:"green",description:"This month"},{title:"Course Completion",value:"72%",change:"-1.3%",trend:"down",icon:Yn,color:"purple",description:"Average across all"},{title:"Fees Collected",value:"7.8L",change:"+12.5%",trend:"up",icon:dh,color:"orange",description:"Last 6 months"}],o=[{month:"Jan",class10A:75,class9B:68,class11C:80},{month:"Feb",class10A:78,class9B:72,class11C:82},{month:"Mar",class10A:80,class9B:75,class11C:79},{month:"Apr",class10A:82,class9B:78,class11C:85},{month:"May",class10A:85,class9B:80,class11C:87},{month:"Jun",class10A:88,class9B:82,class11C:90}],l=(x,v)=>(x+"-"+v).split("").reduce((b,S)=>b+S.charCodeAt(0),0)%97+3,c=(()=>{const x=l(e,n);return["Jan","Feb","Mar","Apr","May","Jun"].map((j,b)=>({month:j,paid:Math.round(50+x*(b+1)%40),pending:Math.round(20+x*(b+3)%30)}))})(),d=[{name:"Present",value:85,color:"#10b981"},{name:"Absent",value:8,color:"#ef4444"},{name:"Late",value:4,color:"#f59e0b"},{name:"Excused",value:3,color:"#6b7280"}],u=[{subject:"Math",completion:85},{subject:"Science",completion:70},{subject:"History",completion:65},{subject:"English",completion:90},{subject:"Art",completion:60}],h=[{grade:"A",students:120,color:"#10b981"},{grade:"B",students:185,color:"#3b82f6"},{grade:"C",students:210,color:"#f59e0b"},{grade:"D",students:95,color:"#ef4444"},{grade:"F",students:40,color:"#6b7280"}],m=[{label:"Submitted",value:72,color:"#10b981"},{label:"Pending",value:15,color:"#f59e0b"},{label:"Late",value:8,color:"#ef4444"},{label:"Not Submitted",value:5,color:"#6b7280"}],f=[{id:1,teacher:"Ms. Johnson",action:"Created Lesson",subject:"Algebra Basics",time:"2 hours ago",color:"blue"},{id:2,teacher:"Mr. Patel",action:"Graded Exam",subject:"Midterm Science",time:"5 hours ago",color:"green"},{id:3,teacher:"Ms. Smith",action:"Updated Timetable",subject:"History Session",time:"1 day ago",color:"purple"},{id:4,teacher:"Mr. Davis",action:"Uploaded Resources",subject:"Chemistry Lab",time:"2 days ago",color:"orange"}],A=x=>{const v={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500",gradient:"from-blue-500 to-blue-600",light:"bg-blue-100"},green:{bg:"bg-green-50",text:"text-green-600",icon:"text-green-500",gradient:"from-green-500 to-green-600",light:"bg-green-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"text-purple-500",gradient:"from-purple-500 to-purple-600",light:"bg-purple-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"text-orange-500",gradient:"from-orange-500 to-orange-600",light:"bg-orange-100"}};return v[x]||v.blue},g=()=>{const x=new gr("p","mm","a4"),v=new Date().toLocaleDateString();x.setFontSize(24),x.setFont(void 0,"bold"),x.text("Analytics Report",105,20,{align:"center"}),x.setFontSize(12),x.setFont(void 0,"normal"),x.text(`Generated on: ${v}`,105,30,{align:"center"});let j=50;x.setFontSize(16),x.setFont(void 0,"bold"),x.text("Key Metrics",20,j),j+=10,x.setFontSize(10),x.setFont(void 0,"normal"),i.forEach(b=>{x.text(`${b.title}: ${b.value} (${b.change})`,25,j),j+=7}),x.save(`analytics-report-${v.replace(/\//g,"-")}.pdf`)};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive insights and performance metrics"})]}),s.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm hover:shadow-md",children:[s.jsx(is,{className:"w-4 h-4"}),"Export Report"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((x,v)=>{const j=x.icon,b=A(x.color),S=x.trend==="up"?cs:uI;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${b.bg}`,children:s.jsx(j,{className:`w-6 h-6 ${b.icon}`})}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${x.trend==="up"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[s.jsx(S,{className:"w-3 h-3"}),x.change]})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:x.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:x.value}),s.jsx("p",{className:"text-xs text-gray-500",children:x.description})]},v)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5 text-gray-700"}),"Performance Trend"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Average scores by class over time"})]}),s.jsx(ru,{width:"100%",height:300,children:s.jsxs(bTe,{data:o,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorClass10A",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorClass9B",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorClass11C",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(jc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(Nc,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:[60,100]}),s.jsx(di,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),s.jsx(ah,{wrapperStyle:{fontSize:"12px"}}),s.jsx(ch,{type:"monotone",dataKey:"class10A",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorClass10A)",name:"Class 10-A"}),s.jsx(ch,{type:"monotone",dataKey:"class9B",stroke:"#10b981",fillOpacity:1,fill:"url(#colorClass9B)",name:"Class 9-B"}),s.jsx(ch,{type:"monotone",dataKey:"class11C",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorClass11C)",name:"Class 11-C"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(dh,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Paid vs Pending by month"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:e,onChange:x=>r(x.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Class 6","Class 7","Class 8","Class 9","Class 10","Class 11","Class 12"].map(x=>s.jsx("option",{value:x,children:x},x))}),s.jsx("select",{value:n,onChange:x=>a(x.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["A","B","C","D"].map(x=>s.jsxs("option",{value:x,children:["Sec ",x]},x))})]})]}),s.jsx(ru,{width:"100%",height:300,children:s.jsxs(G1,{data:c,children:[s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(jc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(Nc,{stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(di,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:x=>[`${x}k`,""]}),s.jsx(ah,{wrapperStyle:{fontSize:"12px"}}),s.jsx($l,{dataKey:"paid",fill:"#10b981",radius:[8,8,0,0],name:"Paid"}),s.jsx($l,{dataKey:"pending",fill:"#ef4444",radius:[8,8,0,0],name:"Pending"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Attendance"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Distribution breakdown"}),s.jsx(ru,{width:"100%",height:200,children:s.jsxs(E8,{children:[s.jsx(Au,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:d.map((x,v)=>s.jsx(Nm,{fill:x.color},`cell-${v}`))}),s.jsx(di,{})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:d.map((x,v)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.color}}),s.jsxs("span",{className:"text-xs text-gray-600",children:[x.name,": ",x.value,"%"]})]},v))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Course Progress"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Completion rates"}),s.jsx("div",{className:"space-y-4",children:u.map((x,v)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.subject}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[x.completion,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${x.completion}%`}})})]},v))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Grade Distribution"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Student grades"}),s.jsx(ru,{width:"100%",height:200,children:s.jsxs(G1,{data:h,layout:"vertical",children:[s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(jc,{type:"number",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(Nc,{type:"category",dataKey:"grade",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(di,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),s.jsx($l,{dataKey:"students",radius:[0,4,4,0],children:h.map((x,v)=>s.jsx(Nm,{fill:x.color},`cell-${v}`))})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-gray-700"}),"Assignment Status"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Current submission rates"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map((x,v)=>s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:x.color,backgroundColor:x.color+"10"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600",children:x.label}),s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x.color}})]}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:x.color},children:[x.value,"%"]})]},v))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Latest teacher actions"}),s.jsx("div",{className:"space-y-3",children:f.map(x=>{const v=A(x.color);return s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${v.bg} flex items-center justify-center flex-shrink-0`,children:s.jsx(Ya,{className:`w-5 h-5 ${v.icon}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.teacher}),s.jsxs("p",{className:"text-xs text-gray-600",children:[x.action,": ",x.subject]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.time})]})]},x.id)})})]})]})]})})},yPe={Student:"STU",Parent:"PAR",Teacher:"TCH"},bPe={Student:"Batch / Grade Code",Parent:"Family / Ward Code",Teacher:"Department / Subject Code"},wPe=10,Gte="ABCDEFGHJKLMNPQRSTUVWXYZ",Vte="abcdefghjkmnpqrstuvwxyz",Wte="0123456789",qte="!@#$%&*?",jPe=`${Gte}${Vte}${Wte}${qte}`,NPe=(t="")=>typeof t=="string"&&t.length>=8&&/[A-Z]/.test(t)&&/[a-z]/.test(t)&&/\d/.test(t),Jy=t=>t.charAt(Math.floor(Math.random()*t.length)),SPe=t=>{const e=t.split("");for(let r=e.length-1;r>0;r-=1){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e.join("")},_Pe=()=>{let t="";do{let e="";for(e+=Jy(Gte),e+=Jy(Vte),e+=Jy(Wte),e+=Jy(qte);e.length<wPe;)e+=Jy(jPe);t=SPe(e)}while(!NPe(t));return t},CPe=({role:t,batchCode:e,joiningYear:r})=>{const n=yPe[t]||"EEC",a=(e||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"GEN",i=(r||new Date().getFullYear()).toString().slice(-2),o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${n}-${i}${a}-${o}`},P8=({buttonText:t="Generate ID",buttonClassName:e="",icon:r=BX,defaultRole:n="Student",allowRoleSelection:a=!0,size:i="md",onGenerate:o,prefillValues:l=null,disabled:c=!1})=>{const d=(N={})=>({role:n,batchCode:"",joiningYear:new Date().getFullYear(),referenceName:"",...N}),[u,h]=F.useState(!1),[m,f]=F.useState(d(l||void 0)),[A,g]=F.useState(null),x=F.useMemo(()=>bPe[m.role]||"Batch / Grade Code",[m.role]),v=N=>{const{name:E,value:P}=N.target;f(_=>({..._,[E]:P}))},j=()=>{const N=CPe(m),E=_Pe();g({id:N,password:E}),o==null||o({id:N,password:E,...m})},b=N=>{navigator!=null&&navigator.clipboard&&navigator.clipboard.writeText(N).catch(()=>{})},S=()=>{f(d(l||void 0)),g(null)};F.useEffect(()=>{u&&(f(d(l||void 0)),g(null))},[u,l]);const w=i==="sm"?"px-3 py-2 text-sm":i==="lg"?"px-6 py-3 text-base":"px-4 py-2.5 text-sm";return s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",disabled:c,onClick:()=>{c||h(!0)},className:`inline-flex items-center gap-2 rounded-lg font-medium bg-yellow-600 text-white hover:bg-yellow-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed ${w} ${e}`,children:[r&&s.jsx(r,{size:16})," ",t]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Portal Credentials"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create unique login IDs and passwords for the selected role."})]}),s.jsx("button",{onClick:()=>{h(!1),S()},className:"text-gray-500 hover:text-gray-700 text-xl leading-none","aria-label":"Close",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a?s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",name:"role",value:m.role,onChange:v,children:[s.jsx("option",{value:"Student",children:"Student"}),s.jsx("option",{value:"Parent",children:"Parent"}),s.jsx("option",{value:"Teacher",children:"Teacher"})]})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),s.jsx("div",{className:"px-4 py-2 rounded-xl bg-gray-100 border border-gray-200 text-gray-700",children:m.role})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:x}),s.jsx("input",{type:"text",name:"batchCode",value:m.batchCode,onChange:v,placeholder:"e.g. 10A, SCI, PTA",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Joining Year"}),s.jsx("input",{type:"number",name:"joiningYear",min:"2000",max:"2100",value:m.joiningYear,onChange:v,className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name / Reference"}),s.jsx("input",{type:"text",name:"referenceName",value:m.referenceName,onChange:v,placeholder:"Helps track who gets this ID",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:[s.jsx(Wf,{size:16})," Reset Form"]}),s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(jg,{size:16})," Generate Credentials"]})]}),A&&s.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 rounded-2xl p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Generated ID"}),s.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[s.jsx("span",{className:"font-mono text-gray-800",children:A.id}),s.jsx("button",{onClick:()=>b(A.id),className:"text-gray-500 hover:text-yellow-600",title:"Copy ID",children:s.jsx(vm,{size:16})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Temporary Password"}),s.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[s.jsx("span",{className:"font-mono text-gray-800",children:A.password}),s.jsx("button",{onClick:()=>b(A.password),className:"text-gray-500 hover:text-yellow-600",title:"Copy password",children:s.jsx(vm,{size:16})})]})]}),m.referenceName&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Assign to:"," ",s.jsx("span",{className:"font-semibold",children:m.referenceName})]})]})]})]})})]})},EPe=({setShowAdminHeader:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState("All"),[i,o]=F.useState([]),[l,c]=F.useState(!1),[d,u]=F.useState({name:"",email:"",mobile:"",subject:"",department:"",experience:"",qualification:"",students:"",rating:"",status:"Active",joinDate:"",location:"",avatar:""}),h=i.filter(x=>{const v=(x.name||"").toLowerCase(),j=(x.subject||"").toLowerCase(),b=(x.email||"").toLowerCase(),S=v.includes(e.toLowerCase())||j.includes(e.toLowerCase())||b.includes(e.toLowerCase()),w=n==="All"||x.status===n;return S&&w}),m=()=>({studentSatisfaction:Math.floor(Math.random()*20)+80,classAttendance:Math.floor(Math.random()*15)+85,lessonCompletionRate:Math.floor(Math.random()*10)+90,avgGradeImprovement:Math.floor(Math.random()*20)+10,totalStudents:Math.floor(Math.random()*50)+20,activeClasses:Math.floor(Math.random()*5)+3}),f=()=>[{time:"09:00-10:00",subject:"Mathematics",class:"X-A",room:"101"},{time:"10:00-11:00",subject:"Physics",class:"XI-B",room:"205"},{time:"11:30-12:30",subject:"Chemistry",class:"XII-A",room:"301"},{time:"14:00-15:00",subject:"Biology",class:"IX-C",room:"102"}].slice(0,Math.floor(Math.random()*3)+1),A=()=>[{name:"M.Ed in Mathematics",year:"2018",status:"verified"},{name:"B.Ed",year:"2015",status:"verified"},{name:"Teaching Excellence Certificate",year:"2022",status:"pending"},{name:"Digital Teaching Methods",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),g=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"Principal",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1});return F.useEffect(()=>{t(!1),fetch("http://localhost:5000/api/admin/users/get-teachers",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(x=>{if(!x.ok)throw new Error("Failed to fetch teachers");return x.json()}).then(x=>{const v=(Array.isArray(x)?x:[]).map((j,b)=>({...j,id:j._id||j.id||b,name:j.name||"Unnamed Teacher",email:j.email||"",mobile:j.mobile||"",subject:j.subject||"",department:j.department||"",qualification:j.qualification||"",joiningDate:j.joiningDate||"",empId:j.empId??"",status:j.status||"Active"}));o(v)}).catch(x=>{console.error("Error fetching teachers:",x)})},[t]),s.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:s.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 border border-yellow-200 overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Teacher Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage teaching staff performance, schedules, and evaluations"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pr,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Teachers"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(cs,{className:"w-8 h-8 text-green-500"}),s.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:"88%"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Avg Performance"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dr,{className:"w-8 h-8 text-purple-500"}),s.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:i.filter(x=>x.status==="Active").length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Teaching Today"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(kr,{className:"w-8 h-8 text-orange-500"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(i.length*.3)}),s.jsx("span",{className:"text-xs text-gray-500",children:"Due Evaluations"})]})]})]})}),s.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search teachers...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",value:e,onChange:x=>r(x.target.value)})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",value:n,onChange:x=>a(x.target.value),children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"On Leave",children:"On Leave"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"All Departments"}),s.jsx("option",{value:"Mathematics",children:"Mathematics"}),s.jsx("option",{value:"Physics",children:"Physics"}),s.jsx("option",{value:"Chemistry",children:"Chemistry"}),s.jsx("option",{value:"Biology",children:"Biology"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"}),s.jsx("option",{value:"English",children:"English"}),s.jsx("option",{value:"History",children:"History"}),s.jsx("option",{value:"Fine Arts",children:"Fine Arts"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Performance Rating"}),s.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),s.jsx("option",{value:"good",children:"Good (80-89%)"}),s.jsx("option",{value:"average",children:"Average (70-79%)"}),s.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Schedule Status"}),s.jsx("option",{value:"teaching-now",children:"Teaching Now"}),s.jsx("option",{value:"free-now",children:"Free Now"}),s.jsx("option",{value:"on-break",children:"On Break"})]}),s.jsx(P8,{buttonText:"Generate Teacher ID",defaultRole:"Teacher",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-indigo-600 hover:bg-indigo-700"})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-yellow-50 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Teacher"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Performance"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Schedule Today"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Subject & Dept"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Qualifications"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Evaluation"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Experience"}),s.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:h.map(x=>s.jsxs("tr",{className:"hover:bg-yellow-50 transition-colors border-b border-gray-100",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-200 flex items-center justify-center font-semibold text-yellow-700 flex-shrink-0",children:(x.name||"NA").split(" ").map(v=>v[0]).join("")}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:x.name}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",x.empId]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("a",{href:`mailto:${x.email}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 truncate",children:[s.jsx(Yi,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate max-w-[120px]",children:x.email})]}),s.jsxs("a",{href:`tel:${x.mobile}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 flex-shrink-0",children:[s.jsx(Mi,{size:12}),x.mobile]})]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const v=m();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{size:14,className:"text-green-600"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[v.studentSatisfaction,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Satisfaction"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ya,{size:14,className:"text-blue-600"}),s.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[v.classAttendance,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[v.totalStudents," students"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const v=f();return v.length===0?s.jsx("span",{className:"text-sm text-gray-400 italic",children:"No classes today"}):s.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[v.slice(0,2).map((j,b)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{size:12,className:"text-purple-600"}),s.jsx("span",{className:"text-xs text-gray-700",children:j.time}),s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:j.class})]},b)),v.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",v.length-2," more"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qr,{size:14,className:"text-blue-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:x.subject})]}),s.jsx("div",{className:"text-sm text-gray-600",children:x.department}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",x.joiningDate?new Date(x.joiningDate).toLocaleDateString():""]})]})}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const v=A();return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{size:14,className:"text-indigo-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:x.qualification})]}),v.slice(0,2).map((j,b)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${j.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:j.status==="verified"?"Verified":"Pending"}),s.jsx("span",{className:"text-xs text-gray-600 truncate",children:j.name})]},b))]})})()}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const v=g();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((j,b)=>s.jsx(ds,{size:14,className:b<v.overallRating?"text-yellow-400 fill-current":"text-gray-300"},b)),s.jsxs("span",{className:"text-sm font-semibold ml-1",children:[v.overallRating,"/5"]})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(v.lastEvaluation).toLocaleDateString()]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",v.evaluatedBy]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{size:14,className:"text-orange-600"}),s.jsx("span",{className:"font-semibold text-gray-900",children:"5 years"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-5]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:s.jsx(Mn,{size:14})}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:s.jsx(dr,{size:14})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:s.jsx(kr,{size:14})}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Qualifications",children:s.jsx(Yn,{size:14})}),s.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Teacher",children:s.jsx(_w,{size:14})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:s.jsx(md,{size:14})})]})})]},x._id||x.id))})]})})}),s.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-gray-600",children:["Showing ",h.length," of ",i.length," teachers"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Previous"}),s.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Next"})]})]})})]})})},kPe=({setShowAdminHeader:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState("All"),[i,o]=F.useState([]),[l,c]=F.useState(!1),[d,u]=F.useState({name:"",email:"",phone:"",position:"",department:"",experience:"",qualification:"",salary:"",rating:"",status:"Active",joinDate:"",location:"",avatar:""}),h=i.filter(v=>{const j=v.name.toLowerCase().includes(e.toLowerCase())||v.position.toLowerCase().includes(e.toLowerCase())||v.email.toLowerCase().includes(e.toLowerCase()),b=n==="All"||v.status===n;return j&&b}),m=()=>({taskCompletionRate:Math.floor(Math.random()*20)+80,attendanceRate:Math.floor(Math.random()*15)+85,projectsCompleted:Math.floor(Math.random()*10)+5,avgResponseTime:Math.floor(Math.random()*20)+10,totalTasks:Math.floor(Math.random()*50)+20,activeProjects:Math.floor(Math.random()*5)+1}),f=()=>[{time:"09:00-10:00",task:"Admin Meeting",location:"Conference Room A"},{time:"10:00-11:00",task:"Budget Review",location:"Office 205"},{time:"11:30-12:30",task:"Staff Training",location:"Training Room"},{time:"14:00-15:00",task:"Facilities Inspection",location:"Ground Floor"}].slice(0,Math.floor(Math.random()*3)+1),A=()=>[{name:"Administrative Management",year:"2018",status:"verified"},{name:"Safety Training Certificate",year:"2020",status:"verified"},{name:"Leadership Development",year:"2022",status:"pending"},{name:"Digital Workflow Management",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),g=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"HR Manager",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1}),x=[{id:1,name:"Priya Sharma",empId:"EMP001",email:"priya.sharma@eec.edu",mobile:"+91-98765-43210",position:"Administrative Manager",department:"Administration",qualification:"MBA in Management",experience:8,joiningDate:"2016-03-15",status:"Active",salary:65e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"15/2, MG Road, Bengaluru, Karnataka 560001"},{id:2,name:"Rajesh Kumar",empId:"EMP002",email:"rajesh.kumar@eec.edu",mobile:"+91-98765-43211",position:"IT Support Specialist",department:"IT Support",qualification:"BE Computer Science",experience:5,joiningDate:"2019-06-20",status:"Active",salary:52e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"42, Sector 14, Gurgaon, Haryana 122001"},{id:3,name:"Anita Patel",empId:"EMP003",email:"anita.patel@eec.edu",mobile:"+91-98765-43212",position:"HR Coordinator",department:"Human Resources",qualification:"MA Human Resources",experience:6,joiningDate:"2018-01-10",status:"Active",salary:58e4,attendanceToday:"Absent",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-30",address:"78, Koregaon Park, Pune, Maharashtra 411001"},{id:4,name:"Suresh Gupta",empId:"EMP004",email:"suresh.gupta@eec.edu",mobile:"+91-98765-43213",position:"Finance Officer",department:"Finance",qualification:"CA, B.Com Accounting",experience:10,joiningDate:"2014-09-01",status:"Active",salary:72e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"23, CP Tank, Mumbai, Maharashtra 400004"},{id:5,name:"Kavita Singh",empId:"EMP005",email:"kavita.singh@eec.edu",mobile:"+91-98765-43214",position:"Library Assistant",department:"Library",qualification:"MLIS",experience:4,joiningDate:"2020-08-15",status:"Active",salary:42e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"56, Lajpat Nagar, New Delhi 110024"},{id:6,name:"Ravi Krishnan",empId:"EMP006",email:"ravi.krishnan@eec.edu",mobile:"+91-98765-43215",position:"Security Supervisor",department:"Security",qualification:"Security Management Certificate",experience:12,joiningDate:"2012-04-20",status:"Active",salary:48e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-28",address:"89, T Nagar, Chennai, Tamil Nadu 600017"},{id:7,name:"Meera Nair",empId:"EMP007",email:"meera.nair@eec.edu",mobile:"+91-98765-43216",position:"Maintenance Coordinator",department:"Maintenance",qualification:"Facilities Management Certificate",experience:7,joiningDate:"2017-11-30",status:"Active",salary:45e4,attendanceToday:"Absent",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"12, Marine Drive, Kochi, Kerala 682031"},{id:8,name:"Arjun Reddy",empId:"EMP008",email:"arjun.reddy@eec.edu",mobile:"+91-98765-43217",position:"Cafeteria Manager",department:"Cafeteria",qualification:"Food Service Management",experience:9,joiningDate:"2015-02-14",status:"Active",salary:5e5,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"34, Jubilee Hills, Hyderabad, Telangana 500033"},{id:9,name:"Deepika Joshi",empId:"EMP009",email:"deepika.joshi@eec.edu",mobile:"+91-98765-43218",position:"Executive Assistant",department:"Administration",qualification:"BA Business Administration",experience:6,joiningDate:"2018-07-25",status:"On Leave",salary:47e4,attendanceToday:"Absent",lastSalaryDate:"2023-12-01",paymentStatus:"Due",nextPaymentDue:"2024-01-25",address:"67, Aundh, Pune, Maharashtra 411007"},{id:10,name:"Kevin Brown",empId:"EMP010",email:"kevin.brown@eec.edu",mobile:"+1-555-0110",position:"Network Administrator",department:"IT Support",qualification:"MS Information Systems",experience:8,joiningDate:"2016-12-05",status:"Active",salary:68e3,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01"},{id:11,name:"Sneha Agarwal",empId:"EMP011",email:"sneha.agarwal@eec.edu",mobile:"+91-98765-43220",position:"Accounts Payable Clerk",department:"Finance",qualification:"B.Com Accounting",experience:3,joiningDate:"2021-05-10",status:"Active",salary:38e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-31",address:"45, Civil Lines, Jaipur, Rajasthan 302006"},{id:12,name:"Ramesh Yadav",empId:"EMP012",email:"ramesh.yadav@eec.edu",mobile:"+91-98765-43221",position:"Groundskeeper",department:"Maintenance",qualification:"Landscaping Certificate",experience:5,joiningDate:"2019-03-20",status:"Active",salary:35e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"128, Gomti Nagar, Lucknow, Uttar Pradesh 226010"}];return F.useEffect(()=>{t(!1),o(x)},[t]),s.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex flex-col",children:s.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 shadow-2xlborder border-blue-200 overflow-hidden p-5",children:[s.jsxs("div",{className:"flex-shrink-0 p- bg-white/90 border-b border-blue-100",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{className:"flex items-center gap-75",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:"Staff Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage administrative staff performance, schedules, and evaluations"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pr,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Staff"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(iA,{className:"w-8 h-8 text-green-500"}),s.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(v=>v.attendanceToday==="Present").length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Present Today"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Ka,{className:"w-8 h-8 text-red-500"}),s.jsx("span",{className:"text-sm font-semibold text-red-600 mt-1",children:i.filter(v=>v.attendanceToday==="Absent").length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Absent Today"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dh,{className:"w-8 h-8 text-green-500"}),s.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(v=>v.paymentStatus==="Paid").length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Payments Paid"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Vo,{className:"w-8 h-8 text-orange-500"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:i.filter(v=>v.paymentStatus==="Due").length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Payments Due"})]})]})]})}),s.jsxs("div",{className:"mb-6 flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search staff...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:v=>r(v.target.value)})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:v=>a(v.target.value),children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"On Leave",children:"On Leave"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Departments"}),s.jsx("option",{value:"Administration",children:"Administration"}),s.jsx("option",{value:"Human Resources",children:"Human Resources"}),s.jsx("option",{value:"Finance",children:"Finance"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"IT Support",children:"IT Support"}),s.jsx("option",{value:"Security",children:"Security"}),s.jsx("option",{value:"Library",children:"Library"}),s.jsx("option",{value:"Cafeteria",children:"Cafeteria"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Performance Rating"}),s.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),s.jsx("option",{value:"good",children:"Good (80-89%)"}),s.jsx("option",{value:"average",children:"Average (70-79%)"}),s.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Attendance"}),s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Payment Status"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"due",children:"Due"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-blue-50 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Staff Member"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Attendance"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Payment Status"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Performance"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Schedule Today"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Position & Dept"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Qualifications"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Experience"}),s.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:h.map(v=>s.jsxs("tr",{className:"hover:bg-blue-50 transition-colors border-b border-gray-100",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-200 flex items-center justify-center font-semibold text-blue-700 flex-shrink-0",children:v.name.split(" ").map(j=>j[0]).join("")}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:v.name}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",v.empId]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("a",{href:`mailto:${v.email}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 truncate",children:[s.jsx(Yi,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate max-w-[120px]",children:v.email})]}),s.jsxs("a",{href:`tel:${v.mobile}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 flex-shrink-0",children:[s.jsx(Mi,{size:12}),v.mobile]})]})]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:v.attendanceToday==="Present"?s.jsxs(s.Fragment,{children:[s.jsx(iA,{size:16,className:"text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Present"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ka,{size:16,className:"text-red-600"}),s.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Absent"})]})}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Today's Status"})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:v.paymentStatus==="Paid"?s.jsxs(s.Fragment,{children:[s.jsx(iA,{size:14,className:"text-green-600"}),s.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Paid"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vo,{size:14,className:"text-orange-600"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600",children:"Due"})]})}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(v.lastSalaryDate).toLocaleDateString()]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Next: ",new Date(v.nextPaymentDue).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600",children:""}),s.jsx("span",{className:"text-xs text-gray-600",children:v.salary.toLocaleString()})]})]})}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const j=m();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{size:14,className:"text-green-600"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[j.taskCompletionRate,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Task Completion"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ya,{size:14,className:"text-blue-600"}),s.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[j.attendanceRate,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[j.totalTasks," tasks handled"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const j=f();return j.length===0?s.jsx("span",{className:"text-sm text-gray-400 italic",children:"No tasks today"}):s.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[j.slice(0,2).map((b,S)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{size:12,className:"text-purple-600"}),s.jsx("span",{className:"text-xs text-gray-700",children:b.time}),s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:b.task})]},S)),j.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",j.length-2," more"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aI,{size:14,className:"text-blue-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:v.position})]}),s.jsx("div",{className:"text-sm text-gray-600",children:v.department}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",new Date(v.joiningDate).toLocaleDateString()]})]})}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const j=A();return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{size:14,className:"text-indigo-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:v.qualification})]}),j.slice(0,2).map((b,S)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${b.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b.status==="verified"?"Verified":"Pending"}),s.jsx("span",{className:"text-xs text-gray-600 truncate",children:b.name})]},S))]})})()}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const j=g();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((b,S)=>s.jsx(ds,{size:14,className:S<j.overallRating?"text-yellow-400 fill-current":"text-gray-300"},S)),s.jsxs("span",{className:"text-sm font-semibold ml-1",children:[j.overallRating,"/5"]})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(j.lastEvaluation).toLocaleDateString()]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",j.evaluatedBy]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{size:14,className:"text-orange-600"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[v.experience," years"]})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-v.experience]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:s.jsx(Mn,{size:14})}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:s.jsx(dr,{size:14})}),s.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:s.jsx(kr,{size:14})}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Certifications",children:s.jsx(Yn,{size:14})}),s.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Staff Member",children:s.jsx(_w,{size:14})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:s.jsx(md,{size:14})})]})})]},v.id))})]})})}),s.jsx("div",{className:"flex-shrink-0 pt-7 bg-white/90 border-t border-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-black",children:["Showing ",h.length," of ",i.length," staff members"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Previous"}),s.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Next"})]})]})})]})})};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function Kte(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function BPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hV(t,e){return t.get(Kte(t,e))}function TPe(t,e,r){BPe(t,e),e.set(t,r)}function MPe(t,e,r){return t.set(Kte(t,e),r),r}const FPe=100,Gr={},PPe=()=>{Gr.previousActiveElement instanceof HTMLElement?(Gr.previousActiveElement.focus(),Gr.previousActiveElement=null):document.body&&document.body.focus()},IPe=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Gr.restoreFocusTimeout=setTimeout(()=>{PPe(),e()},FPe),window.scrollTo(r,n)}),Xte="swal2-",DPe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Et=DPe.reduce((t,e)=>(t[e]=Xte+e,t),{}),LPe=["success","warning","info","question","error"],pS=LPe.reduce((t,e)=>(t[e]=Xte+e,t),{}),Yte="SweetAlert2:",I8=t=>t.charAt(0).toUpperCase()+t.slice(1),Al=t=>{console.warn(`${Yte} ${typeof t=="object"?t.join(" "):t}`)},ZA=t=>{console.error(`${Yte} ${t}`)},fV=[],RPe=t=>{fV.includes(t)||(fV.push(t),Al(t))},Jte=(t,e=null)=>{RPe(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},q4=t=>typeof t=="function"?t():t,D8=t=>t&&typeof t.toPromise=="function",Gw=t=>D8(t)?t.toPromise():Promise.resolve(t),L8=t=>t&&Promise.resolve(t)===t,xl=()=>document.body.querySelector(`.${Et.container}`),Vw=t=>{const e=xl();return e?e.querySelector(t):null},kc=t=>Vw(`.${t}`),Zs=()=>kc(Et.popup),Xv=()=>kc(Et.icon),OPe=()=>kc(Et["icon-content"]),Zte=()=>kc(Et.title),R8=()=>kc(Et["html-container"]),ere=()=>kc(Et.image),O8=()=>kc(Et["progress-steps"]),K4=()=>kc(Et["validation-message"]),mh=()=>Vw(`.${Et.actions} .${Et.confirm}`),Yv=()=>Vw(`.${Et.actions} .${Et.cancel}`),ex=()=>Vw(`.${Et.actions} .${Et.deny}`),UPe=()=>kc(Et["input-label"]),Jv=()=>Vw(`.${Et.loader}`),Ww=()=>kc(Et.actions),tre=()=>kc(Et.footer),X4=()=>kc(Et["timer-progress-bar"]),U8=()=>kc(Et.close),HPe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,H8=()=>{const t=Zs();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),n=t.querySelectorAll(HPe),a=Array.from(n).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(i=>Gl(i))},Q8=()=>Ff(document.body,Et.shown)&&!Ff(document.body,Et["toast-shown"])&&!Ff(document.body,Et["no-backdrop"]),Y4=()=>{const t=Zs();return t?Ff(t,Et.toast):!1},QPe=()=>{const t=Zs();return t?t.hasAttribute("data-loading"):!1},Bc=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(o=>{t.appendChild(o)});const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Ff=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},zPe=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(Et).includes(r)&&!Object.values(pS).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},_c=(t,e,r)=>{if(zPe(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Al(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}an(t,n)}},J4=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Et.popup} > .${Et[e]}`);case"checkbox":return t.querySelector(`.${Et.popup} > .${Et.checkbox} input`);case"radio":return t.querySelector(`.${Et.popup} > .${Et.radio} input:checked`)||t.querySelector(`.${Et.popup} > .${Et.radio} input:first-child`);case"range":return t.querySelector(`.${Et.popup} > .${Et.range} input`);default:return t.querySelector(`.${Et.popup} > .${Et.input}`)}},rre=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},sre=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(a=>{r?a.classList.add(n):a.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},an=(t,e)=>{sre(t,e,!0)},gd=(t,e)=>{sre(t,e,!1)},em=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const a=r[n];if(a instanceof HTMLElement&&Ff(a,e))return a}},pA=(t,e,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},Zi=(t,e="flex")=>{t&&(t.style.display=e)},Yo=t=>{t&&(t.style.display="none")},z8=(t,e="block")=>{t&&new MutationObserver(()=>{qw(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},mV=(t,e,r,n)=>{const a=t.querySelector(e);a&&a.style.setProperty(r,n)},qw=(t,e,r="flex")=>{e?Zi(t,r):Yo(t)},Gl=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),$Pe=()=>!Gl(mh())&&!Gl(ex())&&!Gl(Yv()),sP=t=>t.scrollHeight>t.clientHeight,GPe=(t,e)=>{let r=t;for(;r&&r!==e;){if(sP(r))return!0;r=r.parentElement}return!1},nre=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},$8=(t,e=!1)=>{const r=X4();r&&Gl(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},VPe=()=>{const t=X4();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},WPe=()=>typeof window>"u"||typeof document>"u",qPe=`
 <div aria-labelledby="${Et.title}" aria-describedby="${Et["html-container"]}" class="${Et.popup}" tabindex="-1">
   <button type="button" class="${Et.close}"></button>
   <ul class="${Et["progress-steps"]}"></ul>
   <div class="${Et.icon}"></div>
   <img class="${Et.image}" />
   <h2 class="${Et.title}" id="${Et.title}"></h2>
   <div class="${Et["html-container"]}" id="${Et["html-container"]}"></div>
   <input class="${Et.input}" id="${Et.input}" />
   <input type="file" class="${Et.file}" />
   <div class="${Et.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Et.select}" id="${Et.select}"></select>
   <div class="${Et.radio}"></div>
   <label class="${Et.checkbox}">
     <input type="checkbox" id="${Et.checkbox}" />
     <span class="${Et.label}"></span>
   </label>
   <textarea class="${Et.textarea}" id="${Et.textarea}"></textarea>
   <div class="${Et["validation-message"]}" id="${Et["validation-message"]}"></div>
   <div class="${Et.actions}">
     <div class="${Et.loader}"></div>
     <button type="button" class="${Et.confirm}"></button>
     <button type="button" class="${Et.deny}"></button>
     <button type="button" class="${Et.cancel}"></button>
   </div>
   <div class="${Et.footer}"></div>
   <div class="${Et["timer-progress-bar-container"]}">
     <div class="${Et["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),KPe=()=>{const t=xl();return t?(t.remove(),gd([document.documentElement,document.body],[Et["no-backdrop"],Et["toast-shown"],Et["has-column"]]),!0):!1},kp=()=>{Gr.currentInstance.resetValidationMessage()},XPe=()=>{const t=Zs(),e=em(t,Et.input),r=em(t,Et.file),n=t.querySelector(`.${Et.range} input`),a=t.querySelector(`.${Et.range} output`),i=em(t,Et.select),o=t.querySelector(`.${Et.checkbox} input`),l=em(t,Et.textarea);e.oninput=kp,r.onchange=kp,i.onchange=kp,o.onchange=kp,l.oninput=kp,n.oninput=()=>{kp(),a.value=n.value},n.onchange=()=>{kp(),a.value=n.value}},YPe=t=>typeof t=="string"?document.querySelector(t):t,JPe=t=>{const e=Zs();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},ZPe=t=>{window.getComputedStyle(t).direction==="rtl"&&an(xl(),Et.rtl)},eIe=t=>{const e=KPe();if(WPe()){ZA("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=Et.container,e&&an(r,Et["no-transition"]),Bc(r,qPe),r.dataset.swal2Theme=t.theme;const n=YPe(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),JPe(t),ZPe(n),XPe()},G8=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tIe(t,e):t&&Bc(e,t)},tIe=(t,e)=>{t.jquery?rIe(e,t):Bc(e,t.toString())},rIe=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},sIe=(t,e)=>{const r=Ww(),n=Jv();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Yo(r):Zi(r),_c(r,e,"actions"),nIe(r,n,e),Bc(n,e.loaderHtml||""),_c(n,e,"loader"))};function nIe(t,e,r){const n=mh(),a=ex(),i=Yv();!n||!a||!i||(wB(n,"confirm",r),wB(a,"deny",r),wB(i,"cancel",r),aIe(n,a,i,r),r.reverseButtons&&(r.toast?(t.insertBefore(i,n),t.insertBefore(a,n)):(t.insertBefore(i,e),t.insertBefore(a,e),t.insertBefore(n,e))))}function aIe(t,e,r,n){if(!n.buttonsStyling){gd([t,e,r],Et.styled);return}an([t,e,r],Et.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),bB(t),bB(e),bB(r)}function bB(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function wB(t,e,r){const n=I8(e);qw(t,r[`show${n}Button`],"inline-block"),Bc(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=Et[e],_c(t,r,`${e}Button`)}const iIe=(t,e)=>{const r=U8();r&&(Bc(r,e.closeButtonHtml||""),_c(r,e,"closeButton"),qw(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},oIe=(t,e)=>{const r=xl();r&&(lIe(r,e.backdrop),cIe(r,e.position),dIe(r,e.grow),_c(r,e,"container"))};function lIe(t,e){typeof e=="string"?t.style.background=e:e||an([document.documentElement,document.body],Et["no-backdrop"])}function cIe(t,e){e&&(e in Et?an(t,Et[e]):(Al('The "position" parameter is not valid, defaulting to "center"'),an(t,Et.center)))}function dIe(t,e){e&&an(t,Et[`grow-${e}`])}var Jn={innerParams:new WeakMap,domCache:new WeakMap};const uIe=["input","file","range","select","radio","checkbox","textarea"],hIe=(t,e)=>{const r=Zs();if(!r)return;const n=Jn.innerParams.get(t),a=!n||e.input!==n.input;uIe.forEach(i=>{const o=em(r,Et[i]);o&&(pIe(i,e.inputAttributes),o.className=Et[i],a&&Yo(o))}),e.input&&(a&&fIe(e),AIe(e))},fIe=t=>{if(!t.input)return;if(!za[t.input]){ZA(`Unexpected type of input! Expected ${Object.keys(za).join(" | ")}, got "${t.input}"`);return}const e=are(t.input);if(!e)return;const r=za[t.input](e,t);Zi(e),t.inputAutoFocus&&setTimeout(()=>{rre(r)})},mIe=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},pIe=(t,e)=>{const r=Zs();if(!r)return;const n=J4(r,t);if(n){mIe(n);for(const a in e)n.setAttribute(a,e[a])}},AIe=t=>{if(!t.input)return;const e=are(t.input);e&&_c(e,t,"input")},V8=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Kw=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),a=Et["input-label"];n.setAttribute("for",t.id),n.className=a,typeof r.customClass=="object"&&an(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},are=t=>{const e=Zs();if(e)return em(e,Et[t]||Et.input)},AS=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:L8(e)||Al(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},za={};za.text=za.email=za.password=za.number=za.tel=za.url=za.search=za.date=za["datetime-local"]=za.time=za.week=za.month=(t,e)=>(AS(t,e.inputValue),Kw(t,t,e),V8(t,e),t.type=e.input,t);za.file=(t,e)=>(Kw(t,t,e),V8(t,e),t);za.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return AS(r,e.inputValue),r.type=e.input,AS(n,e.inputValue),Kw(r,t,e),t};za.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");Bc(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return Kw(t,t,e),t};za.radio=t=>(t.textContent="",t);za.checkbox=(t,e)=>{const r=J4(Zs(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return Bc(n,e.inputPlaceholder||e.inputLabel),r};za.textarea=(t,e)=>{AS(t,e.inputValue),V8(t,e),Kw(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Zs()).width),a=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+r(t);i>n?Zs().style.width=`${i}px`:pA(Zs(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const xIe=(t,e)=>{const r=R8();r&&(z8(r),_c(r,e,"htmlContainer"),e.html?(G8(e.html,r),Zi(r,"block")):e.text?(r.textContent=e.text,Zi(r,"block")):Yo(r),hIe(t,e))},gIe=(t,e)=>{const r=tre();r&&(z8(r),qw(r,!!e.footer,"block"),e.footer&&G8(e.footer,r),_c(r,e,"footer"))},vIe=(t,e)=>{const r=Jn.innerParams.get(t),n=Xv();if(!n)return;if(r&&e.icon===r.icon){AV(n,e),pV(n,e);return}if(!e.icon&&!e.iconHtml){Yo(n);return}if(e.icon&&Object.keys(pS).indexOf(e.icon)===-1){ZA(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Yo(n);return}Zi(n),AV(n,e),pV(n,e),an(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ire)},pV=(t,e)=>{for(const[r,n]of Object.entries(pS))e.icon!==r&&gd(t,n);an(t,e.icon&&pS[e.icon]),wIe(t,e),ire(),_c(t,e,"icon")},ire=()=>{const t=Zs();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},yIe=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,bIe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,AV=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=xV(e.iconHtml):e.icon==="success"?(n=yIe(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=bIe:e.icon&&(n=xV({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&Bc(t,n)},wIe=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mV(t,r,"background-color",e.iconColor);mV(t,".swal2-success-ring","border-color",e.iconColor)}},xV=t=>`<div class="${Et["icon-content"]}">${t}</div>`,jIe=(t,e)=>{const r=ere();if(r){if(!e.imageUrl){Yo(r);return}Zi(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),pA(r,"width",e.imageWidth),pA(r,"height",e.imageHeight),r.className=Et.image,_c(r,e,"image")}};let W8=!1,ore=0,lre=0,cre=0,dre=0;const NIe=t=>{t.addEventListener("mousedown",xS),document.body.addEventListener("mousemove",gS),t.addEventListener("mouseup",vS),t.addEventListener("touchstart",xS),document.body.addEventListener("touchmove",gS),t.addEventListener("touchend",vS)},SIe=t=>{t.removeEventListener("mousedown",xS),document.body.removeEventListener("mousemove",gS),t.removeEventListener("mouseup",vS),t.removeEventListener("touchstart",xS),document.body.removeEventListener("touchmove",gS),t.removeEventListener("touchend",vS)},xS=t=>{const e=Zs();if(t.target===e||Xv().contains(t.target)){W8=!0;const r=ure(t);ore=r.clientX,lre=r.clientY,cre=parseInt(e.style.insetInlineStart)||0,dre=parseInt(e.style.insetBlockStart)||0,an(e,"swal2-dragging")}},gS=t=>{const e=Zs();if(W8){let{clientX:r,clientY:n}=ure(t);e.style.insetInlineStart=`${cre+(r-ore)}px`,e.style.insetBlockStart=`${dre+(n-lre)}px`}},vS=()=>{const t=Zs();W8=!1,gd(t,"swal2-dragging")},ure=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},_Ie=(t,e)=>{const r=xl(),n=Zs();if(!(!r||!n)){if(e.toast){pA(r,"width",e.width),n.style.width="100%";const a=Jv();a&&n.insertBefore(a,Xv())}else pA(n,"width",e.width);pA(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Yo(K4()),CIe(n,e),e.draggable&&!e.toast?(an(n,Et.draggable),NIe(n)):(gd(n,Et.draggable),SIe(n))}},CIe=(t,e)=>{const r=e.showClass||{};t.className=`${Et.popup} ${Gl(t)?r.popup:""}`,e.toast?(an([document.documentElement,document.body],Et["toast-shown"]),an(t,Et.toast)):an(t,Et.modal),_c(t,e,"popup"),typeof e.customClass=="string"&&an(t,e.customClass),e.icon&&an(t,Et[`icon-${e.icon}`])},EIe=(t,e)=>{const r=O8();if(!r)return;const{progressSteps:n,currentProgressStep:a}=e;if(!n||n.length===0||a===void 0){Yo(r);return}Zi(r),r.textContent="",a>=n.length&&Al("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((i,o)=>{const l=kIe(i);if(r.appendChild(l),o===a&&an(l,Et["active-progress-step"]),o!==n.length-1){const c=BIe(e);r.appendChild(c)}})},kIe=t=>{const e=document.createElement("li");return an(e,Et["progress-step"]),Bc(e,t),e},BIe=t=>{const e=document.createElement("li");return an(e,Et["progress-step-line"]),t.progressStepsDistance&&pA(e,"width",t.progressStepsDistance),e},TIe=(t,e)=>{const r=Zte();r&&(z8(r),qw(r,!!(e.title||e.titleText),"block"),e.title&&G8(e.title,r),e.titleText&&(r.innerText=e.titleText),_c(r,e,"title"))},hre=(t,e)=>{_Ie(t,e),oIe(t,e),EIe(t,e),vIe(t,e),jIe(t,e),TIe(t,e),iIe(t,e),xIe(t,e),sIe(t,e),gIe(t,e);const r=Zs();typeof e.didRender=="function"&&r&&e.didRender(r),Gr.eventEmitter.emit("didRender",r)},MIe=()=>Gl(Zs()),fre=()=>{var t;return(t=mh())===null||t===void 0?void 0:t.click()},FIe=()=>{var t;return(t=ex())===null||t===void 0?void 0:t.click()},PIe=()=>{var t;return(t=Yv())===null||t===void 0?void 0:t.click()},Zv=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mre=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},IIe=(t,e,r)=>{mre(t),e.toast||(t.keydownHandler=n=>LIe(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:Zs(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},nP=(t,e)=>{var r;const n=H8();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=Zs())===null||r===void 0||r.focus()},pre=["ArrowRight","ArrowDown"],DIe=["ArrowLeft","ArrowUp"],LIe=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?RIe(e,t):e.key==="Tab"?OIe(e):[...pre,...DIe].includes(e.key)?UIe(e.key):e.key==="Escape"&&HIe(e,t,r)))},RIe=(t,e)=>{if(!q4(e.allowEnterKey))return;const r=J4(Zs(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;fre(),t.preventDefault()}},OIe=t=>{const e=t.target,r=H8();let n=-1;for(let a=0;a<r.length;a++)if(e===r[a]){n=a;break}t.shiftKey?nP(n,-1):nP(n,1),t.stopPropagation(),t.preventDefault()},UIe=t=>{const e=Ww(),r=mh(),n=ex(),a=Yv();if(!e||!r||!n||!a)return;const i=[r,n,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=pre.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&Gl(l))break}l instanceof HTMLButtonElement&&l.focus()}},HIe=(t,e,r)=>{t.preventDefault(),q4(e.allowEscapeKey)&&r(Zv.esc)};var Cv={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const QIe=()=>{const t=xl();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},Are=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},xre=typeof window<"u"&&!!window.GestureEvent,zIe=()=>{if(xre&&!Ff(document.body,Et.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,an(document.body,Et.iosfix),$Ie()}},$Ie=()=>{const t=xl();if(!t)return;let e;t.ontouchstart=r=>{e=GIe(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},GIe=t=>{const e=t.target,r=xl(),n=R8();return!r||!n||VIe(t)||WIe(t)?!1:e===r||!sP(r)&&e instanceof HTMLElement&&!GPe(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(sP(n)&&n.contains(e))},VIe=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",WIe=t=>t.touches&&t.touches.length>1,qIe=()=>{if(Ff(document.body,Et.iosfix)){const t=parseInt(document.body.style.top,10);gd(document.body,Et.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},KIe=()=>{const t=document.createElement("div");t.className=Et["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Bg=null;const XIe=t=>{Bg===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Bg=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bg+KIe()}px`)},YIe=()=>{Bg!==null&&(document.body.style.paddingRight=`${Bg}px`,Bg=null)};function gre(t,e,r,n){Y4()?gV(t,n):(IPe(r).then(()=>gV(t,n)),mre(Gr)),xre?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Q8()&&(YIe(),qIe(),Are()),JIe()}function JIe(){gd([document.documentElement,document.body],[Et.shown,Et["height-auto"],Et["no-backdrop"],Et["toast-shown"]])}function tm(t){t=e8e(t);const e=Cv.swalPromiseResolve.get(this),r=ZIe(this);this.isAwaitingPromise?t.isDismissed||(Xw(this),e(t)):r&&e(t)}const ZIe=t=>{const e=Zs();if(!e)return!1;const r=Jn.innerParams.get(t);if(!r||Ff(e,r.hideClass.popup))return!1;gd(e,r.showClass.popup),an(e,r.hideClass.popup);const n=xl();return gd(n,r.showClass.backdrop),an(n,r.hideClass.backdrop),t8e(t,e,r),!0};function vre(t){const e=Cv.swalPromiseReject.get(this);Xw(this),e&&e(t)}const Xw=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Jn.innerParams.get(t)||t._destroy())},e8e=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),t8e=(t,e,r)=>{var n;const a=xl(),i=nre(e);typeof r.willClose=="function"&&r.willClose(e),(n=Gr.eventEmitter)===null||n===void 0||n.emit("willClose",e),i?r8e(t,e,a,r.returnFocus,r.didClose):gre(t,a,r.returnFocus,r.didClose)},r8e=(t,e,r,n,a)=>{Gr.swalCloseEventFinishedCallback=gre.bind(null,t,r,n,a);const i=function(o){if(o.target===e){var l;(l=Gr.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Gr),delete Gr.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},gV=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Gr.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},Ev=t=>{let e=Zs();if(e||new es,e=Zs(),!e)return;const r=Jv();Y4()?Yo(Xv()):s8e(e,t),Zi(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},s8e=(t,e)=>{const r=Ww(),n=Jv();!r||!n||(!e&&Gl(mh())&&(e=mh()),Zi(r),e&&(Yo(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),an([t,r],Et.loading))},n8e=(t,e)=>{e.input==="select"||e.input==="radio"?c8e(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(D8(e.inputValue)||L8(e.inputValue))&&(Ev(mh()),d8e(t,e))},a8e=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return i8e(r);case"radio":return o8e(r);case"file":return l8e(r);default:return e.inputAutoTrim?r.value.trim():r.value}},i8e=t=>t.checked?1:0,o8e=t=>t.checked?t.value:null,l8e=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,c8e=(t,e)=>{const r=Zs();if(!r)return;const n=a=>{e.input==="select"?u8e(r,yS(a),e):e.input==="radio"&&h8e(r,yS(a),e)};D8(e.inputOptions)||L8(e.inputOptions)?(Ev(mh()),Gw(e.inputOptions).then(a=>{t.hideLoading(),n(a)})):typeof e.inputOptions=="object"?n(e.inputOptions):ZA(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},d8e=(t,e)=>{const r=t.getInput();r&&(Yo(r),Gw(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Zi(r),r.focus(),t.hideLoading()}).catch(n=>{ZA(`Error in inputValue promise: ${n}`),r.value="",Zi(r),r.focus(),t.hideLoading()}))};function u8e(t,e,r){const n=em(t,Et.select);if(!n)return;const a=(i,o,l)=>{const c=document.createElement("option");c.value=l,Bc(c,o),c.selected=yre(l,r.inputValue),i.appendChild(c)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,n.appendChild(c),l.forEach(d=>a(c,d[1],d[0]))}else a(n,l,o)}),n.focus()}function h8e(t,e,r){const n=em(t,Et.radio);if(!n)return;e.forEach(i=>{const o=i[0],l=i[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=Et.radio,c.value=o,yre(o,r.inputValue)&&(c.checked=!0);const u=document.createElement("span");Bc(u,l),u.className=Et.label,d.appendChild(c),d.appendChild(u),n.appendChild(d)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const yS=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let a=r;typeof a=="object"&&(a=yS(a)),e.push([n,a])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=yS(n)),e.push([r,n])}),e},yre=(t,e)=>!!e&&e.toString()===t.toString(),f8e=t=>{const e=Jn.innerParams.get(t);t.disableButtons(),e.input?bre(t,"confirm"):K8(t,!0)},m8e=t=>{const e=Jn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?bre(t,"deny"):q8(t,!1)},p8e=(t,e)=>{t.disableButtons(),e(Zv.cancel)},bre=(t,e)=>{const r=Jn.innerParams.get(t);if(!r.input){ZA(`The "input" parameter is needed to be set when using returnInputValueOn${I8(e)}`);return}const n=t.getInput(),a=a8e(t,r);r.inputValidator?A8e(t,a,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?q8(t,a):K8(t,a)},A8e=(t,e,r)=>{const n=Jn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Gw(n.inputValidator(e,n.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):r==="deny"?q8(t,e):K8(t,e)})},q8=(t,e)=>{const r=Jn.innerParams.get(t||void 0);r.showLoaderOnDeny&&Ev(ex()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Gw(r.preDeny(e,r.validationMessage))).then(a=>{a===!1?(t.hideLoading(),Xw(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>wre(t||void 0,a))):t.close({isDenied:!0,value:e})},vV=(t,e)=>{t.close({isConfirmed:!0,value:e})},wre=(t,e)=>{t.rejectPromise(e)},K8=(t,e)=>{const r=Jn.innerParams.get(t||void 0);r.showLoaderOnConfirm&&Ev(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Gw(r.preConfirm(e,r.validationMessage))).then(a=>{Gl(K4())||a===!1?(t.hideLoading(),Xw(t)):vV(t,typeof a>"u"?e:a)}).catch(a=>wre(t||void 0,a))):vV(t,e)};function bS(){const t=Jn.innerParams.get(this);if(!t)return;const e=Jn.domCache.get(this);Yo(e.loader),Y4()?t.icon&&Zi(Xv()):x8e(e),gd([e.popup,e.actions],Et.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const x8e=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Zi(e[0],"inline-block"):$Pe()&&Yo(t.actions)};function jre(){const t=Jn.innerParams.get(this),e=Jn.domCache.get(this);return e?J4(e.popup,t.input):null}function Nre(t,e,r){const n=Jn.domCache.get(t);e.forEach(a=>{n[a].disabled=r})}function Sre(t,e){const r=Zs();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${Et.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=e}else t.disabled=e}function _re(){Nre(this,["confirmButton","denyButton","cancelButton"],!1)}function Cre(){Nre(this,["confirmButton","denyButton","cancelButton"],!0)}function Ere(){Sre(this.getInput(),!1)}function kre(){Sre(this.getInput(),!0)}function Bre(t){const e=Jn.domCache.get(this),r=Jn.innerParams.get(this);Bc(e.validationMessage,t),e.validationMessage.className=Et["validation-message"],r.customClass&&r.customClass.validationMessage&&an(e.validationMessage,r.customClass.validationMessage),Zi(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Et["validation-message"]),rre(n),an(n,Et.inputerror))}function Tre(){const t=Jn.domCache.get(this);t.validationMessage&&Yo(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),gd(e,Et.inputerror))}const Tg={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},g8e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],v8e={allowEnterKey:void 0},y8e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mre=t=>Object.prototype.hasOwnProperty.call(Tg,t),Fre=t=>g8e.indexOf(t)!==-1,Pre=t=>v8e[t],b8e=t=>{Mre(t)||Al(`Unknown parameter "${t}"`)},w8e=t=>{y8e.includes(t)&&Al(`The parameter "${t}" is incompatible with toasts`)},j8e=t=>{const e=Pre(t);e&&Jte(t,e)},Ire=t=>{t.backdrop===!1&&t.allowOutsideClick&&Al('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Al(`Invalid theme "${t.theme}"`);for(const e in t)b8e(e),t.toast&&w8e(e),j8e(e)};function Dre(t){const e=xl(),r=Zs(),n=Jn.innerParams.get(this);if(!r||Ff(r,n.hideClass.popup)){Al("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=N8e(t),i=Object.assign({},n,a);Ire(i),e.dataset.swal2Theme=i.theme,hre(this,i),Jn.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const N8e=t=>{const e={};return Object.keys(t).forEach(r=>{Fre(r)?e[r]=t[r]:Al(`Invalid parameter to update: ${r}`)}),e};function Lre(){const t=Jn.domCache.get(this),e=Jn.innerParams.get(this);if(!e){Rre(this);return}t.popup&&Gr.swalCloseEventFinishedCallback&&(Gr.swalCloseEventFinishedCallback(),delete Gr.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Gr.eventEmitter.emit("didDestroy"),S8e(this)}const S8e=t=>{Rre(t),delete t.params,delete Gr.keydownHandler,delete Gr.keydownTarget,delete Gr.currentInstance},Rre=t=>{t.isAwaitingPromise?(jB(Jn,t),t.isAwaitingPromise=!0):(jB(Cv,t),jB(Jn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},jB=(t,e)=>{for(const r in t)t[r].delete(e)};var _8e=Object.freeze({__proto__:null,_destroy:Lre,close:tm,closeModal:tm,closePopup:tm,closeToast:tm,disableButtons:Cre,disableInput:kre,disableLoading:bS,enableButtons:_re,enableInput:Ere,getInput:jre,handleAwaitingPromise:Xw,hideLoading:bS,rejectPromise:vre,resetValidationMessage:Tre,showValidationMessage:Bre,update:Dre});const C8e=(t,e,r)=>{t.toast?E8e(t,e,r):(B8e(e),T8e(e),M8e(t,e,r))},E8e=(t,e,r)=>{e.popup.onclick=()=>{t&&(k8e(t)||t.timer||t.input)||r(Zv.close)}},k8e=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let wS=!1;const B8e=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(wS=!0)}}},T8e=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(wS=!0)}}},M8e=(t,e,r)=>{e.container.onclick=n=>{if(wS){wS=!1;return}n.target===e.container&&q4(t.allowOutsideClick)&&r(Zv.backdrop)}},F8e=t=>typeof t=="object"&&t.jquery,yV=t=>t instanceof Element||F8e(t),P8e=t=>{const e={};return typeof t[0]=="object"&&!yV(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const a=t[n];typeof a=="string"||yV(a)?e[r]=a:a!==void 0&&ZA(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),e};function I8e(...t){return new this(...t)}function D8e(t){class e extends this{_main(n,a){return super._main(n,Object.assign({},t,a))}}return e}const L8e=()=>Gr.timeout&&Gr.timeout.getTimerLeft(),Ore=()=>{if(Gr.timeout)return VPe(),Gr.timeout.stop()},Ure=()=>{if(Gr.timeout){const t=Gr.timeout.start();return $8(t),t}},R8e=()=>{const t=Gr.timeout;return t&&(t.running?Ore():Ure())},O8e=t=>{if(Gr.timeout){const e=Gr.timeout.increase(t);return $8(e,!0),e}},U8e=()=>!!(Gr.timeout&&Gr.timeout.isRunning());let bV=!1;const aP={};function H8e(t="data-swal-template"){aP[t]=this,bV||(document.body.addEventListener("click",Q8e),bV=!0)}const Q8e=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in aP){const n=e.getAttribute(r);if(n){aP[r].fire({template:n});return}}};class z8e{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...a)=>{this.removeListener(e,n),r.apply(this,a)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),a=n.indexOf(r);a>-1&&n.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Gr.eventEmitter=new z8e;const $8e=(t,e)=>{Gr.eventEmitter.on(t,e)},G8e=(t,e)=>{Gr.eventEmitter.once(t,e)},V8e=(t,e)=>{if(!t){Gr.eventEmitter.reset();return}e?Gr.eventEmitter.removeListener(t,e):Gr.eventEmitter.removeAllListeners(t)};var W8e=Object.freeze({__proto__:null,argsToParams:P8e,bindClickHandler:H8e,clickCancel:PIe,clickConfirm:fre,clickDeny:FIe,enableLoading:Ev,fire:I8e,getActions:Ww,getCancelButton:Yv,getCloseButton:U8,getConfirmButton:mh,getContainer:xl,getDenyButton:ex,getFocusableElements:H8,getFooter:tre,getHtmlContainer:R8,getIcon:Xv,getIconContent:OPe,getImage:ere,getInputLabel:UPe,getLoader:Jv,getPopup:Zs,getProgressSteps:O8,getTimerLeft:L8e,getTimerProgressBar:X4,getTitle:Zte,getValidationMessage:K4,increaseTimer:O8e,isDeprecatedParameter:Pre,isLoading:QPe,isTimerRunning:U8e,isUpdatableParameter:Fre,isValidParameter:Mre,isVisible:MIe,mixin:D8e,off:V8e,on:$8e,once:G8e,resumeTimer:Ure,showLoading:Ev,stopTimer:Ore,toggleTimer:R8e});class q8e{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hre=["swal-title","swal-html","swal-footer"],K8e=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return sDe(r),Object.assign(X8e(r),Y8e(r),J8e(r),Z8e(r),eDe(r),tDe(r),rDe(r,Hre))},X8e=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{DA(n,["name","value"]);const a=n.getAttribute("name"),i=n.getAttribute("value");!a||!i||(typeof Tg[a]=="boolean"?e[a]=i!=="false":typeof Tg[a]=="object"?e[a]=JSON.parse(i):e[a]=i)}),e},Y8e=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),i=n.getAttribute("value");!a||!i||(e[a]=new Function(`return ${i}`)())}),e},J8e=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{DA(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=n.innerHTML,e[`show${I8(a)}Button`]=!0,n.hasAttribute("color")&&(e[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},Z8e=t=>{const e={},r=t.querySelector("swal-image");return r&&(DA(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},eDe=t=>{const e={},r=t.querySelector("swal-icon");return r&&(DA(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},tDe=t=>{const e={},r=t.querySelector("swal-input");r&&(DA(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(a=>{DA(a,["value"]);const i=a.getAttribute("value");if(!i)return;const o=a.innerHTML;e.inputOptions[i]=o})),e},rDe=(t,e)=>{const r={};for(const n in e){const a=e[n],i=t.querySelector(a);i&&(DA(i,[]),r[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return r},sDe=t=>{const e=Hre.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Al(`Unrecognized element <${n}>`)})},DA=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Al([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Qre=10,nDe=t=>{const e=xl(),r=Zs();typeof t.willOpen=="function"&&t.willOpen(r),Gr.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;oDe(e,r,t),setTimeout(()=>{aDe(e,r)},Qre),Q8()&&(iDe(e,t.scrollbarPadding,a),QIe()),!Y4()&&!Gr.previousActiveElement&&(Gr.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Gr.eventEmitter.emit("didOpen",r)},jS=t=>{const e=Zs();if(t.target!==e)return;const r=xl();e.removeEventListener("animationend",jS),e.removeEventListener("transitionend",jS),r.style.overflowY="auto",gd(r,Et["no-transition"])},aDe=(t,e)=>{nre(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",jS),e.addEventListener("transitionend",jS)):t.style.overflowY="auto"},iDe=(t,e,r)=>{zIe(),e&&r!=="hidden"&&XIe(r),setTimeout(()=>{t.scrollTop=0})},oDe=(t,e,r)=>{an(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),Zi(e,"grid"),setTimeout(()=>{an(e,r.showClass.popup),e.style.removeProperty("opacity")},Qre)):Zi(e,"grid"),an([document.documentElement,document.body],Et.shown),r.heightAuto&&r.backdrop&&!r.toast&&an([document.documentElement,document.body],Et["height-auto"])};var wV={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function lDe(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=wV.email),t.input==="url"&&(t.inputValidator=wV.url))}function cDe(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Al('Target parameter is not valid, defaulting to "body"'),t.target="body")}function dDe(t){lDe(t),t.showLoaderOnConfirm&&!t.preConfirm&&Al(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cDe(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),eIe(t)}let Vu;var Lj=new WeakMap;class Ja{constructor(...e){if(TPe(this,Lj,void 0),typeof window>"u")return;Vu=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,MPe(Lj,this,this._main(Vu.params))}_main(e,r={}){if(Ire(Object.assign({},r,e)),Gr.currentInstance){const i=Cv.swalPromiseResolve.get(Gr.currentInstance),{isAwaitingPromise:o}=Gr.currentInstance;Gr.currentInstance._destroy(),o||i({isDismissed:!0}),Q8()&&Are()}Gr.currentInstance=Vu;const n=hDe(e,r);dDe(n),Object.freeze(n),Gr.timeout&&(Gr.timeout.stop(),delete Gr.timeout),clearTimeout(Gr.restoreFocusTimeout);const a=fDe(Vu);return hre(Vu,n),Jn.innerParams.set(Vu,n),uDe(Vu,a,n)}then(e){return hV(Lj,this).then(e)}finally(e){return hV(Lj,this).finally(e)}}const uDe=(t,e,r)=>new Promise((n,a)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};Cv.swalPromiseResolve.set(t,n),Cv.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{f8e(t)},e.denyButton.onclick=()=>{m8e(t)},e.cancelButton.onclick=()=>{p8e(t,i)},e.closeButton.onclick=()=>{i(Zv.close)},C8e(r,e,i),IIe(Gr,r,i),n8e(t,r),nDe(r),mDe(Gr,r,i),pDe(e,r),setTimeout(()=>{e.container.scrollTop=0})}),hDe=(t,e)=>{const r=K8e(t),n=Object.assign({},Tg,e,r,t);return n.showClass=Object.assign({},Tg.showClass,n.showClass),n.hideClass=Object.assign({},Tg.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},fDe=t=>{const e={popup:Zs(),container:xl(),actions:Ww(),confirmButton:mh(),denyButton:ex(),cancelButton:Yv(),loader:Jv(),closeButton:U8(),validationMessage:K4(),progressSteps:O8()};return Jn.domCache.set(t,e),e},mDe=(t,e,r)=>{const n=X4();Yo(n),e.timer&&(t.timeout=new q8e(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Zi(n),_c(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&$8(e.timer)})))},pDe=(t,e)=>{if(!e.toast){if(!q4(e.allowEnterKey)){Jte("allowEnterKey"),gDe();return}ADe(t)||xDe(t,e)||nP(-1,1)}},ADe=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&Gl(r))return r.focus(),!0;return!1},xDe=(t,e)=>e.focusDeny&&Gl(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Gl(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Gl(t.confirmButton)?(t.confirmButton.focus(),!0):!1,gDe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ja.prototype.disableButtons=Cre;Ja.prototype.enableButtons=_re;Ja.prototype.getInput=jre;Ja.prototype.disableInput=kre;Ja.prototype.enableInput=Ere;Ja.prototype.hideLoading=bS;Ja.prototype.disableLoading=bS;Ja.prototype.showValidationMessage=Bre;Ja.prototype.resetValidationMessage=Tre;Ja.prototype.close=tm;Ja.prototype.closePopup=tm;Ja.prototype.closeModal=tm;Ja.prototype.closeToast=tm;Ja.prototype.rejectPromise=vre;Ja.prototype.update=Dre;Ja.prototype._destroy=Lre;Object.assign(Ja,W8e);Object.keys(_8e).forEach(t=>{Ja[t]=function(...e){return Vu&&Vu[t]?Vu[t](...e):null}});Ja.DismissReason=Zv;Ja.version="11.26.3";const es=Ja;es.default=es;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var NS={};NS.version="0.18.5";var zre=1252,vDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],X8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Y8=function(t){vDe.indexOf(t)!=-1&&(zre=X8[0]=t)};function yDe(){Y8(1252)}var su=function(t){Y8(t)};function J8(){su(1200),yDe()}function jV(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function bDe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function $re(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var mb=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?bDe(t.slice(2)):e==254&&r==255?$re(t.slice(2)):e==65279?t.slice(1):t},Rj=function(e){return String.fromCharCode(e)},NV=function(e){return String.fromCharCode(e)},K1,rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function X1(t){for(var e="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),i=r>>2,n=t.charCodeAt(d++),o=(r&3)<<4|n>>4,a=t.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=rm.charAt(i)+rm.charAt(o)+rm.charAt(l)+rm.charAt(c);return e}function Cc(t){var e="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=rm.indexOf(t.charAt(d++)),o=rm.indexOf(t.charAt(d++)),r=i<<2|o>>4,e+=String.fromCharCode(r),l=rm.indexOf(t.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=rm.indexOf(t.charAt(d++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var js=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Jf=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function _m(t){return js?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function SV(t){return js?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var xc=function(e){return js?Jf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Z4(t){if(typeof ArrayBuffer>"u")return xc(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Lm(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function wDe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Z8(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Z8(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Ki=js?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Jf(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function jDe(t){for(var e=[],r=0,n=t.length+250,a=_m(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(e.push(a.slice(0,r)),r=0,a=_m(65535),n=65530)}return e.push(a.slice(0,r)),Ki(e)}var pl=/\u0000/g,pb=/[\u0001-\u0006]/g;function Mg(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function nu(t,e){var r=""+t;return r.length>=e?r:Fa("0",e-r.length)+r}function eD(t,e){var r=""+t;return r.length>=e?r:Fa(" ",e-r.length)+r}function SS(t,e){var r=""+t;return r.length>=e?r:r+Fa(" ",e-r.length)}function NDe(t,e){var r=""+Math.round(t);return r.length>=e?r:Fa("0",e-r.length)+r}function SDe(t,e){var r=""+t;return r.length>=e?r:Fa("0",e-r.length)+r}var _V=Math.pow(2,32);function Yx(t,e){if(t>_V||t<-_V)return NDe(t,e);var r=Math.round(t);return SDe(r,e)}function _S(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var CV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],NB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _De(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},EV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},CDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function CS(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(a);d<e&&(h=Math.floor(a),l=h*o+i,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=i):(u=d,l=o)),!r)return[0,n*l,u];var m=Math.floor(n*l/u);return[m,n*l-m*u,u]}function sA(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,o=[],l={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=FDe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Gre=new Date(1899,11,31,0,0,0),EDe=Gre.getTime(),kDe=new Date(1900,2,1,0,0,0);function Vre(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=kDe&&(r+=1440*60*1e3),(r-(EDe+(t.getTimezoneOffset()-Gre.getTimezoneOffset())*6e4))/(1440*60*1e3)}function tD(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TDe(t){var e=t<0?12:11,r=tD(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function MDe(t){var e=tD(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Y1(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=TDe(t):e===10?r=t.toFixed(10).substr(0,12):r=MDe(t),tD(BDe(r.toUpperCase()))}function LA(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Y1(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vd(14,Vre(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function FDe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function PDe(t,e,r,n){var a="",i=0,o=0,l=r.y,c,d=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,d=e.length;break;case 3:return NB[r.m-1][1];case 5:return NB[r.m-1][0];default:return NB[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,d=e.length;break;case 3:return CV[r.q][0];default:return CV[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?nu(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=nu(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?nu(c,d):"";return u}function sm(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Wre=/%/g;function IDe(t,e,r){var n=e.replace(Wre,""),a=e.length-n.length;return Pf(t,n,r*Math.pow(10,2*a))+Fa("%",a)}function DDe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pf(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function qre(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qre(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Kre=/# (\?+)( ?)\/( ?)(\d+)/;function LDe(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Fa(" ",t[1].length+1+t[4].length):eD(o,t[1].length)+t[2]+"/"+t[3]+nu(l,t[4].length))}function RDe(t,e,r){return r+(e===0?"":""+e)+Fa(" ",t[1].length+2+t[4].length)}var Xre=/^#*0*\.([0#]+)/,Yre=/\).*[0#]/,Jre=/\(###\) ###\\?-####/;function cl(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function kV(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function BV(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ODe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function UDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Zc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Yre)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Zc("n",n,r):"("+Zc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return DDe(t,e,r);if(e.indexOf("%")!==-1)return IDe(t,e,r);if(e.indexOf("E")!==-1)return qre(e,r);if(e.charCodeAt(0)===36)return"$"+Zc(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+Yx(c,e.length);if(e.match(/^[#?]+$/))return a=Yx(r,0),a==="0"&&(a=""),a.length>e.length?a:cl(e.substr(0,e.length-a.length))+a;if(i=e.match(Kre))return LDe(i,c,d);if(e.match(/^#+0+$/))return d+Yx(c,e.length-e.indexOf("0"));if(i=e.match(Xre))return a=kV(r,i[1].length).replace(/^([^\.]+)$/,"$1."+cl(i[1])).replace(/\.$/,"."+cl(i[1])).replace(/\.(\d*)$/,function(A,g){return"."+g+Fa("0",cl(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+kV(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+sm(Yx(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Zc(t,e,-r):sm(""+(Math.floor(r)+ODe(r,i[1].length)))+"."+nu(BV(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Zc(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Mg(Zc(t,e.replace(/[\\-]/g,""),r)),o=0,Mg(Mg(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<a.length?a.charAt(o++):A==="0"?"0":""}));if(e.match(Jre))return a=Zc(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=CS(c,Math.pow(10,o)-1,!1),a=""+d,u=Pf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=SS(l[2],o),u.length<i[4].length&&(u=cl(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=CS(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eD(l[1],o)+i[2]+"/"+i[3]+SS(l[2],o):Fa(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Yx(r,0),e.length<=a.length?a:cl(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return cl(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=BV(r,i[1].length),r<0?"-"+Zc(t,e,-r):sm(UDe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?nu(0,3-A.length):"")+A})+"."+nu(o,i[1].length);switch(e){case"###,##0.00":return Zc(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=sm(Yx(c,0));return f!=="0"?d+f:"";case"###,###.00":return Zc(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Zc(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function HDe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pf(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function QDe(t,e,r){var n=e.replace(Wre,""),a=e.length-n.length;return Pf(t,n,r*Math.pow(10,2*a))+Fa("%",a)}function Zre(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Zre(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Hu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Yre)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hu("n",n,r):"("+Hu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return HDe(t,e,r);if(e.indexOf("%")!==-1)return QDe(t,e,r);if(e.indexOf("E")!==-1)return Zre(e,r);if(e.charCodeAt(0)===36)return"$"+Hu(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+nu(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:cl(e.substr(0,e.length-a.length))+a;if(i=e.match(Kre))return RDe(i,c,d);if(e.match(/^#+0+$/))return d+nu(c,e.length-e.indexOf("0"));if(i=e.match(Xre))return a=(""+r).replace(/^([^\.]+)$/,"$1."+cl(i[1])).replace(/\.$/,"."+cl(i[1])),a=a.replace(/\.(\d*)$/,function(A,g){return"."+g+Fa("0",cl(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+sm(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hu(t,e,-r):sm(""+r)+"."+Fa("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Hu(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Mg(Hu(t,e.replace(/[\\-]/g,""),r)),o=0,Mg(Mg(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<a.length?a.charAt(o++):A==="0"?"0":""}));if(e.match(Jre))return a=Hu(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=CS(c,Math.pow(10,o)-1,!1),a=""+d,u=Pf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=SS(l[2],o),u.length<i[4].length&&(u=cl(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=CS(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eD(l[1],o)+i[2]+"/"+i[3]+SS(l[2],o):Fa(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:cl(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return cl(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Hu(t,e,-r):sm(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?nu(0,3-A.length):"")+A})+"."+nu(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=sm(""+c);return f!=="0"?d+f:"";default:if(e.match(/\.[0#?]*$/))return Hu(t,e.slice(0,e.lastIndexOf(".")),r)+cl(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Pf(t,e,r){return(r|0)===r?Hu(t,e,r):Zc(t,e,r)}function zDe(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var ese=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ey(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":_S(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(ese))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function $De(t,e,r,n){for(var a=[],i="",o=0,l="",c="t",d,u,h,m="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!_S(t,o))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var f=t.charAt(++o),A=f==="("||f===")"?f:"t";a[a.length]={t:A,v:f},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=sA(e,r,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=sA(e,r),d==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(d==null&&(d=sA(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",m="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),d==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(ese)){if(d==null&&(d=sA(e,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",ey(t)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++o;break}var x=0,v=0,j;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",x<1&&(x=1);break;case"s":(j=a[o].v.match(/\.0+$/))&&(v=Math.max(v,j[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var b="",S;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=PDe(a[o].t.charCodeAt(0),a[o].v,d,v),a[o].t="t";break;case"n":case"?":for(S=o+1;a[S]!=null&&((l=a[S].t)==="?"||l==="D"||(l===" "||l==="t")&&a[S+1]!=null&&(a[S+1].t==="?"||a[S+1].t==="t"&&a[S+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[S].v==="/"||a[S].v===" "&&a[S+1]!=null&&a[S+1].t=="?"));)a[o].v+=a[S].v,a[S]={v:"",t:";"},++S;b+=a[o].v,o=S-1;break;case"G":a[o].t="t",a[o].v=LA(e,r);break}var w="",N,E;if(b.length>0){b.charCodeAt(0)==40?(N=e<0&&b.charCodeAt(0)===45?-e:e,E=Pf("n",b,N)):(N=e<0&&n>1?-e:e,E=Pf("n",b,N),N<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),S=E.length-1;var P=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){P=o;break}var _=a.length;if(P===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(S>=a[o].v.length-1?(S-=a[o].v.length,a[o].v=E.substr(S+1,a[o].v.length)):S<0?a[o].v="":(a[o].v=E.substr(0,S+1),S=-1),a[o].t="t",_=o);S>=0&&_<a.length&&(a[_].v=E.substr(0,S+1)+a[_].v)}else if(P!==a.length&&E.indexOf("E")===-1){for(S=E.indexOf(".")-1,o=P;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")-1:a[o].v.length-1,w=a[o].v.substr(u+1);u>=0;--u)S>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(w=E.charAt(S--)+w);a[o].v=w,a[o].t="t",_=o}for(S>=0&&_<a.length&&(a[_].v=E.substr(0,S+1)+a[_].v),S=E.indexOf(".")+1,o=P;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==P)){for(u=a[o].v.indexOf(".")>-1&&o===P?a[o].v.indexOf(".")+1:0,w=a[o].v.substr(0,u);u<a[o].v.length;++u)S<E.length&&(w+=E.charAt(S++));a[o].v=w,a[o].t="t",_=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=Pf(a[o].t,a[o].v,N),a[o].t="t");var B="";for(o=0;o!==a.length;++o)a[o]!=null&&(B+=a[o].v);return B}var TV=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function MV(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function GDe(t,e){var r=zDe(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(TV),l=r[1].match(TV);return MV(e,o)?[n,r[0]]:MV(e,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function vd(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qr)[t],n==null&&(n=r.table&&r.table[EV[t]]||qr[EV[t]]),n==null&&(n=CDe[t]||"General");break}if(_S(n,0))return LA(e,r);e instanceof Date&&(e=Vre(e,r.date1904));var a=GDe(n,e);if(_S(a[1]))return LA(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return $De(a[1],e,r,a[0])}function If(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(qr[r]==null){e<0&&(e=r);continue}if(qr[r]==t){e=r;break}}e<0&&(e=391)}return qr[e]=t,e}function e_(t){for(var e=0;e!=392;++e)t[e]!==void 0&&If(t[e],e)}function ty(){qr=_De()}var VDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},tse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function WDe(t){var e=typeof t=="number"?qr[t]:t;return e=e.replace(tse,"(\\d+)"),new RegExp("^"+e+"$")}function qDe(t,e,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(e.match(tse)||[]).forEach(function(h,m){var f=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":i=f;break;case"h":o=f;break;case"s":c=f;break;case"m":o>=0?l=f:a=f;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&i==-1?u:d+"T"+u}var KDe=(function(){var t={};t.version="1.2.0";function e(){for(var E=0,P=new Array(256),_=0;_!=256;++_)E=_,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,P[_]=E;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(E){var P=0,_=0,B=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)k[B]=E[B];for(B=0;B!=256;++B)for(_=E[B],P=256+B;P<4096;P+=256)_=k[P]=_>>>8^E[_&255];var M=[];for(B=1;B!=16;++B)M[B-1]=typeof Int32Array<"u"?k.subarray(B*256,B*256+256):k.slice(B*256,B*256+256);return M}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],A=a[9],g=a[10],x=a[11],v=a[12],j=a[13],b=a[14];function S(E,P){for(var _=P^-1,B=0,k=E.length;B<k;)_=_>>>8^r[(_^E.charCodeAt(B++))&255];return~_}function w(E,P){for(var _=P^-1,B=E.length-15,k=0;k<B;)_=b[E[k++]^_&255]^j[E[k++]^_>>8&255]^v[E[k++]^_>>16&255]^x[E[k++]^_>>>24]^g[E[k++]]^A[E[k++]]^f[E[k++]]^m[E[k++]]^h[E[k++]]^u[E[k++]]^d[E[k++]]^c[E[k++]]^l[E[k++]]^o[E[k++]]^i[E[k++]]^r[E[k++]];for(B+=15;k<B;)_=_>>>8^r[(_^E[k++])&255];return~_}function N(E,P){for(var _=P^-1,B=0,k=E.length,M=0,T=0;B<k;)M=E.charCodeAt(B++),M<128?_=_>>>8^r[(_^M)&255]:M<2048?(_=_>>>8^r[(_^(192|M>>6&31))&255],_=_>>>8^r[(_^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,T=E.charCodeAt(B++)&1023,_=_>>>8^r[(_^(240|M>>8&7))&255],_=_>>>8^r[(_^(128|M>>2&63))&255],_=_>>>8^r[(_^(128|T>>6&15|(M&3)<<4))&255],_=_>>>8^r[(_^(128|T&63))&255]):(_=_>>>8^r[(_^(224|M>>12&15))&255],_=_>>>8^r[(_^(128|M>>6&63))&255],_=_>>>8^r[(_^(128|M&63))&255]);return~_}return t.table=r,t.bstr=S,t.buf=w,t.str=N,t})(),Hr=(function(){var e={};e.version="1.2.1";function r(me,ke){for(var je=me.split("/"),Ee=ke.split("/"),Fe=0,Be=0,it=Math.min(je.length,Ee.length);Fe<it;++Fe){if(Be=je[Fe].length-Ee[Fe].length)return Be;if(je[Fe]!=Ee[Fe])return je[Fe]<Ee[Fe]?-1:1}return je.length-Ee.length}function n(me){if(me.charAt(me.length-1)=="/")return me.slice(0,-1).indexOf("/")===-1?me:n(me.slice(0,-1));var ke=me.lastIndexOf("/");return ke===-1?me:me.slice(0,ke+1)}function a(me){if(me.charAt(me.length-1)=="/")return a(me.slice(0,-1));var ke=me.lastIndexOf("/");return ke===-1?me:me.slice(ke+1)}function i(me,ke){typeof ke=="string"&&(ke=new Date(ke));var je=ke.getHours();je=je<<6|ke.getMinutes(),je=je<<5|ke.getSeconds()>>>1,me.write_shift(2,je);var Ee=ke.getFullYear()-1980;Ee=Ee<<4|ke.getMonth()+1,Ee=Ee<<5|ke.getDate(),me.write_shift(2,Ee)}function o(me){var ke=me.read_shift(2)&65535,je=me.read_shift(2)&65535,Ee=new Date,Fe=je&31;je>>>=5;var Be=je&15;je>>>=4,Ee.setMilliseconds(0),Ee.setFullYear(je+1980),Ee.setMonth(Be-1),Ee.setDate(Fe);var it=ke&31;ke>>>=5;var wt=ke&63;return ke>>>=6,Ee.setHours(ke),Ee.setMinutes(wt),Ee.setSeconds(it<<1),Ee}function l(me){fo(me,0);for(var ke={},je=0;me.l<=me.length-4;){var Ee=me.read_shift(2),Fe=me.read_shift(2),Be=me.l+Fe,it={};switch(Ee){case 21589:je=me.read_shift(1),je&1&&(it.mtime=me.read_shift(4)),Fe>5&&(je&2&&(it.atime=me.read_shift(4)),je&4&&(it.ctime=me.read_shift(4))),it.mtime&&(it.mt=new Date(it.mtime*1e3));break}me.l=Be,ke[Ee]=it}return ke}var c;function d(){return c||(c={})}function u(me,ke){if(me[0]==80&&me[1]==75)return Ze(me,ke);if((me[0]|32)==109&&(me[1]|32)==105)return cr(me,ke);if(me.length<512)throw new Error("CFB file size "+me.length+" < 512");var je=3,Ee=512,Fe=0,Be=0,it=0,wt=0,dt=0,ut=[],xt=me.slice(0,512);fo(xt,0);var de=h(xt);switch(je=de[0],je){case 3:Ee=512;break;case 4:Ee=4096;break;case 0:if(de[1]==0)return Ze(me,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+je)}Ee!==512&&(xt=me.slice(0,Ee),fo(xt,28));var Le=me.slice(0,Ee);m(xt,je);var Ve=xt.read_shift(4,"i");if(je===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);xt.l+=4,it=xt.read_shift(4,"i"),xt.l+=4,xt.chk("00100000","Mini Stream Cutoff Size: "),wt=xt.read_shift(4,"i"),Fe=xt.read_shift(4,"i"),dt=xt.read_shift(4,"i"),Be=xt.read_shift(4,"i");for(var Qe=-1,De=0;De<109&&(Qe=xt.read_shift(4,"i"),!(Qe<0));++De)ut[De]=Qe;var yt=f(me,Ee);x(dt,Be,yt,Ee,ut);var Ut=j(yt,it,ut,Ee);Ut[it].name="!Directory",Fe>0&&wt!==T&&(Ut[wt].name="!MiniFAT"),Ut[ut[0]].name="!FAT",Ut.fat_addrs=ut,Ut.ssz=Ee;var zt={},Zt=[],Br=[],_e=[];b(it,Ut,yt,Zt,Fe,zt,Br,wt),A(Br,_e,Zt),Zt.shift();var $e={FileIndex:Br,FullPaths:_e};return ke&&ke.raw&&($e.raw={header:Le,sectors:yt}),$e}function h(me){if(me[me.l]==80&&me[me.l+1]==75)return[0,0];me.chk(H,"Header Signature: "),me.l+=16;var ke=me.read_shift(2,"u");return[me.read_shift(2,"u"),ke]}function m(me,ke){var je=9;switch(me.l+=2,je=me.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+je);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+je);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+je)}me.chk("0600","Mini Sector Shift: "),me.chk("000000000000","Reserved: ")}function f(me,ke){for(var je=Math.ceil(me.length/ke)-1,Ee=[],Fe=1;Fe<je;++Fe)Ee[Fe-1]=me.slice(Fe*ke,(Fe+1)*ke);return Ee[je-1]=me.slice(je*ke),Ee}function A(me,ke,je){for(var Ee=0,Fe=0,Be=0,it=0,wt=0,dt=je.length,ut=[],xt=[];Ee<dt;++Ee)ut[Ee]=xt[Ee]=Ee,ke[Ee]=je[Ee];for(;wt<xt.length;++wt)Ee=xt[wt],Fe=me[Ee].L,Be=me[Ee].R,it=me[Ee].C,ut[Ee]===Ee&&(Fe!==-1&&ut[Fe]!==Fe&&(ut[Ee]=ut[Fe]),Be!==-1&&ut[Be]!==Be&&(ut[Ee]=ut[Be])),it!==-1&&(ut[it]=Ee),Fe!==-1&&Ee!=ut[Ee]&&(ut[Fe]=ut[Ee],xt.lastIndexOf(Fe)<wt&&xt.push(Fe)),Be!==-1&&Ee!=ut[Ee]&&(ut[Be]=ut[Ee],xt.lastIndexOf(Be)<wt&&xt.push(Be));for(Ee=1;Ee<dt;++Ee)ut[Ee]===Ee&&(Be!==-1&&ut[Be]!==Be?ut[Ee]=ut[Be]:Fe!==-1&&ut[Fe]!==Fe&&(ut[Ee]=ut[Fe]));for(Ee=1;Ee<dt;++Ee)if(me[Ee].type!==0){if(wt=Ee,wt!=ut[wt])do wt=ut[wt],ke[Ee]=ke[wt]+"/"+ke[Ee];while(wt!==0&&ut[wt]!==-1&&wt!=ut[wt]);ut[Ee]=-1}for(ke[0]+="/",Ee=1;Ee<dt;++Ee)me[Ee].type!==2&&(ke[Ee]+="/")}function g(me,ke,je){for(var Ee=me.start,Fe=me.size,Be=[],it=Ee;je&&Fe>0&&it>=0;)Be.push(ke.slice(it*M,it*M+M)),Fe-=M,it=Wp(je,it*4);return Be.length===0?Bt(0):Ki(Be).slice(0,me.size)}function x(me,ke,je,Ee,Fe){var Be=T;if(me===T){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(me!==-1){var it=je[me],wt=(Ee>>>2)-1;if(!it)return;for(var dt=0;dt<wt&&(Be=Wp(it,dt*4))!==T;++dt)Fe.push(Be);x(Wp(it,Ee-4),ke-1,je,Ee,Fe)}}function v(me,ke,je,Ee,Fe){var Be=[],it=[];Fe||(Fe=[]);var wt=Ee-1,dt=0,ut=0;for(dt=ke;dt>=0;){Fe[dt]=!0,Be[Be.length]=dt,it.push(me[dt]);var xt=je[Math.floor(dt*4/Ee)];if(ut=dt*4&wt,Ee<4+ut)throw new Error("FAT boundary crossed: "+dt+" 4 "+Ee);if(!me[xt])break;dt=Wp(me[xt],ut)}return{nodes:Be,data:$V([it])}}function j(me,ke,je,Ee){var Fe=me.length,Be=[],it=[],wt=[],dt=[],ut=Ee-1,xt=0,de=0,Le=0,Ve=0;for(xt=0;xt<Fe;++xt)if(wt=[],Le=xt+ke,Le>=Fe&&(Le-=Fe),!it[Le]){dt=[];var Qe=[];for(de=Le;de>=0;){Qe[de]=!0,it[de]=!0,wt[wt.length]=de,dt.push(me[de]);var De=je[Math.floor(de*4/Ee)];if(Ve=de*4&ut,Ee<4+Ve)throw new Error("FAT boundary crossed: "+de+" 4 "+Ee);if(!me[De]||(de=Wp(me[De],Ve),Qe[de]))break}Be[Le]={nodes:wt,data:$V([dt])}}return Be}function b(me,ke,je,Ee,Fe,Be,it,wt){for(var dt=0,ut=Ee.length?2:0,xt=ke[me].data,de=0,Le=0,Ve;de<xt.length;de+=128){var Qe=xt.slice(de,de+128);fo(Qe,64),Le=Qe.read_shift(2),Ve=lD(Qe,0,Le-ut),Ee.push(Ve);var De={name:Ve,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},yt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);yt!==0&&(De.ct=S(Qe,Qe.l-8));var Ut=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Ut!==0&&(De.mt=S(Qe,Qe.l-8)),De.start=Qe.read_shift(4,"i"),De.size=Qe.read_shift(4,"i"),De.size<0&&De.start<0&&(De.size=De.type=0,De.start=T,De.name=""),De.type===5?(dt=De.start,Fe>0&&dt!==T&&(ke[dt].name="!StreamData")):De.size>=4096?(De.storage="fat",ke[De.start]===void 0&&(ke[De.start]=v(je,De.start,ke.fat_addrs,ke.ssz)),ke[De.start].name=De.name,De.content=ke[De.start].data.slice(0,De.size)):(De.storage="minifat",De.size<0?De.size=0:dt!==T&&De.start!==T&&ke[dt]&&(De.content=g(De,ke[dt].data,(ke[wt]||{}).data))),De.content&&fo(De.content,0),Be[Ve]=De,it.push(De)}}function S(me,ke){return new Date((pc(me,ke+4)/1e7*Math.pow(2,32)+pc(me,ke)/1e7-11644473600)*1e3)}function w(me,ke){return d(),u(c.readFileSync(me),ke)}function N(me,ke){var je=ke&&ke.type;switch(je||js&&Buffer.isBuffer(me)&&(je="buffer"),je||"base64"){case"file":return w(me,ke);case"base64":return u(xc(Cc(me)),ke);case"binary":return u(xc(me),ke)}return u(me,ke)}function E(me,ke){var je=ke||{},Ee=je.root||"Root Entry";if(me.FullPaths||(me.FullPaths=[]),me.FileIndex||(me.FileIndex=[]),me.FullPaths.length!==me.FileIndex.length)throw new Error("inconsistent CFB structure");me.FullPaths.length===0&&(me.FullPaths[0]=Ee+"/",me.FileIndex[0]={name:Ee,type:5}),je.CLSID&&(me.FileIndex[0].clsid=je.CLSID),P(me)}function P(me){var ke="Sh33tJ5";if(!Hr.find(me,"/"+ke)){var je=Bt(4);je[0]=55,je[1]=je[3]=50,je[2]=54,me.FileIndex.push({name:ke,type:2,content:je,size:4,L:69,R:69,C:69}),me.FullPaths.push(me.FullPaths[0]+ke),_(me)}}function _(me,ke){E(me);for(var je=!1,Ee=!1,Fe=me.FullPaths.length-1;Fe>=0;--Fe){var Be=me.FileIndex[Fe];switch(Be.type){case 0:Ee?je=!0:(me.FileIndex.pop(),me.FullPaths.pop());break;case 1:case 2:case 5:Ee=!0,isNaN(Be.R*Be.L*Be.C)&&(je=!0),Be.R>-1&&Be.L>-1&&Be.R==Be.L&&(je=!0);break;default:je=!0;break}}if(!(!je&&!ke)){var it=new Date(1987,1,19),wt=0,dt=Object.create?Object.create(null):{},ut=[];for(Fe=0;Fe<me.FullPaths.length;++Fe)dt[me.FullPaths[Fe]]=!0,me.FileIndex[Fe].type!==0&&ut.push([me.FullPaths[Fe],me.FileIndex[Fe]]);for(Fe=0;Fe<ut.length;++Fe){var xt=n(ut[Fe][0]);Ee=dt[xt],Ee||(ut.push([xt,{name:a(xt).replace("/",""),type:1,clsid:Q,ct:it,mt:it,content:null}]),dt[xt]=!0)}for(ut.sort(function(Ve,Qe){return r(Ve[0],Qe[0])}),me.FullPaths=[],me.FileIndex=[],Fe=0;Fe<ut.length;++Fe)me.FullPaths[Fe]=ut[Fe][0],me.FileIndex[Fe]=ut[Fe][1];for(Fe=0;Fe<ut.length;++Fe){var de=me.FileIndex[Fe],Le=me.FullPaths[Fe];if(de.name=a(Le).replace("/",""),de.L=de.R=de.C=-(de.color=1),de.size=de.content?de.content.length:0,de.start=0,de.clsid=de.clsid||Q,Fe===0)de.C=ut.length>1?1:-1,de.size=0,de.type=5;else if(Le.slice(-1)=="/"){for(wt=Fe+1;wt<ut.length&&n(me.FullPaths[wt])!=Le;++wt);for(de.C=wt>=ut.length?-1:wt,wt=Fe+1;wt<ut.length&&n(me.FullPaths[wt])!=n(Le);++wt);de.R=wt>=ut.length?-1:wt,de.type=1}else n(me.FullPaths[Fe+1]||"")==n(Le)&&(de.R=Fe+1),de.type=2}}}function B(me,ke){var je=ke||{};if(je.fileType=="mad")return Ts(me,je);switch(_(me),je.fileType){case"zip":return st(me,je)}var Ee=(function(Ve){for(var Qe=0,De=0,yt=0;yt<Ve.FileIndex.length;++yt){var Ut=Ve.FileIndex[yt];if(Ut.content){var zt=Ut.content.length;zt>0&&(zt<4096?Qe+=zt+63>>6:De+=zt+511>>9)}}for(var Zt=Ve.FullPaths.length+3>>2,Br=Qe+7>>3,_e=Qe+127>>7,$e=Br+De+Zt+_e,Ot=$e+127>>7,lr=Ot<=109?0:Math.ceil((Ot-109)/127);$e+Ot+lr+127>>7>Ot;)lr=++Ot<=109?0:Math.ceil((Ot-109)/127);var Yt=[1,lr,Ot,_e,Zt,De,Qe,0];return Ve.FileIndex[0].size=Qe<<6,Yt[7]=(Ve.FileIndex[0].start=Yt[0]+Yt[1]+Yt[2]+Yt[3]+Yt[4]+Yt[5])+(Yt[6]+7>>3),Yt})(me),Fe=Bt(Ee[7]<<9),Be=0,it=0;{for(Be=0;Be<8;++Be)Fe.write_shift(1,L[Be]);for(Be=0;Be<8;++Be)Fe.write_shift(2,0);for(Fe.write_shift(2,62),Fe.write_shift(2,3),Fe.write_shift(2,65534),Fe.write_shift(2,9),Fe.write_shift(2,6),Be=0;Be<3;++Be)Fe.write_shift(2,0);for(Fe.write_shift(4,0),Fe.write_shift(4,Ee[2]),Fe.write_shift(4,Ee[0]+Ee[1]+Ee[2]+Ee[3]-1),Fe.write_shift(4,0),Fe.write_shift(4,4096),Fe.write_shift(4,Ee[3]?Ee[0]+Ee[1]+Ee[2]-1:T),Fe.write_shift(4,Ee[3]),Fe.write_shift(-4,Ee[1]?Ee[0]-1:T),Fe.write_shift(4,Ee[1]),Be=0;Be<109;++Be)Fe.write_shift(-4,Be<Ee[2]?Ee[1]+Be:-1)}if(Ee[1])for(it=0;it<Ee[1];++it){for(;Be<236+it*127;++Be)Fe.write_shift(-4,Be<Ee[2]?Ee[1]+Be:-1);Fe.write_shift(-4,it===Ee[1]-1?T:it+1)}var wt=function(Ve){for(it+=Ve;Be<it-1;++Be)Fe.write_shift(-4,Be+1);Ve&&(++Be,Fe.write_shift(-4,T))};for(it=Be=0,it+=Ee[1];Be<it;++Be)Fe.write_shift(-4,O.DIFSECT);for(it+=Ee[2];Be<it;++Be)Fe.write_shift(-4,O.FATSECT);wt(Ee[3]),wt(Ee[4]);for(var dt=0,ut=0,xt=me.FileIndex[0];dt<me.FileIndex.length;++dt)xt=me.FileIndex[dt],xt.content&&(ut=xt.content.length,!(ut<4096)&&(xt.start=it,wt(ut+511>>9)));for(wt(Ee[6]+7>>3);Fe.l&511;)Fe.write_shift(-4,O.ENDOFCHAIN);for(it=Be=0,dt=0;dt<me.FileIndex.length;++dt)xt=me.FileIndex[dt],xt.content&&(ut=xt.content.length,!(!ut||ut>=4096)&&(xt.start=it,wt(ut+63>>6)));for(;Fe.l&511;)Fe.write_shift(-4,O.ENDOFCHAIN);for(Be=0;Be<Ee[4]<<2;++Be){var de=me.FullPaths[Be];if(!de||de.length===0){for(dt=0;dt<17;++dt)Fe.write_shift(4,0);for(dt=0;dt<3;++dt)Fe.write_shift(4,-1);for(dt=0;dt<12;++dt)Fe.write_shift(4,0);continue}xt=me.FileIndex[Be],Be===0&&(xt.start=xt.size?xt.start-1:T);var Le=Be===0&&je.root||xt.name;if(ut=2*(Le.length+1),Fe.write_shift(64,Le,"utf16le"),Fe.write_shift(2,ut),Fe.write_shift(1,xt.type),Fe.write_shift(1,xt.color),Fe.write_shift(-4,xt.L),Fe.write_shift(-4,xt.R),Fe.write_shift(-4,xt.C),xt.clsid)Fe.write_shift(16,xt.clsid,"hex");else for(dt=0;dt<4;++dt)Fe.write_shift(4,0);Fe.write_shift(4,xt.state||0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,xt.start),Fe.write_shift(4,xt.size),Fe.write_shift(4,0)}for(Be=1;Be<me.FileIndex.length;++Be)if(xt=me.FileIndex[Be],xt.size>=4096)if(Fe.l=xt.start+1<<9,js&&Buffer.isBuffer(xt.content))xt.content.copy(Fe,Fe.l,0,xt.size),Fe.l+=xt.size+511&-512;else{for(dt=0;dt<xt.size;++dt)Fe.write_shift(1,xt.content[dt]);for(;dt&511;++dt)Fe.write_shift(1,0)}for(Be=1;Be<me.FileIndex.length;++Be)if(xt=me.FileIndex[Be],xt.size>0&&xt.size<4096)if(js&&Buffer.isBuffer(xt.content))xt.content.copy(Fe,Fe.l,0,xt.size),Fe.l+=xt.size+63&-64;else{for(dt=0;dt<xt.size;++dt)Fe.write_shift(1,xt.content[dt]);for(;dt&63;++dt)Fe.write_shift(1,0)}if(js)Fe.l=Fe.length;else for(;Fe.l<Fe.length;)Fe.write_shift(1,0);return Fe}function k(me,ke){var je=me.FullPaths.map(function(dt){return dt.toUpperCase()}),Ee=je.map(function(dt){var ut=dt.split("/");return ut[ut.length-(dt.slice(-1)=="/"?2:1)]}),Fe=!1;ke.charCodeAt(0)===47?(Fe=!0,ke=je[0].slice(0,-1)+ke):Fe=ke.indexOf("/")!==-1;var Be=ke.toUpperCase(),it=Fe===!0?je.indexOf(Be):Ee.indexOf(Be);if(it!==-1)return me.FileIndex[it];var wt=!Be.match(pb);for(Be=Be.replace(pl,""),wt&&(Be=Be.replace(pb,"!")),it=0;it<je.length;++it)if((wt?je[it].replace(pb,"!"):je[it]).replace(pl,"")==Be||(wt?Ee[it].replace(pb,"!"):Ee[it]).replace(pl,"")==Be)return me.FileIndex[it];return null}var M=64,T=-2,H="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",O={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:T,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(me,ke,je){d();var Ee=B(me,je);c.writeFileSync(ke,Ee)}function ee(me){for(var ke=new Array(me.length),je=0;je<me.length;++je)ke[je]=String.fromCharCode(me[je]);return ke.join("")}function Y(me,ke){var je=B(me,ke);switch(ke&&ke.type||"buffer"){case"file":return d(),c.writeFileSync(ke.filename,je),je;case"binary":return typeof je=="string"?je:ee(je);case"base64":return X1(typeof je=="string"?je:ee(je));case"buffer":if(js)return Buffer.isBuffer(je)?je:Jf(je);case"array":return typeof je=="string"?xc(je):je}return je}var re;function D(me){try{var ke=me.InflateRaw,je=new ke;if(je._processChunk(new Uint8Array([3,0]),je._finishFlushFlag),je.bytesRead)re=me;else throw new Error("zlib does not expose bytesRead")}catch(Ee){console.error("cannot use native zlib: "+(Ee.message||Ee))}}function G(me,ke){if(!re)return Ge(me,ke);var je=re.InflateRaw,Ee=new je,Fe=Ee._processChunk(me.slice(me.l),Ee._finishFlushFlag);return me.l+=Ee.bytesRead,Fe}function z(me){return re?re.deflateRawSync(me):_t(me)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(me){var ke=(me<<1|me<<11)&139536|(me<<5|me<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var pe=typeof Uint8Array<"u",ye=pe?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)ye[Pe]=ge(Pe);function le(me,ke){var je=ye[me&255];return ke<=8?je>>>8-ke:(je=je<<8|ye[me>>8&255],ke<=16?je>>>16-ke:(je=je<<8|ye[me>>16&255],je>>>24-ke))}function lt(me,ke){var je=ke&7,Ee=ke>>>3;return(me[Ee]|(je<=6?0:me[Ee+1]<<8))>>>je&3}function ne(me,ke){var je=ke&7,Ee=ke>>>3;return(me[Ee]|(je<=5?0:me[Ee+1]<<8))>>>je&7}function J(me,ke){var je=ke&7,Ee=ke>>>3;return(me[Ee]|(je<=4?0:me[Ee+1]<<8))>>>je&15}function ie(me,ke){var je=ke&7,Ee=ke>>>3;return(me[Ee]|(je<=3?0:me[Ee+1]<<8))>>>je&31}function Ce(me,ke){var je=ke&7,Ee=ke>>>3;return(me[Ee]|(je<=1?0:me[Ee+1]<<8))>>>je&127}function Oe(me,ke,je){var Ee=ke&7,Fe=ke>>>3,Be=(1<<je)-1,it=me[Fe]>>>Ee;return je<8-Ee||(it|=me[Fe+1]<<8-Ee,je<16-Ee)||(it|=me[Fe+2]<<16-Ee,je<24-Ee)||(it|=me[Fe+3]<<24-Ee),it&Be}function Re(me,ke,je){var Ee=ke&7,Fe=ke>>>3;return Ee<=5?me[Fe]|=(je&7)<<Ee:(me[Fe]|=je<<Ee&255,me[Fe+1]=(je&7)>>8-Ee),ke+3}function ze(me,ke,je){var Ee=ke&7,Fe=ke>>>3;return je=(je&1)<<Ee,me[Fe]|=je,ke+1}function ce(me,ke,je){var Ee=ke&7,Fe=ke>>>3;return je<<=Ee,me[Fe]|=je&255,je>>>=8,me[Fe+1]=je,ke+8}function ae(me,ke,je){var Ee=ke&7,Fe=ke>>>3;return je<<=Ee,me[Fe]|=je&255,je>>>=8,me[Fe+1]=je&255,me[Fe+2]=je>>>8,ke+16}function Se(me,ke){var je=me.length,Ee=2*je>ke?2*je:ke+5,Fe=0;if(je>=ke)return me;if(js){var Be=SV(Ee);if(me.copy)me.copy(Be);else for(;Fe<me.length;++Fe)Be[Fe]=me[Fe];return Be}else if(pe){var it=new Uint8Array(Ee);if(it.set)it.set(me);else for(;Fe<je;++Fe)it[Fe]=me[Fe];return it}return me.length=Ee,me}function We(me){for(var ke=new Array(me),je=0;je<me;++je)ke[je]=0;return ke}function Je(me,ke,je){var Ee=1,Fe=0,Be=0,it=0,wt=0,dt=me.length,ut=pe?new Uint16Array(32):We(32);for(Be=0;Be<32;++Be)ut[Be]=0;for(Be=dt;Be<je;++Be)me[Be]=0;dt=me.length;var xt=pe?new Uint16Array(dt):We(dt);for(Be=0;Be<dt;++Be)ut[Fe=me[Be]]++,Ee<Fe&&(Ee=Fe),xt[Be]=0;for(ut[0]=0,Be=1;Be<=Ee;++Be)ut[Be+16]=wt=wt+ut[Be-1]<<1;for(Be=0;Be<dt;++Be)wt=me[Be],wt!=0&&(xt[Be]=ut[wt+16]++);var de=0;for(Be=0;Be<dt;++Be)if(de=me[Be],de!=0)for(wt=le(xt[Be],Ee)>>Ee-de,it=(1<<Ee+4-de)-1;it>=0;--it)ke[wt|it<<de]=de&15|Be<<4;return Ee}var tt=pe?new Uint16Array(512):We(512),Tt=pe?new Uint16Array(32):We(32);if(!pe){for(var ft=0;ft<512;++ft)tt[ft]=0;for(ft=0;ft<32;++ft)Tt[ft]=0}(function(){for(var me=[],ke=0;ke<32;ke++)me.push(5);Je(me,Tt,32);var je=[];for(ke=0;ke<=143;ke++)je.push(8);for(;ke<=255;ke++)je.push(9);for(;ke<=279;ke++)je.push(7);for(;ke<=287;ke++)je.push(8);Je(je,tt,288)})();var vt=(function(){for(var ke=pe?new Uint8Array(32768):[],je=0,Ee=0;je<ue.length-1;++je)for(;Ee<ue[je+1];++Ee)ke[Ee]=je;for(;Ee<32768;++Ee)ke[Ee]=29;var Fe=pe?new Uint8Array(259):[];for(je=0,Ee=0;je<oe.length-1;++je)for(;Ee<oe[je+1];++Ee)Fe[Ee]=je;function Be(wt,dt){for(var ut=0;ut<wt.length;){var xt=Math.min(65535,wt.length-ut),de=ut+xt==wt.length;for(dt.write_shift(1,+de),dt.write_shift(2,xt),dt.write_shift(2,~xt&65535);xt-- >0;)dt[dt.l++]=wt[ut++]}return dt.l}function it(wt,dt){for(var ut=0,xt=0,de=pe?new Uint16Array(32768):[];xt<wt.length;){var Le=Math.min(65535,wt.length-xt);if(Le<10){for(ut=Re(dt,ut,+(xt+Le==wt.length)),ut&7&&(ut+=8-(ut&7)),dt.l=ut/8|0,dt.write_shift(2,Le),dt.write_shift(2,~Le&65535);Le-- >0;)dt[dt.l++]=wt[xt++];ut=dt.l*8;continue}ut=Re(dt,ut,+(xt+Le==wt.length)+2);for(var Ve=0;Le-- >0;){var Qe=wt[xt];Ve=(Ve<<5^Qe)&32767;var De=-1,yt=0;if((De=de[Ve])&&(De|=xt&-32768,De>xt&&(De-=32768),De<xt))for(;wt[De+yt]==wt[xt+yt]&&yt<250;)++yt;if(yt>2){Qe=Fe[yt],Qe<=22?ut=ce(dt,ut,ye[Qe+1]>>1)-1:(ce(dt,ut,3),ut+=5,ce(dt,ut,ye[Qe-23]>>5),ut+=3);var Ut=Qe<8?0:Qe-4>>2;Ut>0&&(ae(dt,ut,yt-oe[Qe]),ut+=Ut),Qe=ke[xt-De],ut=ce(dt,ut,ye[Qe]>>3),ut-=3;var zt=Qe<4?0:Qe-2>>1;zt>0&&(ae(dt,ut,xt-De-ue[Qe]),ut+=zt);for(var Zt=0;Zt<yt;++Zt)de[Ve]=xt&32767,Ve=(Ve<<5^wt[xt])&32767,++xt;Le-=yt-1}else Qe<=143?Qe=Qe+48:ut=ze(dt,ut,1),ut=ce(dt,ut,ye[Qe]),de[Ve]=xt&32767,++xt}ut=ce(dt,ut,0)-1}return dt.l=(ut+7)/8|0,dt.l}return function(dt,ut){return dt.length<8?Be(dt,ut):it(dt,ut)}})();function _t(me){var ke=Bt(50+Math.floor(me.length*1.1)),je=vt(me,ke);return ke.slice(0,je)}var et=pe?new Uint16Array(32768):We(32768),It=pe?new Uint16Array(32768):We(32768),Lt=pe?new Uint16Array(128):We(128),Gt=1,Rt=1;function mr(me,ke){var je=ie(me,ke)+257;ke+=5;var Ee=ie(me,ke)+1;ke+=5;var Fe=J(me,ke)+4;ke+=4;for(var Be=0,it=pe?new Uint8Array(19):We(19),wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],dt=1,ut=pe?new Uint8Array(8):We(8),xt=pe?new Uint8Array(8):We(8),de=it.length,Le=0;Le<Fe;++Le)it[K[Le]]=Be=ne(me,ke),dt<Be&&(dt=Be),ut[Be]++,ke+=3;var Ve=0;for(ut[0]=0,Le=1;Le<=dt;++Le)xt[Le]=Ve=Ve+ut[Le-1]<<1;for(Le=0;Le<de;++Le)(Ve=it[Le])!=0&&(wt[Le]=xt[Ve]++);var Qe=0;for(Le=0;Le<de;++Le)if(Qe=it[Le],Qe!=0){Ve=ye[wt[Le]]>>8-Qe;for(var De=(1<<7-Qe)-1;De>=0;--De)Lt[Ve|De<<Qe]=Qe&7|Le<<3}var yt=[];for(dt=1;yt.length<je+Ee;)switch(Ve=Lt[Ce(me,ke)],ke+=Ve&7,Ve>>>=3){case 16:for(Be=3+lt(me,ke),ke+=2,Ve=yt[yt.length-1];Be-- >0;)yt.push(Ve);break;case 17:for(Be=3+ne(me,ke),ke+=3;Be-- >0;)yt.push(0);break;case 18:for(Be=11+Ce(me,ke),ke+=7;Be-- >0;)yt.push(0);break;default:yt.push(Ve),dt<Ve&&(dt=Ve);break}var Ut=yt.slice(0,je),zt=yt.slice(je);for(Le=je;Le<286;++Le)Ut[Le]=0;for(Le=Ee;Le<30;++Le)zt[Le]=0;return Gt=Je(Ut,et,286),Rt=Je(zt,It,30),ke}function Ht(me,ke){if(me[0]==3&&!(me[1]&3))return[_m(ke),2];for(var je=0,Ee=0,Fe=SV(ke||1<<18),Be=0,it=Fe.length>>>0,wt=0,dt=0;(Ee&1)==0;){if(Ee=ne(me,je),je+=3,Ee>>>1)Ee>>1==1?(wt=9,dt=5):(je=mr(me,je),wt=Gt,dt=Rt);else{je&7&&(je+=8-(je&7));var ut=me[je>>>3]|me[(je>>>3)+1]<<8;if(je+=32,ut>0)for(!ke&&it<Be+ut&&(Fe=Se(Fe,Be+ut),it=Fe.length);ut-- >0;)Fe[Be++]=me[je>>>3],je+=8;continue}for(;;){!ke&&it<Be+32767&&(Fe=Se(Fe,Be+32767),it=Fe.length);var xt=Oe(me,je,wt),de=Ee>>>1==1?tt[xt]:et[xt];if(je+=de&15,de>>>=4,(de>>>8&255)===0)Fe[Be++]=de;else{if(de==256)break;de-=257;var Le=de<8?0:de-4>>2;Le>5&&(Le=0);var Ve=Be+oe[de];Le>0&&(Ve+=Oe(me,je,Le),je+=Le),xt=Oe(me,je,dt),de=Ee>>>1==1?Tt[xt]:It[xt],je+=de&15,de>>>=4;var Qe=de<4?0:de-2>>1,De=ue[de];for(Qe>0&&(De+=Oe(me,je,Qe),je+=Qe),!ke&&it<Ve&&(Fe=Se(Fe,Ve+100),it=Fe.length);Be<Ve;)Fe[Be]=Fe[Be-De],++Be}}}return ke?[Fe,je+7>>>3]:[Fe.slice(0,Be),je+7>>>3]}function Ge(me,ke){var je=me.slice(me.l||0),Ee=Ht(je,ke);return me.l+=Ee[1],Ee[0]}function we(me,ke){if(me)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function Ze(me,ke){var je=me;fo(je,0);var Ee=[],Fe=[],Be={FileIndex:Ee,FullPaths:Fe};E(Be,{root:ke.root});for(var it=je.length-4;(je[it]!=80||je[it+1]!=75||je[it+2]!=5||je[it+3]!=6)&&it>=0;)--it;je.l=it+4,je.l+=4;var wt=je.read_shift(2);je.l+=6;var dt=je.read_shift(4);for(je.l=dt,it=0;it<wt;++it){je.l+=20;var ut=je.read_shift(4),xt=je.read_shift(4),de=je.read_shift(2),Le=je.read_shift(2),Ve=je.read_shift(2);je.l+=8;var Qe=je.read_shift(4),De=l(je.slice(je.l+de,je.l+de+Le));je.l+=de+Le+Ve;var yt=je.l;je.l=Qe+4,qe(je,ut,xt,Be,De),je.l=yt}return Be}function qe(me,ke,je,Ee,Fe){me.l+=2;var Be=me.read_shift(2),it=me.read_shift(2),wt=o(me);if(Be&8257)throw new Error("Unsupported ZIP encryption");for(var dt=me.read_shift(4),ut=me.read_shift(4),xt=me.read_shift(4),de=me.read_shift(2),Le=me.read_shift(2),Ve="",Qe=0;Qe<de;++Qe)Ve+=String.fromCharCode(me[me.l++]);if(Le){var De=l(me.slice(me.l,me.l+Le));(De[21589]||{}).mt&&(wt=De[21589].mt),((Fe||{})[21589]||{}).mt&&(wt=Fe[21589].mt)}me.l+=Le;var yt=me.slice(me.l,me.l+ut);switch(it){case 8:yt=G(me,xt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+it)}var Ut=!1;Be&8&&(dt=me.read_shift(4),dt==134695760&&(dt=me.read_shift(4),Ut=!0),ut=me.read_shift(4),xt=me.read_shift(4)),ut!=ke&&we(Ut,"Bad compressed size: "+ke+" != "+ut),xt!=je&&we(Ut,"Bad uncompressed size: "+je+" != "+xt),Ls(Ee,Ve,yt,{unsafe:!0,mt:wt})}function st(me,ke){var je=ke||{},Ee=[],Fe=[],Be=Bt(1),it=je.compression?8:0,wt=0,dt=0,ut=0,xt=0,de=0,Le=me.FullPaths[0],Ve=Le,Qe=me.FileIndex[0],De=[],yt=0;for(dt=1;dt<me.FullPaths.length;++dt)if(Ve=me.FullPaths[dt].slice(Le.length),Qe=me.FileIndex[dt],!(!Qe.size||!Qe.content||Ve=="Sh33tJ5")){var Ut=xt,zt=Bt(Ve.length);for(ut=0;ut<Ve.length;++ut)zt.write_shift(1,Ve.charCodeAt(ut)&127);zt=zt.slice(0,zt.l),De[de]=KDe.buf(Qe.content,0);var Zt=Qe.content;it==8&&(Zt=z(Zt)),Be=Bt(30),Be.write_shift(4,67324752),Be.write_shift(2,20),Be.write_shift(2,wt),Be.write_shift(2,it),Qe.mt?i(Be,Qe.mt):Be.write_shift(4,0),Be.write_shift(-4,De[de]),Be.write_shift(4,Zt.length),Be.write_shift(4,Qe.content.length),Be.write_shift(2,zt.length),Be.write_shift(2,0),xt+=Be.length,Ee.push(Be),xt+=zt.length,Ee.push(zt),xt+=Zt.length,Ee.push(Zt),Be=Bt(46),Be.write_shift(4,33639248),Be.write_shift(2,0),Be.write_shift(2,20),Be.write_shift(2,wt),Be.write_shift(2,it),Be.write_shift(4,0),Be.write_shift(-4,De[de]),Be.write_shift(4,Zt.length),Be.write_shift(4,Qe.content.length),Be.write_shift(2,zt.length),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(4,0),Be.write_shift(4,Ut),yt+=Be.l,Fe.push(Be),yt+=zt.length,Fe.push(zt),++de}return Be=Bt(22),Be.write_shift(4,101010256),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,de),Be.write_shift(2,de),Be.write_shift(4,yt),Be.write_shift(4,xt),Be.write_shift(2,0),Ki([Ki(Ee),Ki(Fe),Be])}var ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function St(me,ke){if(me.ctype)return me.ctype;var je=me.name||"",Ee=je.match(/\.([^\.]+)$/);return Ee&&ct[Ee[1]]||ke&&(Ee=(je=ke).match(/[\.\\]([^\.\\])+$/),Ee&&ct[Ee[1]])?ct[Ee[1]]:"application/octet-stream"}function Xt(me){for(var ke=X1(me),je=[],Ee=0;Ee<ke.length;Ee+=76)je.push(ke.slice(Ee,Ee+76));return je.join(`\r
`)+`\r
`}function Vt(me){var ke=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ut){var xt=ut.charCodeAt(0).toString(16).toUpperCase();return"="+(xt.length==1?"0"+xt:xt)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var je=[],Ee=ke.split(`\r
`),Fe=0;Fe<Ee.length;++Fe){var Be=Ee[Fe];if(Be.length==0){je.push("");continue}for(var it=0;it<Be.length;){var wt=76,dt=Be.slice(it,it+wt);dt.charAt(wt-1)=="="?wt--:dt.charAt(wt-2)=="="?wt-=2:dt.charAt(wt-3)=="="&&(wt-=3),dt=Be.slice(it,it+wt),it+=wt,it<Be.length&&(dt+="="),je.push(dt)}}return je.join(`\r
`)}function Pr(me){for(var ke=[],je=0;je<me.length;++je){for(var Ee=me[je];je<=me.length&&Ee.charAt(Ee.length-1)=="=";)Ee=Ee.slice(0,Ee.length-1)+me[++je];ke.push(Ee)}for(var Fe=0;Fe<ke.length;++Fe)ke[Fe]=ke[Fe].replace(/[=][0-9A-Fa-f]{2}/g,function(Be){return String.fromCharCode(parseInt(Be.slice(1),16))});return xc(ke.join(`\r
`))}function sr(me,ke,je){for(var Ee="",Fe="",Be="",it,wt=0;wt<10;++wt){var dt=ke[wt];if(!dt||dt.match(/^\s*$/))break;var ut=dt.match(/^(.*?):\s*([^\s].*)$/);if(ut)switch(ut[1].toLowerCase()){case"content-location":Ee=ut[2].trim();break;case"content-type":Be=ut[2].trim();break;case"content-transfer-encoding":Fe=ut[2].trim();break}}switch(++wt,Fe.toLowerCase()){case"base64":it=xc(Cc(ke.slice(wt).join("")));break;case"quoted-printable":it=Pr(ke.slice(wt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Fe)}var xt=Ls(me,Ee.slice(je.length),it,{unsafe:!0});Be&&(xt.ctype=Be)}function cr(me,ke){if(ee(me.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var je=ke&&ke.root||"",Ee=(js&&Buffer.isBuffer(me)?me.toString("binary"):ee(me)).split(`\r
`),Fe=0,Be="";for(Fe=0;Fe<Ee.length;++Fe)if(Be=Ee[Fe],!!/^Content-Location:/i.test(Be)&&(Be=Be.slice(Be.indexOf("file")),je||(je=Be.slice(0,Be.lastIndexOf("/")+1)),Be.slice(0,je.length)!=je))for(;je.length>0&&(je=je.slice(0,je.length-1),je=je.slice(0,je.lastIndexOf("/")+1),Be.slice(0,je.length)!=je););var it=(Ee[1]||"").match(/boundary="(.*?)"/);if(!it)throw new Error("MAD cannot find boundary");var wt="--"+(it[1]||""),dt=[],ut=[],xt={FileIndex:dt,FullPaths:ut};E(xt);var de,Le=0;for(Fe=0;Fe<Ee.length;++Fe){var Ve=Ee[Fe];Ve!==wt&&Ve!==wt+"--"||(Le++&&sr(xt,Ee.slice(de,Fe),je),de=Fe)}return xt}function Ts(me,ke){var je=ke||{},Ee=je.boundary||"SheetJS";Ee="------="+Ee;for(var Fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ee.slice(2)+'"',"","",""],Be=me.FullPaths[0],it=Be,wt=me.FileIndex[0],dt=1;dt<me.FullPaths.length;++dt)if(it=me.FullPaths[dt].slice(Be.length),wt=me.FileIndex[dt],!(!wt.size||!wt.content||it=="Sh33tJ5")){it=it.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yt){return"_x"+yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yt){return"_u"+yt.charCodeAt(0).toString(16)+"_"});for(var ut=wt.content,xt=js&&Buffer.isBuffer(ut)?ut.toString("binary"):ee(ut),de=0,Le=Math.min(1024,xt.length),Ve=0,Qe=0;Qe<=Le;++Qe)(Ve=xt.charCodeAt(Qe))>=32&&Ve<128&&++de;var De=de>=Le*4/5;Fe.push(Ee),Fe.push("Content-Location: "+(je.root||"file:///C:/SheetJS/")+it),Fe.push("Content-Transfer-Encoding: "+(De?"quoted-printable":"base64")),Fe.push("Content-Type: "+St(wt,it)),Fe.push(""),Fe.push(De?Vt(xt):Xt(xt))}return Fe.push(Ee+`--\r
`),Fe.join(`\r
`)}function tn(me){var ke={};return E(ke,me),ke}function Ls(me,ke,je,Ee){var Fe=Ee&&Ee.unsafe;Fe||E(me);var Be=!Fe&&Hr.find(me,ke);if(!Be){var it=me.FullPaths[0];ke.slice(0,it.length)==it?it=ke:(it.slice(-1)!="/"&&(it+="/"),it=(it+ke).replace("//","/")),Be={name:a(ke),type:2},me.FileIndex.push(Be),me.FullPaths.push(it),Fe||Hr.utils.cfb_gc(me)}return Be.content=je,Be.size=je?je.length:0,Ee&&(Ee.CLSID&&(Be.clsid=Ee.CLSID),Ee.mt&&(Be.mt=Ee.mt),Ee.ct&&(Be.ct=Ee.ct)),Be}function on(me,ke){E(me);var je=Hr.find(me,ke);if(je){for(var Ee=0;Ee<me.FileIndex.length;++Ee)if(me.FileIndex[Ee]==je)return me.FileIndex.splice(Ee,1),me.FullPaths.splice(Ee,1),!0}return!1}function hs(me,ke,je){E(me);var Ee=Hr.find(me,ke);if(Ee){for(var Fe=0;Fe<me.FileIndex.length;++Fe)if(me.FileIndex[Fe]==Ee)return me.FileIndex[Fe].name=a(je),me.FullPaths[Fe]=je,!0}return!1}function Rs(me){_(me,!0)}return e.find=k,e.read=N,e.parse=u,e.write=Y,e.writeFile=V,e.utils={cfb_new:tn,cfb_add:Ls,cfb_del:on,cfb_mov:hs,cfb_gc:Rs,ReadShift:$b,CheckField:jse,prep_blob:fo,bconcat:Ki,use_zlib:D,_deflateRaw:_t,_inflateRaw:Ge,consts:O},e})();function XDe(t){return typeof t=="string"?Z4(t):Array.isArray(t)?wDe(t):t}function Yw(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Z4(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?rh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([XDe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Lm(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function YDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function La(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function FV(t,e){for(var r=[],n=La(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function t_(t){for(var e=[],r=La(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function r_(t){for(var e=[],r=La(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function JDe(t){for(var e=[],r=La(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var ES=new Date(1899,11,30,0,0,0);function Ii(t,e){var r=t.getTime(),n=ES.getTime()+(t.getTimezoneOffset()-ES.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var rse=new Date,ZDe=ES.getTime()+(rse.getTimezoneOffset()-ES.getTimezoneOffset())*6e4,PV=rse.getTimezoneOffset();function s_(t){var e=new Date;return e.setTime(t*24*60*60*1e3+ZDe),e.getTimezoneOffset()!==PV&&e.setTime(e.getTime()+(e.getTimezoneOffset()-PV)*6e4),e}function eLe(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var IV=new Date("2017-02-19T19:06:09.000Z"),sse=isNaN(IV.getFullYear())?new Date("2/19/17"):IV,tLe=sse.getFullYear()==2017;function oa(t,e){var r=new Date(t);if(tLe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(sse.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function RA(t,e){if(js&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return rh(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return rh($re(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return rh(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return rh(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function la(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=la(t[r]));return e}function Fa(t,e){for(var r="";r.length<e;)r+=t;return r}function lu(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var rLe=["january","february","march","april","may","june","july","august","september","october","november","december"];function kv(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&rLe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var sLe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function nse(t){return t?t.content&&t.type?RA(t.content,!0):t.data?mb(t.data):t.asNodeBuffer&&js?mb(t.asNodeBuffer().toString("binary")):t.asBinary?mb(t.asBinary()):t._data&&t._data.getContent?mb(RA(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function ase(t){if(!t)return null;if(t.data)return jV(t.data);if(t.asNodeBuffer&&js)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?jV(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function nLe(t){return t&&t.name.slice(-4)===".bin"?ase(t):nse(t)}function rd(t,e){for(var r=t.FullPaths||La(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function rD(t,e){var r=rd(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function li(t,e,r){if(!r)return nLe(rD(t,e));if(!e)return null;try{return li(t,e)}catch{return null}}function gc(t,e,r){if(!r)return nse(rD(t,e));if(!e)return null;try{return gc(t,e)}catch{return null}}function aLe(t,e,r){return ase(rD(t,e))}function DV(t){for(var e=t.FullPaths||La(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gs(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return js?n=Jf(r):n=jDe(r),Hr.utils.cfb_add(t,e,n)}Hr.utils.cfb_add(t,e,r)}else t.file(e,r)}function sD(){return Hr.utils.cfb_new()}function ise(t,e){switch(e.type){case"base64":return Hr.read(t,{type:"base64"});case"binary":return Hr.read(t,{type:"binary"});case"buffer":case"array":return Hr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Ab(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Za=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,iLe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,LV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,oLe=/<[^>]*>/g,Zo=Za.match(LV)?LV:oLe,lLe=/<\w*:/,cLe=/<(\/?)\w+:/;function Jr(t,e,r){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var o=t.match(iLe),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(a=h.charCodeAt(i+1))==34||a==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var f=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(n[f]&&u.slice(l-3,l)=="ext")continue;n[f]=c,n[f.toLowerCase()]=c}}return n}function gh(t){return t.replace(cLe,"<$1")}var ose={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},nD=t_(ose),Qs=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(l,c){return ose[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),aD=/[&<>'"]/g,dLe=/[\u0000-\u0008\u000b-\u001f]/g;function wn(t){var e=t+"";return e.replace(aD,function(r){return nD[r]}).replace(dLe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function RV(t){return wn(t).replace(/ /g,"_x0020_")}var lse=/[\u0000-\u001f]/g;function iD(t){var e=t+"";return e.replace(aD,function(r){return nD[r]}).replace(/\n/g,"<br/>").replace(lse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function uLe(t){var e=t+"";return e.replace(aD,function(r){return nD[r]}).replace(lse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var OV=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function hLe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function na(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function SB(t){for(var e="",r=0,n=0,a=0,i=0,o=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function UV(t){var e=_m(2*t.length),r,n,a=1,i=0,o=0,l;for(n=0;n<t.length;n+=a)a=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function HV(t){return Jf(t,"binary").toString("utf8")}var Oj="foo bar baz",Tn=js&&(HV(Oj)==SB(Oj)&&HV||UV(Oj)==SB(Oj)&&UV)||SB,rh=js?function(t){return Jf(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},J1=(function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),cse=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),fLe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),mLe=/<\/?(?:vt:)?variant>/g,pLe=/<(?:vt:)([^>]*)>([\s\S]*)</;function QV(t,e){var r=Jr(t),n=t.match(fLe(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(mLe,"").match(pLe);o&&a.push({v:Tn(o[2]),t:o[1]})}),a}var dse=/(^\s|\s$|\n)/;function po(t,e){return"<"+t+(e.match(dse)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Z1(t){return La(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ar(t,e,r){return"<"+t+(r!=null?Z1(r):"")+(e!=null?(e.match(dse)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function iP(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function ALe(t,e){switch(typeof t){case"string":var r=ar("vt:lpwstr",wn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ar((t|0)==t?"vt:i4":"vt:r8",wn(String(t)));case"boolean":return ar("vt:bool",t?"true":"false")}if(t instanceof Date)return ar("vt:filetime",iP(t));throw new Error("Unable to serialize "+t)}function oD(t){if(js&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Tn(Lm(Z8(t)));throw new Error("Bad input format: expected Buffer or string")}var ew=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ci={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},tx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xLe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function gLe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=n?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var zV=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},$V=js?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Jf(e)})):zV(t)}:zV,GV=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(_f(t,a)));return n.join("").replace(pl,"")},lD=js?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(pl,""):GV(t,e,r)}:GV,VV=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},use=js?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):VV(t,e,r)}:VV,WV=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(ug(t,a)));return n.join("")},Jw=js?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):WV(e,r,n)}:WV,hse=function(t,e){var r=pc(t,e);return r>0?Jw(t,e+4,e+4+r-1):""},fse=hse,mse=function(t,e){var r=pc(t,e);return r>0?Jw(t,e+4,e+4+r-1):""},pse=mse,Ase=function(t,e){var r=2*pc(t,e);return r>0?Jw(t,e+4,e+4+r-1):""},xse=Ase,gse=function(e,r){var n=pc(e,r);return n>0?lD(e,r+4,r+4+n):""},vse=gse,yse=function(t,e){var r=pc(t,e);return r>0?Jw(t,e+4,e+4+r):""},bse=yse,wse=function(t,e){return xLe(t,e)},kS=wse,cD=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};js&&(fse=function(e,r){if(!Buffer.isBuffer(e))return hse(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},pse=function(e,r){if(!Buffer.isBuffer(e))return mse(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xse=function(e,r){if(!Buffer.isBuffer(e))return Ase(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},vse=function(e,r){if(!Buffer.isBuffer(e))return gse(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},bse=function(e,r){if(!Buffer.isBuffer(e))return yse(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},kS=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):wse(e,r)},cD=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ug=function(t,e){return t[e]},_f=function(t,e){return t[e+1]*256+t[e]},vLe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},pc=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Wp=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},yLe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function $b(t,e){var r="",n,a,i=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,js&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(_f(this,d)),d+=2;t*=2;break;case"utf8":r=Jw(this,this.l,this.l+t);break;case"utf16le":t*=2,r=lD(this,this.l,this.l+t);break;case"wstr":return $b.call(this,t,"dbcs");case"lpstr-ansi":r=fse(this,this.l),t=4+pc(this,this.l);break;case"lpstr-cp":r=pse(this,this.l),t=4+pc(this,this.l);break;case"lpwstr":r=xse(this,this.l),t=4+2*pc(this,this.l);break;case"lpp4":t=4+pc(this,this.l),r=vse(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+pc(this,this.l),r=bse(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=ug(this,this.l+t++))!==0;)i.push(Rj(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=_f(this,this.l+t))!==0;)i.push(Rj(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ug(this,d),this.l=d+1,l=$b.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Rj(_f(this,d))),d+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ug(this,d),this.l=d+1,l=$b.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Rj(ug(this,d))),d+=1}r=i.join("");break;default:switch(t){case 1:return n=ug(this,this.l),this.l++,n;case 2:return n=(e==="i"?vLe:_f)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Wp:yLe)(this,this.l),this.l+=4,n):(a=pc(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=kS(this,this.l):a=kS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=use(this,this.l,t);break}}return this.l+=t,r}var bLe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},wLe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},jLe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function NLe(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)jLe(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,bLe(this,e,this.l);break;case 8:if(n=8,r==="f"){gLe(this,e,this.l);break}case 16:break;case-4:n=4,wLe(this,e,this.l);break}return this.l+=n,this}function jse(t,e){var r=use(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function fo(t,e){t.l=e,t.read_shift=$b,t.chk=jse,t.write_shift=NLe}function Jo(t,e){t.l+=e}function Bt(t){var e=_m(t);return fo(e,0),e}function Zf(t,e,r){if(t){var n,a,i;fo(t,t.l||0);for(var o=t.length,l=0,c=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var d=iw[l]||iw[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;c=t.l+i;var u=d.f&&d.f(t,i,r);if(t.l=c,e(u,d,l))return}}}function Vl(){var t=[],e=js?256:2048,r=function(d){var u=Bt(d);return fo(u,0),u},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,e)))},o=function(){return a(),Ki(t)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function $t(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=iw[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&cD(r)&&t.push(r)}}function Gb(t,e,r){var n=la(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function qV(t,e,r){var n=la(t);return n.s=Gb(n.s,e.s,r),n.e=Gb(n.e,e.s,r),n}function Vb(t,e){if(t.cRel&&t.c<0)for(t=la(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=la(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Xr(t);return!t.cRel&&t.cRel!=null&&(r=CLe(r)),!t.rRel&&t.rRel!=null&&(r=SLe(r)),r}function _B(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Na(t.s.c)+":"+(t.e.cRel?"":"$")+Na(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Xa(t.s.r)+":"+(t.e.rRel?"":"$")+Xa(t.e.r):Vb(t.s,e.biff)+":"+Vb(t.e,e.biff)}function dD(t){return parseInt(_Le(t),10)-1}function Xa(t){return""+(t+1)}function SLe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _Le(t){return t.replace(/\$(\d+)$/,"$1")}function uD(t){for(var e=ELe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Na(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function CLe(t){return t.replace(/^([A-Z])/,"$$$1")}function ELe(t){return t.replace(/^\$([A-Z])/,"$1")}function kLe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Sa(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Xr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Kl(t){var e=t.indexOf(":");return e==-1?{s:Sa(t),e:Sa(t)}:{s:Sa(t.slice(0,e)),e:Sa(t.slice(e+1))}}function ps(t,e){return typeof e>"u"||typeof e=="number"?ps(t.s,t.e):(typeof t!="string"&&(t=Xr(t)),typeof e!="string"&&(e=Xr(e)),t==e?t:t+":"+e)}function Vs(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function KV(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=vd(t.z,r?Ii(e):e)}catch{}try{return t.w=vd((t.XF||{}).numFmtId||(r?14:0),r?Ii(e):e)}catch{return""+e}}function $f(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?e0[t.v]||t.v:e==null?KV(t,t.v):KV(t,e))}function Rm(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Nse(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Sa(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Vs(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var f={v:e[h][m]},A=o+h,g=l+m;if(d.s.r>A&&(d.s.r=A),d.s.c>g&&(d.s.c=g),d.e.r<A&&(d.e.r=A),d.e.c<g&&(d.e.c=g),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))f=e[h][m];else if(Array.isArray(f.v)&&(f.f=e[h][m][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||qr[14],n.cellDates?(f.t="d",f.w=vd(f.z,Ii(f.v))):(f.t="n",f.v=Ii(f.v),f.w=vd(f.z,f.v))):f.t="s";if(a)i[A]||(i[A]=[]),i[A][g]&&i[A][g].z&&(f.z=i[A][g].z),i[A][g]=f;else{var x=Xr({c:g,r:A});i[x]&&i[x].z&&(f.z=i[x].z),i[x]=f}}}return d.s.c<1e7&&(i["!ref"]=ps(d)),i}function ry(t,e){return Nse(null,t,e)}function BLe(t){return t.read_shift(4,"i")}function cu(t,e){return e||(e=Bt(4)),e.write_shift(4,t),e}function Ko(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Xi(t,e){var r=!1;return e==null&&(r=!0,e=Bt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function TLe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function MLe(t,e){return e||(e=Bt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function hD(t,e){var r=t.l,n=t.read_shift(1),a=Ko(t),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(TLe(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function FLe(t,e){var r=!1;return e==null&&(r=!0,e=Bt(15+4*t.t.length)),e.write_shift(1,0),Xi(t.t,e),r?e.slice(0,e.l):e}var PLe=hD;function ILe(t,e){var r=!1;return e==null&&(r=!0,e=Bt(23+4*t.t.length)),e.write_shift(1,1),Xi(t.t,e),e.write_shift(4,1),MLe({},e),r?e.slice(0,e.l):e}function Nd(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function rx(t,e){return e==null&&(e=Bt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function sx(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function nx(t,e){return e==null&&(e=Bt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var DLe=Ko,Sse=Xi;function fD(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function BS(t,e){var r=!1;return e==null&&(r=!0,e=Bt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var LLe=Ko,oP=fD,mD=BS;function pD(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?kS([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Wp(e,0)>>2;return r?a/100:a}function _se(t,e){e==null&&(e=Bt(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Cse(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function RLe(t,e){return e||(e=Bt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ax=Cse,sy=RLe;function Go(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function OA(t,e){return(e||Bt(8)).write_shift(8,t,"f")}function OLe(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var d=AA[a];d&&(e.rgb=rw(d));break;case 2:e.rgb=rw([o,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function TS(t,e){if(e||(e=Bt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function ULe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function HLe(t,e){e||(e=Bt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function Ese(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function QLe(t){return Ese(t,1)}function zLe(t){return Ese(t,2)}var AD=2,Dl=3,Uj=11,XV=12,MS=19,Hj=64,$Le=65,GLe=71,VLe=4108,WLe=4126,Wi=80,kse=81,qLe=[Wi,kse],lP={1:{n:"CodePage",t:AD},2:{n:"Category",t:Wi},3:{n:"PresentationFormat",t:Wi},4:{n:"ByteCount",t:Dl},5:{n:"LineCount",t:Dl},6:{n:"ParagraphCount",t:Dl},7:{n:"SlideCount",t:Dl},8:{n:"NoteCount",t:Dl},9:{n:"HiddenCount",t:Dl},10:{n:"MultimediaClipCount",t:Dl},11:{n:"ScaleCrop",t:Uj},12:{n:"HeadingPairs",t:VLe},13:{n:"TitlesOfParts",t:WLe},14:{n:"Manager",t:Wi},15:{n:"Company",t:Wi},16:{n:"LinksUpToDate",t:Uj},17:{n:"CharacterCount",t:Dl},19:{n:"SharedDoc",t:Uj},22:{n:"HyperlinksChanged",t:Uj},23:{n:"AppVersion",t:Dl,p:"version"},24:{n:"DigSig",t:$Le},26:{n:"ContentType",t:Wi},27:{n:"ContentStatus",t:Wi},28:{n:"Language",t:Wi},29:{n:"Version",t:Wi},255:{},2147483648:{n:"Locale",t:MS},2147483651:{n:"Behavior",t:MS},1919054434:{}},cP={1:{n:"CodePage",t:AD},2:{n:"Title",t:Wi},3:{n:"Subject",t:Wi},4:{n:"Author",t:Wi},5:{n:"Keywords",t:Wi},6:{n:"Comments",t:Wi},7:{n:"Template",t:Wi},8:{n:"LastAuthor",t:Wi},9:{n:"RevNumber",t:Wi},10:{n:"EditTime",t:Hj},11:{n:"LastPrinted",t:Hj},12:{n:"CreatedDate",t:Hj},13:{n:"ModifiedDate",t:Hj},14:{n:"PageCount",t:Dl},15:{n:"WordCount",t:Dl},16:{n:"CharCount",t:Dl},17:{n:"Thumbnail",t:GLe},18:{n:"Application",t:Wi},19:{n:"DocSecurity",t:Dl},255:{},2147483648:{n:"Locale",t:MS},2147483651:{n:"Behavior",t:MS},1919054434:{}},YV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},KLe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function XLe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var YLe=XLe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),AA=la(YLe),e0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Bse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},dP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Qj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function JLe(t){var e=xD();if(!t||!t.match)return e;var r={};if((t.match(Zo)||[]).forEach(function(n){var a=Jr(n);switch(a[0].replace(lLe,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[dP[a.ContentType]]!==void 0&&e[dP[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Ci.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function Tse(t,e){var r=JDe(dP),n=[],a;n[n.length]=Za,n[n.length]=ar("Types",null,{xmlns:Ci.CT,"xmlns:xsd":Ci.xsd,"xmlns:xsi":Ci.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ar("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],n[n.length]=ar("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Qj[c][e.bookType]||Qj[c].xlsx}))},o=function(c){(t[c]||[]).forEach(function(d){n[n.length]=ar("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Qj[c][e.bookType]||Qj[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(d){n[n.length]=ar("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var _s={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tw(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Wb(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Zo)||[]).forEach(function(a){var i=Jr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Ab(i.Target,e);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Fg(t){var e=[Za,ar("Relationships",null,{xmlns:Ci.RELS})];return La(t["!id"]).forEach(function(r){e[e.length]=ar("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function vn(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[_s.HLINK,_s.XPATH,_s.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}var ZLe="application/vnd.oasis.opendocument.spreadsheet";function eRe(t,e){for(var r=oD(t),n,a;n=ew.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jr(n[0],!1),a.path=="/"&&a.type!==ZLe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function tRe(t){var e=[Za];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function JV(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function rRe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function sRe(t){var e=[Za];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(JV(t[r][0],t[r][1])),e.push(rRe("",t[r][0]));return e.push(JV("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Mse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+NS.version+"</meta:generator></office:meta></office:document-meta>"}var fd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],nRe=(function(){for(var t=new Array(fd.length),e=0;e<fd.length;++e){var r=fd[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function Fse(t){var e={};t=Tn(t);for(var r=0;r<fd.length;++r){var n=fd[r],a=t.match(nRe[r]);a!=null&&a.length>0&&(e[n[1]]=Qs(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=oa(e[n[1]]))}return e}function CB(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=wn(e),n[n.length]=r?ar(t,e,r):po(t,e))}function Pse(t,e){var r=e||{},n=[Za,ar("cp:coreProperties",null,{"xmlns:cp":Ci.CORE_PROPS,"xmlns:dc":Ci.dc,"xmlns:dcterms":Ci.dcterms,"xmlns:dcmitype":Ci.dcmitype,"xmlns:xsi":Ci.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&CB("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:iP(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&CB("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:iP(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=fd.length;++i){var o=fd[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&CB(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var xA=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ise=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Dse(t,e,r,n){var a=[];if(typeof t=="string")a=QV(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var o=typeof e=="string"?QV(e,n).map(function(u){return u.v}):e,l=0,c=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(c=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function aRe(t,e,r){var n={};return e||(e={}),t=Tn(t),xA.forEach(function(a){var i=(t.match(J1(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Qs(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Dse(n.HeadingPairs,n.TitlesOfParts,e,r),e}function Lse(t){var e=[],r=ar;return t||(t={}),t.Application="SheetJS",e[e.length]=Za,e[e.length]=ar("Properties",null,{xmlns:Ci.EXT_PROPS,"xmlns:vt":Ci.vt}),xA.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=wn(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+wn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var iRe=/<[^>]+>[^<]*/g;function oRe(t,e){var r={},n="",a=t.match(iRe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Jr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qs(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Qs(u);break;case"bool":r[n]=na(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=oa(u);break;case"cy":case"error":r[n]=Qs(u);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}function Rse(t){var e=[Za,ar("Properties",null,{xmlns:Ci.CUST_PROPS,"xmlns:vt":Ci.vt})];if(!t)return e.join("");var r=1;return La(t).forEach(function(a){++r,e[e.length]=ar("property",ALe(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:wn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var uP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},EB;function lRe(t,e,r){EB||(EB=t_(uP)),e=EB[e]||e,t[e]=r}function cRe(t,e){var r=[];return La(uP).map(function(n){for(var a=0;a<fd.length;++a)if(fd[a][1]==n)return fd[a];for(a=0;a<xA.length;++a)if(xA[a][1]==n)return xA[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(po(uP[n[1]]||n[1],a))}}),ar("DocumentProperties",r.join(""),{xmlns:mc.o})}function dRe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&La(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<fd.length;++o)if(i==fd[o][1])return;for(o=0;o<xA.length;++o)if(i==xA[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ar(RV(i),l,{"dt:dt":c}))}}),e&&La(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(ar(RV(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+mc.o+'">'+a.join("")+"</"+n+">"}function gD(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function uRe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Bt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function Ose(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function Use(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function Hse(t,e,r){return e===31?Use(t):Ose(t,e,r)}function hP(t,e,r){return Hse(t,e,r===!1?0:4)}function hRe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Hse(t,e,0)}function fRe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(pl,""),t.l-a&2&&(t.l+=2)}return r}function mRe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(pl,"");return r}function pRe(t){var e=t.l,r=FS(t,kse);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=FS(t,Dl);return[r,n]}function ARe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(pRe(t));return r}function ZV(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var i=t.read_shift(4),o=t.read_shift(4);n[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(pl,"").replace(pb,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function Qse(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function xRe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function FS(t,e,r){var n=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==XV&&n!==e&&qLe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===XV?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return Ose(t,n,4).replace(pl,"");case 31:return Use(t);case 64:return gD(t);case 65:return Qse(t);case 71:return xRe(t);case 80:return hP(t,n,!i.raw).replace(pl,"");case 81:return hRe(t,n).replace(pl,"");case 4108:return ARe(t);case 4126:case 4127:return n==4127?fRe(t):mRe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function eW(t,e){var r=Bt(4),n=Bt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Bt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=uRe(e);break;case 31:case 80:for(n=Bt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ki([r,n])}function tW(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=a;++o){var u=t.read_shift(4),h=t.read_shift(4);i[o]=[u,h+r]}i.sort(function(j,b){return j[1]-b[1]});var m={};for(o=0;o!=a;++o){if(t.l!==i[o][1]){var f=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,f=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(f=!1,t.l=i[o][1]),f)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var A=e[i[o][0]];if(m[A.n]=FS(t,A.t,{raw:!0}),A.p==="version"&&(m[A.n]=String(m[A.n]>>16)+"."+("0000"+String(m[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(m[A.n]){case 0:m[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:su(l=m[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[A.n])}}else if(i[o][0]===1){if(l=m.CodePage=FS(t,AD),su(l),c!==-1){var g=t.l;t.l=i[c][1],d=ZV(t,l),t.l=g}}else if(i[o][0]===0){if(l===0){c=o,t.l=i[o+1][1];continue}d=ZV(t,l)}else{var x=d[i[o][0]],v;switch(t[t.l]){case 65:t.l+=4,v=Qse(t);break;case 30:t.l+=4,v=hP(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,v=hP(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,v=t.read_shift(4,"i");break;case 19:t.l+=4,v=t.read_shift(4);break;case 5:t.l+=4,v=t.read_shift(8,"f");break;case 11:t.l+=4,v=Ha(t,4);break;case 64:t.l+=4,v=oa(gD(t));break;default:throw new Error("unparsed value: "+t[t.l])}m[x]=v}}return t.l=r+n,m}var zse=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function gRe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function rW(t,e,r){var n=Bt(8),a=[],i=[],o=8,l=0,c=Bt(8),d=Bt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!e){d=Bt(8),d.write_shift(4,0),a.unshift(d);var u=[Bt(4)];for(u[0].write_shift(4,t.length),l=0;l<t.length;++l){var h=t[l][0];for(c=Bt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ki(u),i.unshift(c),o+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(zse.indexOf(t[l][0])>-1||Ise.indexOf(t[l][0])>-1)&&t[l][1]!=null){var m=t[l][1],f=0;if(e){f=+e[t[l][0]];var A=r[f];if(A.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=eW(A.t,m)}else{var x=gRe(m);x==-1&&(x=31,m=String(m)),c=eW(x,m)}i.push(c),d=Bt(8),d.write_shift(4,e?f:2+l),a.push(d),o+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,v),v+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Ki([n].concat(a).concat(i))}function sW(t,e,r){var n=t.content;if(!n)return{};fo(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),u=n.read_shift(16);if(u!==Hr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var h=tW(n,e),m={SystemIdentifier:d};for(var f in h)m[f]=h[f];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var A;try{A=tW(n,null)}catch{}for(f in A)m[f]=A[f];return m.FMTID=[i,o],m}function nW(t,e,r,n,a,i){var o=Bt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Hr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,a?68:48);var c=rW(t,r,n);if(l.push(c),a){var d=rW(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ki(l)}function L0(t,e){return t.read_shift(e),null}function vRe(t,e){e||(e=Bt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function yRe(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function Ha(t,e){return t.read_shift(e)===1}function dl(t,e){return e||(e=Bt(2)),e.write_shift(2,+!!t),e}function ci(t){return t.read_shift(2,"u")}function nd(t,e){return e||(e=Bt(2)),e.write_shift(2,t),e}function $se(t,e){return yRe(t,e,ci)}function bRe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Gse(t,e,r){return r||(r=Bt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Zw(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?t.read_shift(n,a):"";return o}function wRe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=t.read_shift(2)),n&&(l=t.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,d);return a&&(t.l+=4*o),n&&(t.l+=l),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function jRe(t){var e=t.t||"",r=Bt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Bt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return Ki(a)}function UA(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function e2(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):UA(t,n,r)}function ix(t,e,r){if(r.biff>5)return e2(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Vse(t,e,r){return r||(r=Bt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function NRe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function SRe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(pl,"");return n&&(t.l+=24),a}function _Re(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(pl,"");return r+o}function CRe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return SRe(t);case"0303000000000000c000000000000046":return _Re(t);default:throw new Error("Unsupported Moniker "+r)}}function zj(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(pl,""):"";return r}function aW(t,e){e||(e=Bt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function ERe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,o,l,c,d="",u,h;a&16&&(i=zj(t,r-t.l)),a&128&&(o=zj(t,r-t.l)),(a&257)===257&&(l=zj(t,r-t.l)),(a&257)===1&&(c=CRe(t,r-t.l)),a&8&&(d=zj(t,r-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(h=gD(t)),t.l=r;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var f={Target:m};return u&&(f.guid=u),h&&(f.time=h),i&&(f.Tooltip=i),f}function kRe(t){var e=Bt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),aW(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),i&8&&aW(a>-1?n.slice(a+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Wse(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function qse(t,e){var r=Wse(t);return r[3]=0,r}function vh(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function HA(t,e,r,n){return n||(n=Bt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function BRe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function TRe(t,e,r){return e===0?"":ix(t,e,r)}function MRe(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[a,i,o]}function Kse(t){var e=t.read_shift(2),r=pD(t);return[e,r]}function FRe(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=Zw(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function n_(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function Xse(t,e){return e||(e=Bt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Yse(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var PRe=Yse;function Jse(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function IRe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function DRe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Do(t){t.l+=2,t.l+=t.read_shift(2)}var LRe={0:Do,4:Do,5:Do,6:Do,7:DRe,8:Do,9:Do,10:Do,11:Do,12:Do,13:IRe,14:Do,15:Do,16:Do,17:Do,18:Do,19:Do,20:Do,21:Jse};function RRe(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(LRe[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function $j(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function vD(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Bt(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function ORe(t,e){return e===0||t.read_shift(2),1200}function URe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=ix(t,0,r);return t.read_shift(e+n-t.l),a}function HRe(t,e){var r=!e||e.biff==8,n=Bt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function QRe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function zRe(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Zw(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function $Re(t,e){var r=!e||e.biff>=8?2:1,n=Bt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function GRe(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0;o!=a&&t.l<r;++o)i.push(wRe(t));return i.Count=n,i.Unique=a,i}function VRe(t,e){var r=Bt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=jRe(t[a]);var i=Ki([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function WRe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function qRe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function KRe(t){var e=BRe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function XRe(t){return t.read_shift(2),t.read_shift(4)}function iW(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function YRe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function JRe(){var t=Bt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function ZRe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function eOe(t){var e=Bt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function tOe(){}function rOe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Zw(t,0,r),n}function sOe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=Bt(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function nOe(t){var e=vh(t);return e.isst=t.read_shift(4),e}function aOe(t,e,r,n){var a=Bt(10);return HA(t,e,n,a),a.write_shift(4,r),a}function iOe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=vh(t);r.biff==2&&t.l++;var i=e2(t,n-t.l,r);return a.val=i,a}function oOe(t,e,r,n,a){var i=!a||a.biff==8,o=Bt(8+ +i+(1+i)*r.length);return HA(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function lOe(t,e,r){var n=t.read_shift(2),a=ix(t,0,r);return[n,a]}function cOe(t,e,r,n){var a=r&&r.biff==5;n||(n=Bt(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var dOe=ix;function oW(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(2),c=t.read_shift(2);return t.l=n,{s:{r:i,c:l},e:{r:o,c}}}function uOe(t,e){var r=e.biff==8||!e.biff?4:2,n=Bt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function hOe(t){var e=t.read_shift(2),r=t.read_shift(2),n=Kse(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function fOe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(Kse(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function mOe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function pOe(t,e,r,n){var a={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(2);return a.patternType=KLe[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function AOe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=pOe(t,e,n.fStyle,r),n}function lW(t,e,r,n){var a=r&&r.biff==5;n||(n=Bt(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function xOe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function gOe(t){var e=Bt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function cW(t,e,r){var n=vh(t);(r.biff==2||e==9)&&++t.l;var a=bRe(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function vOe(t,e,r,n,a,i){var o=Bt(8);return HA(t,e,n,o),Gse(r,i,o),o}function yOe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vh(t),a=Go(t);return n.val=a,n}function bOe(t,e,r,n){var a=Bt(14);return HA(t,e,n,a),OA(r,a),a}var dW=TRe;function wOe(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=UA(t,i),l=[];n>t.l;)l.push(e2(t));return[i,a,o,l]}function uW(t,e,r){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=FRe(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var jOe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function hW(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),c=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=UA(t,o,r);a&32&&(d=jOe[d.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var h=n==t.l||l===0||!(u>0)?[]:RHe(t,u,r,l);return{chKey:i,Name:d,itab:c,rgce:h}}function Zse(t,e,r){if(r.biff<8)return NOe(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(MRe(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function NOe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Zw(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function SOe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=UA(t,n,r),o=UA(t,a,r);return[i,o]}function _Oe(t,e,r){var n=Yse(t);t.l++;var a=t.read_shift(1);return e-=8,[OHe(t,e,r),a,n]}function fW(t,e,r){var n=PRe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,DHe(t,e,r)]}function COe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function EOe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=ix(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},l,o,i]}}function kOe(t,e,r){return EOe(t,e,r)}function BOe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(n_(t));return r}function TOe(t){var e=Bt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Xse(t[r],e);return e}function MOe(t,e,r){if(r&&r.biff<8)return POe(t,e,r);var n=Jse(t),a=RRe(t,e-22,n[1]);return{cmo:n,ft:a}}var FOe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function POe(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((FOe[n]||Jo)(t,e,r)),{cmo:[a,n,i],ft:o}}function IOe(t,e,r){var n=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=NRe(t,6,r);var l=t.read_shift(2);t.read_shift(2),ci(t,2);var c=t.read_shift(2);t.l+=c;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var u=t[t.l],h=UA(t,t.lens[d+1]-t.lens[d]-1);if(a+=h,a.length>=(u?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function DOe(t,e){var r=n_(t);t.l+=16;var n=ERe(t,e-24);return[r,n]}function LOe(t){var e=Bt(24),r=Sa(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Ki([e,kRe(t[1])])}function ROe(t,e){t.read_shift(2);var r=n_(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(pl,""),[r,n]}function OOe(t){var e=t[1].Tooltip,r=Bt(10+2*(e.length+1));r.write_shift(2,2048);var n=Sa(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function UOe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=YV[r]||r,r=t.read_shift(2),e[1]=YV[r]||r,e}function HOe(t){return t||(t=Bt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function QOe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(qse(t));return r}function zOe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(qse(t));return r}function $Oe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function ene(t,e,r){if(!r.cellStyles)return Jo(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function GOe(t,e){var r=Bt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function VOe(t,e){var r={};return e<32||(t.l+=16,r.header=Go(t),r.footer=Go(t),t.l+=2),r}function WOe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}function qOe(t){for(var e=Bt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var KOe=vh,XOe=$se,YOe=e2;function JOe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function ZOe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vh(t);++t.l;var a=ix(t,e-7,r);return n.t="str",n.val=a,n}function eUe(t){var e=vh(t);++t.l;var r=Go(t);return e.t="n",e.val=r,e}function tUe(t,e,r){var n=Bt(15);return n2(n,t,e),n.write_shift(8,r,"f"),n}function rUe(t){var e=vh(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function sUe(t,e,r){var n=Bt(9);return n2(n,t,e),n.write_shift(2,r),n}function nUe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function aUe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function iUe(t,e,r){var n=t.l+e,a=vh(t),i=t.read_shift(2),o=UA(t,i,r);return t.l=n,a.t="str",a.val=o,a}var oUe=[2,3,48,49,131,139,140,245],fP=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=t_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=_m(1);switch(c.type){case"base64":u=xc(Cc(l));break;case"binary":u=xc(l);break;case"buffer":case"array":u=l;break}fo(u,0);var h=u.read_shift(1),m=!!(h&136),f=!1,A=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,m=!0;break;case 49:f=!0,m=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,x=521;h==2&&(g=u.read_shift(2)),u.l+=3,h!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(x=u.read_shift(2));var v=u.read_shift(2),j=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(j=t[u[u.l]]),u.l+=1,u.l+=2),A&&(u.l+=36);for(var b=[],S={},w=Math.min(u.length,h==2?521:x-10-(f?264:0)),N=A?32:11;u.l<w&&u[u.l]!=13;)switch(S={},S.name=K1.utils.decode(j,u.slice(u.l,u.l+N)).replace(/[\u0000\r\n].*$/g,""),u.l+=N,S.type=String.fromCharCode(u.read_shift(1)),h!=2&&!A&&(S.offset=u.read_shift(4)),S.len=u.read_shift(1),h==2&&(S.offset=u.read_shift(2)),S.dec=u.read_shift(1),S.name.length&&b.push(S),h!=2&&(u.l+=A?13:14),S.type){case"B":(!f||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var E=0,P=0;for(d[0]=[],P=0;P!=b.length;++P)d[0][P]=b[P].name;for(;g-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,d[++E]=[],P=0,P=0;P!=b.length;++P){var _=u.slice(u.l,u.l+b[P].len);u.l+=b[P].len,fo(_,0);var B=K1.utils.decode(j,_);switch(b[P].type){case"C":B.trim().length&&(d[E][P]=B.replace(/\s+$/,""));break;case"D":B.length===8?d[E][P]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):d[E][P]=B;break;case"F":d[E][P]=parseFloat(B.trim());break;case"+":case"I":d[E][P]=A?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":d[E][P]=!0;break;case"N":case"F":d[E][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[E][P]="##MEMO##"+(A?parseInt(B.trim(),10):_.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(d[E][P]=+B||0);break;case"@":d[E][P]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":d[E][P]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":d[E][P]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][P]=-_.read_shift(-8,"f");break;case"B":if(f&&b[P].len==8){d[E][P]=_.read_shift(8,"f");break}case"G":case"P":_.l+=b[P].len;break;case"0":if(b[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[P].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=b,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=ry(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(l,c){try{return Rm(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&su(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Vl(),h=DS(l,{header:1,raw:!0,cellDates:!0}),m=h[0],f=h.slice(1),A=l["!cols"]||[],g=0,x=0,v=0,j=1;for(g=0;g<m.length;++g){if(((A[g]||{}).DBF||{}).name){m[g]=A[g].DBF.name,++v;continue}if(m[g]!=null){if(++v,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(x=0;x<1024;++x)if(m.indexOf(m[g]+"_"+x)==-1){m[g]+="_"+x;break}}}}var b=Vs(l["!ref"]),S=[],w=[],N=[];for(g=0;g<=b.e.c-b.s.c;++g){var E="",P="",_=0,B=[];for(x=0;x<f.length;++x)f[x][g]!=null&&B.push(f[x][g]);if(B.length==0||m[g]==null){S[g]="?";continue}for(x=0;x<B.length;++x){switch(typeof B[x]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=B[x]instanceof Date?"D":"C";break;default:P="C"}_=Math.max(_,String(B[x]).length),E=E&&E!=P?"C":P}_>250&&(_=250),P=((A[g]||{}).DBF||{}).type,P=="C"&&A[g].DBF.len>_&&(_=A[g].DBF.len),E=="B"&&P=="N"&&(E="N",N[g]=A[g].DBF.dec,_=A[g].DBF.len),w[g]=E=="C"||P=="N"?_:i[E]||0,j+=w[g],S[g]=E}var k=u.next(32);for(k.write_shift(4,318902576),k.write_shift(4,f.length),k.write_shift(2,296+32*v),k.write_shift(2,j),g=0;g<4;++g)k.write_shift(4,0);for(k.write_shift(4,0|(+e[zre]||3)<<8),g=0,x=0;g<m.length;++g)if(m[g]!=null){var M=u.next(32),T=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,T,"sbcs"),M.write_shift(1,S[g]=="?"?"C":S[g],"sbcs"),M.write_shift(4,x),M.write_shift(1,w[g]||i[S[g]]||0),M.write_shift(1,N[g]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=w[g]||i[S[g]]||0}var H=u.next(264);for(H.write_shift(4,13),g=0;g<65;++g)H.write_shift(4,0);for(g=0;g<f.length;++g){var L=u.next(j);for(L.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(S[x]){case"L":L.write_shift(1,f[g][x]==null?63:f[g][x]?84:70);break;case"B":L.write_shift(8,f[g][x]||0,"f");break;case"N":var Q="0";for(typeof f[g][x]=="number"&&(Q=f[g][x].toFixed(N[x]||0)),v=0;v<w[x]-Q.length;++v)L.write_shift(1,32);L.write_shift(1,Q,"sbcs");break;case"D":f[g][x]?(L.write_shift(4,("0000"+f[g][x].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(f[g][x].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+f[g][x].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var O=String(f[g][x]!=null?f[g][x]:"").slice(0,w[x]);for(L.write_shift(1,O,"sbcs"),v=0;v<w[x]-O.length;++v)L.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),tne=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+La(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,f){var A=t[f];return typeof A=="number"?NV(A):A},n=function(m,f,A){var g=f.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return g==59?m:NV(g)};t["|"]=254;function a(m,f){switch(f.type){case"base64":return i(Cc(m),f);case"binary":return i(m,f);case"buffer":return i(js&&Buffer.isBuffer(m)?m.toString("binary"):Lm(m),f);case"array":return i(RA(m),f)}throw new Error("Unrecognized type "+f.type)}function i(m,f){var A=m.split(/[\n\r]+/),g=-1,x=-1,v=0,j=0,b=[],S=[],w=null,N={},E=[],P=[],_=[],B=0,k;for(+f.codepage>=0&&su(+f.codepage);v!==A.length;++v){B=0;var M=A[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),T=M.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),H=T[0],L;if(M.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":T[1].charAt(0)=="P"&&S.push(M.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,O=!1,V=!1,ee=!1,Y=-1,re=-1;for(j=1;j<T.length;++j)switch(T[j].charAt(0)){case"A":break;case"X":x=parseInt(T[j].slice(1))-1,O=!0;break;case"Y":for(g=parseInt(T[j].slice(1))-1,O||(x=0),k=b.length;k<=g;++k)b[k]=[];break;case"K":L=T[j].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(lu(L))?isNaN(kv(L).getDate())||(L=oa(L)):(L=lu(L),w!==null&&ey(w)&&(L=s_(L))),Q=!0;break;case"E":ee=!0;var D=Pg(T[j].slice(1),{r:g,c:x});b[g][x]=[b[g][x],D];break;case"S":V=!0,b[g][x]=[b[g][x],"S5S"];break;case"G":break;case"R":Y=parseInt(T[j].slice(1))-1;break;case"C":re=parseInt(T[j].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+M)}if(Q&&(b[g][x]&&b[g][x].length==2?b[g][x][0]=L:b[g][x]=L,w=null),V){if(ee)throw new Error("SYLK shared formula cannot have own formula");var G=Y>-1&&b[Y][re];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");b[g][x][1]=vne(G[1],{r:g-Y,c:x-re})}break;case"F":var z=0;for(j=1;j<T.length;++j)switch(T[j].charAt(0)){case"X":x=parseInt(T[j].slice(1))-1,++z;break;case"Y":for(g=parseInt(T[j].slice(1))-1,k=b.length;k<=g;++k)b[k]=[];break;case"M":B=parseInt(T[j].slice(1))/20;break;case"F":break;case"G":break;case"P":w=S[parseInt(T[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=T[j].slice(1).split(" "),k=parseInt(_[0],10);k<=parseInt(_[1],10);++k)B=parseInt(_[2],10),P[k-1]=B===0?{hidden:!0}:{wch:B},Cm(P[k-1]);break;case"C":x=parseInt(T[j].slice(1))-1,P[x]||(P[x]={});break;case"R":g=parseInt(T[j].slice(1))-1,E[g]||(E[g]={}),B>0?(E[g].hpt=B,E[g].hpx=Tv(B)):B===0&&(E[g].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+M)}z<1&&(w=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+M)}}return E.length>0&&(N["!rows"]=E),P.length>0&&(N["!cols"]=P),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,N]}function o(m,f){var A=a(m,f),g=A[0],x=A[1],v=ry(g,f);return La(x).forEach(function(j){v[j]=x[j]}),v}function l(m,f){return Rm(o(m,f),f)}function c(m,f,A,g){var x="C;Y"+(A+1)+";X"+(g+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+SD(m.f,{r:A,c:g}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,f){f.forEach(function(A,g){var x="F;W"+(g+1)+" "+(g+1)+" ";A.hidden?x+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=sw(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=nw(A.wpx)),typeof A.wch=="number"&&(x+=Math.round(A.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function u(m,f){f.forEach(function(A,g){var x="F;";A.hidden?x+="M0;":A.hpt?x+="M"+20*A.hpt+";":A.hpx&&(x+="M"+20*aw(A.hpx)+";"),x.length>2&&m.push(x+"R"+(g+1))})}function h(m,f){var A=["ID;PWXL;N;E"],g=[],x=Vs(m["!ref"]),v,j=Array.isArray(m),b=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),m["!cols"]&&d(A,m["!cols"]),m["!rows"]&&u(A,m["!rows"]),A.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var w=x.s.c;w<=x.e.c;++w){var N=Xr({r:S,c:w});v=j?(m[S]||[])[w]:m[N],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,m,S,w))}return A.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),rne=(function(){function t(i,o){switch(o.type){case"base64":return e(Cc(i),o);case"binary":return e(i,o);case"buffer":return e(js&&Buffer.isBuffer(i)?i.toString("binary"):Lm(i),o);case"array":return e(RA(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),f=m[0],A=m[1];++u;for(var g=l[u]||"";(g.match(/["]/g)||[]).length&1&&u<l.length-1;)g+=`
`+l[++u];switch(g=g.trim(),+f){case-1:if(g==="BOT"){h[++c]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[c][d]=!0:g==="FALSE"?h[c][d]=!1:isNaN(lu(A))?isNaN(kv(A).getDate())?h[c][d]=A:h[c][d]=oa(A):h[c][d]=lu(A),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[c][d++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return ry(t(i,o),o)}function n(i,o){return Rm(r(i,o),o)}var a=(function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Vs(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(d,-1,0,"BOT");for(var A=u.s.c;A<=u.e.c;++A){var g=Xr({r:f,c:A});if(h=m?(c[f]||[])[A]:c[g],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=vd(h.z||qr[14],Ii(oa(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var v=`\r
`,j=d.join(v);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),sne=(function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var f=h.split(`
`),A=-1,g=-1,x=0,v=[];x!==f.length;++x){var j=f[x].trim().split(":");if(j[0]==="cell"){var b=Sa(j[1]);if(v.length<=b.r)for(A=v.length;A<=b.r;++A)v[A]||(v[A]=[]);switch(A=b.r,g=b.c,j[2]){case"t":v[A][g]=t(j[3]);break;case"v":v[A][g]=+j[3];break;case"vtf":var S=j[j.length-1];case"vtc":switch(j[3]){case"nl":v[A][g]=!!+j[4];break;default:v[A][g]=+j[4];break}j[2]=="vtf"&&(v[A][g]=[v[A][g],S])}}}return m&&m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}function n(h,m){return ry(r(h,m),m)}function a(h,m){return Rm(n(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],f=[],A,g="",x=Kl(h["!ref"]),v=Array.isArray(h),j=x.s.r;j<=x.e.r;++j)for(var b=x.s.c;b<=x.e.c;++b)if(g=Xr({r:j,c:b}),A=v?(h[j]||[])[b]:h[g],!(!A||A.v==null||A.t==="z")){switch(f=["cell",g,"t"],A.t){case"s":case"str":f.push(e(A.v));break;case"n":A.f?(f[2]="vtf",f[3]="n",f[4]=A.v,f[5]=e(A.f)):(f[2]="v",f[3]=A.v);break;case"b":f[2]="vt"+(A.f?"f":"c"),f[3]="nl",f[4]=A.v?"1":"0",f[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var S=Ii(oa(A.v));f[2]="vtc",f[3]="nd",f[4]=""+S,f[5]=A.w||vd(A.z||qr[14],S);break;case"e":continue}m.push(f.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}})(),Bv=(function(){function t(u,h,m,f,A){A.raw?h[m][f]=u:u===""||(u==="TRUE"?h[m][f]=!0:u==="FALSE"?h[m][f]=!1:isNaN(lu(u))?isNaN(kv(u).getDate())?h[m][f]=u:h[m][f]=oa(u):h[m][f]=lu(u))}function e(u,h){var m=h||{},f=[];if(!u||u.length===0)return f;for(var A=u.split(/[\r\n]/),g=A.length-1;g>=0&&A[g].length===0;)--g;for(var x=10,v=0,j=0;j<=g;++j)v=A[j].indexOf(" "),v==-1?v=A[j].length:v++,x=Math.max(x,v);for(j=0;j<=g;++j){f[j]=[];var b=0;for(t(A[j].slice(0,x).trim(),f,j,b,m),b=1;b<=(A[j].length-x)/10+1;++b)t(A[j].slice(x+(b-1)*10,x+b*10).trim(),f,j,b,m)}return m.sheetRows&&(f=f.slice(0,m.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var h={},m=!1,f=0,A=0;f<u.length;++f)(A=u.charCodeAt(f))==34?m=!m:!m&&A in r&&(h[A]=(h[A]||0)+1);A=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&A.push([h[f],f]);if(!A.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&A.push([h[f],f])}return A.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[A.pop()[1]]||44}function i(u,h){var m=h||{},f="",A=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):m&&m.FS?f=m.FS:f=a(u.slice(0,1024));var x=0,v=0,j=0,b=0,S=0,w=f.charCodeAt(0),N=!1,E=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=m.dateNF!=null?WDe(m.dateNF):null;function B(){var k=u.slice(b,S),M={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)M.t="z";else if(m.raw)M.t="s",M.v=k;else if(k.trim().length===0)M.t="s",M.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(M.t="s",M.v=k.slice(2,-1).replace(/""/g,'"')):w9e(k)?(M.t="n",M.f=k.slice(1)):(M.t="s",M.v=k);else if(k=="TRUE")M.t="b",M.v=!0;else if(k=="FALSE")M.t="b",M.v=!1;else if(!isNaN(j=lu(k)))M.t="n",m.cellText!==!1&&(M.w=k),M.v=j;else if(!isNaN(kv(k).getDate())||_&&k.match(_)){M.z=m.dateNF||qr[14];var T=0;_&&k.match(_)&&(k=qDe(k,m.dateNF,k.match(_)||[]),T=1),m.cellDates?(M.t="d",M.v=oa(k,T)):(M.t="n",M.v=Ii(oa(k,T))),m.cellText!==!1&&(M.w=vd(M.z,M.v instanceof Date?Ii(M.v):M.v)),m.cellNF||delete M.z}else M.t="s",M.v=k;if(M.t=="z"||(m.dense?(A[x]||(A[x]=[]),A[x][v]=M):A[Xr({c:v,r:x})]=M),b=S+1,P=u.charCodeAt(b),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),E==w)++v;else if(v=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;S<u.length;++S)switch(E=u.charCodeAt(S)){case 34:P===34&&(N=!N);break;case w:case 10:case 13:if(!N&&B())break e;break}return S-b>0&&B(),A["!ref"]=ps(g),A}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):ry(e(u,h),h)}function l(u,h){var m="",f=h.type=="string"?[0,0,0,0]:FD(u,h);switch(h.type){case"base64":m=Cc(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof K1<"u"||(m=js&&Buffer.isBuffer(u)?u.toString("binary"):Lm(u));break;case"array":m=RA(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?m=Tn(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Tn(m):h.type=="binary"&&typeof K1<"u",m.slice(0,19)=="socialcalc:version:"?sne.to_sheet(h.type=="string"?m:Tn(m),h):o(m,h)}function c(u,h){return Rm(l(u,h),h)}function d(u){for(var h=[],m=Vs(u["!ref"]),f,A=Array.isArray(u),g=m.s.r;g<=m.e.r;++g){for(var x=[],v=m.s.c;v<=m.e.c;++v){var j=Xr({r:g,c:v});if(f=A?(u[g]||[])[v]:u[j],!f||f.v==null){x.push("          ");continue}for(var b=(f.w||($f(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(v===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})();function lUe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=tne.to_workbook(t,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Bv.to_workbook(t,e)}}var gA=(function(){function t(D,G,z){if(D){fo(D,D.l||0);for(var K=z.Enum||Y;D.l<D.length;){var oe=D.read_shift(2),ue=K[oe]||K[65535],ge=D.read_shift(2),pe=D.l+ge,ye=ue.f&&ue.f(D,ge,z);if(D.l=pe,G(ye,ue,oe))return}}}function e(D,G){switch(G.type){case"base64":return r(xc(Cc(D)),G);case"binary":return r(xc(D),G);case"buffer":case"array":return r(D,G)}throw"Unsupported type "+G.type}function r(D,G){if(!D)return D;var z=G||{},K=z.dense?[]:{},oe="Sheet1",ue="",ge=0,pe={},ye=[],Pe=[],le={s:{r:0,c:0},e:{r:0,c:0}},lt=z.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)z.Enum=Y,t(D,function(Ce,Oe,Re){switch(Re){case 0:z.vers=Ce,Ce>=4096&&(z.qpro=!0);break;case 6:le=Ce;break;case 204:Ce&&(ue=Ce);break;case 222:ue=Ce;break;case 15:case 51:z.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:Re==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=z.dateNF||qr[14],z.cellDates&&(Ce[1].t="d",Ce[1].v=s_(Ce[1].v))),z.qpro&&Ce[3]>ge&&(K["!ref"]=ps(le),pe[oe]=K,ye.push(oe),K=z.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ge=Ce[3],oe=ue||"Sheet"+(ge+1),ue="");var ze=z.dense?(K[Ce[0].r]||[])[Ce[0].c]:K[Xr(Ce[0])];if(ze){ze.t=Ce[1].t,ze.v=Ce[1].v,Ce[1].z!=null&&(ze.z=Ce[1].z),Ce[1].f!=null&&(ze.f=Ce[1].f);break}z.dense?(K[Ce[0].r]||(K[Ce[0].r]=[]),K[Ce[0].r][Ce[0].c]=Ce[1]):K[Xr(Ce[0])]=Ce[1];break}},z);else if(D[2]==26||D[2]==14)z.Enum=re,D[2]==14&&(z.qpro=!0,D.l=0),t(D,function(Ce,Oe,Re){switch(Re){case 204:oe=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>ge&&(K["!ref"]=ps(le),pe[oe]=K,ye.push(oe),K=z.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ge=Ce[3],oe="Sheet"+(ge+1)),lt>0&&Ce[0].r>=lt)break;z.dense?(K[Ce[0].r]||(K[Ce[0].r]=[]),K[Ce[0].r][Ce[0].c]=Ce[1]):K[Xr(Ce[0])]=Ce[1],le.e.c<Ce[0].c&&(le.e.c=Ce[0].c),le.e.r<Ce[0].r&&(le.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(Pe[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:Pe[Ce[0]]=Ce[1],Ce[0]==ge&&(oe=Ce[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(K["!ref"]=ps(le),pe[ue||oe]=K,ye.push(ue||oe),!Pe.length)return{SheetNames:ye,Sheets:pe};for(var ne={},J=[],ie=0;ie<Pe.length;++ie)pe[ye[ie]]?(J.push(Pe[ie]||ye[ie]),ne[Pe[ie]]=pe[Pe[ie]]||pe[ye[ie]]):(J.push(Pe[ie]),ne[Pe[ie]]={"!ref":"A1"});return{SheetNames:J,Sheets:ne}}function n(D,G){var z=G||{};if(+z.codepage>=0&&su(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Vl(),oe=Vs(D["!ref"]),ue=Array.isArray(D),ge=[];ir(K,0,i(1030)),ir(K,6,c(oe));for(var pe=Math.min(oe.e.r,8191),ye=oe.s.r;ye<=pe;++ye)for(var Pe=Xa(ye),le=oe.s.c;le<=oe.e.c;++le){ye===oe.s.r&&(ge[le]=Na(le));var lt=ge[le]+Pe,ne=ue?(D[ye]||[])[le]:D[lt];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?ir(K,13,f(ye,le,ne.v)):ir(K,14,g(ye,le,ne.v));else{var J=$f(ne);ir(K,15,h(ye,le,J.slice(0,239)))}}return ir(K,1),K.end()}function a(D,G){var z=G||{};if(+z.codepage>=0&&su(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Vl();ir(K,0,o(D));for(var oe=0,ue=0;oe<D.SheetNames.length;++oe)(D.Sheets[D.SheetNames[oe]]||{})["!ref"]&&ir(K,27,ee(D.SheetNames[oe],ue++));var ge=0;for(oe=0;oe<D.SheetNames.length;++oe){var pe=D.Sheets[D.SheetNames[oe]];if(!(!pe||!pe["!ref"])){for(var ye=Vs(pe["!ref"]),Pe=Array.isArray(pe),le=[],lt=Math.min(ye.e.r,8191),ne=ye.s.r;ne<=lt;++ne)for(var J=Xa(ne),ie=ye.s.c;ie<=ye.e.c;++ie){ne===ye.s.r&&(le[ie]=Na(ie));var Ce=le[ie]+J,Oe=Pe?(pe[ne]||[])[ie]:pe[Ce];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")ir(K,23,B(ne,ie,ge,Oe.v));else{var Re=$f(Oe);ir(K,22,E(ne,ie,ge,Re.slice(0,239)))}}++ge}}return ir(K,1),K.end()}function i(D){var G=Bt(2);return G.write_shift(2,D),G}function o(D){var G=Bt(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var z=0,K=0,oe=0,ue=0;ue<D.SheetNames.length;++ue){var ge=D.SheetNames[ue],pe=D.Sheets[ge];if(!(!pe||!pe["!ref"])){++oe;var ye=Kl(pe["!ref"]);z<ye.e.r&&(z=ye.e.r),K<ye.e.c&&(K=ye.e.c)}}return z>8191&&(z=8191),G.write_shift(2,z),G.write_shift(1,oe),G.write_shift(1,K),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(D,G,z){var K={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&z.qpro?(K.s.c=D.read_shift(1),D.l++,K.s.r=D.read_shift(2),K.e.c=D.read_shift(1),D.l++,K.e.r=D.read_shift(2),K):(K.s.c=D.read_shift(2),K.s.r=D.read_shift(2),G==12&&z.qpro&&(D.l+=2),K.e.c=D.read_shift(2),K.e.r=D.read_shift(2),G==12&&z.qpro&&(D.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(D){var G=Bt(8);return G.write_shift(2,D.s.c),G.write_shift(2,D.s.r),G.write_shift(2,D.e.c),G.write_shift(2,D.e.r),G}function d(D,G,z){var K=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(K[0].c=D.read_shift(1),K[3]=D.read_shift(1),K[0].r=D.read_shift(2),D.l+=2):(K[2]=D.read_shift(1),K[0].c=D.read_shift(2),K[0].r=D.read_shift(2)),K}function u(D,G,z){var K=D.l+G,oe=d(D,G,z);if(oe[1].t="s",z.vers==20768){D.l++;var ue=D.read_shift(1);return oe[1].v=D.read_shift(ue,"utf8"),oe}return z.qpro&&D.l++,oe[1].v=D.read_shift(K-D.l,"cstr"),oe}function h(D,G,z){var K=Bt(7+z.length);K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,D),K.write_shift(1,39);for(var oe=0;oe<K.length;++oe){var ue=z.charCodeAt(oe);K.write_shift(1,ue>=128?95:ue)}return K.write_shift(1,0),K}function m(D,G,z){var K=d(D,G,z);return K[1].v=D.read_shift(2,"i"),K}function f(D,G,z){var K=Bt(7);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,D),K.write_shift(2,z,"i"),K}function A(D,G,z){var K=d(D,G,z);return K[1].v=D.read_shift(8,"f"),K}function g(D,G,z){var K=Bt(13);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,D),K.write_shift(8,z,"f"),K}function x(D,G,z){var K=D.l+G,oe=d(D,G,z);if(oe[1].v=D.read_shift(8,"f"),z.qpro)D.l=K;else{var ue=D.read_shift(2);S(D.slice(D.l,D.l+ue),oe),D.l+=ue}return oe}function v(D,G,z){var K=G&32768;return G&=-32769,G=(K?D:0)+(G>=8192?G-16384:G),(K?"":"$")+(z?Na(G):Xa(G))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(D,G){fo(D,0);for(var z=[],K=0,oe="",ue="",ge="",pe="";D.l<D.length;){var ye=D[D.l++];switch(ye){case 0:z.push(D.read_shift(8,"f"));break;case 1:ue=v(G[0].c,D.read_shift(2),!0),oe=v(G[0].r,D.read_shift(2),!1),z.push(ue+oe);break;case 2:{var Pe=v(G[0].c,D.read_shift(2),!0),le=v(G[0].r,D.read_shift(2),!1);ue=v(G[0].c,D.read_shift(2),!0),oe=v(G[0].r,D.read_shift(2),!1),z.push(Pe+le+":"+ue+oe)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(D.read_shift(2));break;case 6:{for(var lt="";ye=D[D.l++];)lt+=String.fromCharCode(ye);z.push('"'+lt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:pe=z.pop(),ge=z.pop(),z.push(["AND","OR"][ye-20]+"("+ge+","+pe+")");break;default:if(ye<32&&b[ye])pe=z.pop(),ge=z.pop(),z.push(ge+b[ye]+pe);else if(j[ye]){if(K=j[ye][1],K==69&&(K=D[D.l++]),K>z.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+z.join("|")+"|");return}var ne=z.slice(-K);z.length-=K,z.push(j[ye][0]+"("+ne.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}z.length==1?G[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function w(D){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=D.read_shift(2),G[3]=D[D.l++],G[0].c=D[D.l++],G}function N(D,G){var z=w(D);return z[1].t="s",z[1].v=D.read_shift(G-4,"cstr"),z}function E(D,G,z,K){var oe=Bt(6+K.length);oe.write_shift(2,D),oe.write_shift(1,z),oe.write_shift(1,G),oe.write_shift(1,39);for(var ue=0;ue<K.length;++ue){var ge=K.charCodeAt(ue);oe.write_shift(1,ge>=128?95:ge)}return oe.write_shift(1,0),oe}function P(D,G){var z=w(D);z[1].v=D.read_shift(2);var K=z[1].v>>1;if(z[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return z[1].v=K,z}function _(D,G){var z=w(D),K=D.read_shift(4),oe=D.read_shift(4),ue=D.read_shift(2);if(ue==65535)return K===0&&oe===3221225472?(z[1].t="e",z[1].v=15):K===0&&oe===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ge=ue&32768;return ue=(ue&32767)-16446,z[1].v=(1-ge*2)*(oe*Math.pow(2,ue+32)+K*Math.pow(2,ue)),z}function B(D,G,z,K){var oe=Bt(14);if(oe.write_shift(2,D),oe.write_shift(1,z),oe.write_shift(1,G),K==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var ue=0,ge=0,pe=0,ye=0;return K<0&&(ue=1,K=-K),ge=Math.log2(K)|0,K/=Math.pow(2,ge-31),ye=K>>>0,(ye&2147483648)==0&&(K/=2,++ge,ye=K>>>0),K-=ye,ye|=2147483648,ye>>>=0,K*=Math.pow(2,32),pe=K>>>0,oe.write_shift(4,pe),oe.write_shift(4,ye),ge+=16383+(ue?32768:0),oe.write_shift(2,ge),oe}function k(D,G){var z=_(D);return D.l+=G-14,z}function M(D,G){var z=w(D),K=D.read_shift(4);return z[1].v=K>>6,z}function T(D,G){var z=w(D),K=D.read_shift(8,"f");return z[1].v=K,z}function H(D,G){var z=T(D);return D.l+=G-10,z}function L(D,G){return D[D.l+G-1]==0?D.read_shift(G,"cstr"):""}function Q(D,G){var z=D[D.l++];z>G-1&&(z=G-1);for(var K="";K.length<z;)K+=String.fromCharCode(D[D.l++]);return K}function O(D,G,z){if(!(!z.qpro||G<21)){var K=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var oe=D.read_shift(G-21,"cstr");return[K,oe]}}function V(D,G){for(var z={},K=D.l+G;D.l<K;){var oe=D.read_shift(2);if(oe==14e3){for(z[oe]=[0,""],z[oe][0]=D.read_shift(2);D[D.l];)z[oe][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return z}function ee(D,G){var z=Bt(5+D.length);z.write_shift(2,14e3),z.write_shift(2,G);for(var K=0;K<D.length;++K){var oe=D.charCodeAt(K);z[z.l++]=oe>127?95:oe}return z[z.l++]=0,z}var Y={0:{n:"BOF",f:ci},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:T},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:O},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function cUe(t){var e={},r=t.match(Zo),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Jr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=X8[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var dUe=(function(){var t=J1("t"),e=J1("rPr");function r(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Qs(o[1])},c=i.match(e);return c&&(l.s=cUe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),uUe=(function(){var e=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),hUe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,fUe=/<(?:\w+:)?r>/,mUe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function yD(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qs(Tn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Tn(t),r&&(n.h=iD(n.t))):t.match(fUe)&&(n.r=Tn(t),n.t=Qs(Tn((t.replace(mUe,"").match(hUe)||[]).join("").replace(Zo,""))),r&&(n.h=uUe(dUe(n.r)))),n):{t:""}}var pUe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,AUe=/<(?:\w+:)?(?:si|sstItem)>/g,xUe=/<\/(?:\w+:)?(?:si|sstItem)>/;function gUe(t,e){var r=[],n="";if(!t)return r;var a=t.match(pUe);if(a){n=a[2].replace(AUe,"").split(xUe);for(var i=0;i!=n.length;++i){var o=yD(n[i].trim(),e);o!=null&&(r[r.length]=o)}a=Jr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var vUe=/^\s|\s$|[\t\n\r]/;function nne(t,e){if(!e.bookSST)return"";var r=[Za];r[r.length]=ar("sst",null,{xmlns:tx[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(vUe)&&(i+=' xml:space="preserve"'),i+=">"+wn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function yUe(t){return[t.read_shift(4),t.read_shift(4)]}function bUe(t,e){var r=[],n=!1;return Zf(t,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function wUe(t,e){return e||(e=Bt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var jUe=FLe;function NUe(t){var e=Vl();$t(e,159,wUe(t));for(var r=0;r<t.length;++r)$t(e,19,jUe(t[r]));return $t(e,160),e.end()}function ane(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Df(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function SUe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Df(t,4),e.U=Df(t,4),e.W=Df(t,4),e}function _Ue(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function CUe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(_Ue(t));return e}function EUe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function kUe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Df(t,4),e.U=Df(t,4),e.W=Df(t,4),e}function BUe(t){var e=kUe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function ine(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function one(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function TUe(t){var e=Df(t);switch(e.Minor){case 2:return[e.Minor,MUe(t)];case 3:return[e.Minor,FUe()];case 4:return[e.Minor,PUe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function MUe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=ine(t,r),a=one(t,t.length-t.l);return{t:"Std",h:n,v:a}}function FUe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function PUe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Zo,function(i){var o=Jr(i);switch(gh(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function IUe(t,e){var r={},n=r.EncryptionVersionInfo=Df(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=ine(t,a),e-=a,r.EncryptionVerifier=one(t,e),r}function DUe(t){var e={},r=e.EncryptionVersionInfo=Df(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function bD(t){var e=0,r,n=ane(t),a=n.length+1,i,o,l,c,d;for(r=_m(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(e&16384)===0?0:1,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var lne=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=e[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=ane(o),c=i(l),d=l.length,u=_m(16),h=0;h!=16;++h)u[h]=0;var m,f,A;for((d&1)===1&&(m=c>>8,u[d]=a(t[0],m),--d,m=c&255,f=l[l.length-1],u[d]=a(f,m));d>0;)--d,m=c>>8,u[d]=a(l[d],m),--d,m=c&255,u[d]=a(l[d],m);for(d=15,A=15-l.length;A>0;)m=c>>8,u[d]=a(t[A],m),--d,--A,m=c&255,u[d]=a(l[d],m),--d,--A;return u}})(),LUe=function(t,e,r,n,a){a||(a=e),n||(n=lne(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},RUe=function(t){var e=0,r=lne(t);return function(n){var a=LUe("",n,e,r);return e=a[1],a[0]}};function OUe(t,e,r,n){var a={key:ci(t),verificationBytes:ci(t)};return r.password&&(a.verifier=bD(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=RUe(r.password)),a}function UUe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=DUe(t):n.Data=IUe(t,e),n}function HUe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?UUe(t,e-2,n):OUe(t,r.biff>=8?e:e-2,r,n),n}var cne=(function(){function t(a,i){switch(i.type){case"base64":return e(Cc(a),i);case"binary":return e(a,i);case"buffer":return e(js&&Buffer.isBuffer(a)?a.toString("binary"):Lm(a),i);case"array":return e(RA(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,f=0,A,g=-1;A=m.exec(u);){switch(A[0]){case"\\cell":var x=u.slice(f,m.lastIndex-A[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[h][g]=v:l[Xr({r:h,c:g})]=v}break}f=m.lastIndex}g>d.e.c&&(d.e.c=g)}),l["!ref"]=ps(d),l}function r(a,i){return Rm(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Vs(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Xr({r:d,c:u});l=c?(a[d]||[])[u]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||($f(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function QUe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function rw(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function zUe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),i=Math.min(e,r,n),o=a-i;if(o===0)return[0,0,e];var l=0,c=0,d=a+i;switch(c=o/(d>1?2-d:d),a){case e:l=((r-n)/o+6)%6;break;case r:l=(n-e)/o+2;break;case n:l=(e-r)/o+4;break}return[l/6,c,d/2]}function $Ue(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*e,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function PS(t,e){if(e===0)return t;var r=zUe(QUe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),rw($Ue(r))}var dne=6,GUe=15,VUe=1,$o=dne;function sw(t){return Math.floor((t+Math.round(128/$o)/256)*$o)}function nw(t){return Math.floor((t-5)/$o*100+.5)/100}function IS(t){return Math.round((t*$o+5)/$o*256)/256}function kB(t){return IS(nw(sw(t)))}function wD(t){var e=Math.abs(t-kB(t)),r=$o;if(e>.005)for($o=VUe;$o<GUe;++$o)Math.abs(t-kB(t))<=e&&(e=Math.abs(t-kB(t)),r=$o);$o=r}function Cm(t){t.width?(t.wpx=sw(t.width),t.wch=nw(t.wpx),t.MDW=$o):t.wpx?(t.wch=nw(t.wpx),t.width=IS(t.wch),t.MDW=$o):typeof t.wch=="number"&&(t.width=IS(t.wch),t.wpx=sw(t.width),t.MDW=$o),t.customWidth&&delete t.customWidth}var WUe=96,une=WUe;function aw(t){return t*96/une}function Tv(t){return t*une/96}var qUe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function KUe(t,e,r,n){e.Borders=[];var a={},i=!1;(t[0].match(Zo)||[]).forEach(function(o){var l=Jr(o);switch(gh(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=na(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=na(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function XUe(t,e,r,n){e.Fills=[];var a={},i=!1;(t[0].match(Zo)||[]).forEach(function(o){var l=Jr(o);switch(gh(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function YUe(t,e,r,n){e.Fonts=[];var a={},i=!1;(t[0].match(Zo)||[]).forEach(function(o){var l=Jr(o);switch(gh(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Tn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?na(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?na(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?na(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?na(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?na(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?na(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?na(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=X8[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=na(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=AA[a.color.index];a.color.index==81&&(c=AA[1]),c||(c=AA[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=PS(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function JUe(t,e,r){e.NumberFmt=[];for(var n=La(qr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=qr[n[a]];var i=t[0].match(Zo);if(i)for(a=0;a<i.length;++a){var o=Jr(i[a]);switch(gh(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Qs(Tn(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=l}If(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function ZUe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=ar("numFmt",null,{numFmtId:n,formatCode:wn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ar("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Gj=["numFmtId","fillId","fontId","borderId","xfId"],Vj=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function e7e(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Zo)||[]).forEach(function(i){var o=Jr(i),l=0;switch(gh(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Gj.length;++l)n[Gj[l]]&&(n[Gj[l]]=parseInt(n[Gj[l]],10));for(l=0;l<Vj.length;++l)n[Vj[l]]&&(n[Vj[l]]=na(n[Vj[l]]));if(e.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[l]){n.numFmtId=l;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=na(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function t7e(t){var e=[];return e[e.length]=ar("cellXfs",null),t.forEach(function(r){e[e.length]=ar("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ar("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var r7e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(e))&&JUe(h,u,d),(h=l.match(a))&&YUe(h,u,c,d),(h=l.match(n))&&XUe(h,u,c,d),(h=l.match(i))&&KUe(h,u,c,d),(h=l.match(r))&&e7e(h,u,d),u}})();function hne(t,e){var r=[Za,ar("styleSheet",null,{xmlns:tx[0],"xmlns:vt":Ci.vt})],n;return t.SSF&&(n=ZUe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=t7e(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function s7e(t,e){var r=t.read_shift(2),n=Ko(t);return[r,n]}function n7e(t,e,r){r||(r=Bt(6+4*e.length)),r.write_shift(2,t),Xi(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function a7e(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=ULe(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=OLe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ko(t),n}function i7e(t,e){e||(e=Bt(153)),e.write_shift(2,t.sz*20),HLe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),TS(t.color,e);var n=0;return n=2,e.write_shift(1,n),Xi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var o7e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],BB,l7e=Jo;function mW(t,e){e||(e=Bt(84)),BB||(BB=t_(o7e));var r=BB[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(TS({auto:1},e),TS({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function c7e(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function fne(t,e,r){r||(r=Bt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Zy(t,e){return e||(e=Bt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var d7e=Jo;function u7e(t,e){return e||(e=Bt(51)),e.write_shift(1,0),Zy(null,e),Zy(null,e),Zy(null,e),Zy(null,e),Zy(null,e),e.length>e.l?e.slice(0,e.l):e}function h7e(t,e){return e||(e=Bt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),BS(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function f7e(t,e,r){var n=Bt(2052);return n.write_shift(4,t),BS(e,n),BS(r,n),n.length>n.l?n.slice(0,n.l):n}function m7e(t,e,r){var n={};n.NumberFmt=[];for(var a in qr)n.NumberFmt[a]=qr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Zf(t,function(c,d,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],If(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=PS(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function p7e(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&($t(t,615,cu(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&$t(t,44,n7e(a,e[a]))}),$t(t,616))}}function A7e(t){var e=1;$t(t,611,cu(e)),$t(t,43,i7e({sz:12,color:{theme:1},name:"Calibri",family:2})),$t(t,612)}function x7e(t){var e=2;$t(t,603,cu(e)),$t(t,45,mW({patternType:"none"})),$t(t,45,mW({patternType:"gray125"})),$t(t,604)}function g7e(t){var e=1;$t(t,613,cu(e)),$t(t,46,u7e()),$t(t,614)}function v7e(t){var e=1;$t(t,626,cu(e)),$t(t,47,fne({numFmtId:0},65535)),$t(t,627)}function y7e(t,e){$t(t,617,cu(e.length)),e.forEach(function(r){$t(t,47,fne(r,0))}),$t(t,618)}function b7e(t){var e=1;$t(t,619,cu(e)),$t(t,48,h7e({xfId:0,name:"Normal"})),$t(t,620)}function w7e(t){var e=0;$t(t,505,cu(e)),$t(t,506)}function j7e(t){var e=0;$t(t,508,f7e(e,"TableStyleMedium9","PivotStyleMedium4")),$t(t,509)}function N7e(t,e){var r=Vl();return $t(r,278),p7e(r,t.SSF),A7e(r),x7e(r),g7e(r),v7e(r),y7e(r,e.cellXfs),b7e(r),w7e(r),j7e(r),$t(r,279),r.end()}var S7e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _7e(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Zo)||[]).forEach(function(a){var i=Jr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[S7e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function C7e(){}function E7e(){}var k7e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,B7e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,T7e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function M7e(t,e,r){e.themeElements={};var n;[["clrScheme",k7e,_7e],["fontScheme",B7e,C7e],["fmtScheme",T7e,E7e]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var F7e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mne(t,e){(!t||t.length===0)&&(t=jD());var r,n={};if(!(r=t.match(F7e)))throw new Error("themeElements not found in theme");return M7e(r[0],n,e),n.raw=t,n}function jD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Za];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function P7e(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var o;try{o=ise(i,{type:"array"})}catch{return}var l=gc(o,"theme/theme/theme1.xml",!0);if(l)return mne(l,r)}}function I7e(t){return t.read_shift(4)}function D7e(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=L7e(t,4);break;case 2:e.xclrValue=Wse(t);break;case 3:e.xclrValue=I7e(t);break;case 4:t.l+=4;break}return t.l+=8,e}function L7e(t,e){return Jo(t,e)}function R7e(t,e){return Jo(t,e)}function O7e(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=D7e(t);break;case 6:n[1]=R7e(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function U7e(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(O7e(t,r-t.l));return{ixfe:n,ext:i}}function H7e(t,e){e.forEach(function(r){r[0]})}function Q7e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ko(t)}}function z7e(t){var e=Bt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Xi(t.name,e),e.slice(0,e.l)}function $7e(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function G7e(t){var e=Bt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function V7e(t,e){var r=Bt(8+2*e.length);return r.write_shift(4,t),Xi(e,r),r.slice(0,r.l)}function W7e(t){return t.l+=4,t.read_shift(4)!=0}function q7e(t,e){var r=Bt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function K7e(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Zf(t,function(c,d,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):l==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function X7e(){var t=Vl();return $t(t,332),$t(t,334,cu(1)),$t(t,335,z7e({name:"XLDAPR",version:12e4,flags:3496657072})),$t(t,336),$t(t,339,V7e(1,"XLDAPR")),$t(t,52),$t(t,35,cu(514)),$t(t,4096,cu(0)),$t(t,4097,nd(1)),$t(t,36),$t(t,53),$t(t,340),$t(t,337,q7e(1)),$t(t,51,G7e([[1,0]])),$t(t,338),$t(t,333),t.end()}function Y7e(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,o;return t.replace(Zo,function(l){var c=Jr(l);switch(gh(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==c.name&&(o=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function pne(){var t=[Za];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function J7e(t){var e=[];if(!t)return e;var r=1;return(t.match(Zo)||[]).forEach(function(n){var a=Jr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function Z7e(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Xr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function e9e(t,e,r){var n=[];return Zf(t,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function t9e(t,e,r,n){if(!t)return t;var a=n||{},i=!1;Zf(t,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function r9e(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var yg=1024;function Ane(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ar("xml",null,{"xmlns:v":mc.v,"xmlns:o":mc.o,"xmlns:x":mc.x,"xmlns:mv":mc.mv}).replace(/\/>/,">"),ar("o:shapelayout",ar("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ar("v:shapetype",[ar("v:stroke",null,{joinstyle:"miter"}),ar("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];yg<t*1e3;)yg+=1e3;return e.forEach(function(i){var o=Sa(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ar("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=ar("v:fill",c,l),u={on:"t",obscured:"t"};++yg,a=a.concat(["<v:shape"+Z1({id:"_x0000_s"+yg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,ar("v:shadow",null,u),ar("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",po("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),po("x:AutoFill","False"),po("x:Row",String(o.r)),po("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function pW(t,e,r,n){var a=Array.isArray(t),i;e.forEach(function(o){var l=Sa(o.ref);if(a?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},a?t[l.r][l.c]=i:t[o.ref]=i;var c=Vs(t["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=ps(c);d!==t["!ref"]&&(t["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}i.c.push(u)})}function s9e(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jr(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Sa(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&yD(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=m.h),n.push(d)}}}}),n}function xne(t){var e=[Za,ar("comments",null,{xmlns:tx[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=wn(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(wn(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(po("t",wn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;e.push(po("t",wn(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function n9e(t,e){var r=[],n=!1,a={},i=0;return t.replace(Zo,function(l,c){var d=Jr(l);switch(gh(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function a9e(t,e,r){var n=[Za,ar("ThreadedComments",null,{xmlns:Ci.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(ar("threadedComment",po("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function i9e(t,e){var r=[],n=!1;return t.replace(Zo,function(i){var o=Jr(i);switch(gh(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function o9e(t){var e=[Za,ar("personList",null,{xmlns:Ci.TCMNT,"xmlns:x":tx[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(ar("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function l9e(t){var e={};e.iauthor=t.read_shift(4);var r=ax(t);return e.rfx=r.s,e.ref=Xr(r.s),t.l+=16,e}function c9e(t,e){return e==null&&(e=Bt(36)),e.write_shift(4,t[1].iauthor),sy(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var d9e=Ko;function u9e(t){return Xi(t.slice(0,54))}function h9e(t,e){var r=[],n=[],a={},i=!1;return Zf(t,function(l,c,d){switch(d){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function f9e(t){var e=Vl(),r=[];return $t(e,628),$t(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),$t(e,632,u9e(a.a)))})}),$t(e,631),$t(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Sa(n[0]),e:Sa(n[0])};$t(e,635,c9e([i,a])),a.t&&a.t.length>0&&$t(e,637,ILe(a)),$t(e,636),delete a.iauthor})}),$t(e,634),$t(e,629),e.end()}var m9e="application/vnd.ms-office.vbaProject";function p9e(t){var e=Hr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Hr.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Hr.write(e)}function A9e(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Hr.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var gne=["xlsb","xlsm","xlam","biff8","xla"];function x9e(){return{"!type":"dialog"}}function g9e(){return{"!type":"dialog"}}function v9e(){return{"!type":"macro"}}function y9e(){return{"!type":"macro"}}var Pg=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,a+(l?"":"$")+Na(u)+(c?"":"$")+Xa(d)}return function(a,i){return e=i,a.replace(t,r)}})(),ND=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,SD=(function(){return function(e,r){return e.replace(ND,function(n,a,i,o,l,c){var d=uD(o)-(i?0:r.c),u=dD(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+h+"C"+m})}})();function vne(t,e){return t.replace(ND,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Na(uD(i)+e.c))+(o=="$"?o+l:Xa(dD(l)+e.r))})}function b9e(t,e,r){var n=Kl(e),a=n.s,i=Sa(r),o={r:i.r-a.r,c:i.c-a.c};return vne(t,o)}function w9e(t){return t.length!=1}function AW(t){return t.replace(/_xlfn\./g,"")}function ii(t){t.l+=1}function Em(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function yne(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bne(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),o=Em(t),l=Em(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function bne(t){var e=Em(t),r=Em(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function j9e(t,e,r){if(r.biff<8)return bne(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=Em(t),o=Em(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function wne(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return N9e(t);var n=t.read_shift(r&&r.biff==12?4:2),a=Em(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function N9e(t){var e=Em(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function S9e(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function _9e(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return C9e(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function C9e(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function E9e(t,e,r){var n=(t[t.l++]&96)>>5,a=yne(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function k9e(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=yne(t,i,r);return[n,a,o]}function B9e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function T9e(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function M9e(t,e,r){var n=(t[t.l++]&96)>>5,a=j9e(t,e-1,r);return[n,a]}function F9e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xW(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function P9e(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function I9e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function D9e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function L9e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function R9e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function jne(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function O9e(t){return t.read_shift(2),jne(t)}function U9e(t){return t.read_shift(2),jne(t)}function H9e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=wne(t,0,r);return[n,a]}function Q9e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=_9e(t,0,r);return[n,a]}function z9e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=wne(t,0,r);return[n,a,i]}function $9e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[WHe[a],_ne[a],n]}function G9e(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:V9e(t);return[a,(i[0]===0?_ne:VHe)[i[1]]]}function V9e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function W9e(t,e,r){t.l+=r&&r.biff==2?3:4}function q9e(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function K9e(t){return t.l++,e0[t.read_shift(1)]}function X9e(t){return t.l++,t.read_shift(2)}function Y9e(t){return t.l++,t.read_shift(1)!==0}function J9e(t){return t.l++,Go(t)}function Z9e(t,e,r){return t.l++,Zw(t,e-1,r)}function eHe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ha(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=e0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Go(t);break;case 2:r[1]=ix(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function tHe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?ax:n_)(t));return a}function rHe(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=eHe(t,r.biff);return o}function sHe(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function nHe(t,e,r){if(r.biff==5)return aHe(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function aHe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function iHe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function oHe(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function lHe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function cHe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var dHe=Jo,uHe=Jo,hHe=Jo;function t2(t,e,r){return t.l+=2,[S9e(t)]}function _D(t){return t.l+=6,[]}var fHe=t2,mHe=_D,pHe=_D,AHe=t2;function Nne(t){return t.l+=2,[ci(t),t.read_shift(2)&1]}var xHe=t2,gHe=Nne,vHe=_D,yHe=t2,bHe=t2,wHe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function jHe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),o=wHe[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:a,C:i}}function NHe(t){return t.l+=2,[t.read_shift(4)]}function SHe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function _He(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function CHe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function EHe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function kHe(t){return t.l+=4,[0,0]}var gW={1:{n:"PtgExp",f:q9e},2:{n:"PtgTbl",f:hHe},3:{n:"PtgAdd",f:ii},4:{n:"PtgSub",f:ii},5:{n:"PtgMul",f:ii},6:{n:"PtgDiv",f:ii},7:{n:"PtgPower",f:ii},8:{n:"PtgConcat",f:ii},9:{n:"PtgLt",f:ii},10:{n:"PtgLe",f:ii},11:{n:"PtgEq",f:ii},12:{n:"PtgGe",f:ii},13:{n:"PtgGt",f:ii},14:{n:"PtgNe",f:ii},15:{n:"PtgIsect",f:ii},16:{n:"PtgUnion",f:ii},17:{n:"PtgRange",f:ii},18:{n:"PtgUplus",f:ii},19:{n:"PtgUminus",f:ii},20:{n:"PtgPercent",f:ii},21:{n:"PtgParen",f:ii},22:{n:"PtgMissArg",f:ii},23:{n:"PtgStr",f:Z9e},26:{n:"PtgSheet",f:SHe},27:{n:"PtgEndSheet",f:_He},28:{n:"PtgErr",f:K9e},29:{n:"PtgBool",f:Y9e},30:{n:"PtgInt",f:X9e},31:{n:"PtgNum",f:J9e},32:{n:"PtgArray",f:F9e},33:{n:"PtgFunc",f:$9e},34:{n:"PtgFuncVar",f:G9e},35:{n:"PtgName",f:sHe},36:{n:"PtgRef",f:H9e},37:{n:"PtgArea",f:E9e},38:{n:"PtgMemArea",f:iHe},39:{n:"PtgMemErr",f:dHe},40:{n:"PtgMemNoMem",f:uHe},41:{n:"PtgMemFunc",f:oHe},42:{n:"PtgRefErr",f:lHe},43:{n:"PtgAreaErr",f:B9e},44:{n:"PtgRefN",f:Q9e},45:{n:"PtgAreaN",f:M9e},46:{n:"PtgMemAreaN",f:CHe},47:{n:"PtgMemNoMemN",f:EHe},57:{n:"PtgNameX",f:nHe},58:{n:"PtgRef3d",f:z9e},59:{n:"PtgArea3d",f:k9e},60:{n:"PtgRefErr3d",f:cHe},61:{n:"PtgAreaErr3d",f:T9e},255:{}},BHe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},THe={1:{n:"PtgElfLel",f:Nne},2:{n:"PtgElfRw",f:yHe},3:{n:"PtgElfCol",f:fHe},6:{n:"PtgElfRwV",f:bHe},7:{n:"PtgElfColV",f:AHe},10:{n:"PtgElfRadical",f:xHe},11:{n:"PtgElfRadicalS",f:vHe},13:{n:"PtgElfColS",f:mHe},15:{n:"PtgElfColSV",f:pHe},16:{n:"PtgElfRadicalLel",f:gHe},25:{n:"PtgList",f:jHe},29:{n:"PtgSxName",f:NHe},255:{}},MHe={0:{n:"PtgAttrNoop",f:kHe},1:{n:"PtgAttrSemi",f:R9e},2:{n:"PtgAttrIf",f:D9e},4:{n:"PtgAttrChoose",f:P9e},8:{n:"PtgAttrGoto",f:I9e},16:{n:"PtgAttrSum",f:W9e},32:{n:"PtgAttrBaxcel",f:xW},33:{n:"PtgAttrBaxcel",f:xW},64:{n:"PtgAttrSpace",f:O9e},65:{n:"PtgAttrSpaceSemi",f:U9e},128:{n:"PtgAttrIfError",f:L9e},255:{}};function r2(t,e,r,n){if(n.biff<8)return Jo(t,e);for(var a=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=rHe(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=tHe(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&i.push(Jo(t,e)),i}function s2(t,e,r){for(var n=t.l+e,a,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],a=gW[i]||gW[BHe[i]],(i===24||i===25)&&(a=(i===24?THe:MHe)[t[t.l+1]]),!a||!a.f?Jo(t,e):o.push([a.n,a.f(t,e,r)]);return o}function FHe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var PHe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function IHe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Sne(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function vW(t,e,r){var n=Sne(t,e,r);return n=="#REF"?n:IHe(n,r)}function Ho(t,e,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,f,A="";if(!t[0]||!t[0][0])return"";for(var g=-1,x="",v=0,j=t[0].length;v<j;++v){var b=t[0][v];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),g>=0){switch(t[0][g][1][0]){case 0:x=Fa(" ",t[0][g][1][1]);break;case 1:x=Fa("\r",t[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}d=d+x,g=-1}l.push(d+PHe[b[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Gb(b[1][1],o,a),l.push(Vb(u,i));break;case"PtgRefN":u=r?Gb(b[1][1],r,a):b[1][1],l.push(Vb(u,i));break;case"PtgRef3d":h=b[1][1],u=Gb(b[1][2],o,a),A=vW(n,h,a),l.push(A+"!"+Vb(u,i));break;case"PtgFunc":case"PtgFuncVar":var S=b[1][0],w=b[1][1];S||(S=0),S&=127;var N=S==0?[]:l.slice(-S);l.length-=S,w==="User"&&(w=N.shift()),l.push(w+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":f=qV(b[1][1],r?{s:r}:o,a),l.push(_B(f,a));break;case"PtgArea":f=qV(b[1][1],o,a),l.push(_B(f,a));break;case"PtgArea3d":h=b[1][1],f=b[1][2],A=vW(n,h,a),l.push(A+"!"+_B(f,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=b[1][2];var E=(n.names||[])[m-1]||(n[0]||[])[m],P=E?E.Name:"SH33TJSNAME"+String(m);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),l.push(P);break;case"PtgNameX":var _=b[1][1];m=b[1][2];var B;if(a.biff<=5)_<0&&(_=-_),n[_]&&(B=n[_][m]);else{var k="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][m]&&n[_][m].itab>0&&(k=n.SheetNames[n[_][m].itab-1]+"!"):k=n.SheetNames[m-1]+"!"),n[_]&&n[_][m])k+=n[_][m].Name;else if(n[0]&&n[0][m])k+=n[0][m].Name;else{var M=(Sne(n,_,a)||"").split(";;");M[m-1]?k=M[m-1]:k+="SH33TJSERRX"}l.push(k);break}B||(B={Name:"SH33TJSERRY"}),l.push(B.Name);break;case"PtgParen":var T="(",H=")";if(g>=0){switch(x="",t[0][g][1][0]){case 2:T=Fa(" ",t[0][g][1][1])+T;break;case 3:T=Fa("\r",t[0][g][1][1])+T;break;case 4:H=Fa(" ",t[0][g][1][1])+H;break;case 5:H=Fa("\r",t[0][g][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}l.push(T+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var L={c:r.c,r:r.r};if(n.sharedf[Xr(u)]){var Q=n.sharedf[Xr(u)];l.push(Ho(Q,o,L,n,a))}else{var O=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Ho(d[1],o,L,n,a)),O=!0;break}O||l.push(b[1])}break;case"PtgArray":l.push("{"+FHe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&V.indexOf(t[0][v][0])==-1){b=t[0][g];var ee=!0;switch(b[1][0]){case 4:ee=!1;case 0:x=Fa(" ",b[1][1]);break;case 5:ee=!1;case 1:x=Fa("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((ee?x:"")+l.pop()+(ee?"":x)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function DHe(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Jo(t,e-2)];var l=s2(t,o,r);return e!==o+a&&(i=r2(t,e-o-a,l,r)),t.l=n,[l,i]}function LHe(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Jo(t,e-2)];var l=s2(t,o,r);return e!==o+a&&(i=r2(t,e-o-a,l,r)),t.l=n,[l,i]}function RHe(t,e,r,n){var a=t.l+e,i=s2(t,n,r),o;return a!==t.l&&(o=r2(t,a-t.l,i,r)),[i,o]}function OHe(t,e,r){var n=t.l+e,a,i=t.read_shift(2),o=s2(t,i,r);return i==65535?[[],Jo(t,e-2)]:(e!==i+2&&(a=r2(t,n-i-2,o,r)),[o,a])}function UHe(t){var e;if(_f(t,t.l+6)!==65535)return[Go(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function HHe(t){if(t==null){var e=Bt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return OA(t);return OA(0)}function TB(t,e,r){var n=t.l+e,a=vh(t);r.biff==2&&++t.l;var i=UHe(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var l=LHe(t,n-t.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function QHe(t,e,r,n,a){var i=HA(e,r,a),o=HHe(t.v),l=Bt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Bt(t.bf.length),u=0;u<t.bf.length;++u)d[u]=t.bf[u];var h=Ki([i,o,l,d]);return h}function a_(t,e,r){var n=t.read_shift(4),a=s2(t,n,r),i=t.read_shift(4),o=i>0?r2(t,i,a,r):null;return[a,o]}var zHe=a_,i_=a_,$He=a_,GHe=a_,VHe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_ne={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},WHe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yW(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function qHe(t){var e="of:="+t.replace(ND,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function MB(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function KHe(t){return t.replace(/\./,"!")}var qb={},Ig={},Kb=typeof Map<"u";function CD(t,e,r){var n=0,a=t.length;if(r){if(Kb?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=Kb?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(Kb?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function o_(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&($o=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=nw(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=IS(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function vA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Om(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){If(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Cne(t,e,r,n,a,i){try{n.cellNF&&(t.z=qr[e])}catch(l){if(n.WTF)throw l}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=oa(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(qr[e]==null&&If(VDe[e]||"General",e),t.t==="e")t.w=t.w||e0[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Y1(t.v);else if(t.t==="d"){var o=Ii(t.v);(o|0)===o?t.w=o.toString(10):t.w=Y1(o)}else{if(t.v===void 0)return"";t.w=LA(t.v,Ig)}else t.t==="d"?t.w=vd(e,Ii(t.v),Ig):t.w=vd(e,t.v,Ig)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=PS(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=PS(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function XHe(t,e,r){if(t&&t["!ref"]){var n=Vs(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function YHe(t,e){var r=Vs(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ps(r))}var JHe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ZHe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,eQe=/<(?:\w:)?hyperlink [^>]*>/mg,tQe=/"(\w*:\w*)"/,rQe=/<(?:\w:)?col\b[^>]*[\/]?>/g,sQe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,nQe=/<(?:\w:)?pageMargins[^>]*\/>/g,Ene=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,aQe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,iQe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oQe(t,e,r,n,a,i,o){if(!t)return t;n||(n={"!id":{}});var l=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=t.match(ZHe);h?(d=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):d=u=t;var m=d.match(Ene);m?ED(m[0],l,a,r):(m=d.match(aQe))&&cQe(m[0],m[1]||"",l,a,r);var f=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var A=d.slice(f,f+50).match(tQe);A&&YHe(l,A[1])}var g=d.match(iQe);g&&g[1]&&wQe(g[1],a);var x=[];if(e.cellStyles){var v=d.match(rQe);v&&xQe(x,v)}h&&SQe(h[1],l,e,c,i,o);var j=u.match(sQe);j&&(l["!autofilter"]=vQe(j[0]));var b=[],S=u.match(JHe);if(S)for(f=0;f!=S.length;++f)b[f]=Vs(S[f].slice(S[f].indexOf('"')+1));var w=u.match(eQe);w&&mQe(l,w,n);var N=u.match(nQe);if(N&&(l["!margins"]=pQe(Jr(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ps(c)),e.sheetRows>0&&l["!ref"]){var E=Vs(l["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ps(E))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function lQe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ps(t[r])+'"/>';return e+"</mergeCells>"}function ED(t,e,r,n){var a=Jr(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qs(Tn(a.codeName)))}function cQe(t,e,r,n,a){ED(t.slice(0,t.indexOf(">")),r,n,a)}function dQe(t,e,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=rh(wn(c))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),l=(l||"")+ar("outlinePr",null,d)}!i&&!l||(a[a.length]=ar("sheetPr",l,o))}var uQe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hQe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function fQe(t){var e={sheet:1};return uQe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),hQe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=bD(t.password).toString(16).toUpperCase()),ar("sheetProtection",null,e)}function mQe(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=Jr(Tn(e[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Qs(i.location))):(i.Target="#"+Qs(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Vs(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Xr({c:d,r:c});n?(t[c]||(t[c]=[]),t[c][d]||(t[c][d]={t:"z",v:void 0}),t[c][d].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function pQe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function AQe(t){return vA(t),ar("pageMargins",null,t)}function xQe(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=Jr(e[n],!0);a.hidden&&(a.hidden=na(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,wD(a.width)),Cm(a);i<=o;)t[i++]=la(a)}}function gQe(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=ar("col",null,o_(a,n)));return r[r.length]="</cols>",r.join("")}function vQe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function yQe(t,e,r,n){var a=typeof t.ref=="string"?t.ref:ps(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Kl(a);o.s.r==o.e.r&&(o.e.r=Kl(e["!ref"]).e.r,a=ps(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ar("autoFilter",null,{ref:a})}var bQe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function wQe(t,e){e.Views||(e.Views=[{}]),(t.match(bQe)||[]).forEach(function(r,n){var a=Jr(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),na(a.rightToLeft)&&(e.Views[n].RTL=!0)})}function jQe(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ar("sheetViews",ar("sheetView",null,a),{})}function NQe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=e0[t.v];break;case"d":n&&n.cellDates?a=oa(t.v,-1).toISOString():(t=la(t),t.t="n",a=""+(t.v=Ii(oa(t.v)))),typeof t.z>"u"&&(t.z=qr[14]);break;default:a=t.v;break}var l=po("v",wn(a)),c={r:e},d=Om(n.cellXfs,t,n);switch(d!==0&&(c.s=d),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=po("v",""+CD(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=ar("f",wn(t.f),u)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),ar("c",l,c)}var SQe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=J1("v"),o=J1("f");return function(c,d,u,h,m,f){for(var A=0,g="",x=[],v=[],j=0,b=0,S=0,w="",N,E,P=0,_=0,B,k,M=0,T=0,H=Array.isArray(f.CellXf),L,Q=[],O=[],V=Array.isArray(d),ee=[],Y={},re=!1,D=!!u.sheetStubs,G=c.split(e),z=0,K=G.length;z!=K;++z){g=G[z].trim();var oe=g.length;if(oe!==0){var ue=0;e:for(A=0;A<oe;++A)switch(g[A]){case">":if(g[A-1]!="/"){++A;break e}if(u&&u.cellStyles){if(E=Jr(g.slice(ue,A),!0),P=E.r!=null?parseInt(E.r,10):P+1,_=-1,u.sheetRows&&u.sheetRows<P)continue;Y={},re=!1,E.ht&&(re=!0,Y.hpt=parseFloat(E.ht),Y.hpx=Tv(Y.hpt)),E.hidden=="1"&&(re=!0,Y.hidden=!0),E.outlineLevel!=null&&(re=!0,Y.level=+E.outlineLevel),re&&(ee[P-1]=Y)}break;case"<":ue=A;break}if(ue>=A)break;if(E=Jr(g.slice(ue,A),!0),P=E.r!=null?parseInt(E.r,10):P+1,_=-1,!(u.sheetRows&&u.sheetRows<P)){h.s.r>P-1&&(h.s.r=P-1),h.e.r<P-1&&(h.e.r=P-1),u&&u.cellStyles&&(Y={},re=!1,E.ht&&(re=!0,Y.hpt=parseFloat(E.ht),Y.hpx=Tv(Y.hpt)),E.hidden=="1"&&(re=!0,Y.hidden=!0),E.outlineLevel!=null&&(re=!0,Y.level=+E.outlineLevel),re&&(ee[P-1]=Y)),x=g.slice(A).split(t);for(var ge=0;ge!=x.length&&x[ge].trim().charAt(0)=="<";++ge);for(x=x.slice(ge),A=0;A!=x.length;++A)if(g=x[A].trim(),g.length!==0){if(v=g.match(r),j=A,b=0,S=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(j=0,w=v[1],b=0;b!=w.length&&!((S=w.charCodeAt(b)-64)<1||S>26);++b)j=26*j+S;--j,_=j}else++_;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,E=Jr(g.slice(0,b),!0),E.r||(E.r=Xr({r:P-1,c:_})),w=g.slice(b),N={t:""},(v=w.match(i))!=null&&v[1]!==""&&(N.v=Qs(v[1])),u.cellFormula){if((v=w.match(o))!=null&&v[1]!==""){if(N.f=Qs(Tn(v[1])).replace(/\r\n/g,`
`),u.xlfn||(N.f=AW(N.f)),v[0].indexOf('t="array"')>-1)N.F=(w.match(a)||[])[1],N.F.indexOf(":")>-1&&Q.push([Vs(N.F),N.F]);else if(v[0].indexOf('t="shared"')>-1){k=Jr(v[0]);var pe=Qs(Tn(v[1]));u.xlfn||(pe=AW(pe)),O[parseInt(k.si,10)]=[k,pe,E.r]}}else(v=w.match(/<f[^>]*\/>/))&&(k=Jr(v[0]),O[k.si]&&(N.f=b9e(O[k.si][1],O[k.si][2],E.r)));var ye=Sa(E.r);for(b=0;b<Q.length;++b)ye.r>=Q[b][0].s.r&&ye.r<=Q[b][0].e.r&&ye.c>=Q[b][0].s.c&&ye.c<=Q[b][0].e.c&&(N.F=Q[b][1])}if(E.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(D)N.t="z";else continue;else N.t=E.t||"n";switch(h.s.c>_&&(h.s.c=_),h.e.c<_&&(h.e.c=_),N.t){case"n":if(N.v==""||N.v==null){if(!D)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!D)continue;N.t="z"}else B=qb[parseInt(N.v,10)],N.v=B.t,N.r=B.r,u.cellHTML&&(N.h=B.h);break;case"str":N.t="s",N.v=N.v!=null?Tn(N.v):"",u.cellHTML&&(N.h=iD(N.v));break;case"inlineStr":v=w.match(n),N.t="s",v!=null&&(B=yD(v[1]))?(N.v=B.t,u.cellHTML&&(N.h=B.h)):N.v="";break;case"b":N.v=na(N.v);break;case"d":u.cellDates?N.v=oa(N.v,1):(N.v=Ii(oa(N.v,1)),N.t="n");break;case"e":(!u||u.cellText!==!1)&&(N.w=N.v),N.v=Bse[N.v];break}if(M=T=0,L=null,H&&E.s!==void 0&&(L=f.CellXf[E.s],L!=null&&(L.numFmtId!=null&&(M=L.numFmtId),u.cellStyles&&L.fillId!=null&&(T=L.fillId))),Cne(N,M,T,u,m,f),u.cellDates&&H&&N.t=="n"&&ey(qr[M])&&(N.t="d",N.v=s_(N.v)),E.cm&&u.xlmeta){var Pe=(u.xlmeta.Cell||[])[+E.cm-1];Pe&&Pe.type=="XLDAPR"&&(N.D=!0)}if(V){var le=Sa(E.r);d[le.r]||(d[le.r]=[]),d[le.r][le.c]=N}else d[E.r]=N}}}}ee.length>0&&(d["!rows"]=ee)}})();function _Qe(t,e,r,n){var a=[],i=[],o=Vs(t["!ref"]),l="",c,d="",u=[],h=0,m=0,f=t["!rows"],A=Array.isArray(t),g={r:d},x,v=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=Na(m);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=Xa(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var j=A?(t[h]||[])[m]:t[c];j!==void 0&&(l=NQe(j,c,t,e))!=null&&i.push(l)}(i.length>0||f&&f[h])&&(g={r:d},f&&f[h]&&(x=f[h],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=aw(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=ar("row",i.join(""),g))}if(f)for(;h<f.length;++h)f&&f[h]&&(g={r:h+1},x=f[h],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=aw(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=ar("row","",g));return a.join("")}function kne(t,e,r,n){var a=[Za,ar("worksheet",null,{xmlns:tx[0],"xmlns:r":Ci.r})],i=r.SheetNames[t],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Vs(d);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ps(u)}n||(n={}),c["!comments"]=[];var h=[];dQe(c,r,t,e,a),a[a.length]=ar("dimension",null,{ref:d}),a[a.length]=jQe(c,e,t,r),e.sheetFormat&&(a[a.length]=ar("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=gQe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=_Qe(c,e),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=fQe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=yQe(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=lQe(c["!merges"]));var m=-1,f,A=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(f={ref:g[0]},g[1].Target.charAt(0)!="#"&&(A=vn(n,-1,wn(g[1].Target).replace(/#.*$/,""),_s.HLINK),f["r:id"]="rId"+A),(m=g[1].Target.indexOf("#"))>-1&&(f.location=wn(g[1].Target.slice(m+1))),g[1].Tooltip&&(f.tooltip=wn(g[1].Tooltip)),a[a.length]=ar("hyperlink",null,f))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=AQe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=po("ignoredErrors",ar("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(A=vn(n,-1,"../drawings/drawing"+(t+1)+".xml",_s.DRAW),a[a.length]=ar("drawing",null,{"r:id":"rId"+A}),c["!drawing"]=h),c["!comments"].length>0&&(A=vn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",_s.VML),a[a.length]=ar("legacyDrawing",null,{"r:id":"rId"+A}),c["!legacy"]=A),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function CQe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function EQe(t,e,r){var n=Bt(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=aw(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,m=-1,f=u<<10;f<u+1<<10;++f){d.c=f;var A=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Xr(d)];A&&(h<0&&(h=f),m=f)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function kQe(t,e,r,n){var a=EQe(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&$t(t,0,a)}var BQe=ax,TQe=sy;function MQe(){}function FQe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=DLe(t),r}function PQe(t,e,r){r==null&&(r=Bt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return TS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Sse(t,r),r.slice(0,r.l)}function IQe(t){var e=Nd(t);return[e]}function DQe(t,e,r){return r==null&&(r=Bt(8)),rx(e,r)}function LQe(t){var e=sx(t);return[e]}function RQe(t,e,r){return r==null&&(r=Bt(4)),nx(e,r)}function OQe(t){var e=Nd(t),r=t.read_shift(1);return[e,r,"b"]}function UQe(t,e,r){return r==null&&(r=Bt(9)),rx(e,r),r.write_shift(1,t.v?1:0),r}function HQe(t){var e=sx(t),r=t.read_shift(1);return[e,r,"b"]}function QQe(t,e,r){return r==null&&(r=Bt(5)),nx(e,r),r.write_shift(1,t.v?1:0),r}function zQe(t){var e=Nd(t),r=t.read_shift(1);return[e,r,"e"]}function $Qe(t,e,r){return r==null&&(r=Bt(9)),rx(e,r),r.write_shift(1,t.v),r}function GQe(t){var e=sx(t),r=t.read_shift(1);return[e,r,"e"]}function VQe(t,e,r){return r==null&&(r=Bt(8)),nx(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function WQe(t){var e=Nd(t),r=t.read_shift(4);return[e,r,"s"]}function qQe(t,e,r){return r==null&&(r=Bt(12)),rx(e,r),r.write_shift(4,e.v),r}function KQe(t){var e=sx(t),r=t.read_shift(4);return[e,r,"s"]}function XQe(t,e,r){return r==null&&(r=Bt(8)),nx(e,r),r.write_shift(4,e.v),r}function YQe(t){var e=Nd(t),r=Go(t);return[e,r,"n"]}function JQe(t,e,r){return r==null&&(r=Bt(16)),rx(e,r),OA(t.v,r),r}function Bne(t){var e=sx(t),r=Go(t);return[e,r,"n"]}function ZQe(t,e,r){return r==null&&(r=Bt(12)),nx(e,r),OA(t.v,r),r}function eze(t){var e=Nd(t),r=pD(t);return[e,r,"n"]}function tze(t,e,r){return r==null&&(r=Bt(12)),rx(e,r),_se(t.v,r),r}function rze(t){var e=sx(t),r=pD(t);return[e,r,"n"]}function sze(t,e,r){return r==null&&(r=Bt(8)),nx(e,r),_se(t.v,r),r}function nze(t){var e=Nd(t),r=hD(t);return[e,r,"is"]}function aze(t){var e=Nd(t),r=Ko(t);return[e,r,"str"]}function ize(t,e,r){return r==null&&(r=Bt(12+4*t.v.length)),rx(e,r),Xi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function oze(t){var e=sx(t),r=Ko(t);return[e,r,"str"]}function lze(t,e,r){return r==null&&(r=Bt(8+4*t.v.length)),nx(e,r),Xi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function cze(t,e,r){var n=t.l+e,a=Nd(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"b"];if(r.cellFormula){t.l+=2;var l=i_(t,n-t.l,r);o[3]=Ho(l,null,a,r.supbooks,r)}else t.l=n;return o}function dze(t,e,r){var n=t.l+e,a=Nd(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"e"];if(r.cellFormula){t.l+=2;var l=i_(t,n-t.l,r);o[3]=Ho(l,null,a,r.supbooks,r)}else t.l=n;return o}function uze(t,e,r){var n=t.l+e,a=Nd(t);a.r=r["!row"];var i=Go(t),o=[a,i,"n"];if(r.cellFormula){t.l+=2;var l=i_(t,n-t.l,r);o[3]=Ho(l,null,a,r.supbooks,r)}else t.l=n;return o}function hze(t,e,r){var n=t.l+e,a=Nd(t);a.r=r["!row"];var i=Ko(t),o=[a,i,"str"];if(r.cellFormula){t.l+=2;var l=i_(t,n-t.l,r);o[3]=Ho(l,null,a,r.supbooks,r)}else t.l=n;return o}var fze=ax,mze=sy;function pze(t,e){return e==null&&(e=Bt(4)),e.write_shift(4,t),e}function Aze(t,e){var r=t.l+e,n=ax(t),a=fD(t),i=Ko(t),o=Ko(t),l=Ko(t);t.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function xze(t,e){var r=Bt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));sy({s:Sa(t[0]),e:Sa(t[0])},r),mD("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Xi(a||"",r),Xi(t[1].Tooltip||"",r),Xi("",r),r.slice(0,r.l)}function gze(){}function vze(t,e,r){var n=t.l+e,a=Cse(t),i=t.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=zHe(t,n-t.l,r);o[1]=l}else t.l=n;return o}function yze(t,e,r){var n=t.l+e,a=ax(t),i=[a];if(r.cellFormula){var o=GHe(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function bze(t,e,r){r==null&&(r=Bt(18));var n=o_(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var Tne=["left","right","top","bottom","header","footer"];function wze(t){var e={};return Tne.forEach(function(r){e[r]=Go(t)}),e}function jze(t,e){return e==null&&(e=Bt(48)),vA(t),Tne.forEach(function(r){OA(t[r],e)}),e}function Nze(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Sze(t,e,r){r==null&&(r=Bt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function _ze(t){var e=Bt(24);return e.write_shift(4,4),e.write_shift(4,1),sy(t,e),e}function Cze(t,e){return e==null&&(e=Bt(66)),e.write_shift(2,t.password?bD(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Eze(){}function kze(){}function Bze(t,e,r,n,a,i,o){if(!t)return t;var l=e||{};n||(n={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,f,A,g,x,v,j,b,S,w,N=[];l.biff=12,l["!row"]=0;var E=0,P=!1,_=[],B={},k=l.supbooks||a.supbooks||[[]];if(k.sharedf=B,k.arrayf=_,k.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!l.supbooks&&(l.supbooks=k,a.Names))for(var M=0;M<a.Names.length;++M)k[0][M+1]=a.Names[M];var T=[],H=[],L=!1;iw[16]={n:"BrtShortReal",f:Bne};var Q;if(Zf(t,function(ee,Y,re){if(!m)switch(re){case 148:d=ee;break;case 0:f=ee,l.sheetRows&&l.sheetRows<=f.r&&(m=!0),S=Xa(x=f.r),l["!row"]=f.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=Tv(ee.hpt)),H[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ee[2]},ee[2]){case"n":A.v=ee[1];break;case"s":b=qb[ee[1]],A.v=b.t,A.r=b.r;break;case"b":A.v=!!ee[1];break;case"e":A.v=ee[1],l.cellText!==!1&&(A.w=e0[A.v]);break;case"str":A.t="s",A.v=ee[1];break;case"is":A.t="s",A.v=ee[1].t;break}if((g=o.CellXf[ee[0].iStyleRef])&&Cne(A,g.numFmtId,null,l,i,o),v=ee[0].c==-1?v+1:ee[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=A):c[Na(v)+S]=A,l.cellFormula){for(P=!1,E=0;E<_.length;++E){var D=_[E];f.r>=D[0].s.r&&f.r<=D[0].e.r&&v>=D[0].s.c&&v<=D[0].e.c&&(A.F=ps(D[0]),P=!0)}!P&&ee.length>3&&(A.f=ee[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>v&&(u.s.c=v),u.e.r<f.r&&(u.e.r=f.r),u.e.c<v&&(u.e.c=v),l.cellDates&&g&&A.t=="n"&&ey(qr[g.numFmtId])){var G=sA(A.v);G&&(A.t="d",A.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}Q&&(Q.type=="XLDAPR"&&(A.D=!0),Q=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;A={t:"z",v:void 0},v=ee[0].c==-1?v+1:ee[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=A):c[Na(v)+S]=A,u.s.r>f.r&&(u.s.r=f.r),u.s.c>v&&(u.s.c=v),u.e.r<f.r&&(u.e.r=f.r),u.e.c<v&&(u.e.c=v),Q&&(Q.type=="XLDAPR"&&(A.D=!0),Q=void 0);break;case 176:N.push(ee);break;case 49:Q=((l.xlmeta||{}).Cell||[])[ee-1];break;case 494:var z=n["!id"][ee.relId];for(z?(ee.Target=z.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=z):ee.relId==""&&(ee.Target="#"+ee.loc),x=ee.rfx.s.r;x<=ee.rfx.e.r;++x)for(v=ee.rfx.s.c;v<=ee.rfx.e.c;++v)l.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=ee):(j=Xr({c:v,r:x}),c[j]||(c[j]={t:"z",v:void 0}),c[j].l=ee);break;case 426:if(!l.cellFormula)break;_.push(ee),w=l.dense?c[x][v]:c[Na(v)+S],w.f=Ho(ee[1],u,{r:f.r,c:v},k,l),w.F=ps(ee[0]);break;case 427:if(!l.cellFormula)break;B[Xr(ee[0].s)]=ee[1],w=l.dense?c[x][v]:c[Na(v)+S],w.f=Ho(ee[1],u,{r:f.r,c:v},k,l);break;case 60:if(!l.cellStyles)break;for(;ee.e>=ee.s;)T[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},L||(L=!0,wD(ee.w/256)),Cm(T[ee.e+1]);break;case 161:c["!autofilter"]={ref:ps(ee)};break;case 476:c["!margins"]=ee;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ee.name&&(a.Sheets[r].CodeName=ee.name),(ee.above||ee.left)&&(c["!outline"]={above:ee.above,left:ee.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ee.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Y.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=ps(d||u)),l.sheetRows&&c["!ref"]){var O=Vs(c["!ref"]);l.sheetRows<=+O.e.r&&(O.e.r=l.sheetRows-1,O.e.r>u.e.r&&(O.e.r=u.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>u.e.c&&(O.e.c=u.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ps(O))}return N.length>0&&(c["!merges"]=N),T.length>0&&(c["!cols"]=T),H.length>0&&(c["!rows"]=H),c}function Tze(t,e,r,n,a,i,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=la(e),e.z=e.z||qr[14],e.v=Ii(oa(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=Om(a.cellXfs,e,a),e.l&&i["!links"].push([Xr(c),e.l]),e.c&&i["!comments"].push([Xr(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=CD(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,o?$t(t,18,XQe(e,c)):$t(t,7,qQe(e,c))):(c.t="str",o?$t(t,17,lze(e,c)):$t(t,6,ize(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?$t(t,13,sze(e,c)):$t(t,2,tze(e,c)):o?$t(t,16,ZQe(e,c)):$t(t,5,JQe(e,c)),!0;case"b":return c.t="b",o?$t(t,15,QQe(e,c)):$t(t,4,UQe(e,c)),!0;case"e":return c.t="e",o?$t(t,14,VQe(e,c)):$t(t,3,$Qe(e,c)),!0}return o?$t(t,12,RQe(e,c)):$t(t,1,DQe(e,c)),!0}function Mze(t,e,r,n){var a=Vs(e["!ref"]||"A1"),i,o="",l=[];$t(t,145);var c=Array.isArray(e),d=a.e.r;e["!rows"]&&(d=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Xa(u),kQe(t,e,a,u);var h=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=Na(m)),i=l[m]+o;var f=c?(e[u]||[])[m]:e[i];if(!f){h=!1;continue}h=Tze(t,f,u,m,n,e,h)}}$t(t,146)}function Fze(t,e){!e||!e["!merges"]||($t(t,177,pze(e["!merges"].length)),e["!merges"].forEach(function(r){$t(t,176,mze(r))}),$t(t,178))}function Pze(t,e){!e||!e["!cols"]||($t(t,390),e["!cols"].forEach(function(r,n){r&&$t(t,60,bze(n,r))}),$t(t,391))}function Ize(t,e){!e||!e["!ref"]||($t(t,648),$t(t,649,_ze(Vs(e["!ref"]))),$t(t,650))}function Dze(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=vn(r,-1,n[1].Target.replace(/#.*$/,""),_s.HLINK);$t(t,494,xze(n,a))}}),delete e["!links"]}function Lze(t,e,r,n){if(e["!comments"].length>0){var a=vn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",_s.VML);$t(t,551,mD("rId"+a)),e["!legacy"]=a}}function Rze(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:ps(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Kl(i);l.s.r==l.e.r&&(l.e.r=Kl(e["!ref"]).e.r,i=ps(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),$t(t,161,sy(Vs(i))),$t(t,162)}}function Oze(t,e,r){$t(t,133),$t(t,137,Sze(e,r)),$t(t,138),$t(t,134)}function Uze(t,e){e["!protect"]&&$t(t,535,Cze(e["!protect"]))}function Hze(t,e,r,n){var a=Vl(),i=r.SheetNames[t],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=Vs(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],$t(a,129),(r.vbaraw||o["!outline"])&&$t(a,147,PQe(l,o["!outline"])),$t(a,148,TQe(c)),Oze(a,o,r.Workbook),Pze(a,o),Mze(a,o,t,e),Uze(a,o),Rze(a,o,r,t),Fze(a,o),Dze(a,o,n),o["!margins"]&&$t(a,476,jze(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Ize(a,o),Lze(a,o,t,n),$t(a,130),a.end()}function Qze(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var a=Qs((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function zze(t,e,r,n,a,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=Qze(h);u.s.r=u.s.c=0,u.e.c=l,d=Na(l),m[0].forEach(function(f,A){o[d+Xa(A)]={t:"n",v:f,z:m[1]},c=A}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=ps(u)),o}function $ze(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(Ene);return l&&ED(l[0],i,a,r),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Gze(t,e){t.l+=10;var r=Ko(t);return{name:r}}function Vze(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Zf(t,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var kD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Wze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],qze=[],Kze=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function bW(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=na(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function wW(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=na(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Mne(t){wW(t.WBProps,kD),wW(t.CalcPr,Kze),bW(t.WBView,Wze),bW(t.Sheets,qze),Ig.date1904=na(t.WBProps.date1904)}function Xze(t){return!t.Workbook||!t.Workbook.WBProps?"false":na(t.Workbook.WBProps.date1904)?"true":"false"}var Yze="][*?/\\".split("");function Fne(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Yze.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Jze(t,e,r){t.forEach(function(n,a){Fne(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[a]&&e[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Zze(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Jze(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)XHe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var e$e=/<\w+:workbook/;function t$e(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(t.replace(Zo,function(c,d){var u=Jr(c);switch(gh(u[0])){case"<?xml":break;case"<workbook":c.match(e$e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":kD.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=na(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=Tn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Qs(Tn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Tn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),na(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Qs(Tn(t.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),tx.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Mne(r),r}function Pne(t){var e=[Za];e[e.length]=ar("workbook",null,{xmlns:tx[0],"xmlns:r":Ci.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(kD.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=ar("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:wn(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ar("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=ar("definedName",wn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function r$e(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=oP(t),r.name=Ko(t),r}function s$e(t,e){return e||(e=Bt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),mD(t.strRelID,e),Xi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function n$e(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Ko(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function a$e(t,e){e||(e=Bt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Sse(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function i$e(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function o$e(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=LLe(t),o=$He(t,0,r),l=fD(t);t.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function l$e(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],iw[16]={n:"BrtFRTArchID$",f:i$e},Zf(t,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ho(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),Mne(r),r.Names=i,r.supbooks=o,r}function c$e(t,e){$t(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};$t(t,156,s$e(a))}$t(t,144)}function d$e(t,e){e||(e=Bt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Xi("SheetJS",e),Xi(NS.version,e),Xi(NS.version,e),Xi("7262",e),e.length>e.l?e.slice(0,e.l):e}function u$e(t,e){e||(e=Bt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function h$e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||($t(t,135),$t(t,158,u$e(a)),$t(t,136))}}function f$e(t,e){var r=Vl();return $t(r,131),$t(r,128,d$e()),$t(r,153,a$e(t.Workbook&&t.Workbook.WBProps||null)),h$e(r,t),c$e(r,t),$t(r,132),r.end()}function m$e(t,e,r){return e.slice(-4)===".bin"?l$e(t,r):t$e(t,r)}function p$e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?Bze(t,n,r,a,i,o,l):oQe(t,n,r,a,i,o,l)}function A$e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?Vze(t,n,r,a,i):$ze(t,n,r,a,i)}function x$e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?v9e():y9e()}function g$e(t,e,r,n,a,i,o,l){return e.slice(-4)===".bin"?x9e():g9e()}function v$e(t,e,r,n){return e.slice(-4)===".bin"?m7e(t,r,n):r7e(t,r,n)}function y$e(t,e,r){return mne(t,r)}function b$e(t,e,r){return e.slice(-4)===".bin"?bUe(t,r):gUe(t,r)}function w$e(t,e,r){return e.slice(-4)===".bin"?h9e(t,r):s9e(t,r)}function j$e(t,e,r){return e.slice(-4)===".bin"?e9e(t):J7e(t)}function N$e(t,e,r,n){return r.slice(-4)===".bin"?t9e(t,e,r,n):void 0}function S$e(t,e,r){return e.slice(-4)===".bin"?K7e(t,e,r):Y7e(t,e,r)}function _$e(t,e,r){return(e.slice(-4)===".bin"?f$e:Pne)(t)}function C$e(t,e,r,n,a){return(e.slice(-4)===".bin"?Hze:kne)(t,r,n,a)}function E$e(t,e,r){return(e.slice(-4)===".bin"?N7e:hne)(t,r)}function k$e(t,e,r){return(e.slice(-4)===".bin"?NUe:nne)(t,r)}function B$e(t,e,r){return(e.slice(-4)===".bin"?f9e:xne)(t)}function T$e(t){return(t.slice(-4)===".bin"?X7e:pne)()}var Ine=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Dne=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wd(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(Ine),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(Dne),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function M$e(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(Ine),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(Dne),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Xb;function F$e(t,e){var r=Xb[t]||Qs(t);return r==="General"?LA(e):vd(r,e)}function P$e(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=na(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=oa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Qs(e)]=a}function I$e(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||e0[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Y1(t.v):t.w=LA(t.v):t.w=F$e(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=Xb[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&ey(n)){var a=sA(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function D$e(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=qUe[n.Pattern]||n.Pattern)}t[e.ID]=e}function L$e(t,e,r,n,a,i,o,l,c,d){var u="General",h=n.StyleID,m={};d=d||{};var f=[],A=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=na(t);break;case"String":n.t="s",n.r=OV(Qs(t)),n.v=t.indexOf("<")>-1?Qs(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(oa(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Qs(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Bse[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=OV(e||t));break}if(I$e(n,u,d),d.cellFormula!==!1)if(n.Formula){var g=Qs(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Pg(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Pg("RC:RC",a):n.ArrayRange&&(n.F=Pg(n.ArrayRange,a),c.push([Vs(n.F),n.F]))}else for(A=0;A<c.length;++A)a.r>=c[A][0].s.r&&a.r<=c[A][0].e.r&&a.c>=c[A][0].s.c&&a.c<=c[A][0].e.c&&(n.F=c[A][1]);d.cellStyles&&(f.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function R$e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function FB(t,e){var r=e||{};ty();var n=mb(oD(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Tn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=la(r);return o.type="string",Bv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(i=!0)}),i)return jGe(n,r);Xb={"General Number":"General","General Date":qr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":qr[15],"Short Date":qr[14],"Long Time":qr[19],"Medium Time":qr[18],"Short Time":qr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:qr[2],Standard:qr[4],Percent:qr[10],Scientific:qr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=r.dense?[]:{},f="",A={},g={},x=Wd('<Data ss:Type="String">'),v=0,j=0,b=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},N={},E="",P=0,_=[],B={},k={},M=0,T=[],H=[],L={},Q=[],O,V=!1,ee=[],Y=[],re={},D=0,G=0,z={Sheets:[],WBProps:{date1904:!1}},K={};ew.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";l=ew.exec(n);)switch(l[3]=(oe=l[3]).toLowerCase()){case"data":if(oe=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?L$e(n.slice(v,l.index),E,x,c[c.length-1][0]=="comment"?L:A,{c:j,r:b},w,Q[j],g,ee,r):(E="",x=Wd(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(A.c=H),(!r.sheetRows||r.sheetRows>b)&&A.v!==void 0&&(r.dense?(m[b]||(m[b]=[]),m[b][j]=A):m[Na(j)+Xa(b)]=A),A.HRef&&(A.l={Target:Qs(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(D=j+(parseInt(A.MergeAcross,10)|0),G=b+(parseInt(A.MergeDown,10)|0),_.push({s:{c:j,r:b},e:{c:D,r:G}})),!r.sheetStubs)A.MergeAcross?j=D+1:++j;else if(A.MergeAcross||A.MergeDown){for(var ue=j;ue<=D;++ue)for(var ge=b;ge<=G;++ge)(ue>j||ge>b)&&(r.dense?(m[ge]||(m[ge]=[]),m[ge][ue]={t:"z"}):m[Na(ue)+Xa(ge)]={t:"z"});j=D+1}else++j;else A=M$e(l[0]),A.Index&&(j=+A.Index-1),j<S.s.c&&(S.s.c=j),j>S.e.c&&(S.e.c=j),l[0].slice(-2)==="/>"&&++j,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<S.s.r&&(S.s.r=b),b>S.e.r&&(S.e.r=b),l[0].slice(-2)==="/>"&&(g=Wd(l[0]),g.Index&&(b=+g.Index-1)),j=0,++b):(g=Wd(l[0]),g.Index&&(b=+g.Index-1),re={},(g.AutoFitHeight=="0"||g.Height)&&(re.hpx=parseInt(g.Height,10),re.hpt=aw(re.hpx),Y[b]=re),g.Hidden=="1"&&(re.hidden=!0,Y[b]=re));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(f),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(m["!ref"]=ps(S),r.sheetRows&&r.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=r.sheetRows-1,m["!ref"]=ps(S))),_.length&&(m["!merges"]=_),Q.length>0&&(m["!cols"]=Q),Y.length>0&&(m["!rows"]=Y),u[f]=m}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=j=0,c.push([l[3],!1]),d=Wd(l[0]),f=Qs(d.Name),m=r.dense?[]:{},_=[],ee=[],Y=[],K={name:f,Hidden:0},z.Sheets.push(K);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),Q=[],V=!1}break;case"style":l[1]==="/"?D$e(w,N,r):N=Wd(l[0]);break;case"numberformat":N.nf=Qs(Wd(l[0]).Format||"General"),Xb[N.nf]&&(N.nf=Xb[N.nf]);for(var pe=0;pe!=392&&qr[pe]!=N.nf;++pe);if(pe==392){for(pe=57;pe!=392;++pe)if(qr[pe]==null){If(N.nf,pe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(O=Wd(l[0]),O.Hidden&&(O.hidden=!0,delete O.Hidden),O.Width&&(O.wpx=parseInt(O.Width,10)),!V&&O.wpx>10){V=!0,$o=dne;for(var ye=0;ye<Q.length;++ye)Q[ye]&&Cm(Q[ye])}V&&Cm(O),Q[O.Index-1||Q.length]=O;for(var Pe=0;Pe<+O.Span;++Pe)Q[Q.length]=la(O);break;case"namedrange":if(l[1]==="/")break;z.Names||(z.Names=[]);var le=Jr(l[0]),lt={Name:le.Name,Ref:Pg(le.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(lt.Sheet=z.Sheets.length-1),z.Names.push(lt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?E+=n.slice(P,l.index):P=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=Wd(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?lRe(B,oe,n.slice(M,l.index)):M=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));R$e(L),H.push(L)}else c.push([l[3],!1]),d=Wd(l[0]),L={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ne=Wd(l[0]);m["!autofilter"]={ref:Pg(ne.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return CW(n,r);var J=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(l[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(M,l.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else M=l.index+l[0].length;break;case"header":m["!margins"]||vA(m["!margins"]={},"xlml"),isNaN(+Jr(l[0]).Margin)||(m["!margins"].header=+Jr(l[0]).Margin);break;case"footer":m["!margins"]||vA(m["!margins"]={},"xlml"),isNaN(+Jr(l[0]).Margin)||(m["!margins"].footer=+Jr(l[0]).Margin);break;case"pagemargins":var ie=Jr(l[0]);m["!margins"]||vA(m["!margins"]={},"xlml"),isNaN(+ie.Top)||(m["!margins"].top=+ie.Top),isNaN(+ie.Left)||(m["!margins"].left=+ie.Left),isNaN(+ie.Right)||(m["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(m["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?P$e(k,oe,T,n.slice(M,l.index)):(T=l,M=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Ce={};return!r.bookSheets&&!r.bookProps&&(Ce.Sheets=u),Ce.SheetNames=h,Ce.Workbook=z,Ce.SSF=la(qr),Ce.Props=B,Ce.Custprops=k,Ce}function mP(t,e){switch(TD(e=e||{}),e.type||"base64"){case"base64":return FB(Cc(t),e);case"binary":case"buffer":case"file":return FB(t,e);case"array":return FB(Lm(t),e)}}function O$e(t,e){var r=[];return t.Props&&r.push(cRe(t.Props,e)),t.Custprops&&r.push(dRe(t.Props,t.Custprops)),r.join("")}function U$e(){return""}function H$e(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(ar("NumberFormat",null,{"ss:Format":wn(qr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(ar("Style",i.join(""),o))}),ar("Styles",r.join(""))}function Lne(t){return ar("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+SD(t.Ref,{r:0,c:0})})}function Q$e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Lne(a)))}return ar("Names",r.join(""))}function z$e(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Lne(l)))}return i.join("")}function $$e(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(ar("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(ar("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(ar("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ar("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(po("ProtectContents","True")),t["!protect"].objects&&a.push(po("ProtectObjects","True")),t["!protect"].scenarios&&a.push(po("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(po("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(po("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":ar("WorksheetOptions",a.join(""),{xmlns:mc.x})}function G$e(t){return t.map(function(e){var r=hLe(e.t||""),n=ar("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ar("Comment",n,{"ss:Author":e.a})}).join("")}function V$e(t,e,r,n,a,i,o){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+wn(SD(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var c=Sa(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=wn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=wn(t.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(t.v);break;case"b":h="Boolean",m=t.v?"1":"0";break;case"e":h="Error",m=e0[t.v];break;case"d":h="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||qr[14]);break;case"s":h="String",m=uLe(t.v||"");break}var f=Om(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+f),l["ss:Index"]=o.c+1;var A=t.v!=null?m:"",g=t.t=="z"?"":'<Data ss:Type="'+h+'">'+A+"</Data>";return(t.c||[]).length>0&&(g+=G$e(t.c)),ar("Cell",g,l)}function W$e(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Tv(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function q$e(t,e,r,n){if(!t["!ref"])return"";var a=Vs(t["!ref"]),i=t["!merges"]||[],o=0,l=[];t["!cols"]&&t["!cols"].forEach(function(x,v){Cm(x);var j=!!x.width,b=o_(v,x),S={"ss:Index":v+1};j&&(S["ss:Width"]=sw(b.width)),x.hidden&&(S["ss:Hidden"]="1"),l.push(ar("Column",null,S))});for(var c=Array.isArray(t),d=a.s.r;d<=a.e.r;++d){for(var u=[W$e(d,(t["!rows"]||[])[d])],h=a.s.c;h<=a.e.c;++h){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(m=!0);break}if(!m){var f={r:d,c:h},A=Xr(f),g=c?(t[d]||[])[h]:t[A];u.push(V$e(g,A,t,e,r,n,f))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function K$e(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],o=i?z$e(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?q$e(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push($$e(i,e,t,r)),n.join("")}function X$e(t,e){e||(e={}),t.SSF||(t.SSF=la(qr)),t.SSF&&(ty(),e_(t.SSF),e.revssf=r_(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Om(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(O$e(t,e)),r.push(U$e()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(ar("Worksheet",K$e(n,e,t),{"ss:Name":wn(t.SheetNames[n])}));return r[2]=H$e(t,e),r[3]=Q$e(t),Za+ar("Workbook",r.join(""),{xmlns:mc.ss,"xmlns:o":mc.o,"xmlns:x":mc.x,"xmlns:ss":mc.ss,"xmlns:dt":mc.dt,"xmlns:html":mc.html})}function Y$e(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=QLe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=zLe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var J$e=[60,1084,2066,2165,2175];function Z$e(t,e,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=_f(r,r.l),d=pP[c],u=0;d!=null&&J$e.indexOf(c)>-1;)i=_f(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=pP[c=_f(r,r.l)];var h=Ki(o);fo(h,0);var m=0;h.lens=[];for(var f=0;f<o.length;++f)h.lens.push(m),m+=o[f].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,a)}function Du(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=qr[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||e0[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Y1(t.v):t.w=LA(t.v):t.w=vd(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&ey(qr[n]||String(n))){var a=sA(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Wj(t,e,r){return{v:t,ixfe:e,t:r}}function eGe(t,e){var r={opts:{}},n={},a=e.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,m="",f,A,g,x,v={},j=[],b,S,w=[],N=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},_=function(_t){return _t<8?AA[_t]:_t<64&&N[_t-8]||AA[_t]},B=function(_t,et,It){var Lt=et.XF.data;if(!(!Lt||!Lt.patternType||!It||!It.cellStyles)){et.s={},et.s.patternType=Lt.patternType;var Gt;(Gt=rw(_(Lt.icvFore)))&&(et.s.fgColor={rgb:Gt}),(Gt=rw(_(Lt.icvBack)))&&(et.s.bgColor={rgb:Gt})}},k=function(_t,et,It){if(!(re>1)&&!(It.sheetRows&&_t.r>=It.sheetRows)){if(It.cellStyles&&et.XF&&et.XF.data&&B(_t,et,It),delete et.ixfe,delete et.XF,h=_t,m=Xr(_t),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<o.s.r&&(o.s.r=_t.r),_t.c<o.s.c&&(o.s.c=_t.c),_t.r+1>o.e.r&&(o.e.r=_t.r+1),_t.c+1>o.e.c&&(o.e.c=_t.c+1),It.cellFormula&&et.f){for(var Lt=0;Lt<j.length;++Lt)if(!(j[Lt][0].s.c>_t.c||j[Lt][0].s.r>_t.r)&&!(j[Lt][0].e.c<_t.c||j[Lt][0].e.r<_t.r)){et.F=ps(j[Lt][0]),(j[Lt][0].s.c!=_t.c||j[Lt][0].s.r!=_t.r)&&delete et.f,et.f&&(et.f=""+Ho(j[Lt][1],o,_t,ee,M));break}}It.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=et):a[m]=et}},M={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var T,H=[],L=[],Q=[],O=[],V=!1,ee=[];ee.SheetNames=M.snames,ee.sharedf=M.sharedf,ee.arrayf=M.arrayf,ee.names=[],ee.XTI=[];var Y=0,re=0,D=0,G=[],z=[],K;M.codepage=1200,su(1200);for(var oe=!1;t.l<t.length-1;){var ue=t.l,ge=t.read_shift(2);if(ge===0&&Y===10)break;var pe=t.l===t.length?0:t.read_shift(2),ye=pP[ge];if(ye&&ye.f){if(e.bookSheets&&Y===133&&ge!==133)break;if(Y=ge,ye.r===2||ye.r==12){var Pe=t.read_shift(2);if(pe-=2,!M.enc&&Pe!==ge&&((Pe&255)<<8|Pe>>8)!==ge)throw new Error("rt mismatch: "+Pe+"!="+ge);ye.r==12&&(t.l+=10,pe-=10)}var le={};if(ge===10?le=ye.f(t,pe,M):le=Z$e(ge,ye,t,pe,M),re==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ge){case 34:r.opts.Date1904=E.WBProps.date1904=le;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=le,!e.password)throw new Error("File is password-protected");if(le.valid==null)throw new Error("Encryption scheme unsupported");if(!le.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=le;break;case 66:var lt=Number(le);switch(lt){case 21010:lt=1200;break;case 32768:lt=1e4;break;case 32769:lt=1252;break}su(M.codepage=lt),oe=!0;break;case 317:M.rrtabid=le;break;case 25:M.winlocked=le;break;case 439:r.opts.RefreshAll=le;break;case 12:r.opts.CalcCount=le;break;case 16:r.opts.CalcDelta=le;break;case 17:r.opts.CalcIter=le;break;case 13:r.opts.CalcMode=le;break;case 14:r.opts.CalcPrecision=le;break;case 95:r.opts.CalcSaveRecalc=le;break;case 15:M.CalcRefMode=le;break;case 2211:r.opts.FullCalc=le;break;case 129:le.fDialog&&(a["!type"]="dialog"),le.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),le.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:w.push(le);break;case 430:ee.push([le]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(le);break;case 24:case 536:K={Name:le.Name,Ref:Ho(le.rgce,o,null,ee,M)},le.itab>0&&(K.Sheet=le.itab-1),ee.names.push(K),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(le),le.Name=="_xlnm._FilterDatabase"&&le.itab>0&&le.rgce&&le.rgce[0]&&le.rgce[0][0]&&le.rgce[0][0][0]=="PtgArea3d"&&(z[le.itab-1]={ref:ps(le.rgce[0][0][1][2])});break;case 22:M.ExternCount=le;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(le),ee.XTI=ee.XTI.concat(le);break;case 2196:if(M.biff<8)break;K!=null&&(K.Comment=le[1]);break;case 18:a["!protect"]=le;break;case 19:le!==0&&M.WTF&&console.error("Password verifier: "+le);break;case 133:i[le.pos]=le,M.snames.push(le.name);break;case 10:{if(--re)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=ps(o),e.sheetRows&&e.sheetRows<=o.e.r){var ne=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ps(o),o.e.r=ne}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),L.length>0&&(a["!objects"]=L),Q.length>0&&(a["!cols"]=Q),O.length>0&&(a["!rows"]=O),E.Sheets.push(P)}d===""?u=a:n[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[le.BIFFVer]||8),M.biffguess=le.BIFFVer==0,le.BIFFVer==0&&le.dt==4096&&(M.biff=5,oe=!0,su(M.codepage=28591)),M.biff==8&&le.BIFFVer==0&&le.dt==16&&(M.biff=2),re++)break;if(a=e.dense?[]:{},M.biff<8&&!oe&&(oe=!0,su(M.codepage=e.codepage||1252)),M.biff<5||le.BIFFVer==0&&le.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:t.l-pe,name:d};i[J.pos]=J,M.snames.push(d)}else d=(i[ue]||{name:""}).name;le.dt==32&&(a["!type"]="chart"),le.dt==64&&(a["!type"]="macro"),H=[],L=[],M.arrayf=j=[],Q=[],O=[],V=!1,P={Hidden:(i[ue]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[le.r]||[])[le.c]:a[Xr({c:le.c,r:le.r})])&&++le.c,b={ixfe:le.ixfe,XF:w[le.ixfe]||{},v:le.val,t:"n"},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e);break;case 5:case 517:b={ixfe:le.ixfe,XF:w[le.ixfe],v:le.val,t:le.t},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e);break;case 638:b={ixfe:le.ixfe,XF:w[le.ixfe],v:le.rknum,t:"n"},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e);break;case 189:for(var ie=le.c;ie<=le.C;++ie){var Ce=le.rkrec[ie-le.c][0];b={ixfe:Ce,XF:w[Ce],v:le.rkrec[ie-le.c][1],t:"n"},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:ie,r:le.r},b,e)}break;case 6:case 518:case 1030:{if(le.val=="String"){l=le;break}if(b=Wj(le.val,le.cell.ixfe,le.tt),b.XF=w[b.ixfe],e.cellFormula){var Oe=le.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Re=Oe[0][0][1][0],ze=Oe[0][0][1][1],ce=Xr({r:Re,c:ze});v[ce]?b.f=""+Ho(le.formula,o,le.cell,ee,M):b.F=((e.dense?(a[Re]||[])[ze]:a[ce])||{}).F}else b.f=""+Ho(le.formula,o,le.cell,ee,M)}D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k(le.cell,b,e),l=le}break;case 7:case 519:if(l)l.val=le,b=Wj(le,l.cell.ixfe,"s"),b.XF=w[b.ixfe],e.cellFormula&&(b.f=""+Ho(l.formula,o,l.cell,ee,M)),D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k(l.cell,b,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{j.push(le);var ae=Xr(le[0].s);if(f=e.dense?(a[le[0].s.r]||[])[le[0].s.c]:a[ae],e.cellFormula&&f){if(!l||!ae||!f)break;f.f=""+Ho(le[1],o,le[0],ee,M),f.F=ps(le[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;v[Xr(l.cell)]=le[0],f=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[Xr(l.cell)],(f||{}).f=""+Ho(le[0],o,h,ee,M)}}break;case 253:b=Wj(c[le.isst].t,le.ixfe,"s"),c[le.isst].h&&(b.h=c[le.isst].h),b.XF=w[b.ixfe],D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:le.ixfe,XF:w[le.ixfe],t:"z"},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e));break;case 190:if(e.sheetStubs)for(var Se=le.c;Se<=le.C;++Se){var We=le.ixfe[Se-le.c];b={ixfe:We,XF:w[We],t:"z"},D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:Se,r:le.r},b,e)}break;case 214:case 516:case 4:b=Wj(le.val,le.ixfe,"s"),b.XF=w[b.ixfe],D>0&&(b.z=G[b.ixfe>>8&63]),Du(b,e,r.opts.Date1904),k({c:le.c,r:le.r},b,e);break;case 0:case 512:re===1&&(o=le);break;case 252:c=le;break;case 1054:if(M.biff==4){G[D++]=le[1];for(var Je=0;Je<D+163&&qr[Je]!=le[1];++Je);Je>=163&&If(le[1],D+163)}else If(le[1],le[0]);break;case 30:{G[D++]=le;for(var tt=0;tt<D+163&&qr[tt]!=le;++tt);tt>=163&&If(le,D+163)}break;case 229:H=H.concat(le);break;case 93:L[le.cmo[0]]=M.lastobj=le;break;case 438:M.lastobj.TxO=le;break;case 127:M.lastobj.ImData=le;break;case 440:for(x=le[0].s.r;x<=le[0].e.r;++x)for(g=le[0].s.c;g<=le[0].e.c;++g)f=e.dense?(a[x]||[])[g]:a[Xr({c:g,r:x})],f&&(f.l=le[1]);break;case 2048:for(x=le[0].s.r;x<=le[0].e.r;++x)for(g=le[0].s.c;g<=le[0].e.c;++g)f=e.dense?(a[x]||[])[g]:a[Xr({c:g,r:x})],f&&f.l&&(f.l.Tooltip=le[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;f=e.dense?(a[le[0].r]||[])[le[0].c]:a[Xr(le[0])];var Tt=L[le[2]];f||(e.dense?(a[le[0].r]||(a[le[0].r]=[]),f=a[le[0].r][le[0].c]={t:"z"}):f=a[Xr(le[0])]={t:"z"},o.e.r=Math.max(o.e.r,le[0].r),o.s.r=Math.min(o.s.r,le[0].r),o.e.c=Math.max(o.e.c,le[0].c),o.s.c=Math.min(o.s.c,le[0].c)),f.c||(f.c=[]),A={a:le[1],t:Tt.TxO.t},f.c.push(A)}break;case 2173:H7e(w[le.ixfe],le.ext);break;case 125:{if(!M.cellStyles)break;for(;le.e>=le.s;)Q[le.e--]={width:le.w/256,level:le.level||0,hidden:!!(le.flags&1)},V||(V=!0,wD(le.w/256)),Cm(Q[le.e+1])}break;case 520:{var ft={};le.level!=null&&(O[le.r]=ft,ft.level=le.level),le.hidden&&(O[le.r]=ft,ft.hidden=!0),le.hpt&&(O[le.r]=ft,ft.hpt=le.hpt,ft.hpx=Tv(le.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||vA(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=le;break;case 161:a["!margins"]||vA(a["!margins"]={}),a["!margins"].header=le.header,a["!margins"].footer=le.footer;break;case 574:le.RTL&&(E.Views[0].RTL=!0);break;case 146:N=le;break;case 2198:T=le;break;case 140:S=le;break;case 442:d?P.CodeName=le||P.name:E.WBProps.CodeName=le||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),t.l+=pe}return r.SheetNames=La(i).sort(function(vt,_t){return Number(vt)-Number(_t)}).map(function(vt){return i[vt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(vt,_t){r.Sheets[r.SheetNames[_t]]["!autofilter"]=vt}),r.Strings=c,r.SSF=la(qr),M.enc&&(r.Encryption=M.enc),T&&(r.Themes=T),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),ee.names.length>0&&(E.Names=ee.names),r.Workbook=E,r}var Yb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tGe(t,e,r){var n=Hr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=sW(n,lP,Yb.DSI);for(var i in a)e[i]=a[i]}catch(d){if(r.WTF)throw d}var o=Hr.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=sW(o,cP,Yb.SI);for(var c in l)e[c]==null&&(e[c]=l[c])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(Dse(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function rGe(t,e){var r=[],n=[],a=[],i=0,o,l=FV(lP,"n"),c=FV(cP,"n");if(t.Props)for(o=La(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=La(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],t.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)zse.indexOf(a[i][0])>-1||Ise.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);n.length&&Hr.utils.cfb_add(e,"/SummaryInformation",nW(n,Yb.SI,c,cP)),(r.length||d.length)&&Hr.utils.cfb_add(e,"/DocumentSummaryInformation",nW(r,Yb.DSI,l,lP,d.length?d:null,Yb.UDI))}function Rne(t,e){e||(e={}),TD(e),J8(),e.codepage&&Y8(e.codepage);var r,n;if(t.FullPaths){if(Hr.find(t,"/encryption"))throw new Error("File is password-protected");r=Hr.find(t,"!CompObj"),n=Hr.find(t,"/Workbook")||Hr.find(t,"/Book")}else{switch(e.type){case"base64":t=xc(Cc(t));break;case"binary":t=xc(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}fo(t,0),n={content:t}}var a,i;if(r&&Y$e(r),e.bookProps&&!e.bookSheets)a={};else{var o=js?"buffer":"array";if(n&&n.content)a=eGe(n.content,e);else if((i=Hr.find(t,"PerfectOffice_MAIN"))&&i.content)a=gA.to_workbook(i.content,(e.type=o,e));else if((i=Hr.find(t,"NativeContent_MAIN"))&&i.content)a=gA.to_workbook(i.content,(e.type=o,e));else throw(i=Hr.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Hr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=p9e(t))}var l={};return t.FullPaths&&tGe(t,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=t),a}function sGe(t,e){var r=e||{},n=Hr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Hr.utils.cfb_add(n,a,One(t,r)),r.biff==8&&(t.Props||t.Custprops)&&rGe(t,n),r.biff==8&&t.vbaraw&&A9e(n,Hr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var iw={0:{f:CQe},1:{f:IQe},2:{f:eze},3:{f:zQe},4:{f:OQe},5:{f:YQe},6:{f:aze},7:{f:WQe},8:{f:hze},9:{f:uze},10:{f:cze},11:{f:dze},12:{f:LQe},13:{f:rze},14:{f:GQe},15:{f:HQe},16:{f:Bne},17:{f:oze},18:{f:KQe},19:{f:hD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:o$e},40:{},42:{},43:{f:a7e},44:{f:s7e},45:{f:l7e},46:{f:d7e},47:{f:c7e},48:{},49:{f:BLe},50:{},51:{f:$7e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ene},62:{f:nze},63:{f:Z7e},64:{f:Eze},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Jo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Nze},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:FQe},148:{f:BQe,p:16},151:{f:gze},152:{},153:{f:n$e},154:{},155:{},156:{f:r$e},157:{},158:{},159:{T:1,f:yUe},160:{T:-1},161:{T:1,f:ax},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fze},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Q7e},336:{T:-1},337:{f:W7e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:oP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:vze},427:{f:yze},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:wze},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:MQe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Aze},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:oP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:d9e},633:{T:1},634:{T:-1},635:{T:1,f:l9e},636:{T:-1},637:{f:PLe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Gze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kze},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},pP={6:{f:TB},10:{f:L0},12:{f:ci},13:{f:ci},14:{f:Ha},15:{f:Ha},16:{f:Go},17:{f:Ha},18:{f:Ha},19:{f:ci},20:{f:dW},21:{f:dW},23:{f:Zse},24:{f:hW},25:{f:Ha},26:{},27:{},28:{f:kOe},29:{},34:{f:Ha},35:{f:uW},38:{f:Go},39:{f:Go},40:{f:Go},41:{f:Go},42:{f:Ha},43:{f:Ha},47:{f:HUe},49:{f:rOe},51:{f:ci},60:{},61:{f:YRe},64:{f:Ha},65:{f:tOe},66:{f:ci},77:{},80:{},81:{},82:{},85:{f:ci},89:{},90:{},91:{},92:{f:URe},93:{f:MOe},94:{},95:{f:Ha},96:{},97:{},99:{f:Ha},125:{f:ene},128:{f:xOe},129:{f:QRe},130:{f:ci},131:{f:Ha},132:{f:Ha},133:{f:zRe},134:{},140:{f:UOe},141:{f:ci},144:{},146:{f:zOe},151:{},152:{},153:{},154:{},155:{},156:{f:ci},157:{},158:{},160:{f:XOe},161:{f:VOe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:fOe},190:{f:mOe},193:{f:L0},197:{},198:{},199:{},200:{},201:{},202:{f:Ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ci},220:{},221:{f:Ha},222:{},224:{f:AOe},225:{f:ORe},226:{f:L0},227:{},229:{f:BOe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:GRe},253:{f:nOe},255:{f:WRe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$se},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ha},353:{f:L0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:wOe},431:{f:Ha},432:{},433:{},434:{},437:{},438:{f:IOe},439:{f:Ha},440:{f:DOe},441:{},442:{f:e2},443:{},444:{f:ci},445:{},446:{},448:{f:L0},449:{f:XRe,r:2},450:{f:L0},512:{f:oW},513:{f:KOe},515:{f:yOe},516:{f:iOe},517:{f:cW},519:{f:YOe},520:{f:qRe},523:{},545:{f:fW},549:{f:iW},566:{},574:{f:ZRe},638:{f:hOe},659:{},1048:{},1054:{f:lOe},1084:{},1212:{f:_Oe},2048:{f:ROe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$j},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:L0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:$Oe,r:12},2173:{f:U7e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:SOe,r:12},2197:{},2198:{f:P7e,r:12},2199:{},2200:{},2201:{},2202:{f:COe,r:12},2203:{f:L0},2204:{},2205:{},2206:{},2207:{},2211:{f:KRe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ci},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:WOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:QOe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:oW},1:{},2:{f:rUe},3:{f:eUe},4:{f:ZOe},5:{f:cW},7:{f:nUe},8:{},9:{f:$j},11:{},22:{f:ci},30:{f:dOe},31:{},32:{},33:{f:fW},36:{},37:{f:iW},50:{f:aUe},62:{},52:{},67:{},68:{f:ci},69:{},86:{},126:{},127:{f:JOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:iUe},223:{},234:{},354:{},421:{},518:{f:TB},521:{f:$j},536:{f:hW},547:{f:uW},561:{},579:{},1030:{f:TB},1033:{f:$j},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ir(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&cD(r)&&t.push(r)}}function nGe(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return ir(t,e,r,a);var i=e;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d;c<a;){for(u=t.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d}}}function n2(t,e,r){return t||(t=Bt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function aGe(t,e,r,n){var a=Bt(9);return n2(a,t,e),Gse(r,n||"b",a),a}function iGe(t,e,r){var n=Bt(8+2*r.length);return n2(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function oGe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Ii(oa(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?ir(t,2,sUe(r,n,a)):ir(t,3,tUe(r,n,a));return;case"b":case"e":ir(t,5,aGe(r,n,e.v,e.t));return;case"s":case"str":ir(t,4,iGe(r,n,(e.v||"").slice(0,255)));return}ir(t,1,n2(null,r,n))}function lGe(t,e,r,n){var a=Array.isArray(e),i=Vs(e["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ps(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Xa(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Na(u)),o=c[u]+l;var h=a?(e[d]||[])[u]:e[o];h&&oGe(t,h,d,u)}}}function cGe(t,e){for(var r=e||{},n=Vl(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ir(n,r.biff==4?1033:r.biff==3?521:9,vD(t,16,r)),lGe(n,t.Sheets[t.SheetNames[a]],a,r),ir(n,10),n.end()}function dGe(t,e,r){ir(t,49,sOe({sz:12,name:"Arial"},r))}function uGe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&ir(t,1054,cOe(a,e[a],r))})}function hGe(t,e){var r=Bt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ir(t,2151,r),r=Bt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Xse(Vs(e["!ref"]||"A1"),r),r.write_shift(4,4),ir(t,2152,r)}function fGe(t,e){for(var r=0;r<16;++r)ir(t,224,lW({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ir(t,224,lW(n,0,e))})}function mGe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ir(t,440,LOe(n)),n[1].Tooltip&&ir(t,2048,OOe(n))}delete e["!links"]}function pGe(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&ir(t,125,GOe(o_(a,n),a))})}}function AGe(t,e,r,n,a){var i=16+Om(a.cellXfs,e,a);if(e.v==null&&!e.bf){ir(t,513,HA(r,n,i));return}if(e.bf)ir(t,6,QHe(e,r,n,a,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ii(oa(e.v)):e.v;ir(t,515,bOe(r,n,o,i));break;case"b":case"e":ir(t,517,vOe(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var l=CD(a.Strings,e.v,a.revStrings);ir(t,253,aOe(r,n,l,i))}else ir(t,516,oOe(r,n,(e.v||"").slice(0,255),i,a));break;default:ir(t,513,HA(r,n,i))}}function xGe(t,e,r){var n=Vl(),a=r.SheetNames[t],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[t]||{},c=Array.isArray(i),d=e.biff==8,u,h="",m=[],f=Vs(i["!ref"]||"A1"),A=d?65536:16384;if(f.e.c>255||f.e.r>=A){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,A-1)}ir(n,2057,vD(r,16,e)),ir(n,13,nd(1)),ir(n,12,nd(100)),ir(n,15,dl(!0)),ir(n,17,dl(!1)),ir(n,16,OA(.001)),ir(n,95,dl(!0)),ir(n,42,dl(!1)),ir(n,43,dl(!1)),ir(n,130,nd(1)),ir(n,128,gOe()),ir(n,131,dl(!1)),ir(n,132,dl(!1)),d&&pGe(n,i["!cols"]),ir(n,512,uOe(f,e)),d&&(i["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){h=Xa(g);for(var x=f.s.c;x<=f.e.c;++x){g===f.s.r&&(m[x]=Na(x)),u=m[x]+h;var v=c?(i[g]||[])[x]:i[u];v&&(AGe(n,v,g,x,e),d&&v.l&&i["!links"].push([u,v.l]))}}var j=l.CodeName||l.name||a;return d&&ir(n,574,eOe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&ir(n,229,TOe(i["!merges"])),d&&mGe(n,i),ir(n,442,Vse(j)),d&&hGe(n,i),ir(n,10),n.end()}function gGe(t,e,r){var n=Vl(),a=(t||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ir(n,2057,vD(t,5,r)),r.bookType=="xla"&&ir(n,135),ir(n,225,l?nd(1200):null),ir(n,193,vRe(2)),c&&ir(n,191),c&&ir(n,192),ir(n,226),ir(n,92,HRe("SheetJS",r)),ir(n,66,nd(l?1200:1252)),l&&ir(n,353,nd(0)),l&&ir(n,448),ir(n,317,qOe(t.SheetNames.length)),l&&t.vbaraw&&ir(n,211),l&&t.vbaraw){var d=o.CodeName||"ThisWorkbook";ir(n,442,Vse(d))}ir(n,156,nd(17)),ir(n,25,dl(!1)),ir(n,18,dl(!1)),ir(n,19,nd(0)),l&&ir(n,431,dl(!1)),l&&ir(n,444,nd(0)),ir(n,61,JRe()),ir(n,64,dl(!1)),ir(n,141,nd(0)),ir(n,34,dl(Xze(t)=="true")),ir(n,14,dl(!0)),l&&ir(n,439,dl(!1)),ir(n,218,nd(0)),dGe(n,t,r),uGe(n,t.SSF,r),fGe(n,r),l&&ir(n,352,dl(!1));var u=n.end(),h=Vl();l&&ir(h,140,HOe()),l&&r.Strings&&nGe(h,252,VRe(r.Strings)),ir(h,10);var m=h.end(),f=Vl(),A=0,g=0;for(g=0;g<t.SheetNames.length;++g)A+=(l?12:11)+(l?2:1)*t.SheetNames[g].length;var x=u.length+A+m.length;for(g=0;g<t.SheetNames.length;++g){var v=i[g]||{};ir(f,133,$Re({pos:x,hs:v.Hidden||0,dt:0,name:t.SheetNames[g]},r)),x+=e[g].length}var j=f.end();if(A!=j.length)throw new Error("BS8 "+A+" != "+j.length);var b=[];return u.length&&b.push(u),j.length&&b.push(j),m.length&&b.push(m),Ki(b)}function vGe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=la(qr)),t&&t.SSF&&(ty(),e_(t.SSF),r.revssf=r_(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,MD(r),r.cellXfs=[],Om(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=xGe(a,r,t);return n.unshift(gGe(t,n,r)),Ki(n)}function One(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Kl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return vGe(t,e);case 4:case 3:case 2:return cGe(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function jW(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=a.index,l=i&&i.index||t.length,c=sLe(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(o=0;o<c.length;++o){var g=c[o].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var j=v[l].trim();if(j.match(/<t[dh]/i)){for(var b=j,S=0;b.charAt(0)=="<"&&(S=b.indexOf(">"))>-1;)b=b.slice(S+1);for(var w=0;w<A.length;++w){var N=A[w];N.s.c==u&&N.s.r<d&&d<=N.e.r&&(u=N.e.c+1,w=-1)}var E=Jr(j.slice(0,j.indexOf(">")));m=E.colspan?+E.colspan:1,((h=+E.rowspan)>1||m>1)&&A.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var P=E.t||E["data-t"]||"";if(!b.length){u+=m;continue}if(b=cse(b),f.s.r>d&&(f.s.r=d),f.e.r<d&&(f.e.r=d),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!b.length){u+=m;continue}var _={t:"s",v:b};r.raw||!b.trim().length||P=="s"||(b==="TRUE"?_={t:"b",v:!0}:b==="FALSE"?_={t:"b",v:!1}:isNaN(lu(b))?isNaN(kv(b).getDate())||(_={t:"d",v:oa(b)},r.cellDates||(_={t:"n",v:Ii(_.v)}),_.z=r.dateNF||qr[14]):_={t:"n",v:lu(b)}),r.dense?(n[d]||(n[d]=[]),n[d][u]=_):n[Xr({r:d,c:u})]=_,u+=m}}}}return n["!ref"]=ps(f),A.length&&(n["!merges"]=A),n}function yGe(t,e,r,n){for(var a=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Xr({r,c:o}),h=n.dense?(t[r]||[])[o]:t[u],m=h&&h.v!=null&&(h.h||iD(h.w||($f(h),h.w)||""))||"",f={};l>1&&(f.rowspan=l),c>1&&(f.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(ar("td",m,f))}}var A="<tr>";return A+i.join("")+"</tr>"}var bGe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wGe="</body></html>";function jGe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rm(jW(r[0],e),e);var n=ID();return r.forEach(function(a,i){DD(n,jW(a,e),"Sheet"+(i+1))}),n}function NGe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Une(t,e){var r=e||{},n=r.header!=null?r.header:bGe,a=r.footer!=null?r.footer:wGe,i=[n],o=Kl(t["!ref"]);r.dense=Array.isArray(t),i.push(NGe(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(yGe(t,o,l,r));return i.push("</table>"+a),i.join("")}function Hne(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Sa(n.origin):n.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Kl(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],m=0,f=t["!rows"]||(t["!rows"]=[]),A=0,g=0,x=0,v=0,j=0,b=0;for(t["!cols"]||(t["!cols"]=[]);A<l.length&&g<c;++A){var S=l[A];if(NW(S)){if(n.display)continue;f[g]={hidden:!0}}var w=S.children;for(x=v=0;x<w.length;++x){var N=w[x];if(!(n.display&&NW(N))){var E=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):cse(N.innerHTML),P=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<h.length;++m){var _=h[m];_.s.c==v+i&&_.s.r<g+a&&g+a<=_.e.r&&(v=_.e.c+1-i,m=-1)}b=+N.getAttribute("colspan")||1,((j=+N.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:g+a,c:v+i},e:{r:g+a+(j||1)-1,c:v+i+(b||1)-1}});var B={t:"s",v:E},k=N.getAttribute("data-t")||N.getAttribute("t")||"";E!=null&&(E.length==0?B.t=k||"z":n.raw||E.trim().length==0||k=="s"||(E==="TRUE"?B={t:"b",v:!0}:E==="FALSE"?B={t:"b",v:!1}:isNaN(lu(E))?isNaN(kv(E).getDate())||(B={t:"d",v:oa(E)},n.cellDates||(B={t:"n",v:Ii(B.v)}),B.z=n.dateNF||qr[14]):B={t:"n",v:lu(E)})),B.z===void 0&&P!=null&&(B.z=P);var M="",T=N.getElementsByTagName("A");if(T&&T.length)for(var H=0;H<T.length&&!(T[H].hasAttribute("href")&&(M=T[H].getAttribute("href"),M.charAt(0)!="#"));++H);M&&M.charAt(0)!="#"&&(B.l={Target:M}),n.dense?(t[g+a]||(t[g+a]=[]),t[g+a][v+i]=B):t[Xr({c:v+i,r:g+a})]=B,d.e.c<v+i&&(d.e.c=v+i),v+=b}}++g}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,g-1+a),t["!ref"]=ps(d),g>=c&&(t["!fullref"]=ps((d.e.r=l.length-A+g-1+a,d))),t}function Qne(t,e){var r=e||{},n=r.dense?[]:{};return Hne(n,t,e)}function SGe(t,e){return Rm(Qne(t,e),e)}function NW(t){var e="",r=_Ge(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function _Ge(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function CGe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qs(e.replace(/<[^>]*>/g,""));return[r]}var SW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function zne(t,e){var r=e||{},n=oD(t),a=[],i,o,l={name:""},c="",d=0,u,h,m={},f=[],A=r.dense?[]:{},g,x,v={value:""},j="",b=0,S=[],w=-1,N=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,_={},B=[],k={},M=0,T=0,H=[],L=1,Q=1,O=[],V={Names:[]},ee={},Y=["",""],re=[],D={},G="",z=0,K=!1,oe=!1,ue=0;for(ew.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=ew.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?A["!ref"]=ps(E):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(A["!fullref"]=A["!ref"],E.e.r=r.sheetRows-1,A["!ref"]=ps(E)),B.length&&(A["!merges"]=B),H.length&&(A["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),m[u.name]=A,oe=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Jr(g[0],!1),w=N=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,A=r.dense?[]:{},B=[],H=[],oe=!0);break;case"table-row-group":g[1]==="/"?--P:++P;break;case"table-row":case"":if(g[1]==="/"){w+=L,L=1;break}if(h=Jr(g[0],!1),h.?w=h.-1:w==-1&&(w=0),L=+h["number-rows-repeated"]||1,L<10)for(ue=0;ue<L;++ue)P>0&&(H[w+ue]={level:P});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(A[w]||(A[w]=[]),A[w][N]={t:"z"}):A[Xr({r:w,c:N})]={t:"z"}),j="",S=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,v=Jr(g[0],!1),Q=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=yW(Qs(v.formula))),(v.||v["value-type"])=="string"&&(x.t="s",x.v=Qs(v["string-value"]||""),r.dense?(A[w]||(A[w]=[]),A[w][N]=x):A[Xr({r:w,c:N})]=x),N+=Q-1;else if(g[1]!=="/"){++N,j="",b=0,S=[],Q=1;var ge=L?w+L-1:w;if(N>E.e.c&&(E.e.c=N),N<E.s.c&&(E.s.c=N),w<E.s.r&&(E.s.r=w),ge>E.e.r&&(E.e.r=ge),v=Jr(g[0],!1),re=[],D={},x={t:v.||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=Qs(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(M=parseInt(v["number-matrix-rows-spanned"],10)||0,T=parseInt(v["number-matrix-columns-spanned"],10)||0,k={s:{r:w,c:N},e:{r:w+M-1,c:N+T-1}},x.F=ps(k),O.push([k,x.F])),v.formula)x.f=yW(v.formula);else for(ue=0;ue<O.length;++ue)w>=O[ue][0].s.r&&w<=O[ue][0].e.r&&N>=O[ue][0].s.c&&N<=O[ue][0].e.c&&(x.F=O[ue][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(M=parseInt(v["number-rows-spanned"],10)||0,T=parseInt(v["number-columns-spanned"],10)||0,k={s:{r:w,c:N},e:{r:w+M-1,c:N+T-1}},B.push(k)),v["number-columns-repeated"]&&(Q=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=na(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=oa(v["date-value"]),r.cellDates||(x.t="n",x.v=Ii(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=eLe(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=s_(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(j=Qs(v["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(K=!1,x.t==="s"&&(x.v=j||"",S.length&&(x.R=S),K=b==0),ee.Target&&(x.l=ee),re.length>0&&(x.c=re,re=[]),j&&r.cellText!==!1&&(x.w=j),K&&(x.t="z",delete x.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var pe=0;pe<L;++pe){if(Q=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(A[w+pe]||(A[w+pe]=[]),A[w+pe][N]=pe==0?x:la(x);--Q>0;)A[w+pe][N+Q]=la(x);else for(A[Xr({r:w+pe,c:N})]=x;--Q>0;)A[Xr({r:w+pe,c:N+Q})]=la(x);E.e.c<=N&&(E.e.c=N)}Q=parseInt(v["number-columns-repeated"]||"1",10),N+=Q-1,Q=0,x={},j="",S=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;D.t=j,S.length&&(D.R=S),D.a=G,re.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);G="",z=0,j="",b=0,S=[];break;case"creator":g[1]==="/"?G=n.slice(z,g.index):z=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);j="",b=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(_[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Jr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jr(g[0],!1),c+=SW[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jr(g[0],!1),c+=SW[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":o=Jr(g[0],!1),Y=MB(o["cell-range-address"]);var ye={Name:o.name,Ref:Y[0]+"!"+Y[1]};oe&&(ye.Sheet=f.length),V.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var Pe=CGe(n.slice(b,g.index));j=(j.length>0?j+`
`:"")+Pe[0]}else Jr(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=MB(Jr(g[0])["target-range-address"]),m[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(ee=Jr(g[0],!1),!ee.href)break;ee.Target=Qs(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(Y=MB(ee.Target.slice(1)),ee.Target="#"+Y[0]+"!"+Y[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var le={Sheets:m,SheetNames:f,Workbook:V};return r.bookSheets&&delete le.Sheets,le}function _W(t,e){e=e||{},rd(t,"META-INF/manifest.xml")&&eRe(li(t,"META-INF/manifest.xml"),e);var r=gc(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=zne(Tn(r),e);return rd(t,"meta.xml")&&(n.Props=Fse(li(t,"meta.xml"))),n}function CW(t,e){return zne(t,e)}var EGe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Z1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Za+e}})(),EW=(function(){var t=function(i){return wn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+wn(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=Kl(i["!ref"]||"A1"),m=i["!merges"]||[],f=0,A=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",x=i["!rows"]||[];for(d=0;d<h.s.r;++d)g=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=h.e.r;++d){for(g=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+g+`>
`),u=0;u<h.s.c;++u)c.push(e);for(;u<=h.e.c;++u){var v=!1,j={},b="";for(f=0;f!=m.length;++f)if(!(m[f].s.c>u)&&!(m[f].s.r>d)&&!(m[f].e.c<u)&&!(m[f].e.r<d)){(m[f].s.c!=u||m[f].s.r!=d)&&(v=!0),j["table:number-columns-spanned"]=m[f].e.c-m[f].s.c+1,j["table:number-rows-spanned"]=m[f].e.r-m[f].s.r+1;break}if(v){c.push(r);continue}var S=Xr({r:d,c:u}),w=A?(i[d]||[])[u]:i[S];if(w&&w.f&&(j["table:formula"]=wn(qHe(w.f)),w.F&&w.F.slice(0,S.length)==S)){var N=Kl(w.F);j["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,j["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!w){c.push(e);continue}switch(w.t){case"b":b=w.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=w.v?"true":"false";break;case"n":b=w.w||String(w.v||0),j["office:value-type"]="float",j["office:value"]=w.v||0;break;case"s":case"str":b=w.v==null?"":w.v,j["office:value-type"]="string";break;case"d":b=w.w||oa(w.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=oa(w.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(e);continue}var E=t(b);if(w.l&&w.l.Target){var P=w.l.Target;P=P.charAt(0)=="#"?"#"+KHe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),E=ar("text:a",E,{"xlink:href":P.replace(/&/g,"&amp;")})}c.push("          "+ar("table:table-cell",ar("text:p",E,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Cm(h),h.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Za],d=Z1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Z1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(Mse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function $ne(t,e){if(e.bookType=="fods")return EW(t,e);var r=sD(),n="",a=[],i=[];return n="mimetype",gs(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gs(r,n,EW(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",gs(r,n,EGe(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",gs(r,n,Za+Mse()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",gs(r,n,sRe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gs(r,n,tRe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function QA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function AP(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Tn(Lm(t))}function kGe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):xc(rh(t))}function BGe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function km(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function kW(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function TGe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function MGe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function ow(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function gn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Da(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ks(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=ow(t,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=ow(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:i};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function co(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(gn(n*8+a.type)),a.type==2&&e.push(gn(a.data.length)),e.push(a.data))})}),km(e)}function BD(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function ed(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=ow(t,n),i=Ks(t.slice(n[0],n[0]+a));n[0]+=a;var o={id:Da(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Ks(l.data),d=Da(c[3][0].data);o.messages.push({meta:c,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=i[3])!=null&&e[0]&&(o.merge=Da(i[3][0].data)>>>0>0),r.push(o)}return r}function Jx(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:gn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:gn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:gn(o.data.length)}],n[2].push({data:co(o.meta),type:2})});var i=co(n);e.push(gn(i.length)),e.push(i),a.forEach(function(o){return e.push(o)})}),km(e)}function FGe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=ow(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[km(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=km(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function td(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(FGe(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return km(e)}function Zx(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=gn(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return km(e)}function PGe(t,e,r,n){var a=QA(t),i=a.getUint32(4,!0),o=(n>1?12:8)+kW(i&(n>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=kW(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(d=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:e[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:e[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function IGe(t,e,r){var n=QA(t),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);a&1&&(c=TGe(t,i),i+=16),a&2&&(d=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return h}function PB(t,e){var r=new Uint8Array(32),n=QA(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,MGe(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function IB(t,e){var r=new Uint8Array(32),n=QA(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function DGe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return PGe(t,e,r,t[0]);case 5:return IGe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Uo(t){var e=Ks(t);return ow(e[1][0].data)}function BW(t,e){var r=Ks(e.data),n=Da(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=Ks(o.data),c=Da(l[1][0].data)>>>0;switch(n){case 1:i[c]=AP(l[3][0].data);break;case 8:{var d=t[Uo(l[9][0].data)][0],u=Ks(d.data),h=t[Uo(u[1][0].data)][0],m=Da(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var f=Ks(h.data);i[c]=f[3].map(function(A){return AP(A.data)}).join("")}break}}),i}function LGe(t,e){var r,n,a,i,o,l,c,d,u,h,m,f,A,g,x=Ks(t),v=Da(x[1][0].data)>>>0,j=Da(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Da(x[8][0].data)>0||!1,S,w;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&e!=0)S=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,w=(d=(c=x[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=x[4])==null?void 0:u[0])!=null&&h.data&&e!=1)S=(f=(m=x[4])==null?void 0:m[0])==null?void 0:f.data,w=(g=(A=x[3])==null?void 0:A[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var N=b?4:1,E=QA(S),P=[],_=0;_<S.length/2;++_){var B=E.getUint16(_*2,!0);B<65535&&P.push([_,B])}if(P.length!=j)throw"Expected ".concat(j," cells, found ").concat(P.length);var k=[];for(_=0;_<P.length-1;++_)k[P[_][0]]=w.subarray(P[_][1]*N,P[_+1][1]*N);return P.length>=1&&(k[P[P.length-1][0]]=w.subarray(P[P.length-1][1]*N)),{R:v,cells:k}}function RGe(t,e){var r,n=Ks(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Da(n[7][0].data)>>>0>0?1:0:-1,i=BD(n[5],function(o){return LGe(o,a)});return{nrows:Da(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function OGe(t,e,r){var n,a=Ks(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Da(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Da(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ps(i);var o=Ks(a[4][0].data),l=BW(t,t[Uo(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?BW(t,t[Uo(o[17][0].data)][0]):[],d=Ks(o[3][0].data),u=0;d[1].forEach(function(h){var m=Ks(h.data),f=t[Uo(m[2][0].data)][0],A=Da(f.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var g=RGe(t,f);g.data.forEach(function(x,v){x.forEach(function(j,b){var S=Xr({r:u+v,c:b}),w=DGe(j,l,c);w&&(r[S]=w)})}),u+=g.nrows})}function UGe(t,e){var r=Ks(e.data),n={"!ref":"A1"},a=t[Uo(r[2][0].data)],i=Da(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return OGe(t,a[0],n),n}function HGe(t,e){var r,n=Ks(e.data),a={name:(r=n[1])!=null&&r[0]?AP(n[1][0].data):"",sheets:[]},i=BD(n[2],Uo);return i.forEach(function(o){t[o].forEach(function(l){var c=Da(l.meta[1][0].data);c==6e3&&a.sheets.push(UGe(t,l))})}),a}function QGe(t,e){var r=ID(),n=Ks(e.data),a=BD(n[1],Uo);if(a.forEach(function(i){t[i].forEach(function(o){var l=Da(o.meta[1][0].data);if(l==2){var c=HGe(t,o);c.sheets.forEach(function(d,u){DD(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function DB(t){var e,r,n,a,i={},o=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=td(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=ed(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Da(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=Da(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return QGe(i,l)}function zGe(t,e,r){var n,a,i,o;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&Da(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=QA(t[7][0].data),u=0,h=[],m=QA(t[4][0].data),f=0,A=[],g=0;g<e.length;++g){if(e[g]==null){d.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}d.setUint16(g*2,u,!0),m.setUint16(g*2,f,!0);var x,v;switch(typeof e[g]){case"string":x=PB({t:"s",v:e[g]},r),v=IB({t:"s",v:e[g]},r);break;case"number":x=PB({t:"n",v:e[g]},r),v=IB({t:"n",v:e[g]},r);break;case"boolean":x=PB({t:"b",v:e[g]},r),v=IB({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}h.push(x),u+=x.length,A.push(v),f+=v.length,++c}for(t[2][0].data=gn(c);g<t[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return t[6][0].data=km(h),t[3][0].data=km(A),c}function $Ge(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Kl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ps(n)));var i=DS(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(z){typeof z=="string"&&o.push(z)})});var l={},c=[],d=Hr.read(e.numbers,{type:"base64"});d.FileIndex.map(function(G,z){return[G,d.FullPaths[z]]}).forEach(function(G){var z=G[0],K=G[1];if(z.type==2&&z.name.match(/\.iwa/)){var oe=z.content,ue=td(oe),ge=ed(ue);ge.forEach(function(pe){c.push(pe.id),l[pe.id]={deps:[],location:K,type:Da(pe.messages[0].meta[1][0].data)}})}}),c.sort(function(G,z){return G-z});var u=c.filter(function(G){return G>1}).map(function(G){return[G,gn(G)]});d.FileIndex.map(function(G,z){return[G,d.FullPaths[z]]}).forEach(function(G){var z=G[0];if(G[1],!!z.name.match(/\.iwa/)){var K=ed(td(z.content));K.forEach(function(oe){oe.messages.forEach(function(ue){u.forEach(function(ge){oe.messages.some(function(pe){return Da(pe.meta[1][0].data)!=11006&&BGe(pe.data,ge[1])})&&l[ge[0]].deps.push(oe.id)})})})}});for(var h=Hr.find(d,l[1].location),m=ed(td(h.content)),f,A=0;A<m.length;++A){var g=m[A];g.id==1&&(f=g)}var x=Uo(Ks(f.messages[0].data)[1][0].data);for(h=Hr.find(d,l[x].location),m=ed(td(h.content)),A=0;A<m.length;++A)g=m[A],g.id==x&&(f=g);for(x=Uo(Ks(f.messages[0].data)[2][0].data),h=Hr.find(d,l[x].location),m=ed(td(h.content)),A=0;A<m.length;++A)g=m[A],g.id==x&&(f=g);for(x=Uo(Ks(f.messages[0].data)[2][0].data),h=Hr.find(d,l[x].location),m=ed(td(h.content)),A=0;A<m.length;++A)g=m[A],g.id==x&&(f=g);var v=Ks(f.messages[0].data);{v[6][0].data=gn(n.e.r+1),v[7][0].data=gn(n.e.c+1);var j=Uo(v[46][0].data),b=Hr.find(d,l[j].location),S=ed(td(b.content));{for(var w=0;w<S.length&&S[w].id!=j;++w);if(S[w].id!=j)throw"Bad ColumnRowUIDMapArchive";var N=Ks(S[w].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var E=0;E<=n.e.c;++E){var P=[];P[1]=P[2]=[{type:0,data:gn(E+420690)}],N[1].push({type:2,data:co(P)}),N[2].push({type:0,data:gn(E)}),N[3].push({type:0,data:gn(E)})}N[4]=[],N[5]=[],N[6]=[];for(var _=0;_<=n.e.r;++_)P=[],P[1]=P[2]=[{type:0,data:gn(_+726270)}],N[4].push({type:2,data:co(P)}),N[5].push({type:0,data:gn(_)}),N[6].push({type:0,data:gn(_)});S[w].messages[0].data=co(N)}b.content=Zx(Jx(S)),b.size=b.content.length,delete v[46];var B=Ks(v[4][0].data);{B[7][0].data=gn(n.e.r+1);var k=Ks(B[1][0].data),M=Uo(k[2][0].data);b=Hr.find(d,l[M].location),S=ed(td(b.content));{if(S[0].id!=M)throw"Bad HeaderStorageBucket";var T=Ks(S[0].messages[0].data);for(_=0;_<i.length;++_){var H=Ks(T[2][0].data);H[1][0].data=gn(_),H[4][0].data=gn(i[_].length),T[2][_]={type:T[2][0].type,data:co(H)}}S[0].messages[0].data=co(T)}b.content=Zx(Jx(S)),b.size=b.content.length;var L=Uo(B[2][0].data);b=Hr.find(d,l[L].location),S=ed(td(b.content));{if(S[0].id!=L)throw"Bad HeaderStorageBucket";for(T=Ks(S[0].messages[0].data),E=0;E<=n.e.c;++E)H=Ks(T[2][0].data),H[1][0].data=gn(E),H[4][0].data=gn(n.e.r+1),T[2][E]={type:T[2][0].type,data:co(H)};S[0].messages[0].data=co(T)}b.content=Zx(Jx(S)),b.size=b.content.length;var Q=Uo(B[4][0].data);(function(){for(var G=Hr.find(d,l[Q].location),z=ed(td(G.content)),K,oe=0;oe<z.length;++oe){var ue=z[oe];ue.id==Q&&(K=ue)}var ge=Ks(K.messages[0].data);{ge[3]=[];var pe=[];o.forEach(function(le,lt){pe[1]=[{type:0,data:gn(lt)}],pe[2]=[{type:0,data:gn(1)}],pe[3]=[{type:2,data:kGe(le)}],ge[3].push({type:2,data:co(pe)})})}K.messages[0].data=co(ge);var ye=Jx(z),Pe=Zx(ye);G.content=Pe,G.size=G.content.length})();var O=Ks(B[3][0].data);{var V=O[1][0];delete O[2];var ee=Ks(V.data);{var Y=Uo(ee[2][0].data);(function(){for(var G=Hr.find(d,l[Y].location),z=ed(td(G.content)),K,oe=0;oe<z.length;++oe){var ue=z[oe];ue.id==Y&&(K=ue)}var ge=Ks(K.messages[0].data);{delete ge[6],delete O[7];var pe=new Uint8Array(ge[5][0].data);ge[5]=[];for(var ye=0,Pe=0;Pe<=n.e.r;++Pe){var le=Ks(pe);ye+=zGe(le,i[Pe],o),le[1][0].data=gn(Pe),ge[5].push({data:co(le),type:2})}ge[1]=[{type:0,data:gn(n.e.c+1)}],ge[2]=[{type:0,data:gn(n.e.r+1)}],ge[3]=[{type:0,data:gn(ye)}],ge[4]=[{type:0,data:gn(n.e.r+1)}]}K.messages[0].data=co(ge);var lt=Jx(z),ne=Zx(lt);G.content=ne,G.size=G.content.length})()}V.data=co(ee)}B[3][0].data=co(O)}v[4][0].data=co(B)}f.messages[0].data=co(v);var re=Jx(m),D=Zx(re);return h.content=D,h.size=h.content.length,d}function Gne(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function TD(t){Gne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function MD(t){Gne([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function GGe(t){return _s.WS.indexOf(t)>-1?"sheet":t==_s.CS?"chart":t==_s.DS?"dialog":t==_s.MS?"macro":t&&t.length?t:"sheet"}function VGe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,GGe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function WGe(t,e,r,n,a,i,o,l,c,d,u,h){try{i[n]=Wb(gc(t,r,!0),e);var m=li(t,e),f;switch(l){case"sheet":f=p$e(m,e,a,c,i[n],d,u,h);break;case"chart":if(f=A$e(m,e,a,c,i[n],d,u,h),!f||!f["!drawel"])break;var A=Ab(f["!drawel"].Target,e),g=tw(A),x=r9e(gc(t,A,!0),Wb(gc(t,g,!0),A)),v=Ab(x,A),j=tw(v);f=zze(gc(t,v,!0),v,c,Wb(gc(t,j,!0),v),d,f);break;case"macro":f=x$e(m,e,a,c,i[n],d,u,h);break;case"dialog":f=g$e(m,e,a,c,i[n],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=f;var b=[];i&&i[n]&&La(i[n]).forEach(function(S){var w="";if(i[n][S].Type==_s.CMNT){w=Ab(i[n][S].Target,e);var N=w$e(li(t,w,!0),w,c);if(!N||!N.length)return;pW(f,N,!1)}i[n][S].Type==_s.TCMNT&&(w=Ab(i[n][S].Target,e),b=b.concat(n9e(li(t,w,!0),c)))}),b&&b.length&&pW(f,b,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function Xc(t){return t.charAt(0)=="/"?t.slice(1):t}function qGe(t,e){if(ty(),e=e||{},TD(e),rd(t,"META-INF/manifest.xml")||rd(t,"objectdata.xml"))return _W(t,e);if(rd(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof DB<"u"){if(t.FileIndex)return DB(t);var r=Hr.utils.cfb_new();return DV(t).forEach(function(H){gs(r,H,aLe(t,H))}),DB(r)}throw new Error("Unsupported NUMBERS file")}if(!rd(t,"[Content_Types].xml"))throw rd(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):rd(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=DV(t),a=JLe(gc(t,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",li(t,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!li(t,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!e.bookSheets&&!e.bookProps){if(qb=[],a.sst)try{qb=b$e(li(t,Xc(a.sst)),a.sst,e)}catch(H){if(e.WTF)throw H}e.cellStyles&&a.themes.length&&(c=y$e(gc(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=v$e(li(t,Xc(a.style)),a.style,c,e))}a.links.map(function(H){try{var L=Wb(gc(t,tw(Xc(H))),H);return N$e(li(t,Xc(H)),L,H,e)}catch{}});var u=m$e(li(t,Xc(a.workbooks[0])),a.workbooks[0],e),h={},m="";a.coreprops.length&&(m=li(t,Xc(a.coreprops[0]),!0),m&&(h=Fse(m)),a.extprops.length!==0&&(m=li(t,Xc(a.extprops[0]),!0),m&&aRe(m,h,e)));var f={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(m=gc(t,Xc(a.custprops[0]),!0),m&&(f=oRe(m,e)));var A={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(L){return L.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),e.bookProps&&(A.Props=h,A.Custprops=f),e.bookSheets&&typeof o<"u"&&(A.SheetNames=o),e.bookSheets?A.SheetNames:e.bookProps))return A;o={};var g={};e.bookDeps&&a.calcchain&&(g=j$e(li(t,Xc(a.calcchain)),a.calcchain));var x=0,v={},j,b;{var S=u.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var w=0;w!=S.length;++w)h.SheetNames[w]=S[w].name}var N=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),P=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");rd(t,P)||(P="xl/_rels/workbook."+N+".rels");var _=Wb(gc(t,P,!0),P.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=S$e(li(t,Xc(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=i9e(li(t,Xc(a.people[0])),e)),_&&(_=VGe(_,u.Sheets));var B=li(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var k="sheet";if(_&&_[x]?(j="xl/"+_[x][1].replace(/[\/]?xl\//,""),rd(t,j)||(j=_[x][1]),rd(t,j)||(j=P.replace(/_rels\/.*$/,"")+_[x][1]),k=_[x][2]):(j="xl/worksheets/sheet"+(x+1-B)+"."+N,j=j.replace(/sheet0\./,"sheet.")),b=j.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(x!=e.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,T=0;T!=e.sheets.length;++T)typeof e.sheets[T]=="number"&&e.sheets[T]==x&&(M=1),typeof e.sheets[T]=="string"&&e.sheets[T].toLowerCase()==h.SheetNames[x].toLowerCase()&&(M=1);if(!M)continue e}}WGe(t,j,b,h.SheetNames[x],x,v,o,k,e,u,c,d)}return A={Directory:a,Workbook:u,Props:h,Custprops:f,Deps:g,Sheets:o,SheetNames:h.SheetNames,Strings:qb,Styles:d,Themes:c,SSF:la(qr)},e&&e.bookFiles&&(t.files?(A.keys=n,A.files=t.files):(A.keys=[],A.files={},t.FullPaths.forEach(function(H,L){H=H.replace(/^Root Entry[\/]/,""),A.keys.push(H),A.files[H]=t.FileIndex[L]}))),e&&e.bookVBA&&(a.vba.length>0?A.vbaraw=li(t,Xc(a.vba[0]),!0):a.defaults&&a.defaults.bin===m9e&&(A.vbaraw=li(t,"xl/vbaProject.bin",!0))),A}function KGe(t,e){var r=e||{},n="Workbook",a=Hr.find(t,n);try{if(n="/!DataSpaces/Version",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(SUe(a.content),n="/!DataSpaces/DataSpaceMap",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=CUe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=EUe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);BUe(a.content)}catch{}if(n="/EncryptionInfo",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=TUe(a.content);if(n="/EncryptedPackage",a=Hr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function XGe(t,e){return e.bookType=="ods"?$ne(t,e):e.bookType=="numbers"?$Ge(t,e):e.bookType=="xlsb"?YGe(t,e):JGe(t,e)}function YGe(t,e){yg=1024,t&&!t.SSF&&(t.SSF=la(qr)),t&&t.SSF&&(ty(),e_(t.SSF),e.revssf=r_(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Kb?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=gne.indexOf(e.bookType)>-1,a=xD();MD(e=e||{});var i=sD(),o="",l=0;if(e.cellXfs=[],Om(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",gs(i,o,Pse(t.Props,e)),a.coreprops.push(o),vn(e.rels,2,o,_s.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,gs(i,o,Lse(t.Props)),a.extprops.push(o),vn(e.rels,3,o,_s.EXT_PROPS),t.Custprops!==t.Props&&La(t.Custprops||{}).length>0&&(o="docProps/custom.xml",gs(i,o,Rse(t.Custprops)),a.custprops.push(o),vn(e.rels,4,o,_s.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var u={"!id":{}},h=t.Sheets[t.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,gs(i,o,C$e(l-1,o,e,t,u)),a.sheets.push(o),vn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,_s.WS[0])}if(h){var f=h["!comments"],A=!1,g="";f&&f.length>0&&(g="xl/comments"+l+"."+r,gs(i,g,B$e(f,g)),a.comments.push(g),vn(u,-1,"../comments"+l+"."+r,_s.CMNT),A=!0),h["!legacy"]&&A&&gs(i,"xl/drawings/vmlDrawing"+l+".vml",Ane(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&gs(i,tw(o),Fg(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,gs(i,o,k$e(e.Strings,o,e)),a.strs.push(o),vn(e.wbrels,-1,"sharedStrings."+r,_s.SST)),o="xl/workbook."+r,gs(i,o,_$e(t,o)),a.workbooks.push(o),vn(e.rels,1,o,_s.WB),o="xl/theme/theme1.xml",gs(i,o,jD(t.Themes,e)),a.themes.push(o),vn(e.wbrels,-1,"theme/theme1.xml",_s.THEME),o="xl/styles."+r,gs(i,o,E$e(t,o,e)),a.styles.push(o),vn(e.wbrels,-1,"styles."+r,_s.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",gs(i,o,t.vbaraw),a.vba.push(o),vn(e.wbrels,-1,"vbaProject.bin",_s.VBA)),o="xl/metadata."+r,gs(i,o,T$e(o)),a.metadata.push(o),vn(e.wbrels,-1,"metadata."+r,_s.XLMETA),gs(i,"[Content_Types].xml",Tse(a,e)),gs(i,"_rels/.rels",Fg(e.rels)),gs(i,"xl/_rels/workbook."+r+".rels",Fg(e.wbrels)),delete e.revssf,delete e.ssf,i}function JGe(t,e){yg=1024,t&&!t.SSF&&(t.SSF=la(qr)),t&&t.SSF&&(ty(),e_(t.SSF),e.revssf=r_(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Kb?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=gne.indexOf(e.bookType)>-1,a=xD();MD(e=e||{});var i=sD(),o="",l=0;if(e.cellXfs=[],Om(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",gs(i,o,Pse(t.Props,e)),a.coreprops.push(o),vn(e.rels,2,o,_s.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,gs(i,o,Lse(t.Props)),a.extprops.push(o),vn(e.rels,3,o,_s.EXT_PROPS),t.Custprops!==t.Props&&La(t.Custprops||{}).length>0&&(o="docProps/custom.xml",gs(i,o,Rse(t.Custprops)),a.custprops.push(o),vn(e.rels,4,o,_s.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var h={"!id":{}},m=t.Sheets[t.SheetNames[l-1]],f=(m||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,gs(i,o,kne(l-1,e,t,h)),a.sheets.push(o),vn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,_s.WS[0])}if(m){var A=m["!comments"],g=!1,x="";if(A&&A.length>0){var v=!1;A.forEach(function(j){j[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,gs(i,x,a9e(A,u,e)),a.threadedcomments.push(x),vn(h,-1,"../threadedComments/threadedComment"+l+"."+r,_s.TCMNT)),x="xl/comments"+l+"."+r,gs(i,x,xne(A)),a.comments.push(x),vn(h,-1,"../comments"+l+"."+r,_s.CMNT),g=!0}m["!legacy"]&&g&&gs(i,"xl/drawings/vmlDrawing"+l+".vml",Ane(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&gs(i,tw(o),Fg(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,gs(i,o,nne(e.Strings,e)),a.strs.push(o),vn(e.wbrels,-1,"sharedStrings."+r,_s.SST)),o="xl/workbook."+r,gs(i,o,Pne(t)),a.workbooks.push(o),vn(e.rels,1,o,_s.WB),o="xl/theme/theme1.xml",gs(i,o,jD(t.Themes,e)),a.themes.push(o),vn(e.wbrels,-1,"theme/theme1.xml",_s.THEME),o="xl/styles."+r,gs(i,o,hne(t,e)),a.styles.push(o),vn(e.wbrels,-1,"styles."+r,_s.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",gs(i,o,t.vbaraw),a.vba.push(o),vn(e.wbrels,-1,"vbaProject.bin",_s.VBA)),o="xl/metadata."+r,gs(i,o,pne()),a.metadata.push(o),vn(e.wbrels,-1,"metadata."+r,_s.XLMETA),u.length>1&&(o="xl/persons/person.xml",gs(i,o,o9e(u)),a.people.push(o),vn(e.wbrels,-1,"persons/person.xml",_s.PEOPLE)),gs(i,"[Content_Types].xml",Tse(a,e)),gs(i,"_rels/.rels",Fg(e.rels)),gs(i,"xl/_rels/workbook."+r+".rels",Fg(e.wbrels)),delete e.revssf,delete e.ssf,i}function FD(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Cc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ZGe(t,e){return Hr.find(t,"EncryptedPackage")?KGe(t,e):Rne(t,e)}function eVe(t,e){var r,n=t,a=e||{};return a.type||(a.type=js&&Buffer.isBuffer(t)?"buffer":"base64"),r=ise(n,a),qGe(r,a)}function Vne(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return mP(t.slice(r),e);default:break e}return Bv.to_workbook(t,e)}function tVe(t,e){var r="",n=FD(t,e);switch(e.type){case"base64":r=Cc(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=RA(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Tn(r)),e.type="binary",Vne(r,e)}function rVe(t,e){var r=t;return e.type=="base64"&&(r=Cc(r)),r=K1.utils.decode(1200,r.slice(2),"str"),e.type="binary",Vne(r,e)}function sVe(t){return t.match(/[^\x00-\x7F]/)?rh(t):t}function LB(t,e,r,n){return n?(r.type="string",Bv.to_workbook(t,r)):Bv.to_workbook(e,r)}function xP(t,e){J8();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return xP(new Uint8Array(t),(r=la(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ig={},r.dateNF&&(Ig.dateNF=r.dateNF),r.type||(r.type=js&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=js?"buffer":"binary",n=YDe(t),typeof Uint8Array<"u"&&!js&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=sVe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=la(r),r.type="array",xP(Z8(n),r)}switch((a=FD(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return ZGe(Hr.read(n,r),r);break;case 9:if(a[1]<=8)return Rne(n,r);break;case 60:return mP(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return lUe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return rne.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?eVe(n,r):LB(t,n,r,i);case 239:return a[3]===60?mP(n,r):LB(t,n,r,i);case 255:if(a[1]===254)return rVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return gA.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return gA.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return fP.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return cne.to_workbook(n,r);break;case 10:case 13:case 32:return tVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return oUe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?fP.to_workbook(n,r):LB(t,n,r,i)}function Wne(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Yw(e.file,Hr.write(t,{type:js?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Hr.write(t,e)}function nVe(t,e){var r=la(e||{}),n=XGe(t,r);return aVe(n,r)}function aVe(t,e){var r={},n=js?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Hr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Z4(a))}return e.password&&typeof encrypt_agile<"u"?Wne(encrypt_agile(a,e.password),e):e.type==="file"?Yw(e.file,a):e.type=="string"?Tn(a):a}function iVe(t,e){var r=e||{},n=sGe(t,r);return Wne(n,r)}function Qu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return X1(rh(n));case"binary":return rh(n);case"string":return t;case"file":return Yw(e.file,n,"utf8");case"buffer":return js?Jf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Qu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function oVe(t,e){switch(e.type){case"base64":return X1(t);case"binary":return t;case"string":return t;case"file":return Yw(e.file,t,"binary");case"buffer":return js?Jf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qj(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?X1(r):e.type=="string"?Tn(r):r;case"file":return Yw(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function qne(t,e){J8(),Zze(t);var r=la(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=qne(t,r);return r.type="array",Z4(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Qu(X$e(t,r),r);case"slk":case"sylk":return Qu(tne.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return Qu(Une(t.Sheets[t.SheetNames[a]],r),r);case"txt":return oVe(Kne(t.Sheets[t.SheetNames[a]],r),r);case"csv":return Qu(PD(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return Qu(rne.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return qj(fP.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return Qu(Bv.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return Qu(cne.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return Qu(sne.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return Qu($ne(t,r),r);case"wk1":return qj(gA.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return qj(gA.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),qj(One(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),iVe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return nVe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function lVe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function cVe(t,e,r){var n={};return n.type="file",n.file=e,lVe(n),qne(t,n)}function dVe(t,e,r,n,a,i,o,l){var c=Xa(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||t[r])for(var f=e.s.c;f<=e.e.c;++f){var A=o?t[r][f]:t[n[f]+c];if(A===void 0||A.t===void 0){if(d===void 0)continue;i[f]!=null&&(m[i[f]]=d);continue}var g=A.v;switch(A.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(i[f]!=null){if(g==null)if(A.t=="e"&&g===null)m[i[f]]=null;else if(d!==void 0)m[i[f]]=d;else if(u&&g===null)m[i[f]]=null;else continue;else m[i[f]]=u&&(A.t!=="n"||A.t==="n"&&l.rawNumbers!==!1)?g:$f(A,g,l);g!=null&&(h=!1)}}return{row:m,isempty:h}}function DS(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=Vs(u);break;case"number":c=Vs(t["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var h=Xa(c.s.r),m=[],f=[],A=0,g=0,x=Array.isArray(t),v=c.s.r,j=0,b={};x&&!t[v]&&(t[v]=[]);var S=d.skipHidden&&t["!cols"]||[],w=d.skipHidden&&t["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(S[j]||{}).hidden)switch(m[j]=Na(j),r=x?t[v][j]:t[m[j]+h],n){case 1:i[j]=j-c.s.c;break;case 2:i[j]=m[j];break;case 3:i[j]=d.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=$f(r,null,d),g=b[o]||0,!g)b[o]=1;else{do l=o+"_"+g++;while(b[l]);b[o]=g,b[l]=1}i[j]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(w[v]||{}).hidden){var N=dVe(t,c,v,m,n,i,x,d);(N.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(f[A++]=N.row)}return f.length=A,f}var TW=/"/g;function uVe(t,e,r,n,a,i,o,l){for(var c=!0,d=[],u="",h=Xa(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var f=l.dense?(t[r]||[])[m]:t[n[m]+h];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(l.rawNumbers&&f.t=="n"?f.v:$f(f,null,l));for(var A=0,g=0;A!==u.length;++A)if((g=u.charCodeAt(A))===a||g===i||g===34||l.forceQuotes){u='"'+u.replace(TW,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(TW,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function PD(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=Vs(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],A=a.s.c;A<=a.e.c;++A)(m[A]||{}).hidden||(h[A]=Na(A));for(var g=0,x=a.s.r;x<=a.e.r;++x)(f[x]||{}).hidden||(u=uVe(t,a,x,h,o,c,i,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((g++?l:"")+u)));return delete n.dense,r.join("")}function Kne(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=PD(t,e);return r}function hVe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=Vs(t["!ref"]),i="",o=[],l,c=[],d=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)o[l]=Na(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Xa(u),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,r=d?(t[u]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function Xne(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Sa(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var h=Vs(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+a)}else o==-1&&(o=0,u.e.r=e.length-1+a);var m=n.header||[],f=0;e.forEach(function(g,x){La(g).forEach(function(v){(f=m.indexOf(v))==-1&&(m[f=m.length]=v);var j=g[v],b="z",S="",w=Xr({c:l+f,r:o+x+a});d=lw(i,w),j&&typeof j=="object"&&!(j instanceof Date)?i[w]=j:(typeof j=="number"?b="n":typeof j=="boolean"?b="b":typeof j=="string"?b="s":j instanceof Date?(b="d",n.cellDates||(b="n",j=Ii(j)),S=n.dateNF||qr[14]):j===null&&n.nullError&&(b="e",j=0),d?(d.t=b,d.v=j,delete d.w,delete d.R,S&&(d.z=S)):i[w]=d={t:b,v:j},S&&(d.z=S))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var A=Xa(o);if(a)for(f=0;f<m.length;++f)i[Na(f+l)+A]={t:"s",v:m[f]};return i["!ref"]=ps(u),i}function fVe(t,e){return Xne(null,t,e)}function lw(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Sa(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?lw(t,Xr(e)):lw(t,Xr({r:e,c:r||0}))}function mVe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ID(){return{SheetNames:[],Sheets:{}}}function DD(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Fne(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function pVe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=mVe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function AVe(t,e){return t.z=e,t}function Yne(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function xVe(t,e,r){return Yne(t,"#"+e,r)}function gVe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function vVe(t,e,r,n){for(var a=typeof e!="string"?e:Vs(e),i=typeof e=="string"?e:ps(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=lw(t,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return t}var WN={encode_col:Na,encode_row:Xa,encode_cell:Xr,encode_range:ps,decode_col:uD,decode_row:dD,split_cell:kLe,decode_cell:Sa,decode_range:Kl,format_cell:$f,sheet_add_aoa:Nse,sheet_add_json:Xne,sheet_add_dom:Hne,aoa_to_sheet:ry,json_to_sheet:fVe,table_to_sheet:Qne,table_to_book:SGe,sheet_to_csv:PD,sheet_to_txt:Kne,sheet_to_json:DS,sheet_to_html:Une,sheet_to_formulae:hVe,sheet_to_row_object_array:DS,sheet_get_cell:lw,book_new:ID,book_append_sheet:DD,book_set_sheet_visibility:pVe,cell_set_number_format:AVe,cell_set_hyperlink:Yne,cell_set_internal_link:xVe,cell_add_comment:gVe,sheet_set_array_formula:vVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qd="http://localhost:5000",eb=10,yVe=({setShowAdminHeader:t,setShowAdminBreadcrumb:e})=>{var Rt,mr,Ht;mi();const[r,n]=F.useState([]),[a,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(!1),[u,h]=F.useState(null),[m,f]=F.useState({}),[A,g]=F.useState(!1),[x,v]=F.useState(!1),j=F.useRef(null),[b,S]=F.useState([]),[w,N]=F.useState(!1),[E,P]=F.useState([]),[_,B]=F.useState(!1),[k,M]=F.useState(!1),[T,H]=F.useState(!1),[L,Q]=F.useState(null),[O,V]=F.useState(null),[ee,Y]=F.useState({}),[re,D]=F.useState(!1),[G,z]=F.useState({name:"",email:"",mobile:"",gender:"",dob:"",address:"",pincode:"",status:"Active",guardianName:"",guardianEmail:"",guardianPhone:"",serialNo:"",batchCode:"",admissionDate:"",roll:"",grade:"",section:"",course:"",courseId:"",duration:"",formNo:"",enrollmentNo:""}),K=F.useMemo(()=>b.find(Ge=>Ge._id===G.courseId)||null,[b,G.courseId]),oe=(K==null?void 0:K.installments)||[],[ue,ge]=F.useState(1),pe=F.useMemo(()=>r.filter(Ge=>[Ge.name,Ge.roll,Ge.email].filter(Boolean).some(we=>String(we).toLowerCase().includes(a.toLowerCase()))),[r,a]),ye=Math.max(1,Math.ceil(pe.length/eb)),Pe=F.useMemo(()=>{const Ge=(ue-1)*eb;return pe.slice(Ge,Ge+eb)},[pe,ue]),le=F.useMemo(()=>Array.from({length:ye},(Ge,we)=>we+1),[ye]),lt=pe.length>0?(ue-1)*eb+1:0,ne=Math.min(ue*eb,pe.length);F.useEffect(()=>{ge(Ge=>{const we=Math.min(Ge,ye);return we<1?1:we})},[ye]),F.useEffect(()=>{ge(1)},[a]),F.useEffect(()=>{_&&Re()},[_]);const J=Ge=>{switch(Ge){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"due":default:return"bg-red-100 text-red-800"}},ie=(Ge=0)=>`${Number(Ge||0).toLocaleString()}`,Ce=async()=>{const Ge=await fetch(`${qd}/api/nif/students`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ge.ok){const we=await Ge.json();n(we)}},Oe=async()=>{N(!0);try{const Ge=await fetch(`${qd}/api/nif/course/fetch`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ge.ok){const we=await Ge.json();S(we||[])}}catch(Ge){console.error(Ge)}finally{N(!1)}},Re=async()=>{try{const Ge=localStorage.getItem("token");console.log("Fetching archived students from:",`${qd}/api/nif/students/archived`),console.log("Using token:",Ge?"Present":"Missing");const we=await fetch(`${qd}/api/nif/students/archived`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${Ge}`}});if(console.log("Response status:",we.status),we.ok){const Ze=await we.json();console.log("Archived students data:",Ze),P(Array.isArray(Ze)?Ze:[])}else{const Ze=await we.text();console.error("Failed to fetch archived students:",we.status,Ze),P([])}}catch(Ge){console.error("Error fetching archived students:",Ge),P([])}};F.useEffect(()=>(t==null||t(!0),e==null||e(!1),Ce().catch(console.error),Oe().catch(console.error),Re().catch(console.error),()=>{e==null||e(!0)}),[t,e]);const ze=async Ge=>{if(!(!(await es.fire({title:"Archive Student?",text:`Are you sure you want to archive ${Ge.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, archive it!",cancelButtonText:"Cancel"})).isConfirmed||!(await es.fire({title:"Confirm Archive",text:"Would you like to add this record to archive?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, move to archive",cancelButtonText:"No, keep active"})).isConfirmed)){H(!0);try{if((await fetch(`${qd}/api/nif/students/${Ge._id}/archive`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)es.fire({title:"Archived!",text:`${Ge.name} has been moved to archive.`,icon:"success",timer:2e3,showConfirmButton:!1}),await Ce(),await Re();else throw new Error("Failed to archive student")}catch(qe){console.error(qe),es.fire({title:"Error!",text:"Failed to archive student. Please try again.",icon:"error"})}finally{H(!1)}}},ce=async Ge=>{if(!(!(Ge!=null&&Ge._id)||L||!(await es.fire({title:"Delete student?",text:`This will remove ${Ge.name} from students list.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed||!(await es.fire({title:"Are you absolutely sure?",text:"Click delete again to permanently remove all associated records.",icon:"error",showCancelButton:!0,confirmButtonColor:"#b91c1c",cancelButtonColor:"#6b7280",confirmButtonText:"Delete permanently"})).isConfirmed)){Q(Ge._id);try{const qe=await fetch(`${qd}/api/nif/students/${Ge._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!qe.ok){const st=await qe.json().catch(()=>({}));throw new Error(st.message||"Failed to delete student")}await es.fire({title:"Deleted",text:`${Ge.name} and associated fee records have been removed.`,icon:"success",timer:2e3,showConfirmButton:!1}),await Ce()}catch(qe){console.error(qe),es.fire({title:"Error",text:qe.message||"Failed to delete student",icon:"error"})}finally{Q(null)}}},ae=Ge=>{const{name:we,value:Ze}=Ge.target;z(qe=>({...qe,[we]:Ze}))},Se=Ge=>{const{value:we}=Ge.target,Ze=b.find(qe=>qe._id===we);z(qe=>({...qe,courseId:we,course:(Ze==null?void 0:Ze.title)||"",grade:(Ze==null?void 0:Ze.programLabel)||qe.grade,duration:(Ze==null?void 0:Ze.duration)||qe.duration}))},We=async Ge=>{Ge.preventDefault();const Ze=["name","mobile","gender","batchCode","admissionDate","roll","section"].filter(qe=>!G[qe]||String(G[qe]).trim()==="");if(G.courseId||Ze.push("course"),Ze.length){alert(`Please fill required fields: ${Ze.join(", ")}`);return}g(!0);try{const qe={...G,courseId:G.courseId,course:(K==null?void 0:K.title)||G.course,grade:(K==null?void 0:K.programLabel)||G.grade,duration:(K==null?void 0:K.duration)||G.duration,serialNo:G.serialNo?Number(G.serialNo):void 0},st=await fetch(`${qd}/api/nif/students`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(qe)}),ct=await st.json().catch(()=>({}));if(!st.ok){alert(`Registration failed: ${ct.message||st.statusText}`);return}es.fire({icon:"success",title:"student enrolled successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await Ce(),l(!1),z({name:"",email:"",mobile:"",gender:"",dob:"",address:"",pincode:"",status:"Active",guardianName:"",guardianEmail:"",guardianPhone:"",serialNo:"",batchCode:"",admissionDate:"",roll:"",grade:"",section:"",course:"",courseId:"",duration:"",formNo:"",enrollmentNo:""})}catch(qe){console.error(qe),alert(`Error: ${qe.message}`)}finally{g(!1)}},Je=async(Ge,we)=>{if(!(Ge!=null&&Ge._id)){es.fire({icon:"warning",title:"Student not saved",text:"Please save the student before generating credentials."});return}V(Ge._id);try{const Ze=await fetch(`${qd}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:we.id,password:we.password,studentId:Ge._id,nifId:Ge.serialNo,name:Ge.name,email:Ge.email,mobile:Ge.mobile,grade:Ge.grade,section:Ge.section,batchCode:Ge.batchCode})}),qe=await Ze.json().catch(()=>({}));if(!Ze.ok)throw new Error(qe.error||qe.message||Ze.statusText||"Failed to issue credentials");Y(st=>({...st,[Ge._id]:"active"})),es.fire({icon:"success",title:"Credentials Issued Successfully",html:`
          <div class="text-left space-y-4">
            <p class="text-gray-700 mb-4"><strong>${Ge.name}</strong> can now log in with these credentials:</p>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-3">
              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Student ID</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${we.id}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${we.id}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy ID"
                  >
                    Copy
                  </button>
                </div>
              </div>

              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Password</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${we.password}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${we.password}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy Password"
                  >
                    Copy
                  </button>
                </div>
              </div>
            </div>

            <p class="text-xs text-gray-500 mt-3"> Please save these credentials securely. Share them with the student.</p>
          </div>
        `,width:"600px",showConfirmButton:!0,confirmButtonText:"Done",confirmButtonColor:"#EAB308"})}catch(Ze){console.error(Ze),Y(qe=>({...qe,[Ge._id]:"error"})),es.fire({icon:"error",title:"Credential Error",text:Ze.message||"Unable to generate credentials"})}finally{V(null)}},tt=async()=>{const Ge=r.filter(Xt=>!Xt.studentPortalUser&&Xt.status==="Active");if(Ge.length===0){es.fire({icon:"info",title:"No Students Found",text:"All active students already have portal credentials."});return}if(!(await es.fire({icon:"question",title:"Generate Credentials for All Students",html:`
        <p>This will generate portal credentials for <strong>${Ge.length}</strong> students.</p>
        <p class="text-sm text-gray-600 mt-2">Credentials will be automatically generated and exported to CSV.</p>
      `,showCancelButton:!0,confirmButtonText:"Generate & Export",confirmButtonColor:"#EAB308",cancelButtonText:"Cancel"})).isConfirmed)return;D(!0);const Ze=[],qe=[];es.fire({title:"Generating Credentials",html:`<div>Processing: <strong>0</strong> / ${Ge.length}</div>`,allowOutsideClick:!1,didOpen:()=>{es.showLoading()}});for(let Xt=0;Xt<Ge.length;Xt++){const Vt=Ge[Xt];es.update({html:`<div>Processing: <strong>${Xt+1}</strong> / ${Ge.length}</div>
               <div class="text-sm text-gray-600 mt-2">${Vt.name}</div>`});try{const Pr=Vt.admissionDate?new Date(Vt.admissionDate).getFullYear():new Date().getFullYear(),cr=(Vt.batchCode||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),Ts=Pr.toString().slice(-2),tn=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),Ls=`STU-${Ts}${cr}-${tn}`,hs=(()=>{const me="ABCDEFGHJKLMNPQRSTUVWXYZ",ke="abcdefghjkmnpqrstuvwxyz",je="0123456789",Ee="!@#$%&*?",Fe=`${me}${ke}${je}${Ee}`;let Be="";for(Be+=me[Math.floor(Math.random()*me.length)],Be+=ke[Math.floor(Math.random()*ke.length)],Be+=je[Math.floor(Math.random()*je.length)],Be+=Ee[Math.floor(Math.random()*Ee.length)];Be.length<10;)Be+=Fe[Math.floor(Math.random()*Fe.length)];return Be.split("").sort(()=>Math.random()-.5).join("")})(),Rs=await fetch(`${qd}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:Ls,password:hs,studentId:Vt._id,nifId:Vt.serialNo,name:Vt.name,email:Vt.email,mobile:Vt.mobile,grade:Vt.grade,section:Vt.section,batchCode:Vt.batchCode})});if(!Rs.ok){const me=await Rs.json().catch(()=>({}));throw new Error(me.error||me.message||"Failed to generate credentials")}Ze.push({serialNo:Vt.serialNo||"",name:Vt.name,batchCode:Vt.batchCode,grade:Vt.grade,section:Vt.section,roll:Vt.roll,mobile:Vt.mobile,email:Vt.email,username:Ls,password:hs}),Y(me=>({...me,[Vt._id]:"active"}))}catch(Pr){console.error(`Error generating credentials for ${Vt.name}:`,Pr),qe.push({student:Vt.name,error:Pr.message})}}D(!1),Ze.length>0&&Tt(Ze),await Ce();const st=Ze.length,ct=qe.length;let St=`<p><strong>${st}</strong> credentials generated successfully.</p>`;ct>0&&(St+=`<p class="text-red-600 mt-2"><strong>${ct}</strong> failed.</p>`,St+='<div class="text-left mt-3 max-h-40 overflow-y-auto text-sm">',qe.forEach(Xt=>{St+=`<div class="mb-1"> ${Xt.student}: ${Xt.error}</div>`}),St+="</div>"),st>0&&(St+='<p class="text-sm text-gray-600 mt-3"> Credentials exported to CSV file</p>'),es.fire({icon:st>0?"success":"error",title:"Bulk Credential Generation Complete",html:St,confirmButtonColor:"#EAB308"})},Tt=Ge=>{const we=["Serial No","Student Name","Batch Code","Grade","Section","Roll","Mobile","Email","Portal ID","Portal Password"],Ze=Ge.map(Xt=>[Xt.serialNo,Xt.name,Xt.batchCode,Xt.grade,Xt.section,Xt.roll,Xt.mobile,Xt.email,Xt.username,Xt.password]),qe=[we,...Ze].map(Xt=>Xt.map(Vt=>{const Pr=String(Vt||"");return Pr.includes(",")||Pr.includes('"')||Pr.includes(`
`)?`"${Pr.replace(/"/g,'""')}"`:Pr}).join(",")).join(`
`),st=new Blob([qe],{type:"text/csv;charset=utf-8;"}),ct=document.createElement("a"),St=URL.createObjectURL(st);ct.setAttribute("href",St),ct.setAttribute("download",`student_credentials_${new Date().toISOString().split("T")[0]}.csv`),ct.style.visibility="hidden",document.body.appendChild(ct),ct.click(),document.body.removeChild(ct)},ft=async Ge=>{if(Ge&&window.confirm("Restore this student from archive?"))try{M(!0);const we=await fetch(`${qd}/api/nif/students/${Ge}/unarchive`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),Ze=await we.json().catch(()=>({}));if(!we.ok)throw new Error(Ze.message||"Failed to restore student");await Ce(),await Re(),es.fire({icon:"success",title:"Student restored",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})}catch(we){console.error(we),alert(we.message)}finally{M(!1)}},vt=Ge=>Ge==null?void 0:Ge.toString().trim().toLowerCase().replace(/[\s_-]+/g,""),_t={name:"name",mobile:"mobile",email:"email",gender:"gender",dob:"dob",dateofbirth:"dob",address:"address",pincode:"pincode",pin:"pincode",batchcode:"batchCode",batch:"batchCode",admissiondate:"admissionDate",admission:"admissionDate",dateofadmission:"admissionDate",roll:"roll",rollno:"roll",rollnumber:"roll",section:"section",course:"course",coursename:"course",courseid:"courseId",grade:"grade",duration:"duration",serialno:"serialNo",serialn:"serialNo",srlno:"serialNo",serial:"serialNo",formno:"formNo",formn:"formNo",form:"formNo",enrollmentno:"enrollmentNo",enrollmentn:"enrollmentNo",enrollment:"enrollmentNo",guardianname:"guardianName",guardian:"guardianName",parentname:"guardianName",guardianemail:"guardianEmail",parentemail:"guardianEmail",guardianphone:"guardianPhone",guardianph:"guardianPhone",guardianphn:"guardianPhone",guardiancontact:"guardianPhone",parentphone:"guardianPhone",status:"status"},et=Ge=>{const we=[];let Ze=0,qe="",st=[],ct=!1;const St=()=>{st.push(qe),qe=""},Xt=()=>{we.push(st),st=[]};for(;Ze<Ge.length;){const Vt=Ge[Ze];ct?Vt==='"'?Ge[Ze+1]==='"'?(qe+='"',Ze+=2):(ct=!1,Ze++):(qe+=Vt,Ze++):Vt==='"'?(ct=!0,Ze++):Vt===","?(St(),Ze++):Vt==="\r"?Ze++:Vt===`
`?(St(),Xt(),Ze++):(qe+=Vt,Ze++)}return St(),st.length&&Xt(),we},It=Ge=>{const we=String(Ge||"").trim();if(!we)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(we))return we;const Ze=we.match(/^(\d{1,2})[/-](\d{1,2})[/-](\d{4})$/);if(Ze){const st=String(Ze[1]).padStart(2,"0"),ct=String(Ze[2]).padStart(2,"0");return`${Ze[3]}-${ct}-${st}`}if(/^\d{5}$/.test(we)){const st=new Date(1900,0,1),ct=parseInt(we)-2,St=new Date(st.getTime()+ct*24*60*60*1e3),Xt=St.getFullYear(),Vt=String(St.getMonth()+1).padStart(2,"0"),Pr=String(St.getDate()).padStart(2,"0");return`${Xt}-${Vt}-${Pr}`}const qe=new Date(we);if(!isNaN(qe.getTime())){const st=qe.getFullYear(),ct=String(qe.getMonth()+1).padStart(2,"0"),St=String(qe.getDate()).padStart(2,"0");return`${st}-${ct}-${St}`}return null},Lt=async Ge=>{const we=Ge.name.toLowerCase();if(we.endsWith(".xlsx")||we.endsWith(".xls")){const Ze=await Ge.arrayBuffer(),qe=xP(Ze,{type:"array"}),st=qe.SheetNames[0],ct=qe.Sheets[st];return WN.sheet_to_json(ct,{header:1,defval:""})}if(we.endsWith(".csv")){const Ze=await Ge.text();return et(Ze)}throw new Error("Unsupported file format. Please use .csv, .xlsx, or .xls files.")},Gt=async Ge=>{try{v(!0);const we=await Lt(Ge);if(!we.length){alert("File is empty");return}const Ze=we[0],qe={};Ze.forEach((Vt,Pr)=>{const sr=vt(Vt),cr=_t[sr];cr&&(qe[cr]=Pr)});const st=[],ct=[];for(let Vt=1;Vt<we.length;Vt++){const Pr=we[Vt];if(!Pr||Pr.every(tn=>!String(tn||"").trim()))continue;const sr={};if(Object.keys(_t).forEach(tn=>{const Ls=_t[tn],on=qe[Ls];if(on!==void 0){const hs=String(Pr[on]??"").trim();hs&&(sr[Ls]=hs)}}),!sr.name||!sr.mobile||!sr.gender||!sr.batchCode||!sr.admissionDate||!sr.roll||!sr.section||!sr.course){ct.push({row:Vt+1,reason:"Missing required fields"});continue}const cr=It(sr.dob),Ts=It(sr.admissionDate);if(!Ts){ct.push({row:Vt+1,reason:"Invalid admission date format"});continue}st.push({name:sr.name,mobile:sr.mobile,email:(sr.email||"").toLowerCase(),gender:sr.gender.toLowerCase(),dob:cr,address:sr.address||"",pincode:sr.pincode||"",status:sr.status||"Active",guardianName:sr.guardianName||"",guardianEmail:sr.guardianEmail?sr.guardianEmail.toLowerCase():"",guardianPhone:sr.guardianPhone||"",serialNo:sr.serialNo?Number(sr.serialNo):void 0,batchCode:sr.batchCode,admissionDate:Ts,roll:sr.roll,grade:sr.grade||"",section:sr.section,course:sr.course||"",courseId:sr.courseId||"",duration:sr.duration||"",formNo:sr.formNo||"",enrollmentNo:sr.enrollmentNo||""})}if(!st.length){es.fire({icon:"warning",title:"No Valid Rows",html:ct.length>0?`<div style="text-align: left;">
            <p>All rows were skipped due to validation errors:</p>
            <ul style="max-height: 300px; overflow-y: auto;">
              ${ct.slice(0,20).map(Vt=>`<li>Row ${Vt.row}: ${Vt.reason}</li>`).join("")}
              ${ct.length>20?`<li>...and ${ct.length-20} more</li>`:""}
            </ul>
          </div>`:"No valid data rows found in the file."});return}if(ct.length>0&&!(await es.fire({icon:"warning",title:`${ct.length} rows will be skipped`,html:`<div style="text-align: left;">
            <p><strong>${st.length}</strong> valid rows found</p>
            <p><strong>${ct.length}</strong> rows will be skipped:</p>
            <ul style="max-height: 200px; overflow-y: auto;">
              ${ct.slice(0,10).map(Pr=>`<li>Row ${Pr.row}: ${Pr.reason}</li>`).join("")}
              ${ct.length>10?`<li>...and ${ct.length-10} more</li>`:""}
            </ul>
            <p style="margin-top: 10px;">Do you want to continue importing the valid rows?</p>
          </div>`,showCancelButton:!0,confirmButtonText:"Yes, Import Valid Rows",cancelButtonText:"Cancel"})).isConfirmed){v(!1),j.current&&(j.current.value="");return}console.log("Sending to backend:",{count:st.length,firstStudent:st[0],sample:st[0]});const St=await fetch(`${qd}/api/nif/students/bulk`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({students:st})}),Xt=await St.json().catch(()=>({}));if(!St.ok){alert(`Import failed: ${Xt.message||St.statusText}`);return}await es.fire({icon:"success",title:"Import Complete!",html:`<div style="text-align: left;">
          <p><strong>Successfully imported:</strong> ${Xt.imported} students</p>
          <p><strong>Failed:</strong> ${Xt.failed} rows</p>
          ${Xt.errors&&Xt.errors.length>0?`<p style="margin-top: 10px;"><strong>Errors:</strong></p>
             <ul style="max-height: 200px; overflow-y: auto; text-align: left;">
               ${Xt.errors.slice(0,10).map(Vt=>`<li>Row ${Vt.index+1}: ${Vt.message}</li>`).join("")}
               ${Xt.errors.length>10?`<li>...and ${Xt.errors.length-10} more errors</li>`:""}
             </ul>`:""}
        </div>`,confirmButtonText:"OK"}),await Ce()}catch(we){console.error(we),es.fire({icon:"error",title:"Import Failed",text:we.message||"An error occurred during import"})}finally{v(!1),j.current&&(j.current.value="")}};return s.jsx("div",{className:"flex-1 bg-white overflow-hidden flex flex-col",children:s.jsxs("div",{className:"w-full flex-1 flex flex-col p-2 md:p-4 lg:p-6 overflow-hidden text-sm md:text-base",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:justify-between sm:items-center mb-4 md:mb-6 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-yellow-700",children:"Student Management (NIF)"}),s.jsx("p",{className:"text-gray-600 mt-1 md:mt-2 text-sm md:text-base",children:"Manage Students"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 w-full sm:w-auto justify-stretch sm:justify-start",children:[s.jsxs("button",{onClick:()=>{var Ge;return(Ge=j.current)==null?void 0:Ge.click()},disabled:x,className:"bg-amber-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-amber-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[s.jsx(Ew,{size:16}),x?"Importing...":"Bulk Upload"]}),s.jsx("input",{ref:j,type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:Ge=>{var Ze;const we=(Ze=Ge.target.files)==null?void 0:Ze[0];we&&Gt(we)}}),s.jsxs("button",{onClick:tt,disabled:re,className:"bg-emerald-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-emerald-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",title:"Generate credentials for all students without portal access and export to CSV",children:[s.jsx(kX,{size:16}),re?"Generating...":"Generate All IDs"]}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-yellow-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[s.jsx($s,{size:16})," Add Student"]}),s.jsxs("button",{onClick:()=>B(!0),className:"bg-purple-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[s.jsx(MT,{size:16})," View Archived"]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[s.jsx("div",{className:"mb-3 md:mb-4 flex flex-wrap items-center gap-4 flex-shrink-0",children:s.jsxs("div",{className:"flex-1 min-w-[200px] md:min-w-[240px] relative",children:[s.jsx(Ds,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm md:text-base",value:a,onChange:Ge=>i(Ge.target.value)})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full border-collapse table-fixed",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-yellow-50",children:[s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[20%]",children:"Student"}),s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Academic"}),s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[15%]",children:"Course"}),s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Contact"}),s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[18%]",children:"Fees"}),s.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-center text-xs font-semibold text-yellow-800 w-[23%]",children:"Actions"})]})}),s.jsxs("tbody",{children:[Pe.map(Ge=>{var St,Xt,Vt,Pr,sr,cr;const we=Ge._id||Ge.id,Ze=Ge.admissionDate?new Date(Ge.admissionDate).getFullYear():void 0,qe=ee[we]==="active",st=O===we,ct={batchCode:Ge.batchCode||Ge.section||Ge.grade||"",referenceName:Ge.name||""};return Ze&&(ct.joiningYear=Ze),s.jsxs("tr",{className:"hover:bg-yellow-50 transition-all duration-200",children:[s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-200 flex items-center justify-center text-xs flex-shrink-0",children:((St=Ge.name)==null?void 0:St.charAt(0))||"?"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 text-xs truncate",children:Ge.name}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:Ge.email||"No email"})]})]})}),s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsxs("div",{className:"font-medium",children:["Roll: ",Ge.roll]}),s.jsx("div",{className:"text-gray-500",children:Ge.batchCode})]})}),s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("div",{className:"font-medium truncate",title:Ge.grade,children:Ge.grade}),s.jsx("div",{className:"text-gray-500 truncate",title:Ge.course,children:Ge.course})]})}),s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2 text-xs text-gray-600",children:Ge.mobile}),s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"text-gray-600",children:[ie((Xt=Ge.feeSummary)==null?void 0:Xt.paidAmount),"/",ie((Vt=Ge.feeSummary)==null?void 0:Vt.totalFee)]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:`inline-flex px-1.5 py-0.5 text-xs rounded ${J((Pr=Ge.feeSummary)==null?void 0:Pr.status)}`,children:((sr=Ge.feeSummary)==null?void 0:sr.status)||"N/A"}),s.jsx("span",{className:"text-xs text-red-600 font-semibold",children:ie((cr=Ge.feeSummary)==null?void 0:cr.dueAmount)})]})]})}),s.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:s.jsxs("div",{className:"flex items-center gap-1 justify-center flex-wrap",children:[s.jsx(P8,{buttonText:"Credentials",defaultRole:"Student",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-emerald-600 hover:bg-emerald-700 px-3 py-1 text-xs",prefillValues:ct,disabled:st,onGenerate:({id:Ts,password:tn})=>Je(Ge,{id:Ts,password:tn})}),qe&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 text-[10px] font-semibold",children:"Portal Ready"}),s.jsx("button",{onClick:()=>ze(Ge),disabled:T,className:"inline-flex items-center px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs transition-colors disabled:opacity-50",title:"Archive Student",children:s.jsx(MT,{size:12})}),s.jsx("button",{onClick:()=>ce(Ge),disabled:!!L,className:"inline-flex items-center px-2 py-1 bg-red-50 text-red-700 hover:bg-red-100 rounded text-xs transition-colors disabled:opacity-50",title:"Delete Student",children:s.jsx(Ni,{size:12})})]})})]},we)}),pe.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-10 text-sm",children:"No students found."})})]})]})}),s.jsxs("div",{className:"mt-3 md:mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between flex-shrink-0 pt-3 md:pt-4 border-t border-yellow-100",children:[s.jsx("div",{className:"text-gray-600 text-xs md:text-sm",children:pe.length===0?"No students to display":`Showing ${lt}-${ne} of ${pe.length} students`}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>ge(Ge=>Math.max(Ge-1,1)),disabled:ue===1,children:"Previous"}),le.map(Ge=>s.jsx("button",{onClick:()=>ge(Ge),className:`px-2 md:px-3 py-1 md:py-1.5 rounded-lg text-xs md:text-sm border ${Ge===ue?"bg-yellow-500 text-white border-yellow-500":"border-gray-200 text-black hover:bg-yellow-50"}`,children:Ge},Ge)),s.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>ge(Ge=>Math.min(Ge+1,ye)),disabled:ue===ye,children:"Next"})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-hidden border border-gray-200",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx($s,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Enroll New NIF Student"}),s.jsx("p",{className:"text-yellow-100 mt-1",children:"Complete all sections to register student"})]})]}),s.jsx("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-lg",children:s.jsx(Gs,{size:24})})]})}),s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:["Personal","Academic","Review"].map((Ge,we)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${we===0?"bg-yellow-500 border-yellow-500 text-white":"border-gray-300 text-gray-500"} font-semibold text-sm`,children:we+1}),s.jsx("span",{className:`ml-2 text-sm font-medium ${we===0?"text-yellow-600":"text-gray-500"}`,children:Ge}),we<2&&s.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-4"})]},Ge))})}),s.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:We,className:"space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(pr,{className:"w-3 h-3 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Full Name",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"name",value:G.name,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter student's full name"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(pr,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Mobile Number",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"tel",name:"mobile",value:G.mobile,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 98765 43210"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(Mi,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"email",name:"email",value:G.email,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"student@example.com"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(Yi,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"dob",value:G.dob,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(tr,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2 relative",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Gender",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{name:"gender",value:G.gender,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select Gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]}),s.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:s.jsx(mn,{className:"w-4 h-4 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pincode"}),s.jsx("input",{type:"text",name:"pincode",value:G.pincode,onChange:ae,maxLength:6,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter 6-digit pincode"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Name"}),s.jsx("input",{type:"text",name:"guardianName",value:G.guardianName,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Parent/Guardian Name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Phone"}),s.jsx("input",{type:"tel",name:"guardianPhone",value:G.guardianPhone,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 90000 00000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Email"}),s.jsx("input",{type:"email",name:"guardianEmail",value:G.guardianEmail,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"guardian@example.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),s.jsx("textarea",{name:"address",value:G.address,onChange:ae,rows:3,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none",placeholder:"Enter complete residential address..."})]})]}),s.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Qr,{className:"w-3 h-3 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Academic & NIF Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Serial No (optional)"}),s.jsx("input",{type:"number",name:"serialNo",value:G.serialNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Srl No"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Batch Code",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("input",{type:"text",name:"batchCode",value:G.batchCode,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g. 1124B02"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Date of Admission",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"admissionDate",value:G.admissionDate,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(tr,{className:"w-4 h-4 text-gray-400"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[s.jsxs("div",{className:"space-y-2 relative",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Program",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{name:"grade",value:G.grade,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select Program"}),s.jsxs("optgroup",{label:"Fashion Design",children:[s.jsx("option",{value:"Fashion Design - 1 year Certificate Program",children:"1 year Certificate Program"}),s.jsx("option",{value:"Fashion Design - 2 year Advanced Certificate",children:"2 year Advanced Certificate"}),s.jsx("option",{value:"Fashion Design - 3 year B Voc Program",children:"3 year B Voc Program"}),s.jsx("option",{value:"Fashion Design - 4 year B Des Program",children:"4 year B Des Program"}),s.jsx("option",{value:"Fashion Design - 2 Year M Voc program",children:"2 Year M Voc program"})]}),s.jsxs("optgroup",{label:"Interior Design",children:[s.jsx("option",{value:"Interior Design - 1 year Certificate Program",children:"1 year Certificate Program"}),s.jsx("option",{value:"Interior Design - 2 year Advanced Certificate",children:"2 year Advanced Certificate"}),s.jsx("option",{value:"Interior Design - 3 year B Voc Program",children:"3 year B Voc Program"}),s.jsx("option",{value:"Interior Design - 4 year B Des Program",children:"4 year B Des Program"}),s.jsx("option",{value:"Interior Design - 2 Year M Voc program",children:"2 Year M Voc program"})]})]}),s.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:s.jsx(mn,{className:"w-4 h-4 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Course & Fees",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"courseId",value:G.courseId,onChange:Se,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[s.jsx("option",{value:"",children:w?"Loading courses...":"Select course"}),b.map(Ge=>s.jsxs("option",{value:Ge._id,children:[Ge.title," (",Ge.department,")"]},Ge._id))]}),s.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:s.jsx(mn,{className:"w-4 h-4 text-gray-400"})})]}),K&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Program: ",K.programLabel,"  Total Fee: ",(Rt=K.fees)==null?void 0:Rt.toLocaleString()]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Duration"}),s.jsx("input",{type:"text",name:"duration",value:G.duration,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g. 2 Years"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Roll Number",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"roll",value:G.roll,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter roll number"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(aue,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2 relative",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Section",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{name:"section",value:G.section,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select Section"}),s.jsx("option",{value:"A",children:"Section A"}),s.jsx("option",{value:"B",children:"Section B"}),s.jsx("option",{value:"C",children:"Section C"}),s.jsx("option",{value:"D",children:"Section D"})]}),s.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:s.jsx(mn,{className:"w-4 h-4 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Form No"}),s.jsx("input",{type:"text",name:"formNo",value:G.formNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter form number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enrollment No"}),s.jsx("input",{type:"text",name:"enrollmentNo",value:G.enrollmentNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter enrollment no"})]})]}),K&&s.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-800",children:"Course Fee Snapshot"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["Total Fee: ",(mr=K.fees)==null?void 0:mr.toLocaleString()," "," ",((Ht=K.installments)==null?void 0:Ht.length)||0," Installments"]})]}),s.jsx("div",{className:"px-3 py-1 bg-white/70 rounded-full text-xs text-yellow-800 border border-yellow-200",children:K.programLabel})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:oe.slice(0,6).map((Ge,we)=>{var Ze;return s.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-yellow-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:Ge.label}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:Ge.dueMonth||"Scheduled"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",(Ze=Ge.amount)==null?void 0:Ze.toLocaleString()]})]})]},`${Ge.label}-${we}`)})}),oe.length>6&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Showing first 6 installments. Full schedule included in course record."})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["All fields marked with"," ",s.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-8 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-white rounded-xl hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx($s,{size:18}),A?"Enrolling...":"Enroll Student"]})]})]})]})})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden border border-gray-200",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Archived Students"}),s.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Gs,{size:20})})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Course"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),s.jsxs("tbody",{children:[E.map(Ge=>{var we;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:Ge.studentName}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.roll}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.grade}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.course}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.mobile}),s.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:ie((we=Ge.feeSummary)==null?void 0:we.totalDue)}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("button",{onClick:()=>ft(Ge._id),disabled:k,className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 text-sm disabled:opacity-50",children:[s.jsx(Xo,{size:14}),"Restore"]})})]},Ge._id)}),!E.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-10 text-center text-gray-500",children:"No archived students."})})]})]})}),s.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:s.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 text-black",children:"Close"})})]})})]})})},bVe=({setShowAdminHeader:t})=>{var S,w,N,E,P,_,B,k,M,T,H;const[e,r]=F.useState([]),[n,a]=F.useState(""),[i,o]=F.useState(!1),[l,c]=F.useState(null),[d,u]=F.useState({}),[h,m]=F.useState(""),f=e.filter(L=>{const Q=L.name.toLowerCase().includes(n.toLowerCase())||L.roll.includes(n)||L.email.toLowerCase().includes(n.toLowerCase());if(!h)return Q;const O=A(L.id);return Q&&O.mood===h}),A=L=>d[L]||{mood:"neutral",socialEngagement:5,academicStress:5,behaviorChanges:!1,lastAssessment:"N/A",notes:"",interventions:[],counselingSessions:0,parentNotifications:0},g=L=>{const Q={excellent:{icon:Yu,color:"text-green-600",bg:"bg-green-100"},good:{icon:Yu,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:o5,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:o1,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:Ir,color:"text-red-600",bg:"bg-red-100"}};return Q[L]||Q.neutral},x=(L,Q)=>{u(O=>({...O,[L]:{...O[L],...Q,lastAssessment:new Date().toISOString().split("T")[0]}}))},v=L=>{c(L),o(!0),fetch(`http://localhost:5000/api/wellbeing/${L.id}`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(Q=>{if(!Q.ok)throw new Error("Failed to fetch wellbeing data");return Q.json()}).then(Q=>{u(O=>({...O,[L.id]:Q}))}).catch(Q=>{console.error("Error fetching wellbeing data:",Q)})};F.useEffect(()=>{t(!0),fetch("http://localhost:5000/api/admin/users/get-students",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(L=>{if(!L.ok)throw new Error("Failed to fetch students");return L.json()}).then(L=>{r(L)}).catch(L=>{console.error("Error fetching students:",L)})},[t]);const j={total:e.length,excellent:e.filter(L=>A(L.id).mood==="excellent").length,good:e.filter(L=>A(L.id).mood==="good").length,neutral:e.filter(L=>A(L.id).mood==="neutral").length,concerning:e.filter(L=>A(L.id).mood==="concerning").length,critical:e.filter(L=>A(L.id).mood==="critical").length},b=()=>{if(!l)return;const L=d[l.id];L&&fetch(`http://localhost:5000/api/wellbeing/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(L)}).then(Q=>{if(!Q.ok)throw new Error("Failed to save assessment");return Q.json()}).then(Q=>{console.log("Assessment saved:",Q),o(!1)}).catch(Q=>{console.error("Error saving assessment:",Q)})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-purple-100 to-indigo-100 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-purple-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-purple-700",children:"Student Wellbeing Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor and assess student emotional wellbeing and mental health"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>{c({id:"test",name:"Test Student",roll:"001",grade:"10",section:"A"}),o(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[s.jsx(Js,{size:16})," Test Wellbeing Modal"]}),s.jsx(Js,{className:"w-12 h-12 text-purple-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),s.jsx(pr,{className:"w-8 h-8 text-gray-500"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Excellent"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.excellent})]}),s.jsx(Yu,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Good"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.good})]}),s.jsx(Yu,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-yellow-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Neutral"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.neutral})]}),s.jsx(o5,{className:"w-8 h-8 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Concerning"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:j.concerning})]}),s.jsx(o1,{className:"w-8 h-8 text-orange-500"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Critical"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.critical})]}),s.jsx(Ir,{className:"w-8 h-8 text-red-500"})]})})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[s.jsx(Ds,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:n,onChange:L=>a(L.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{size:16,className:"text-gray-400"}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h,onChange:L=>m(L.target.value),children:[s.jsx("option",{value:"",children:"All Wellbeing Status"}),s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"neutral",children:"Neutral"}),s.jsx("option",{value:"concerning",children:"Concerning"}),s.jsx("option",{value:"critical",children:"Critical"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(L=>{const Q=A(L.id),O=g(Q.mood),V=O.icon;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200 cursor-pointer",onClick:()=>v(L),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-200 flex items-center justify-center",children:L.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:L.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",L.roll]})]})]}),s.jsx("div",{className:`p-2 rounded-full ${O.bg}`,children:s.jsx(V,{size:20,className:O.color})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Overall Mood"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.bg} ${O.color}`,children:Q.mood.charAt(0).toUpperCase()+Q.mood.slice(1)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Academic Stress"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${Q.academicStress>7?"bg-red-500":Q.academicStress>4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Q.academicStress/10*100}%`}})}),s.jsxs("span",{className:"text-xs text-gray-500",children:[Q.academicStress,"/10"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Social Engagement"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${Q.socialEngagement/10*100}%`}})}),s.jsxs("span",{className:"text-xs text-gray-500",children:[Q.socialEngagement,"/10"]})]})]}),Q.behaviorChanges&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[s.jsx(Ir,{size:16}),s.jsx("span",{children:"Behavior changes noted"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[s.jsxs("span",{children:["Last assessment: ",Q.lastAssessment]}),s.jsxs("span",{children:["Sessions: ",Q.counselingSessions]})]})]})]},L.id)})}),i&&l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emotional Wellbeing Assessment"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[l.name,"  Roll: ",l.roll,"  Class: ",l.grade,"-",l.section]})]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:s.jsx(Gs,{size:24})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Status"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const L=A(l.id),Q=g(L.mood),O=Q.icon;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${Q.bg} mb-2`,children:s.jsx(O,{className:`w-8 h-8 ${Q.color}`})}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Overall Mood"}),s.jsx("p",{className:`text-sm font-medium ${Q.color}`,children:L.mood.charAt(0).toUpperCase()+L.mood.slice(1)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-2",children:s.jsx(pr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Social Engagement"}),s.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[L.socialEngagement,"/10"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-2",children:s.jsx(cs,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Academic Stress"}),s.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[L.academicStress,"/10"]})]})]})})()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Assessment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood Rating"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:((S=d[l.id])==null?void 0:S.mood)||"neutral",onChange:L=>x(l.id,{mood:L.target.value}),children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"neutral",children:"Neutral"}),s.jsx("option",{value:"concerning",children:"Concerning"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Engagement (1-10)"}),s.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((w=d[l.id])==null?void 0:w.socialEngagement)||5,onChange:L=>x(l.id,{socialEngagement:parseInt(L.target.value)})}),s.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((N=d[l.id])==null?void 0:N.socialEngagement)||5,"/10"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Stress (1-10)"}),s.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((E=d[l.id])==null?void 0:E.academicStress)||5,onChange:L=>x(l.id,{academicStress:parseInt(L.target.value)})}),s.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((P=d[l.id])==null?void 0:P.academicStress)||5,"/10"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"behaviorChanges",className:"h-4 w-4 text-purple-600 border-gray-300 rounded",checked:((_=d[l.id])==null?void 0:_.behaviorChanges)||!1,onChange:L=>x(l.id,{behaviorChanges:L.target.checked})}),s.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"Behavior changes observed"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",rows:"3",placeholder:"Add any observations, concerns, or notes...",value:((B=d[l.id])==null?void 0:B.notes)||"",onChange:L=>x(l.id,{notes:L.target.value})})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support & Interventions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(du,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Counseling Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((k=d[l.id])==null?void 0:k.counselingSessions)||0})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx(pr,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Parent Meetings"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:((M=d[l.id])==null?void 0:M.parentNotifications)||0})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(ds,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Interventions"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((H=(T=d[l.id])==null?void 0:T.interventions)==null?void 0:H.length)||0})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[s.jsx(du,{size:16}),"Schedule Counseling"]}),s.jsxs("button",{className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center justify-center gap-2",children:[s.jsx(pr,{size:16}),"Notify Parents"]}),s.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[s.jsx(ds,{size:16}),"Add Intervention"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:b,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save Assessment"})]})]})]})})]})})},H0=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xb=["8:00 AM - 8:45 AM","8:45 AM - 9:30 AM","9:30 AM - 10:15 AM","10:15 AM - 10:45 AM","10:45 AM - 11:30 AM","11:30 AM - 12:15 PM"],$u={X:["Mathematics","Physics","Chemistry","Biology","English","Computer"],IX:["Mathematics","English","Science","Social Science","Hindi","Computer"],XI:["Mathematics","Physics","Chemistry","Biology","English","Computer"]},gb={Mathematics:"Dr. Rakesh Sharma",Physics:"Prof. Priya Verma",Chemistry:"Mr. Arjun Singh",Biology:"Dr. Kavita Rao",English:"Ms. Anjali Mehra","Social Science":"Mr. Suresh Patel",Science:"Dr. Kavita Rao",Hindi:"Mr. Rohan Gupta",Computer:"Ms. Nidhi Kapoor"},wVe=()=>{const t=[],e=[{cls:"X",sections:["A","B"]},{cls:"IX",sections:["A","B"]},{cls:"XI",sections:["A","B"]}];let r=1;return e.forEach(({cls:n,sections:a})=>{a.forEach((i,o)=>{H0.forEach((l,c)=>{const d=xb.map((u,h)=>{if(u.includes("10:15"))return{time:u,subject:"Break",teacher:"-"};const m=$u[n][(h+c+o)%$u[n].length];return{time:u,subject:m,teacher:gb[m]||"-"}});t.push({id:r++,class:n,section:i,day:l,schedule:d})})})}),t},jVe=wVe(),NVe=({setShowAdminHeader:t})=>{const[e,r]=F.useState(jVe),[n,a]=F.useState(""),[i,o]=F.useState(""),[l,c]=F.useState("Monday"),[d,u]=F.useState("daily"),[h,m]=F.useState(!1),[f,A]=F.useState(null),[g,x]=F.useState({class:"",section:"",day:"Monday",schedule:[]}),v=e.filter(w=>(!n||w.class===n)&&(!i||w.section===i)&&(d==="weekly"||!l||w.day===l));F.useEffect(()=>{t(!1)},[]);const j=F.useMemo(()=>{if(!n||!i)return null;const w=new Map;e.forEach(P=>{P.class===n&&P.section===i&&w.set(P.day,P)});const N=["Time",...H0],E=xb.map(P=>{const _=H0.map(B=>{const k=w.get(B),M=k==null?void 0:k.schedule.find(T=>T.time===P);return M?M.subject==="Break"?"Break":`${M.subject}  ${M.teacher}`:""});return[P,..._]});return{headers:N,rows:E}},[n,i]),b=()=>{if(!j)return;const w=[j.headers.join(",")];j.rows.forEach(_=>{const B=_.map(k=>{const M=String(k||"");return M.includes(",")||M.includes(`
`)?'"'+M.replace(/"/g,'""')+'"':M});w.push(B.join(","))});const N=new Blob([w.join(`
`)],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(N),P=document.createElement("a");P.href=E,P.download=`routine_${n}_${i}.csv`,P.click(),URL.revokeObjectURL(E)},S=()=>{if(!j)return;const w=new gr({orientation:"landscape",unit:"pt",format:"a4"}),N=36,E=N+20;w.setFontSize(14),w.text(`Class ${n} - Section ${i} | Weekly Routine`,N,N);const _=w.internal.pageSize.getWidth()-N*2,B=j.headers.length,k=_/B,M=28;let T=E;w.setFillColor(243,244,246),w.rect(N,T,_,M,"F"),w.setFontSize(10),j.headers.forEach((H,L)=>{const Q=N+L*k+6;w.text(String(H),Q,T+18)}),T+=M,w.setFontSize(9),j.rows.forEach(H=>{w.setDrawColor(229,231,235),H.forEach((L,Q)=>{const O=N+Q*k;w.rect(O,T,k,M);const V=String(L||""),ee=w.splitTextToSize(V,k-10);w.text(ee,O+6,T+18)}),T+=M,T+M>w.internal.pageSize.getHeight()-N&&(w.addPage(),T=N)}),w.save(`routine_${n}_${i}.pdf`)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:s.jsx(tr,{className:"text-indigo-600 w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Class Routines"}),s.jsx("p",{className:"text-gray-600",children:"Manage weekly schedules across classes and sections"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:b,disabled:!j,className:`px-4 py-2 border rounded-lg transition-colors ${j?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"CSV"}),s.jsx("button",{onClick:S,disabled:!j,className:`px-4 py-2 border rounded-lg transition-colors ${j?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"PDF"}),s.jsxs("button",{onClick:()=>{const w=n||"X",N=i||"A",E=l||"Monday",P=xb.map(_=>({time:_,isBreak:_.includes("10:15"),subject:_.includes("10:15")?"Break":$u[w][0],teacher:_.includes("10:15")?"-":gb[$u[w][0]]||"-"}));x({class:w,section:N,day:E,schedule:P}),A(null),m(!0)},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[s.jsx($s,{size:16}),s.jsx("span",{children:"Add Routine"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:n,onChange:w=>a(w.target.value),children:[s.jsx("option",{value:"",children:"All Classes"}),s.jsx("option",{value:"X",children:"Class X"}),s.jsx("option",{value:"IX",children:"Class IX"}),s.jsx("option",{value:"XI",children:"Class XI"})]}),s.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:i,onChange:w=>o(w.target.value),children:[s.jsx("option",{value:"",children:"All Sections"}),s.jsx("option",{value:"A",children:"Section A"}),s.jsx("option",{value:"B",children:"Section B"})]})]}),s.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[s.jsxs("button",{onClick:()=>u("weekly"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${d==="weekly"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(o4,{size:16,className:"inline mr-1"}),"Week"]}),s.jsxs("button",{onClick:()=>u("daily"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${d==="daily"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(l4,{size:16,className:"inline mr-1"}),"Daily"]})]})]}),d==="daily"&&s.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-600"}),s.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:l,onChange:w=>c(w.target.value),children:H0.map(w=>s.jsx("option",{value:w,children:w},w))})]})})]})}),d==="weekly"&&j&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Class ",n," - Section ",i," Weekly Overview"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-[800px]",children:[s.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100",children:[s.jsx("div",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center border-r border-gray-200",children:"Time"}),H0.map(w=>{var E;const N=new Date().toLocaleDateString("en-US",{weekday:"long"})===w;return s.jsxs("div",{className:`p-3 font-medium text-center border-r border-gray-200 last:border-r-0 ${N?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[s.jsx("div",{className:"text-sm",children:w.substring(0,3)}),s.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[((E=e.find(P=>P.class===n&&P.section===i&&P.day===w))==null?void 0:E.schedule.length)||0," periods"]})]},w)})]}),s.jsx("div",{className:"relative",children:xb.map((w,N)=>s.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100 min-h-20",children:[s.jsx("div",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200 flex items-center justify-center",children:s.jsxs("div",{children:[s.jsx(dr,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),s.jsx("div",{className:"text-xs",children:w})]})}),H0.map(E=>{const P=e.find(B=>B.class===n&&B.section===i&&B.day===E),_=P==null?void 0:P.schedule.find(B=>B.time===w);return s.jsx("div",{className:"relative p-2 border-r border-gray-100 last:border-r-0",children:_?s.jsxs("div",{className:`h-full p-3 rounded-lg text-white text-xs overflow-hidden ${_.subject==="Break"?"bg-gray-400":_.subject.includes("Mathematics")?"bg-blue-500":_.subject.includes("Physics")?"bg-purple-500":_.subject.includes("Chemistry")?"bg-orange-500":_.subject.includes("Biology")?"bg-green-500":_.subject.includes("English")?"bg-pink-500":_.subject.includes("Science")?"bg-green-500":_.subject.includes("Social")?"bg-yellow-500":_.subject.includes("Hindi")?"bg-red-500":_.subject.includes("Computer")?"bg-indigo-500":"bg-gray-500"}`,children:[s.jsx("div",{className:"font-medium truncate",children:_.subject}),s.jsx("div",{className:"text-xs opacity-90 truncate mt-1",children:_.teacher})]}):s.jsx("div",{className:"h-full border border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 hover:border-indigo-300 hover:bg-indigo-50 transition-colors cursor-pointer",children:s.jsx($s,{className:"w-4 h-4"})})},E)})]},w))})]})})]}),d==="weekly"&&n&&i&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Weekly Statistics"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(w=>w.class===n&&w.section===i).reduce((w,N)=>w+N.schedule.filter(E=>E.subject!=="Break").length,0)}),s.jsx("div",{className:"text-sm text-blue-800",children:"Total Periods"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.filter(w=>w.class===n&&w.section===i).flatMap(w=>w.schedule.filter(N=>N.subject!=="Break").map(N=>N.subject))).size}),s.jsx("div",{className:"text-sm text-green-800",children:"Subjects"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.filter(w=>w.class===n&&w.section===i).flatMap(w=>w.schedule.filter(N=>N.subject!=="Break").map(N=>N.teacher))).size}),s.jsx("div",{className:"text-sm text-purple-800",children:"Teachers"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.filter(w=>w.class===n&&w.section===i).length}),s.jsx("div",{className:"text-sm text-orange-800",children:"Days"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(w=>w.class===n&&w.section===i).reduce((w,N)=>w+N.schedule.filter(E=>E.subject==="Break").length,0)}),s.jsx("div",{className:"text-sm text-gray-800",children:"Breaks"})]}),s.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-pink-600",children:[Math.round(e.filter(w=>w.class===n&&w.section===i).reduce((w,N)=>w+N.schedule.filter(E=>E.subject!=="Break").length,0)/(e.filter(w=>w.class===n&&w.section===i).length*xb.length)*100)||0,"%"]}),s.jsx("div",{className:"text-sm text-pink-800",children:"Utilization"})]})]})})]}),d==="daily"&&s.jsxs("div",{children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsx("div",{className:"grid grid-cols-6 gap-2",children:H0.map(w=>{const N=new Date().toLocaleDateString("en-US",{weekday:"long"})===w,E=e.filter(P=>P.day===w&&(!n||P.class===n)&&(!i||P.section===i));return s.jsxs("button",{onClick:()=>c(w),className:`p-3 rounded-lg text-center transition-all relative ${l===w?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[N&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),s.jsx("div",{className:"text-sm font-medium",children:w.substring(0,3)}),s.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[E.length," routines"]})]},w)})})}),v.map(w=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Class ",w.class," - Section ",w.section,new Date().toLocaleDateString("en-US",{weekday:"long"})===w.day&&s.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mt-1",children:[s.jsx(tr,{size:16}),s.jsx("span",{children:w.day})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",onClick:()=>{const N=w.schedule.map(E=>({time:E.time,isBreak:E.subject==="Break",subject:E.subject,teacher:E.teacher}));x({class:w.class,section:w.section,day:w.day,schedule:N}),A(w),m(!0)},children:s.jsx(_w,{size:16})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ni,{size:16})})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:w.schedule.map((N,E)=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0 ${N.subject==="Break"?"bg-gray-400":N.subject.includes("Mathematics")?"bg-blue-500":N.subject.includes("Physics")?"bg-purple-500":N.subject.includes("Chemistry")?"bg-orange-500":N.subject.includes("Biology")?"bg-green-500":N.subject.includes("English")?"bg-pink-500":N.subject.includes("Science")?"bg-green-500":N.subject.includes("Social")?"bg-yellow-500":N.subject.includes("Hindi")?"bg-red-500":N.subject.includes("Computer")?"bg-indigo-500":"bg-gray-500"}`,children:N.subject==="Break"?s.jsx(dr,{size:16}):s.jsx(tr,{size:16})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:N.subject}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full flex-shrink-0 ml-2 ${N.subject==="Break"?"bg-gray-100 text-gray-800":N.subject.includes("Mathematics")?"bg-blue-100 text-blue-800":N.subject.includes("Physics")?"bg-purple-100 text-purple-800":N.subject.includes("Chemistry")?"bg-orange-100 text-orange-800":N.subject.includes("Biology")?"bg-green-100 text-green-800":N.subject.includes("English")?"bg-pink-100 text-pink-800":"bg-indigo-100 text-indigo-800"}`,children:N.subject==="Break"?"Break":"Lecture"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:N.time})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:N.teacher})]})]})]})]})},E))})})]},w.id))]}),(d==="daily"&&v.length===0||d==="weekly"&&(!n||!i))&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"text-purple-500",size:24})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d==="weekly"?"Select Class and Section":"No routines found"}),s.jsx("p",{className:"text-gray-500",children:d==="weekly"?"Please select both class and section to view the weekly schedule":"Try adjusting your filters or create a new routine"})]})}),h&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>m(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-4xl rounded-xl shadow-lg border border-purple-400 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f?"Edit Routine":"Add Routine"}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>m(!1),children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),s.jsx("select",{value:g.class,onChange:w=>{const N=w.target.value,E=g.schedule.map(P=>P.isBreak?P:{...P,subject:$u[N][0],teacher:gb[$u[N][0]]||"-"});x(P=>({...P,class:N,schedule:E}))},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Object.keys($u).map(w=>s.jsxs("option",{value:w,children:["Class ",w]},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),s.jsx("select",{value:g.section,onChange:w=>x(N=>({...N,section:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:["A","B","C"].map(w=>s.jsxs("option",{value:w,children:["Section ",w]},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),s.jsx("select",{value:g.day,onChange:w=>x(N=>({...N,day:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:H0.map(w=>s.jsx("option",{value:w,children:w},w))})]})]}),s.jsx("div",{className:"overflow-x-auto mb-6",children:s.jsxs("table",{className:"min-w-full border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Time"}),s.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Break"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Subject"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Teacher"})]})}),s.jsx("tbody",{children:g.schedule.map((w,N)=>s.jsxs("tr",{className:"even:bg-white odd:bg-gray-50 border-b border-gray-100",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:w.time}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("input",{type:"checkbox",checked:w.isBreak,onChange:E=>{const P=E.target.checked,_=[...g.schedule];_[N]=P?{...w,isBreak:!0,subject:"Break",teacher:"-"}:{...w,isBreak:!1,subject:$u[g.class][0],teacher:gb[$u[g.class][0]]||"-"},x(B=>({...B,schedule:_}))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),s.jsx("td",{className:"px-4 py-3",children:w.isBreak?s.jsx("span",{className:"text-gray-500 italic",children:"Break"}):s.jsx("select",{value:w.subject,onChange:E=>{const P=E.target.value,_=[...g.schedule];_[N]={...w,subject:P,teacher:gb[P]||"-"},x(B=>({...B,schedule:_}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm",children:$u[g.class].map(E=>s.jsx("option",{value:E,children:E},E))})}),s.jsx("td",{className:"px-4 py-3",children:w.isBreak?s.jsx("span",{className:"text-gray-500 italic",children:"-"}):s.jsx("input",{value:w.teacher,onChange:E=>{const P=[...g.schedule];P[N]={...w,teacher:E.target.value},x(_=>({..._,schedule:P}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm"})})]},w.time))})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>m(!1),children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors",onClick:()=>{const w={id:(f==null?void 0:f.id)??e.reduce((N,E)=>Math.max(N,E.id),0)+1,class:g.class,section:g.section,day:g.day,schedule:g.schedule.map(N=>N.isBreak?{time:N.time,subject:"Break",teacher:"-"}:{time:N.time,subject:N.subject,teacher:N.teacher})};r(N=>{const E=N.findIndex(_=>_.id===(f==null?void 0:f.id));if(E>=0){const _=[...N];return _[E]=w,_}const P=N.findIndex(_=>_.class===w.class&&_.section===w.section&&_.day===w.day);if(P>=0){const _=[...N];return _[P]={...w,id:N[P].id},_}return[...N,w]}),m(!1)},children:"Save Routine"})]})]})]})]})},SVe=({onSubmit:t,onCancel:e,initialData:r=null})=>{const[n,a]=F.useState({title:(r==null?void 0:r.title)||"",subject:(r==null?void 0:r.subject)||"",grade:(r==null?void 0:r.grade)||"",date:(r==null?void 0:r.date)||"",duration:(r==null?void 0:r.duration)||"",objectives:(r==null?void 0:r.objectives)||[""],materials:(r==null?void 0:r.materials)||[""],notes:(r==null?void 0:r.notes)||""}),i=f=>{const{name:A,value:g}=f.target;a(x=>({...x,[A]:g}))},o=(f,A)=>{const g=[...n.objectives];g[f]=A,a(x=>({...x,objectives:g}))},l=(f,A)=>{const g=[...n.materials];g[f]=A,a(x=>({...x,materials:g}))},c=()=>{a(f=>({...f,objectives:[...f.objectives,""]}))},d=()=>{a(f=>({...f,materials:[...f.materials,""]}))},u=f=>{a(A=>({...A,objectives:A.objectives.filter((g,x)=>x!==f)}))},h=f=>{a(A=>({...A,materials:A.materials.filter((g,x)=>x!==f)}))},m=f=>{f.preventDefault(),t(n)};return s.jsxs("form",{onSubmit:m,className:"bg-white rounded-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Edit Lesson Plan":"Create New Lesson Plan"}),s.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Gs,{size:20,className:"text-gray-400"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",name:"title",value:n.title,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsx("input",{type:"text",name:"subject",value:n.subject,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade"}),s.jsxs("select",{name:"grade",value:n.grade,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Grade"}),Array.from({length:12},(f,A)=>s.jsxs("option",{value:`Grade ${A+1}`,children:["Grade ",A+1]},A+1))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),s.jsxs("select",{name:"duration",value:n.duration,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Duration"}),s.jsx("option",{value:"30 minutes",children:"30 minutes"}),s.jsx("option",{value:"45 minutes",children:"45 minutes"}),s.jsx("option",{value:"60 minutes",children:"60 minutes"}),s.jsx("option",{value:"90 minutes",children:"90 minutes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",name:"date",value:n.date,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Objectives"}),s.jsxs("div",{className:"space-y-2",children:[n.objectives.map((f,A)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:f,onChange:g=>o(A,g.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter learning objective",required:!0}),n.objectives.length>1&&s.jsx("button",{type:"button",onClick:()=>u(A),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:s.jsx(RR,{size:20})})]},A)),s.jsxs("button",{type:"button",onClick:c,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[s.jsx($s,{size:16}),"Add Objective"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials Needed"}),s.jsxs("div",{className:"space-y-2",children:[n.materials.map((f,A)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:f,onChange:g=>l(A,g.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter required material",required:!0}),n.materials.length>1&&s.jsx("button",{type:"button",onClick:()=>h(A),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:s.jsx(RR,{size:20})})]},A)),s.jsxs("button",{type:"button",onClick:d,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[s.jsx($s,{size:16}),"Add Material"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),s.jsx("textarea",{name:"notes",value:n.notes,onChange:i,rows:4,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Add any additional notes or instructions..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg",children:r?"Update Plan":"Create Plan"})]})]})},_Ve=({setShowAdminHeader:t})=>{const[e,r]=F.useState("grid"),[n,a]=F.useState("all"),[i,o]=F.useState(""),[l,c]=F.useState(!1),[d,u]=F.useState(null),[h,m]=F.useState(!1);F.useEffect(()=>{t==null||t(!1)},[t]);const f=[{id:1,title:"Introduction to Quadratic Equations",subject:"Mathematics",grade:"Grade 10",teacher:"Dr. Sarah Johnson",duration:"45 minutes",date:"2025-06-18",status:"Published",objectives:["Understand the definition of quadratic equations","Learn to identify quadratic equations","Solve simple quadratic equations"],materials:["Whiteboard","Graphing calculator","Worksheets"],description:"This lesson introduces students to quadratic equations, covering basic concepts and solving techniques.",tags:["algebra","equations","mathematics"],rating:4.8,views:245,lastModified:"2025-06-15"},{id:2,title:"Newton's Laws of Motion",subject:"Physics",grade:"Grade 11",teacher:"Prof. Michael Chen",duration:"60 minutes",date:"2025-06-19",status:"Draft",objectives:["Explain Newton's three laws of motion","Apply laws to real-world scenarios","Conduct practical experiments"],materials:["Lab equipment","Demonstration props","Video clips"],description:"Comprehensive lesson on Newton's laws with hands-on experiments and real-world applications.",tags:["physics","motion","laws","experiments"],rating:4.9,views:189,lastModified:"2025-06-16"},{id:3,title:"Shakespeare's Romeo and Juliet - Act 1",subject:"English Literature",grade:"Grade 12",teacher:"Ms. Emily Davis",duration:"50 minutes",date:"2025-06-20",status:"Published",objectives:["Analyze character development in Act 1","Understand themes of love and conflict","Examine Shakespeare's language techniques"],materials:["Play text","Audio recordings","Character worksheets"],description:"Deep dive into Act 1 of Romeo and Juliet, focusing on character analysis and thematic elements.",tags:["literature","shakespeare","drama","analysis"],rating:4.7,views:312,lastModified:"2025-06-14"},{id:4,title:"Organic Chemistry: Hydrocarbons",subject:"Chemistry",grade:"Grade 12",teacher:"Mr. David Wilson",duration:"70 minutes",date:"2025-06-21",status:"Published",objectives:["Classify different types of hydrocarbons","Understand molecular structures","Practice naming conventions"],materials:["Molecular models","Periodic table","Structure diagrams"],description:"Comprehensive study of hydrocarbon compounds including alkanes, alkenes, and alkynes.",tags:["chemistry","organic","hydrocarbons","molecules"],rating:4.6,views:156,lastModified:"2025-06-13"},{id:5,title:"Cell Division: Mitosis and Meiosis",subject:"Biology",grade:"Grade 11",teacher:"Dr. Lisa Brown",duration:"55 minutes",date:"2025-06-22",status:"Published",objectives:["Compare mitosis and meiosis processes","Identify phases of cell division","Understand biological significance"],materials:["Microscopes","Cell slides","Diagrams","Models"],description:"Interactive lesson on cell division processes with microscope observations and detailed comparisons.",tags:["biology","cells","division","mitosis","meiosis"],rating:4.8,views:203,lastModified:"2025-06-12"},{id:6,title:"World War II: Causes and Consequences",subject:"History",grade:"Grade 10",teacher:"Ms. Jennifer Lee",duration:"45 minutes",date:"2025-06-23",status:"Draft",objectives:["Analyze causes of World War II","Examine key events and turning points","Assess global consequences"],materials:["Historical maps","Primary sources","Timeline charts"],description:"Comprehensive analysis of WWII covering political, social, and economic factors.",tags:["history","world war","global","analysis"],rating:4.5,views:178,lastModified:"2025-06-17"}],A=["all","Mathematics","Physics","English Literature","Chemistry","Biology","History"],g=_=>({Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800","English Literature":"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800",History:"bg-yellow-100 border-yellow-300 text-yellow-800"})[_]||"bg-gray-100 border-gray-300 text-gray-800",x=_=>_==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",v=f.filter(_=>{const B=n==="all"||_.subject===n,k=_.title.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase());return B&&k}),j=_=>{u(_),c(!0)},b=_=>{console.log("Deleting plan:",_)},S=_=>{console.log(d?"Updating lesson plan:":"Creating new lesson plan:",_),c(!1),u(null)},w=()=>{c(!1),u(null)},N=async()=>{const _=await LN(()=>Promise.resolve().then(()=>gPe),void 0);return _.jsPDF||_.default||_},E=async()=>{m(!0);try{const _=await N(),B=new _,k=B.internal.pageSize.width,M=new Date().toLocaleDateString();let T=20;B.setFontSize(20),B.setFont(void 0,"bold"),B.text("Lesson Plans Report",k/2,T,{align:"center"}),T+=10,B.setFontSize(12),B.setFont(void 0,"normal"),B.text(`Generated on: ${M}`,k/2,T,{align:"center"}),n!=="all"&&(T+=6,B.text(`Subject: ${n}`,k/2,T,{align:"center"})),T+=15,B.setFontSize(16),B.setFont(void 0,"bold"),B.text("Summary",20,T),T+=10,B.setFontSize(10),B.setFont(void 0,"normal"),B.text(`Total Lesson Plans: ${f.length}`,25,T),T+=6,B.text(`Published: ${f.filter(Q=>Q.status==="Published").length}`,25,T),T+=6,B.text(`Draft: ${f.filter(Q=>Q.status==="Draft").length}`,25,T),T+=6,B.text(`Under Review: ${f.filter(Q=>Q.status==="Under Review").length}`,25,T),T+=15,B.setFontSize(16),B.setFont(void 0,"bold"),B.text("Lesson Plans Details",20,T),T+=12,v.forEach((Q,O)=>{T>250&&(B.addPage(),T=20),B.setFontSize(12),B.setFont(void 0,"bold"),B.text(`${O+1}. ${Q.title}`,20,T),T+=8,B.setFontSize(9),B.setFont(void 0,"normal"),B.text(`Subject: ${Q.subject}`,25,T),B.text(`Grade: ${Q.grade}`,100,T),B.text(`Status: ${Q.status}`,150,T),T+=6,B.text(`Teacher: ${Q.teacher}`,25,T),B.text(`Duration: ${Q.duration}`,100,T),B.text(`Date: ${Q.date}`,150,T),T+=6,B.text(`Description: ${Q.description}`,25,T),T+=6,Q.objectives&&Q.objectives.length>0&&(B.text("Learning Objectives:",25,T),T+=4,Q.objectives.forEach(V=>{B.text(`   ${V}`,30,T),T+=4})),Q.activities&&Q.activities.length>0&&(T+=2,B.text("Activities:",25,T),T+=4,Q.activities.forEach(V=>{B.text(`   ${V.title} (${V.duration})`,30,T),T+=4})),Q.assessment&&(T+=2,B.text(`Assessment: ${Q.assessment}`,25,T),T+=6),Q.resources&&Q.resources.length>0&&(B.text("Resources:",25,T),T+=4,Q.resources.forEach(V=>{B.text(`   ${V}`,30,T),T+=4})),T+=8}),B.setFontSize(8),B.setFont(void 0,"italic"),B.text("Generated by School Management System - Lesson Plan Module",k/2,B.internal.pageSize.height-10,{align:"center"});const L=n==="all"?"all-subjects":n.replace(/ /g,"-");B.save(`lesson-plans-${L}-${M.replace(/\//g,"-")}.pdf`)}catch(_){console.error("Failed to export lesson plans",_),alert("Failed to export lesson plans. Please try again.")}finally{m(!1)}},P=()=>l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx(SVe,{onSubmit:S,onCancel:w,initialData:d})})});return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-500 rounded-xl p-6 mb-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Lesson Plans"}),s.jsx("p",{className:"text-red-100",children:"Create, manage, and organize your teaching materials"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Qr,{className:"w-12 h-12 text-red-200"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search lesson plans...",value:i,onChange:_=>o(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xo,{className:"w-5 h-5 text-gray-500"}),s.jsx("select",{value:n,onChange:_=>a(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:A.map(_=>s.jsx("option",{value:_,children:_==="all"?"All Subjects":_},_))})]}),s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1 rounded-md transition-all ${e==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"Grid"}),s.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1 rounded-md transition-all ${e==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"List"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Ew,{className:"w-4 h-4"}),s.jsx("span",{children:"Import"})]}),s.jsxs("button",{onClick:E,disabled:h,className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-60",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:h?"Exporting...":"Export"})]}),s.jsxs("button",{onClick:()=>{u(null),c(!0)},className:"flex items-center space-x-2 bg-blue-600 text-black px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Lesson Plan"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Lesson Plans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(kr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(_=>_.status==="Published").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Lr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Draft"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.filter(_=>_.status==="Draft").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(ki,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Rating"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4.7"})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e==="grid"?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(_=>s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${g(_.subject)} mb-2`,children:_.subject}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:_.description})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(_.status)}`,children:_.status})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:_.teacher})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:_.grade})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:_.duration})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:new Date(_.date).toLocaleDateString()})]})]}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ds,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsx("span",{children:_.rating})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Is,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:_.views})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(_),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all",children:s.jsx(vm,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all",children:s.jsx(Cw,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>b(_.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]},_.id))})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Teacher"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Rating"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600",children:_.duration})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${g(_.subject)}`,children:_.subject})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.teacher}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.grade}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(_.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(_.status)}`,children:_.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ds,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsx("span",{className:"text-sm",children:_.rating})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(_),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(_.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:s.jsx(Ni,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),s.jsx(P,{})]})},CVe=({setShowAdminHeader:t})=>{var _;t(!0);const[e,r]=F.useState("week"),[n,a]=F.useState("all"),[i,o]=F.useState("Monday"),[l,c]=F.useState(new Date),[d,u]=F.useState(!1),[h,m]=F.useState(null),f=[{id:1,name:"Dr. Rakesh Sharma",subject:"Mathematics"},{id:2,name:"Prof. Priya Verma",subject:"Physics"},{id:3,name:"Ms. Anjali Mehra",subject:"English Literature"},{id:4,name:"Mr. Arjun Singh",subject:"Chemistry"},{id:5,name:"Dr. Kavita Rao",subject:"Biology"}],A=["08:00 - 09:00","09:00 - 10:00","10:30 - 11:30","11:30 - 12:30","13:30 - 14:30","14:30 - 15:30","15:30 - 16:30"],g=["Monday","Tuesday","Wednesday","Thursday","Friday"],x={Monday:{"08:00 - 09:00":{teacher:"Dr. Rakesh Sharma",subject:"Advanced Mathematics",class:"Class 12A",room:"Room 101"},"09:00 - 10:00":{teacher:"Prof. Priya Verma",subject:"Physics Lab",class:"Class 11B",room:"Lab 201"},"10:30 - 11:30":{teacher:"Ms. Anjali Mehra",subject:"English Literature",class:"Class 10A",room:"Room 205"},"11:30 - 12:30":{teacher:"Dr. Rakesh Sharma",subject:"Calculus",class:"Class 12B",room:"Room 101"},"13:30 - 14:30":{teacher:"Mr. Arjun Singh",subject:"Organic Chemistry",class:"Class 11A",room:"Lab 301"},"14:30 - 15:30":{teacher:"Dr. Kavita Rao",subject:"Biology",class:"Class 10B",room:"Room 105"}},Tuesday:{"08:00 - 09:00":{teacher:"Prof. Priya Verma",subject:"Quantum Physics",class:"Class 12A",room:"Room 202"},"09:00 - 10:00":{teacher:"Ms. Anjali Mehra",subject:"Creative Writing",class:"Class 11A",room:"Room 205"},"10:30 - 11:30":{teacher:"Dr. Kavita Rao",subject:"Molecular Biology",class:"Class 12B",room:"Lab 105"},"11:30 - 12:30":{teacher:"Mr. Arjun Singh",subject:"Chemical Analysis",class:"Class 11B",room:"Lab 301"},"13:30 - 14:30":{teacher:"Dr. Rakesh Sharma",subject:"Statistics",class:"Class 10A",room:"Room 101"},"15:30 - 16:30":{teacher:"Prof. Priya Verma",subject:"Physics Tutorial",class:"Class 10B",room:"Room 202"}},Wednesday:{"08:00 - 09:00":{teacher:"Ms. Anjali Mehra",subject:"Shakespeare Studies",class:"Class 12A",room:"Room 205"},"09:00 - 10:00":{teacher:"Dr. Kavita Rao",subject:"Genetics Lab",class:"Class 11A",room:"Lab 105"},"10:30 - 11:30":{teacher:"Mr. Arjun Singh",subject:"Inorganic Chemistry",class:"Class 12B",room:"Room 301"},"11:30 - 12:30":{teacher:"Dr. Rakesh Sharma",subject:"Trigonometry",class:"Class 11B",room:"Room 101"},"13:30 - 14:30":{teacher:"Prof. Priya Verma",subject:"Mechanics",class:"Class 10A",room:"Room 202"},"14:30 - 15:30":{teacher:"Ms. Anjali Mehra",subject:"Poetry Analysis",class:"Class 10B",room:"Room 205"}},Thursday:{"08:00 - 09:00":{teacher:"Dr. Kavita Rao",subject:"Ecology",class:"Class 12A",room:"Room 105"},"09:00 - 10:00":{teacher:"Mr. Arjun Singh",subject:"Analytical Chemistry",class:"Class 12B",room:"Lab 301"},"10:30 - 11:30":{teacher:"Dr. Rakesh Sharma",subject:"Geometry",class:"Class 10A",room:"Room 101"},"11:30 - 12:30":{teacher:"Prof. Priya Verma",subject:"Thermodynamics",class:"Class 11A",room:"Room 202"},"13:30 - 14:30":{teacher:"Ms. Anjali Mehra",subject:"Grammar & Composition",class:"Class 11B",room:"Room 205"},"15:30 - 16:30":{teacher:"Dr. Kavita Rao",subject:"Biology Lab",class:"Class 10B",room:"Lab 105"}},Friday:{"08:00 - 09:00":{teacher:"Mr. Arjun Singh",subject:"Physical Chemistry",class:"Class 12A",room:"Lab 301"},"09:00 - 10:00":{teacher:"Dr. Rakesh Sharma",subject:"Algebra Review",class:"Class 11A",room:"Room 101"},"10:30 - 11:30":{teacher:"Prof. Priya Verma",subject:"Wave Physics",class:"Class 12B",room:"Room 202"},"11:30 - 12:30":{teacher:"Ms. Anjali Mehra",subject:"Literature Discussion",class:"Class 11B",room:"Room 205"},"13:30 - 14:30":{teacher:"Dr. Kavita Rao",subject:"Human Anatomy",class:"Class 10A",room:"Room 105"},"14:30 - 15:30":{teacher:"Mr. Arjun Singh",subject:"Chemistry Review",class:"Class 10B",room:"Room 301"}}},v=B=>{const k={Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800",English:"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800"};for(const[M,T]of Object.entries(k))if(B.toLowerCase().includes(M.toLowerCase()))return T;return"bg-gray-100 border-gray-300 text-gray-800"},j=B=>{m(B),u(!0)},b=()=>{u(!1),m(null)},S=()=>{const B=new Date(l),k=B.getDay(),M=B.getDate()-k+(k===0?-6:1);return B.setDate(M),g.map((T,H)=>{const L=new Date(B);return L.setDate(B.getDate()+H),L})},w=B=>{const k=new Date(l);k.setDate(l.getDate()+(B==="next"?7:-7)),c(k)},N=()=>{var M;if(n==="all")return x;const B=(M=f.find(T=>T.id===Number(n)))==null?void 0:M.name;if(!B)return x;const k={};return Object.keys(x).forEach(T=>{k[T]={},Object.entries(x[T]).forEach(([H,L])=>{L.teacher===B&&(k[T][H]=L)})}),k},E=B=>{const k={};return g.forEach(M=>{k[M]=Object.entries(x[M]||{}).filter(([T,H])=>H.teacher===B).map(([T,H])=>({slot:T,...H}))}),k},P=()=>{var Q;const B=new gr("l","mm","a4"),k=B.internal.pageSize.width,M=new Date().toLocaleDateString();let T=20;if(B.setFontSize(20),B.setFont(void 0,"bold"),B.text("Teacher Timetable",k/2,T,{align:"center"}),T+=10,B.setFontSize(12),B.setFont(void 0,"normal"),n!=="all"){const O=f.find(V=>V.id==n);B.text(`Teacher: ${O.name} - ${O.subject}`,k/2,T,{align:"center"})}else B.text("All Teachers Schedule",k/2,T,{align:"center"});if(T+=8,B.text(`Generated on: ${M}`,k/2,T,{align:"center"}),T+=15,e==="week"){B.setFontSize(16),B.setFont(void 0,"bold"),B.text("Weekly Timetable",20,T),T+=12,B.setFontSize(8),B.setFont(void 0,"bold");let O=20;B.text("Time",O,T),O+=45,g.forEach(V=>{B.text(V,O,T),O+=45}),B.line(15,T+2,k-15,T+2),T+=8,B.setFont(void 0,"normal"),A.forEach(V=>{T>180&&(B.addPage(),T=20),O=20,B.text(V,O,T),O+=45,g.forEach(ee=>{var re,D;const Y=(re=x[ee])==null?void 0:re[V];if(Y&&(n==="all"||Y.teacher===((D=f.find(G=>G.id==n))==null?void 0:D.name))){const G=`${Y.subject}
${Y.class}
${Y.room}
${Y.teacher}`;B.text(G.split(`
`)[0],O,T-2),B.text(G.split(`
`)[1],O,T+2),B.text(G.split(`
`)[2],O,T+6)}O+=45}),T+=12})}T+=10,T>160&&(B.addPage(),T=20),B.setFontSize(16),B.setFont(void 0,"bold"),B.text("Teacher Schedule Summary",20,T),T+=12,(n==="all"?f:[f.find(O=>O.id==n)]).forEach(O=>{T>180&&(B.addPage(),T=20),B.setFontSize(12),B.setFont(void 0,"bold"),B.text(`${O.name} (${O.subject})`,20,T),T+=8,B.setFontSize(8),B.setFont(void 0,"normal");const V=E(O.name);Object.entries(V).forEach(([ee,Y])=>{Y.length>0&&(B.setFont(void 0,"bold"),B.text(`${ee}:`,25,T),B.setFont(void 0,"normal"),T+=5,Y.forEach(re=>{B.text(`  ${re.slot}: ${re.subject} - ${re.class} (${re.room})`,25,T),T+=4}),T+=2)}),T+=5}),B.setFontSize(8),B.setFont(void 0,"italic"),B.text("Generated by School Management System - Teacher Timetable Module",k/2,B.internal.pageSize.height-10,{align:"center"});const L=n==="all"?"all-teachers":(Q=f.find(O=>O.id==n))==null?void 0:Q.name.replace(/ /g,"-");B.save(`teacher-timetable-${L}-${M.replace(/\//g,"-")}.pdf`)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:s.jsx(tr,{className:"text-indigo-600 w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teacher Timetable"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view teaching schedules"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{className:"flex items-center space-x-2 bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600 transition-colors",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Schedule"})]}),s.jsxs("button",{onClick:P,className:"flex items-center space-x-2 border border-purple-400 text-black  px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xo,{className:"w-5 h-5 text-gray-600"}),s.jsxs("select",{value:n,onChange:B=>a(B.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Teachers"}),f.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[s.jsxs("button",{onClick:()=>r("week"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="week"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(o4,{size:16,className:"inline mr-1"}),"Week"]}),s.jsxs("button",{onClick:()=>r("day"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="day"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(l4,{size:16,className:"inline mr-1"}),"Day"]})]})]}),e==="week"&&s.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>w("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(wd,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Week of"}),s.jsxs("div",{className:"font-semibold text-gray-900",children:[S()[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," -",S()[4].toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsx("button",{onClick:()=>w("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(aa,{className:"w-4 h-4"})})]})}),e==="day"&&s.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-600"}),s.jsx("select",{value:i,onChange:B=>o(B.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:g.map(B=>s.jsx("option",{value:B,children:B},B))})]})})]})}),e==="week"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[n==="all"?"All Teachers":((_=f.find(B=>B.id===Number(n)))==null?void 0:_.name)+"'s"," Weekly Schedule"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center",children:"Time"}),g.map((B,k)=>{const M=S()[k],T=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===B.toLowerCase();return s.jsxs("th",{className:`p-3 font-medium text-center ${T?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[s.jsx("div",{className:"text-sm",children:B.substring(0,3)}),s.jsx("div",{className:"text-xs opacity-75 mt-1",children:M.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},B)})]})}),s.jsx("tbody",{className:"divide-y divide-purple-100",children:A.map(B=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors min-h-16",children:[s.jsx("td",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200",children:B}),g.map(k=>{var H;const T=(H=N()[k])==null?void 0:H[B];return T?s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:`p-3 rounded-lg border-l-4 ${v(T.subject)} group hover:shadow-md transition-all cursor-pointer`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-sm mb-2 line-clamp-1",children:T.subject}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx(As,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"text-gray-600 font-medium",children:T.teacher})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx(pr,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:T.class})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx(ml,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:T.room})]})]})]}),s.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[s.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]})})},`${k}-${B}`):s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"p-3 border border-dashed border-gray-200 rounded-lg text-center text-gray-400 hover:border-indigo-300 hover:text-indigo-500 transition-colors cursor-pointer",children:[s.jsx($s,{className:"w-4 h-4 mx-auto mb-1"}),s.jsx("span",{className:"text-xs",children:"Add Class"})]})},`${k}-${B}`)})]},B))})]})})]}),e==="day"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:s.jsx("div",{className:"grid grid-cols-5 gap-2",children:g.map(B=>{const k=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===B.toLowerCase();return s.jsxs("button",{onClick:()=>o(B),className:`p-3 rounded-lg text-center transition-all relative ${i===B?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[k&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),s.jsx("div",{className:"text-sm font-medium",children:B.substring(0,3)}),s.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[Object.values(N()[B]||{}).length," items"]})]},B)})})}),e==="day"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[i," Schedule",new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===i.toLowerCase()&&s.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Object.values(N()[i]||{}).length," items"]})]})}),s.jsx("div",{className:"p-6",children:Object.values(N()[i]||{}).length>0?s.jsx("div",{className:"space-y-4",children:A.map(B=>{var T;const M=(T=N()[i])==null?void 0:T[B];return M?s.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all hover:border-indigo-300",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${v(M.subject).includes("blue")?"bg-blue-500":v(M.subject).includes("green")?"bg-green-500":v(M.subject).includes("orange")?"bg-orange-500":v(M.subject).includes("purple")?"bg-purple-500":v(M.subject).includes("pink")?"bg-pink-500":"bg-indigo-500"} flex items-center justify-center text-white flex-shrink-0`,children:s.jsx(Qr,{size:16})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:M.subject}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${v(M.subject)} flex-shrink-0 ml-2`,children:"Lecture"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:B})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ml,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:M.room})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:M.teacher})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(pr,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:M.class})]})})]})]})},B):null}).filter(Boolean)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-400 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"text-white",size:24})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedule Today"}),s.jsxs("p",{className:"text-gray-500",children:["No classes scheduled for ",i]})]})})]}),n==="all"&&e==="week"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Teacher Statistics"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.length}),s.jsx("div",{className:"text-sm text-blue-800",children:"Total Teachers"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(x).flatMap(B=>Object.values(B)).length}),s.jsx("div",{className:"text-sm text-green-800",children:"Total Classes"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(Object.values(x).flatMap(B=>Object.values(B)).map(B=>B.class)).size}),s.jsx("div",{className:"text-sm text-purple-800",children:"Unique Classes"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Set(Object.values(x).flatMap(B=>Object.values(B)).map(B=>B.room)).size}),s.jsx("div",{className:"text-sm text-orange-800",children:"Rooms Used"})]}),s.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-pink-600",children:new Set(Object.values(x).flatMap(B=>Object.values(B)).map(B=>B.subject)).size}),s.jsx("div",{className:"text-sm text-pink-800",children:"Subjects"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(B=>{const k=Object.values(x).flatMap(M=>Object.values(M).filter(T=>T.teacher===B.name));return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:B.name}),s.jsx("p",{className:"text-sm text-gray-600",children:B.subject})]}),s.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:s.jsx(As,{className:"w-5 h-5 text-indigo-600"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Weekly Classes"}),s.jsx("span",{className:"font-medium",children:k.length})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Unique Classes"}),s.jsx("span",{className:"font-medium",children:new Set(k.map(M=>M.class)).size})]})]}),s.jsx("button",{className:"w-full px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600 transition-colors",onClick:()=>j(B),children:"View Schedule"})]},B.id)})})]})]}),d&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden shadow-lg border border-purple-400",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h.name}),s.jsxs("p",{className:"text-gray-600",children:[h.subject," - Weekly Schedule"]})]}),s.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Gs,{className:"w-6 h-6"})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:s.jsx("div",{className:"space-y-6",children:g.map(B=>{const k=E(h.name)[B];return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-indigo-500"}),B]}),s.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[k.length," class",k.length!==1?"es":""]})]}),k.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(dr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No classes scheduled"})]}):s.jsx("div",{className:"space-y-3",children:k.map((M,T)=>s.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${v(M.subject)} flex items-center justify-between hover:shadow-sm transition-shadow`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:M.subject}),s.jsx("span",{className:"text-xs bg-white bg-opacity-50 px-2 py-1 rounded",children:M.slot})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Class:"}),s.jsx("span",{className:"font-medium",children:M.class})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ml,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Room:"}),s.jsx("span",{className:"font-medium",children:M.room})]})]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]},T))})]},B)})})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Total weekly classes: ",Object.values(E(h.name)).flat().length]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-black hover:bg-gray-100 transition-colors",children:"Export Schedule"}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Close"})]})]})})]})})]})},EVe=({setShowAdminHeader:t})=>{var Pe,le,lt,ne,J;F.useEffect(()=>{t(!1)},[]);const[e,r]=F.useState([]),[n,a]=F.useState({}),[i,o]=F.useState({}),[l,c]=F.useState(""),[d,u]=F.useState(""),h=["Hall A","Hall B","Hall C","Lab 1","Lab 2"],m=["Prof. Priya Verma","Dr. Arjun Sen","Ms. Kavita Rao","Mr. Amit Shah","Mrs. N. Iyer"],[f,A]=F.useState(!1),[g,x]=F.useState(null),[v,j]=F.useState(""),[b,S]=F.useState("all"),[w,N]=F.useState({title:"",subject:"",date:"",time:"",endDate:"",endTime:"",duration:"",marks:"",venue:"",instructor:"",noOfStudents:"",status:"scheduled"});F.useEffect(()=>{fetch("http://localhost:5000/api/exam/fetch",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(ie=>{if(!ie.ok)throw new Error("Network response was not ok");return ie.json()}).then(ie=>{let Ce=Array.isArray(ie)?ie:[];if(((Ce==null?void 0:Ce.length)||0)<5){const Oe=[{id:"sample-1",title:"Mid Term",subject:"Mathematics",date:"2025-09-12",time:"10:00",duration:120,marks:100,venue:"Hall A",instructor:"Dr. Arjun Sen",noOfStudents:60,status:"scheduled"},{id:"sample-2",title:"Unit Test",subject:"Physics",date:"2025-09-15",time:"13:00",duration:60,marks:50,venue:"Hall B",instructor:"Prof. Priya Verma",noOfStudents:45,status:"scheduled"},{id:"sample-3",title:"Practical",subject:"Chemistry",date:"2025-09-18",time:"09:00",duration:90,marks:40,venue:"Lab 1",instructor:"Ms. Kavita Rao",noOfStudents:30,status:"ongoing"},{id:"sample-4",title:"Final",subject:"English",date:"2025-10-01",time:"11:00",duration:120,marks:100,venue:"Hall C",instructor:"Mr. Amit Shah",noOfStudents:80,status:"scheduled"},{id:"sample-5",title:"Oral",subject:"Biology",date:"2025-09-20",time:"12:30",duration:45,marks:25,venue:"Hall A",instructor:"Mrs. N. Iyer",noOfStudents:35,status:"completed"}];Ce=[...Ce,...Oe]}r(Ce)}).catch(ie=>{console.error("Error fetching examinations:",ie)})},[]);const[E,P]=F.useState(e);F.useEffect(()=>{P(e)},[e]),F.useEffect(()=>{P(e.filter(ie=>{const Ce=ie.title.toLowerCase().includes(v.toLowerCase())||ie.subject.toLowerCase().includes(v.toLowerCase())||ie.instructor.toLowerCase().includes(v.toLowerCase()),Oe=b==="all"||ie.status===b;return Ce&&Oe}))},[v,b]);const _=()=>{N({title:"",subject:"",date:"",time:"",endDate:"",endTime:"",duration:"",marks:"",venue:"",instructor:"",noOfStudents:"",status:"scheduled"})},B=async ie=>{ie.preventDefault();try{const Ce=await fetch("http://localhost:5000/api/exam/add",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(w)});if(!Ce.ok)throw new Error("Network response was not ok");const Oe=await Ce.json();console.log(Oe),A(!1),x(null),_()}catch(Ce){console.log("Error submitting form:",Ce)}},k=ie=>{x(ie),N({title:ie.title||"",subject:ie.subject||"",date:ie.date||"",time:ie.time||"",endDate:ie.endDate||"",endTime:ie.endTime||"",duration:String(ie.duration??""),marks:String(ie.marks??""),venue:ie.venue||"",instructor:ie.instructor||"",noOfStudents:String(ie.noOfStudents??""),status:ie.status||"scheduled"}),A(!0)},M=ie=>{window.confirm("Are you sure you want to delete this examination?")&&r(Ce=>Ce.filter(Oe=>Oe.id!==ie))},T=ie=>{switch(ie){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=ie=>new Date(ie).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[L,Q]=F.useState({type:"Written",grade:"",section:"",passMarks:"",instructions:"",rooms:[],seatingPlan:"Row"}),[O,V]=F.useState({invigilators:[],reportingTime:"00:30",reliefInterval:"01:00",qrAttendance:!0,notes:""}),ee=()=>{l&&a(ie=>({...ie,[l]:L}))},Y=()=>{d&&o(ie=>({...ie,[d]:O}))},re=F.useRef(null),D=F.useRef(null),G=(ie,Ce="Print")=>{if(!(ie!=null&&ie.current))return;const Oe=ie.current.innerHTML,Re=`
      <style>
        @media print {
          body { margin: 16px; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
          .print-table { width: 100%; border-collapse: collapse; }
          .print-table td, .print-table th { border: 1px solid #000; padding: 6px; text-align: center; }
          .print-grid { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
          .print-section { page-break-inside: avoid; }
          .title { font-size: 18px; font-weight: 700; margin: 0 0 8px; }
          .subtitle { font-size: 14px; margin: 0 0 6px; }
        }
      </style>
    `,ze=window.open("","_blank");ze&&(ze.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>${Ce}</title>${Re}</head><body>${Oe}</body></html>`),ze.document.close(),ze.focus(),ze.print(),ze.close())},z=e.find(ie=>ie.id===l),K=e.find(ie=>ie.id===d),oe=(ie,Ce)=>{var Je;if(!ie||!((Je=Ce==null?void 0:Ce.rooms)!=null&&Je.length))return[];const Oe=Number(ie.noOfStudents||0);if(!Oe)return[];const Re=Ce.rooms,ze=Math.max(1,Number(Ce.columns||6)),ce=[];let ae=1;const Se=Math.floor(Oe/Re.length);let We=Oe%Re.length;for(let tt=0;tt<Re.length;tt++){const Tt=Re[tt],ft=Se+(We>0?1:0);We>0&&(We-=1);const vt=Math.ceil(ft/ze)||1,_t=[];for(let et=0;et<vt;et++){const It=[];for(let Lt=0;Lt<ze;Lt++)ae<=Oe&&It.length+et*ze<ft?(It.push(ae),ae+=1):It.push("");_t.push(It)}ce.push({room:Tt,grid:_t})}return ce},ue=(ie,Ce,Oe=[])=>{const Re=ie.internal.pageSize.getWidth();let ze=40;return ie.setFont("helvetica","bold"),ie.setFontSize(16),ie.text(Ce,Re/2,ze,{align:"center"}),ze+=8,ie.setFont("helvetica","normal"),ie.setFontSize(10),Oe.forEach(ce=>{ze+=14,ie.text(String(ce),Re/2,ze,{align:"center"})}),ze+20},ge=ie=>{const Ce=ie.internal.getNumberOfPages();for(let Oe=1;Oe<=Ce;Oe++){ie.setPage(Oe);const Re=ie.internal.pageSize.getWidth(),ze=ie.internal.pageSize.getHeight();ie.setFontSize(9),ie.setTextColor(100);const ce=`Generated by EEC  ${new Date().toLocaleDateString()}`,ae=`Page ${Oe} of ${Ce}`;ie.text(ce,40,ze-24),ie.text(ae,Re-40,ze-24,{align:"right"})}},pe=()=>{var tt;if(!z||!((tt=L.rooms)!=null&&tt.length))return;const ie=new gr("p","pt","a4"),Ce=ie.internal.pageSize.getWidth(),Oe=ie.internal.pageSize.getHeight(),Re=40;let ze=ue(ie,"Seat Plan",[`${z.title}  ${z.subject}`,`${H(z.date)} at ${z.time}${z.endDate||z.endTime?`  ${H(z.endDate||z.date)} ${z.endTime||""}`:""}  Duration ${z.duration} mins`,`Seating: ${L.seatingPlan}  Columns: ${L.columns||6}  Students: ${z.noOfStudents}`]);const ce=oe(z,L),ae=Math.max(1,Number(L.columns||6)),Se=Ce-Re*2,We=Math.floor(Se/ae),Je=22;ie.setFont("helvetica","bold"),ie.setFontSize(11),ce.forEach(({room:Tt,grid:ft})=>{const vt=20+ft.length*Je+16;ze+vt>Oe-Re&&(ie.addPage(),ze=ue(ie,"Seat Plan",[`${z.title}  ${z.subject}`,`${H(z.date)} at ${z.time}${z.endDate||z.endTime?`  ${H(z.endDate||z.date)} ${z.endTime||""}`:""}  Duration ${z.duration} mins`])),ie.text(`Room: ${Tt} (Seats: ${ft.flat().filter(Boolean).length})`,Re,ze),ze+=8,ie.setDrawColor(0),ie.setFont("helvetica","normal"),ie.setFontSize(10),ft.forEach(_t=>{let et=Re;_t.forEach(It=>{ie.rect(et,ze,We,Je),It&&ie.text(String(It),et+We/2,ze+Je/2+3,{align:"center"}),et+=We}),ze+=Je}),ze+=16}),ge(ie),ie.save(`Seat_Plan_${z.subject}_${z.date}.pdf`)},ye=()=>{if(!K)return;const ie=new gr("p","pt","a4"),Ce=ie.internal.pageSize.getWidth(),Oe=ie.internal.pageSize.getHeight(),Re=40;let ze=ue(ie,"Duty Roster",[`${K.title}  ${K.subject}`,`${H(K.date)} at ${K.time}${K.endDate||K.endTime?`  ${H(K.endDate||K.date)} ${K.endTime||""}`:""}  Duration ${K.duration} mins`,`Reporting: ${O.reportingTime||""}  Relief: ${O.reliefInterval||""}`]);const ce=200,ae=Ce-Re*2-ce,Se=22;ie.setFont("helvetica","bold"),ie.setFontSize(11),ie.rect(Re,ze,ce,Se,"S"),ie.rect(Re+ce,ze,ae,Se,"S"),ie.text("Room",Re+8,ze+15),ie.text("Invigilator",Re+ce+8,ze+15),ze+=Se;const We=L.rooms||[],Je=O.invigilators||[];if(We.forEach((tt,Tt)=>{ze+Se>Oe-Re&&(ie.addPage(),ze=ue(ie,"Duty Roster",[`${K.title}  ${K.subject}`]),ie.setFont("helvetica","bold"),ie.setFontSize(11),ie.rect(Re,ze,ce,Se,"S"),ie.rect(Re+ce,ze,ae,Se,"S"),ie.text("Room",Re+8,ze+15),ie.text("Invigilator",Re+ce+8,ze+15),ze+=Se);const ft=Je.length?Je[Tt%Je.length]:"";ie.setFont("helvetica","normal"),ie.setFontSize(10),ie.rect(Re,ze,ce,Se,"S"),ie.rect(Re+ce,ze,ae,Se,"S"),ie.text(String(tt),Re+8,ze+15),ie.text(ft||"",Re+ce+8,ze+15),ze+=Se}),O.notes){ze+40>Oe-Re&&(ie.addPage(),ze=ue(ie,"Duty Roster",[`${K.title}  ${K.subject}`])),ie.setFont("helvetica","bold"),ie.text("Notes:",Re,ze+20),ie.setFont("helvetica","normal");const tt=ie.splitTextToSize(String(O.notes),Ce-Re*2);ie.text(tt,Re,ze+36)}ge(ie),ie.save(`Duty_Roster_${K.subject}_${K.date}.pdf`)};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Examination Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage and organize all examinations efficiently"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search examinations...",value:v,onChange:ie=>j(ie.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:b,onChange:ie=>S(ie.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"ongoing",children:"Ongoing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Exams"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),s.jsx(tr,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ie=>ie.status==="scheduled").length})]}),s.jsx(dr,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ie=>ie.status==="completed").length})]}),s.jsx(pr,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.reduce((ie,Ce)=>ie+Ce.noOfStudents,0)})]}),s.jsx(pr,{className:"w-8 h-8 text-purple-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Examination Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Setup/Supervision"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(ie=>{var Ce,Oe,Re,ze;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.title}),s.jsx("div",{className:"text-sm text-gray-500",children:ie.subject}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Instructor: ",ie.instructor]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[H(ie.date),ie.endDate&&ie.endDate!==ie.date&&`  ${H(ie.endDate)}`]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[ie.time,ie.endTime&&`  ${ie.endTime}`]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[ie.duration," minutes"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Venue: ",ie.venue]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Students: ",ie.noOfStudents]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Marks: ",ie.marks]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700",children:[s.jsx(Xu,{className:"w-3.5 h-3.5"}),((Oe=(Ce=n[ie.id])==null?void 0:Ce.rooms)==null?void 0:Oe.length)||0," rooms"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700",children:[s.jsx(jg,{className:"w-3.5 h-3.5"}),((ze=(Re=i[ie.id])==null?void 0:Re.invigilators)==null?void 0:ze.length)||0," invigilators"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(ie.status)}`,children:ie.status.charAt(0).toUpperCase()+ie.status.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(ie),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",children:s.jsx(dI,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(ie.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:s.jsx(Ni,{className:"w-4 h-4"})})]})})]},ie.id)})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(i5,{className:"w-5 h-5 text-indigo-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Exam Setup"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Exam"}),s.jsxs("select",{value:l,onChange:ie=>{const Ce=ie.target.value;c(Ce);const Oe=n[Ce];Oe&&Q(Oe)},className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"",children:"-- Choose --"}),e.map(ie=>s.jsxs("option",{value:ie.id,children:[ie.title,"  ",ie.subject]},ie.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:L.type,onChange:ie=>Q({...L,type:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{children:"Written"}),s.jsx("option",{children:"Practical"}),s.jsx("option",{children:"Oral"}),s.jsx("option",{children:"Objective"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Grade/Class"}),s.jsx("input",{value:L.grade,onChange:ie=>Q({...L,grade:ie.target.value}),placeholder:"10",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Section"}),s.jsx("input",{value:L.section,onChange:ie=>Q({...L,section:ie.target.value}),placeholder:"A",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Columns per room"}),s.jsx("input",{type:"number",min:1,max:20,value:L.columns||6,onChange:ie=>Q({...L,columns:Number(ie.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Pass Marks"}),s.jsx("input",{type:"number",value:L.passMarks,onChange:ie=>Q({...L,passMarks:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rooms"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(ie=>{const Ce=L.rooms.includes(ie);return s.jsx("button",{type:"button",onClick:()=>Q(Oe=>({...Oe,rooms:Ce?Oe.rooms.filter(Re=>Re!==ie):[...Oe.rooms,ie]})),className:`px-3 py-1 rounded-full text-sm border ${Ce?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:ie},ie)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Seating Plan"}),s.jsxs("select",{value:L.seatingPlan,onChange:ie=>Q({...L,seatingPlan:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{children:"Row"}),s.jsx("option",{children:"Grid"}),s.jsx("option",{children:"Zig-Zag"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Instructions"}),s.jsx("textarea",{rows:3,value:L.instructions,onChange:ie=>Q({...L,instructions:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Report 30 min early. Carry admit card."})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:ee,className:"px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:"Save Setup"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jg,{className:"w-5 h-5 text-emerald-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Supervision"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Exam"}),s.jsxs("select",{value:d,onChange:ie=>{const Ce=ie.target.value;u(Ce);const Oe=i[Ce];Oe&&V(Oe)},className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"",children:"-- Choose --"}),e.map(ie=>s.jsxs("option",{value:ie.id,children:[ie.title,"  ",ie.subject]},ie.id))]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Invigilators"}),s.jsx("select",{multiple:!0,value:O.invigilators,onChange:ie=>{const Ce=Array.from(ie.target.selectedOptions).map(Oe=>Oe.value);V(Oe=>({...Oe,invigilators:Ce}))},className:"w-full border border-gray-300 rounded-lg px-3 py-2 h-32",children:m.map(ie=>s.jsx("option",{value:ie,children:ie},ie))}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Reporting Time (hh:mm)"}),s.jsx("input",{type:"time",value:O.reportingTime,onChange:ie=>V({...O,reportingTime:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Relief Interval (hh:mm)"}),s.jsx("input",{type:"time",value:O.reliefInterval,onChange:ie=>V({...O,reliefInterval:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"qrAtt",type:"checkbox",checked:O.qrAttendance,onChange:ie=>V({...O,qrAttendance:ie.target.checked})}),s.jsx("label",{htmlFor:"qrAtt",className:"text-sm text-gray-700",children:"Enable QR Attendance"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{rows:3,value:O.notes,onChange:ie=>V({...O,notes:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Brief invigilation instructions or duty roster notes."})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white",children:"Save Supervision"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xu,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Seat Plan Preview"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>G(re,"Seat Plan"),disabled:!z||!((Pe=L.rooms)!=null&&Pe.length),className:`px-3 py-2 rounded-lg border ${!z||!((le=L.rooms)!=null&&le.length)?"bg-gray-100 text-gray-400 border-gray-200":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:"Print"}),s.jsx("button",{onClick:pe,disabled:!z||!((lt=L.rooms)!=null&&lt.length),className:`px-3 py-2 rounded-lg border ${!z||!((ne=L.rooms)!=null&&ne.length)?"bg-gray-100 text-gray-400 border-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700 border-indigo-600"}`,children:"Export PDF"})]})]}),s.jsx("div",{ref:re,children:z&&((J=L.rooms)!=null&&J.length)?s.jsxs("div",{className:"print-section",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Exam:"})," ",z.title,"  ",z.subject]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Schedule:"})," ",H(z.date)," at ",z.time,(z.endDate||z.endTime)&&s.jsxs(s.Fragment,{children:["  ",H(z.endDate||z.date)," ",z.endTime||""]})," ","| Duration ",z.duration," mins"]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Seating:"})," ",L.seatingPlan," | Columns: ",L.columns||6," | Students: ",z.noOfStudents]})]}),s.jsx("div",{className:"grid gap-4 md:gap-6 md:grid-cols-2 print-grid",children:oe(z,L).map(({room:ie,grid:Ce})=>s.jsxs("div",{className:"border rounded-lg p-3 print-section",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room: ",ie]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Seats: ",Ce.flat().filter(Boolean).length]})]}),s.jsx("table",{className:"w-full text-sm print-table",children:s.jsx("tbody",{children:Ce.map((Oe,Re)=>s.jsx("tr",{children:Oe.map((ze,ce)=>s.jsx("td",{className:"border border-gray-300 p-2 text-center align-middle min-w-[36px]",children:ze||""},ce))},Re))})})]},ie))})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"Select an exam and add rooms in Exam Setup to preview seat plan."})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jg,{className:"w-5 h-5 text-emerald-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Duty Roster"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>G(D,"Duty Roster"),disabled:!K,className:`px-3 py-2 rounded-lg border ${K?"bg-white text-gray-700 hover:bg-gray-50 border-gray-300":"bg-gray-100 text-gray-400 border-gray-200"}`,children:"Print"}),s.jsx("button",{onClick:ye,disabled:!K,className:`px-3 py-2 rounded-lg border ${K?"bg-indigo-600 text-white hover:bg-indigo-700 border-indigo-600":"bg-gray-100 text-gray-400 border-gray-200"}`,children:"Export PDF"})]})]}),s.jsx("div",{ref:D,children:K?s.jsxs("div",{className:"print-section",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Exam:"})," ",K.title,"  ",K.subject]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Schedule:"})," ",H(K.date)," at ",K.time,(K.endDate||K.endTime)&&s.jsxs(s.Fragment,{children:["  ",H(K.endDate||K.date)," ",K.endTime||""]})," ","| Duration ",K.duration," mins"]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Reporting:"})," ",O.reportingTime||""," before | Relief: ",O.reliefInterval||""]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm print-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border px-2 py-1 text-left",children:"Room"}),s.jsx("th",{className:"border px-2 py-1 text-left",children:"Invigilator"})]})}),s.jsx("tbody",{children:(L.rooms||[]).map((ie,Ce)=>{const Oe=O.invigilators||[],Re=Oe.length?Oe[Ce%Oe.length]:"";return s.jsxs("tr",{children:[s.jsx("td",{className:"border px-2 py-1",children:ie}),s.jsx("td",{className:"border px-2 py-1",children:Re||""})]},ie)})})]})}),O.notes&&s.jsx("div",{className:"mt-3",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Notes:"})," ",O.notes]})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"Select an exam in the Supervision card to view and print duty roster."})})]}),f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>{A(!1),x(null),_()}}),s.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 p-6 sm:p-7",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:g?"Edit Examination":"Add Examination"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enter exam details and schedule"})]}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{A(!1),x(null),_()},children:s.jsx(Gs,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Exam Title"}),s.jsx("input",{name:"title",value:w.title,onChange:ie=>N({...w,title:ie.target.value}),required:!0,placeholder:"Mid Term Examination",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Subject"}),s.jsx("input",{name:"subject",value:w.subject,onChange:ie=>N({...w,subject:ie.target.value}),required:!0,placeholder:"Physics",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Instructor"}),s.jsx("input",{name:"instructor",value:w.instructor,onChange:ie=>N({...w,instructor:ie.target.value}),required:!0,placeholder:"Prof. Priya Verma",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Venue"}),s.jsx("input",{name:"venue",value:w.venue,onChange:ie=>N({...w,venue:ie.target.value}),required:!0,placeholder:"Hall A",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Date"}),s.jsx("input",{name:"date",value:w.date,onChange:ie=>N({...w,date:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Time"}),s.jsx("input",{name:"time",value:w.time,onChange:ie=>N({...w,time:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"time"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"End Date"}),s.jsx("input",{name:"endDate",value:w.endDate,onChange:ie=>N({...w,endDate:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"End Time"}),s.jsx("input",{name:"endTime",value:w.endTime,onChange:ie=>N({...w,endTime:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"time"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Total Marks"}),s.jsx("input",{name:"marks",value:w.marks,onChange:ie=>N({...w,marks:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Students"}),s.jsx("input",{name:"noOfStudents",value:w.noOfStudents,onChange:ie=>N({...w,noOfStudents:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Duration (minutes)"}),s.jsx("input",{name:"duration",value:w.duration,onChange:ie=>N({...w,duration:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:w.status,onChange:ie=>N({...w,status:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"ongoing",children:"Ongoing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>{A(!1),x(null),_()},className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:[g?"Update":"Add"," Examination"]})]})]})]})]})]})})},kVe=({setShowAdminHeader:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState("All"),[i,o]=F.useState([]),[l,c]=F.useState(!1),d=i.filter(g=>{const x=Array.isArray(g.children)?g.children:[],v=Array.isArray(g.grades)?g.grades:[],j=g.name.toLowerCase().includes(e.toLowerCase())||g.email.toLowerCase().includes(e.toLowerCase())||x.some(S=>S.toLowerCase().includes(e.toLowerCase())),b=n==="All"||v.includes(n);return j&&b}),u=()=>({communicationRate:Math.floor(Math.random()*20)+80,eventAttendance:Math.floor(Math.random()*15)+85,meetingParticipation:Math.floor(Math.random()*10)+90,responsiveness:Math.floor(Math.random()*25)+75,totalInteractions:Math.floor(Math.random()*30)+10,lastContact:Math.floor(Math.random()*7)+1}),h=()=>[{type:"Parent-Teacher Meet",date:"2024-01-20",status:"attended"},{type:"Progress Report",date:"2024-01-18",status:"viewed"},{type:"School Event",date:"2024-01-15",status:"attended"},{type:"Fee Payment",date:"2024-01-10",status:"completed"}].slice(0,Math.floor(Math.random()*3)+1),m=g=>g.children.map((x,v)=>({name:x,grade:g.grades[v]||g.grades[0],performance:["Excellent","Good","Average"][Math.floor(Math.random()*3)],attendance:Math.floor(Math.random()*10)+90})),f=()=>{const g=["Email","Phone","SMS","In-Person"];return g[Math.floor(Math.random()*g.length)]},A=[{id:1,name:"John Smith",parentId:"PAR001",email:"john.smith@email.com",mobile:"+1-555-1001",children:["Alex Smith","Emma Smith"],grades:["Grade 10","Grade 8"],occupation:"Software Engineer",address:"123 Oak Street, Springfield",joinDate:"2020-08-15",emergencyContact:"+1-555-1002",relationship:"Father"},{id:2,name:"Maria Rodriguez",parentId:"PAR002",email:"maria.rodriguez@email.com",mobile:"+1-555-1003",children:["Carlos Rodriguez"],grades:["Grade 11"],occupation:"Marketing Manager",address:"456 Pine Avenue, Springfield",joinDate:"2019-09-10",emergencyContact:"+1-555-1004",relationship:"Mother"},{id:3,name:"David Wilson",parentId:"PAR003",email:"david.wilson@email.com",mobile:"+1-555-1005",children:["Sophie Wilson","James Wilson"],grades:["Grade 12","Grade 9"],occupation:"Doctor",address:"789 Maple Road, Springfield",joinDate:"2018-07-20",emergencyContact:"+1-555-1006",relationship:"Father"},{id:4,name:"Sarah Johnson",parentId:"PAR004",email:"sarah.johnson@email.com",mobile:"+1-555-1007",children:["Michael Johnson"],grades:["Grade 10"],occupation:"Teacher",address:"321 Elm Street, Springfield",joinDate:"2021-06-05",emergencyContact:"+1-555-1008",relationship:"Mother"},{id:5,name:"Robert Chen",parentId:"PAR005",email:"robert.chen@email.com",mobile:"+1-555-1009",children:["Lisa Chen","Kevin Chen"],grades:["Grade 11","Grade 12"],occupation:"Accountant",address:"654 Birch Lane, Springfield",joinDate:"2019-03-12",emergencyContact:"+1-555-1010",relationship:"Father"},{id:6,name:"Emily Davis",parentId:"PAR006",email:"emily.davis@email.com",mobile:"+1-555-1011",children:["Ryan Davis"],grades:["Grade 9"],occupation:"Nurse",address:"987 Cedar Court, Springfield",joinDate:"2020-01-18",emergencyContact:"+1-555-1012",relationship:"Mother"},{id:7,name:"Michael Brown",parentId:"PAR007",email:"michael.brown@email.com",mobile:"+1-555-1013",children:["Ashley Brown","Tyler Brown"],grades:["Grade 10","Grade 11"],occupation:"Engineer",address:"159 Willow Way, Springfield",joinDate:"2018-11-25",emergencyContact:"+1-555-1014",relationship:"Father"},{id:8,name:"Jennifer Lee",parentId:"PAR008",email:"jennifer.lee@email.com",mobile:"+1-555-1015",children:["Daniel Lee"],grades:["Grade 12"],occupation:"Lawyer",address:"753 Poplar Place, Springfield",joinDate:"2019-05-30",emergencyContact:"+1-555-1016",relationship:"Mother"},{id:9,name:"Thomas Anderson",parentId:"PAR009",email:"thomas.anderson@email.com",mobile:"+1-555-1017",children:["Jessica Anderson","Matthew Anderson"],grades:["Grade 9","Grade 11"],occupation:"Business Owner",address:"852 Ash Avenue, Springfield",joinDate:"2020-04-08",emergencyContact:"+1-555-1018",relationship:"Father"},{id:10,name:"Lisa Taylor",parentId:"PAR010",email:"lisa.taylor@email.com",mobile:"+1-555-1019",children:["Brandon Taylor"],grades:["Grade 10"],occupation:"Pharmacist",address:"147 Spruce Street, Springfield",joinDate:"2021-02-14",emergencyContact:"+1-555-1020",relationship:"Mother"},{id:11,name:"James Miller",parentId:"PAR011",email:"james.miller@email.com",mobile:"+1-555-1021",children:["Amanda Miller","Christopher Miller"],grades:["Grade 12","Grade 9"],occupation:"Architect",address:"369 Hickory Hill, Springfield",joinDate:"2018-12-03",emergencyContact:"+1-555-1022",relationship:"Father"},{id:12,name:"Amanda Garcia",parentId:"PAR012",email:"amanda.garcia@email.com",mobile:"+1-555-1023",children:["Isabella Garcia"],grades:["Grade 11"],occupation:"Graphic Designer",address:"258 Dogwood Drive, Springfield",joinDate:"2019-08-17",emergencyContact:"+1-555-1024",relationship:"Mother"}];return F.useEffect(()=>{t(!1),(async()=>{c(!0);try{const x=await fetch("http://localhost:5000/api/admin/users/get-parents",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!x.ok)throw new Error("Failed to fetch parents");const v=await x.json(),j=(Array.isArray(v)?v:[]).map((b,S)=>({id:b._id||b.id||S,name:b.name||"Unnamed Parent",parentId:b._id?`PAR-${b._id.slice(-4)}`:`PAR-${S+1}`,email:b.email||"",mobile:b.mobile||"",children:Array.isArray(b.children)?b.children:[],grades:Array.isArray(b.grade)?b.grade:Array.isArray(b.grades)?b.grades:[],occupation:b.occupation||"",address:b.address||"",joinDate:b.createdAt?new Date(b.createdAt).toISOString().slice(0,10):"",emergencyContact:b.emergencyContact||b.mobile||"",relationship:b.relationship||"Parent"}));o(j.length?j:A)}catch(x){console.error("Error fetching parents:",x),o(A)}finally{c(!1)}})()},[t]),F.useEffect(()=>{t(!1),o(A)},[t]),s.jsx("div",{className:"h-screen bg-gradient-to-br from-green-50 via-green-100 to-emerald-100 ",children:s.jsxs("div",{className:"flex-1 flex flex-col mx-auto w-full bg-white/90 border border-green-200 ",children:[s.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-green-100",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Parents Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage parent engagement, communication, and student relationships"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pd,{className:"w-8 h-8 text-green-500"}),s.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.length}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Parents"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(cs,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:"89%"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Engagement Rate"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Ece,{className:"w-8 h-8 text-purple-500"}),s.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:i.reduce((g,x)=>g+x.children.length,0)}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Students"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(tr,{className:"w-8 h-8 text-orange-500"}),s.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(i.length*.3)}),s.jsx("span",{className:"text-xs text-gray-500",children:"Meetings Due"})]})]})]})}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search parents or children...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:e,onChange:g=>r(g.target.value)})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:n,onChange:g=>a(g.target.value),children:[s.jsx("option",{value:"All",children:"All Grades"}),s.jsx("option",{value:"Grade 9",children:"Grade 9"}),s.jsx("option",{value:"Grade 10",children:"Grade 10"}),s.jsx("option",{value:"Grade 11",children:"Grade 11"}),s.jsx("option",{value:"Grade 12",children:"Grade 12"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"All Relationships"}),s.jsx("option",{value:"Father",children:"Fathers"}),s.jsx("option",{value:"Mother",children:"Mothers"}),s.jsx("option",{value:"Guardian",children:"Guardians"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Engagement Level"}),s.jsx("option",{value:"high",children:"High (90%+)"}),s.jsx("option",{value:"medium",children:"Medium (70-89%)"}),s.jsx("option",{value:"low",children:"Low (Below 70%)"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Communication Status"}),s.jsx("option",{value:"recent",children:"Recent Contact"}),s.jsx("option",{value:"pending",children:"Pending Response"}),s.jsx("option",{value:"overdue",children:"Overdue Contact"})]}),s.jsx(P8,{buttonText:"Generate Parent ID",defaultRole:"Parent",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-green-600 hover:bg-green-700"})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-green-50 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Parent Info"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Engagement"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Recent Activity"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Children & Grades"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Contact Info"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Communication"}),s.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:d.map(g=>s.jsxs("tr",{className:"hover:bg-green-50 transition-colors border-b border-gray-100",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-200 flex items-center justify-center font-semibold text-green-700 flex-shrink-0",children:g.name.split(" ").map(x=>x[0]).join("")}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:g.name}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",g.parentId]}),s.jsx("div",{className:"text-xs text-gray-600",children:g.relationship}),s.jsx("div",{className:"text-xs text-gray-500",children:g.occupation})]})]})}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const x=u();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ya,{size:14,className:"text-green-600"}),s.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[x.communicationRate,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Communication"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{size:14,className:"text-blue-600"}),s.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[x.eventAttendance,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Events"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[x.totalInteractions," interactions"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:(()=>{const x=h();return x.length===0?s.jsx("span",{className:"text-sm text-gray-400 italic",children:"No recent activity"}):s.jsxs("div",{className:"space-y-1 max-w-[180px]",children:[x.slice(0,2).map((v,j)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lr,{size:12,className:"text-green-600"}),s.jsx("span",{className:"text-xs text-gray-700",children:v.type}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1 rounded",children:v.status})]},j)),x.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",x.length-2," more"]})]})})()}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-2",children:g.children.map((x,v)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{size:14,className:"text-indigo-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:x})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[s.jsx("span",{className:"text-sm text-gray-600",children:g.grades[v]}),(()=>{const j=m(g)[v];return s.jsx(s.Fragment,{children:s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${j.performance==="Excellent"?"bg-green-100 text-green-800":j.performance==="Good"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:j.performance})})})()]})]},v))})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:`mailto:${g.email}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[s.jsx(Yi,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate max-w-[150px]",children:g.email})]}),s.jsxs("a",{href:`tel:${g.mobile}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[s.jsx(Mi,{size:12,className:"flex-shrink-0"}),g.mobile]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(ml,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate max-w-[150px]",children:g.address})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f()}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",Math.floor(Math.random()*7)+1," days ago"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Emergency: ",g.emergencyContact]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"View Engagement Analytics",children:s.jsx(Mn,{size:14})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Communication History",children:s.jsx(Yi,{size:14})}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"Schedule Meeting",children:s.jsx(tr,{size:14})}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"View Children Progress",children:s.jsx(Yn,{size:14})}),s.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Parent Info",children:s.jsx(_w,{size:14})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:s.jsx(md,{size:14})})]})})]},g.id))})]})})}),s.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-green-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-gray-600",children:["Showing ",d.length," of ",i.length," parents"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Previous"}),s.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Next"})]})]})})]})})},MW=[{value:"ADV_CERT",label:"Advance Certificate (1-2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],Bp=()=>({label:"",amount:"",dueMonth:""}),FW={ADV_CERT:{key:"ADV_CERT",label:"Advance Certification (1 & 2 Years)",streamNote:"Fashion Design / Interior Design  1 Year & 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3]},{description:"2nd Installment",values:[7500,7500]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[155e3,155e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Payment mode: NEFT / IMPS / UPI (non-refundable).","Registration fee to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'."]},BVOC:{key:"BVOC",label:"B.Voc  3 Years",streamNote:"Fashion Design / Interior Design  B.Voc 3 Years",years:["1st Year","2nd Year","3rd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3]},{description:"MSU fees for 1st / 3rd / 5th Semester",values:[18e3,18e3,18e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th Semester",values:[18e3,18e3,18e3]},{description:"3rd Installment",values:[7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500]}],totals:[191e3,191e3,191e3],extraNotes:["One-time registration fee Rs 2,000 to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},MVOC:{key:"MVOC",label:"M.Voc  2 Years",streamNote:"Fashion Design / Interior Design  M.Voc 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"MSU fees for 1st / 3rd Semester",values:[24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[24e3,24e3]},{description:"2nd Installment",values:[7500,7500]},{description:"MSU fees for 2nd / 4th Semester",values:[24e3,24e3]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[24e3,24e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[205e3,205e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Classroom fees Rs 3,540 per annum for 'Reliance Brands Limited', payable only online.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},BDES:{key:"BDES",label:"B.Des  4 Years",streamNote:"Fashion Design / Interior Design  B.Des 4 Years",years:["1st Year","2nd Year","3rd Year","4th Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3,22e3]},{description:"Time of Admission (MSU fees for 1st / 3rd / 5th / 7th Semester)",values:[24e3,24e3,24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (2nd part within 30 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th / 8th Semester",values:[24e3,24e3,24e3,24e3]},{description:"3rd Installment",values:[7500,7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (3rd part within 90 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500,7500]}],totals:[203e3,203e3,203e3,203e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","MSU fees for odd and even semesters are included as per the sheet.","Examination / convocation fees (if any) are payable separately as per university norms."]}},Kj="http://localhost:5000/api/nif/course",BVe=({setShowAdminHeader:t})=>{const[e,r]=F.useState([]),[n,a]=F.useState(!1),[i,o]=F.useState(!1),[l,c]=F.useState(!1),[d,u]=F.useState("ADV_CERT"),[h,m]=F.useState(null),[f,A]=F.useState({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[Bp()]}),g=FW[d],x=(k=[])=>k.map(M=>{var T,H;return{label:(T=M.label)==null?void 0:T.trim(),amount:M.amount===""?"":Number(M.amount),dueMonth:((H=M.dueMonth)==null?void 0:H.trim())||""}}).filter(M=>M.label&&M.amount!==""&&Number.isFinite(Number(M.amount))&&Number(M.amount)>=0).map(M=>({label:M.label,amount:Number(M.amount),dueMonth:M.dueMonth})),v=(k,M,T,H)=>{k==="new"?A(L=>{const Q=[...L.installments||[]];return Q[M]={...Q[M],[T]:H},{...L,installments:Q}}):k==="edit"&&h&&m(L=>{const Q=[...L.installments||[]];return Q[M]={...Q[M],[T]:H},{...L,installments:Q}})},j=k=>{k==="new"?A(M=>({...M,installments:[...M.installments||[],Bp()]})):k==="edit"&&h&&m(M=>({...M,installments:[...M.installments||[],Bp()]}))},b=(k,M)=>{k==="new"?A(T=>{const H=[...T.installments||[]];return H.splice(M,1),{...T,installments:H.length?H:[Bp()]}}):k==="edit"&&h&&m(T=>{const H=[...T.installments||[]];return H.splice(M,1),{...T,installments:H.length?H:[Bp()]}})},S=async()=>{try{const k=await fetch(`${Kj}/fetch`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!k.ok)throw new Error("Failed to fetch courses");const M=await k.json();r(M||[])}catch(k){console.error("Fetch courses error:",k),alert("Failed to load courses. Check backend/API URL.")}};F.useEffect(()=>{S(),t(!1)},[t]);const w=k=>{const{name:M,value:T}=k.target;A(H=>({...H,[M]:T}))},N=async k=>{k.preventDefault();const T=["stream","name","duration","fees","programType"].filter(H=>!f[H]||f[H].trim()==="");if(T.length>0){es.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${T.join(", ")}`});return}o(!0);try{const H={stream:f.stream,name:f.name,duration:f.duration,fees:f.fees,description:f.description,programType:f.programType,installments:x(f.installments)},L=await fetch(`${Kj}/add`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!L.ok){const Q=await L.json().catch(()=>({}));throw new Error(Q.message||"Failed to add course")}await L.json(),es.fire({icon:"success",title:"Course added successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await S(),a(!1),A({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[Bp()]})}catch(H){console.error("Error adding course:",H),es.fire({icon:"error",title:"Error adding course",text:H.message})}finally{o(!1)}},E=k=>{m({_id:k._id,stream:k.department||"",name:k.title||"",duration:k.duration||"",fees:k.fees!=null?String(k.fees):"",description:k.desc||"",programType:k.programType||"ADV_CERT",installments:(k.installments&&k.installments.length?k.installments:[Bp()]).map(M=>({label:M.label||"",amount:M.amount===0||M.amount?String(M.amount):"",dueMonth:M.dueMonth||""}))})},P=k=>{const{name:M,value:T}=k.target;m(H=>({...H,[M]:T}))},_=async k=>{if(k.preventDefault(),!(h!=null&&h._id))return;const T=["stream","name","duration","fees","programType"].filter(H=>!h[H]||h[H].trim()==="");if(T.length>0){es.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${T.join(", ")}`});return}o(!0);try{const H={stream:h.stream,name:h.name,duration:h.duration,fees:h.fees,description:h.description,programType:h.programType,installments:x(h.installments)},L=await fetch(`${Kj}/${h._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!L.ok){const Q=await L.json().catch(()=>({}));throw new Error(Q.message||"Failed to update course")}await L.json(),es.fire({icon:"success",title:"Course updated successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await S(),m(null)}catch(H){console.error("Error updating course:",H),es.fire({icon:"error",title:"Error updating course",text:H.message})}finally{o(!1)}},B=async k=>{if((await es.fire({title:"Are you sure?",text:`Do you want to delete "${k.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed)try{const T=await fetch(`${Kj}/${k._id}`,{method:"DELETE",headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!T.ok){const H=await T.json().catch(()=>({}));throw new Error(H.message||"Failed to delete course")}await T.json(),es.fire({icon:"success",title:"Course deleted successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await S()}catch(T){console.error("Delete course error:",T),es.fire({icon:"error",title:"Deletion Failed",text:T.message})}};return s.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:s.jsxs("div",{className:" flex flex-col  mx w-full bg-white/90  border-yellow-200 ",children:[s.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8 gap-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Course Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and organize NIF courses, with official fee breakdowns."})]}),s.jsx(Qr,{className:"w-12 h-12 text-yellow-500"})]}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[s.jsxs("button",{className:"flex items-center space-x-2 border border-yellow-400 text-yellow-700 px-4 py-2 rounded-lg hover:bg-yellow-50 transition-colors text-sm font-medium",onClick:()=>c(!0),children:[s.jsx($0,{className:"w-4 h-4"}),s.jsx("span",{children:"View Fee Breakdown"})]}),s.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm font-medium",onClick:()=>a(!0),children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Course"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden p-8",children:s.jsx("div",{className:"h-full overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(k=>{var M;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:k.title}),k.department&&s.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:k.department})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600 transition-colors",onClick:()=>E(k),children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",onClick:()=>B(k),children:s.jsx(Ni,{className:"w-4 h-4"})})]})]}),k.desc&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.desc}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[k.programLabel&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Program: ",k.programLabel]})]}),k.duration&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Duration: ",k.duration]})]}),k.fees!=null&&s.jsxs("div",{className:"flex items-center",children:[s.jsx($0,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Fees: ",k.fees]})]}),(M=k.installments)!=null&&M.length?s.jsxs("div",{className:"flex items-center",children:[s.jsx(bue,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[k.installments.length," Installments"]})]}):null,k.instructor&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Instructor: ",k.instructor]})]}),k.totalStudents!=null&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[k.totalStudents," Students"]})]}),k.startingDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Starts:"," ",new Date(k.startingDate).toLocaleDateString()]})]})]})]},k._id)}),e.length===0&&s.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No courses added yet."})]})})}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Add New Course"}),s.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:s.jsx(Gs,{size:24})})]}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"stream",value:f.stream,onChange:w,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select a stream"}),s.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),s.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(mn,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"name",value:f.name,onChange:w,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"duration",value:f.duration,onChange:w,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"programType",value:h.programType,onChange:P,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:MW.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(mn,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"programType",value:f.programType,onChange:w,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:MW.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(mn,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx($0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{name:"fees",value:f.fees,onChange:w,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),s.jsx("textarea",{name:"description",value:f.description,onChange:w,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[h.installments.map((k,M)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),s.jsx("input",{value:k.label,onChange:T=>v("edit",M,"label",T.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx($0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),s.jsx("input",{type:"number",min:"0",value:k.amount,onChange:T=>v("edit",M,"amount",T.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),s.jsx("input",{value:k.dueMonth,onChange:T=>v("edit",M,"dueMonth",T.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),s.jsx("div",{className:"md:col-span-1 flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>b("edit",M),className:"text-sm text-red-500 hover:text-red-600",disabled:h.installments.length===1,children:"Remove"})})]},`edit-installment-${M}`)),s.jsx("button",{type:"button",onClick:()=>j("edit"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[f.installments.map((k,M)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),s.jsx("input",{value:k.label,onChange:T=>v("new",M,"label",T.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx($0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),s.jsx("input",{type:"number",min:"0",value:k.amount,onChange:T=>v("new",M,"amount",T.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),s.jsx("input",{value:k.dueMonth,onChange:T=>v("new",M,"dueMonth",T.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),s.jsx("div",{className:"md:col-span-1 flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>b("new",M),className:"text-sm text-red-500 hover:text-red-600",disabled:f.installments.length===1,children:"Remove"})})]},`new-installment-${M}`)),s.jsx("button",{type:"button",onClick:()=>j("new"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[s.jsx($s,{size:18}),i?"Adding...":"Add Course"]})]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Edit Course"}),s.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600 p-2",children:s.jsx(Gs,{size:24})})]}),s.jsxs("form",{onSubmit:_,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"stream",value:h.stream,onChange:P,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select a stream"}),s.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),s.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(mn,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"name",value:h.name,onChange:P,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"duration",value:h.duration,onChange:P,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx($0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{name:"fees",value:h.fees,onChange:P,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),s.jsx("textarea",{name:"description",value:h.description,onChange:P,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>m(null),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[s.jsx(ki,{size:18}),i?"Saving...":"Save Changes"]})]})]})]})}),l&&g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden border border-yellow-300 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-yellow-100 bg-yellow-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-yellow-700",children:"Fees Breakup  Session 202526"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Official breakup based on your NIF Global fee structure."})]}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-yellow-100",children:s.jsx(Gs,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"px-6 pt-4 flex flex-wrap gap-2 border-b border-yellow-100 bg-white",children:Object.values(FW).map(k=>s.jsx("button",{onClick:()=>u(k.key),className:`px-3 py-2 rounded-full text-xs font-medium border ${d===k.key?"bg-yellow-500 text-black border-yellow-500 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:bg-yellow-50"}`,children:k.label},k.key))}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:g.label}),s.jsx("p",{className:"text-sm text-gray-600",children:g.streamNote})]})}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-yellow-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 border-b",children:"Description"}),g.years.map(k=>s.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 border-b",children:k},k))]})}),s.jsx("tbody",{children:g.rows.map((k,M)=>s.jsxs("tr",{className:M%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 border-b text-gray-700",children:k.description}),k.values.map((T,H)=>s.jsxs("td",{className:"px-4 py-2 border-b text-right text-gray-800",children:["",T.toLocaleString("en-IN")]},H))]},M))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"bg-yellow-100/80",children:[s.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800 border-t",children:"Total (per year)"}),g.totals.map((k,M)=>s.jsxs("td",{className:"px-4 py-2 text-right font-semibold text-gray-900 border-t",children:["",k.toLocaleString("en-IN")]},M))]})})]})}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Important Notes"}),s.jsxs("ul",{className:"text-xs text-gray-700 list-disc list-inside space-y-1",children:[g.extraNotes.map((k,M)=>s.jsx("li",{children:k},M)),s.jsx("li",{children:"Late fees, GST or university policy changes will apply as per official circulars."})]})]})]})]})})]})})},TVe=({setShowAdminHeader:t})=>{const[e,r]=F.useState(""),[n,a]=F.useState("All"),[i,o]=F.useState("grid"),[l,c]=F.useState(null),[d,u]=F.useState("name"),[h,m]=F.useState([]),f=[{id:1,subjectCode:"MATH101",subjectName:"Advanced Mathematics",grades:["Grade 11","Grade 12"],category:"STEM",teachers:["Dr. Sarah Wilson","Prof. Michael Chen"],totalStudents:145,hoursPerWeek:6,credits:4,department:"Mathematics",difficulty:"Advanced",prerequisites:["Basic Algebra","Geometry"],description:"Advanced mathematical concepts including calculus and statistics",performance:{averageScore:92,passRate:98,attendance:94,satisfaction:4.8},status:"active",lastUpdated:"2024-01-15",resources:{textbooks:4,digital:12,lab:!0,online:8}}];F.useEffect(()=>{t(!1),m(f)},[t]);const A=v=>{switch(v){case"Beginner":return"bg-emerald-100 text-emerald-800";case"Intermediate":return"bg-blue-100 text-blue-800";case"Advanced":return"bg-purple-100 text-purple-800";case"Expert":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"STEM":return"bg-indigo-100 text-indigo-800";case"Humanities":return"bg-amber-100 text-amber-800";case"Arts":return"bg-pink-100 text-pink-800";case"Languages":return"bg-teal-100 text-teal-800";case"Social Sciences":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=({subject:v})=>{const j=l===v.id;return s.jsxs("div",{className:`bg-white rounded-2xl border transition-all duration-300 ${j?"border-indigo-300 shadow-2xl":"border-gray-200 shadow-lg hover:shadow-xl"}`,children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:s.jsx(Qr,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:v.subjectName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[v.subjectCode,"  ",v.department]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A(v.difficulty)}`,children:v.difficulty}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g(v.category)}`,children:v.category}),s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:[v.credits," Credits"]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:v.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(_w,{size:18,className:"text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(md,{size:18,className:"text-gray-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(pr,{size:14,className:"text-blue-600"}),s.jsx("span",{className:"font-bold text-gray-900",children:v.totalStudents})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Students"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(dr,{size:14,className:"text-orange-600"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[v.hoursPerWeek,"h"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Weekly"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(jn,{size:14,className:"text-green-600"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[v.performance.averageScore,"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Avg Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(ds,{size:14,className:"text-yellow-600"}),s.jsx("span",{className:"font-bold text-gray-900",children:v.performance.satisfaction})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Rating"})]})]}),s.jsx("button",{onClick:()=>c(j?null:v.id),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:j?s.jsxs(s.Fragment,{children:[s.jsx(EX,{size:16}),"Show Less"]}):s.jsxs(s.Fragment,{children:[s.jsx(mn,{size:16}),"Show Details"]})})]}),j&&s.jsxs("div",{className:"border-t border-gray-100 p-6 bg-gradient-to-b from-white to-gray-50/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Yn,{size:16,className:"text-indigo-600"}),"Teaching Team"]}),s.jsx("div",{className:"space-y-2",children:v.teachers.map((b,S)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-semibold text-indigo-700",children:b.split(" ").map(w=>w[0]).join("")})}),s.jsx("span",{className:"text-sm text-gray-700",children:b})]},S))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(tr,{size:16,className:"text-green-600"}),"Schedule & Grades"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Weekly Hours"}),s.jsxs("span",{className:"font-semibold",children:[v.hoursPerWeek,"h"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Credits"}),s.jsx("span",{className:"font-semibold",children:v.credits})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Grades"}),s.jsx("div",{className:"flex gap-1",children:v.grades.map(b=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:b},b))})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Mn,{size:16,className:"text-purple-600"}),"Performance Metrics"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Average Score"}),s.jsxs("span",{className:"font-semibold",children:[v.performance.averageScore,"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full",style:{width:`${v.performance.averageScore}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Pass Rate"}),s.jsxs("span",{className:"font-semibold",children:[v.performance.passRate,"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full",style:{width:`${v.performance.passRate}%`}})})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(kr,{size:16,className:"text-amber-600"}),"Resources"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"font-bold text-blue-700",children:v.resources.textbooks}),s.jsx("div",{className:"text-xs text-blue-600",children:"Textbooks"})]}),s.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"font-bold text-purple-700",children:v.resources.digital}),s.jsx("div",{className:"text-xs text-purple-600",children:"Digital"})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"font-bold text-green-700",children:v.resources.online}),s.jsx("div",{className:"text-xs text-green-600",children:"Modules"})]}),s.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"font-bold text-orange-700",children:v.resources.lab?"Yes":"No"}),s.jsx("div",{className:"text-xs text-orange-600",children:"Lab Access"})]})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-100",children:[s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(Mn,{size:16}),"Analytics"]}),s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-colors",children:[s.jsx(tr,{size:16}),"Schedule"]}),s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(pr,{size:16}),"Students"]})]})]})]})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 p-4 md:p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subject Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview and management of all academic subjects"})]}),s.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300",children:[s.jsx($s,{size:20}),"Add New Subject"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Subjects"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(Qr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.reduce((v,j)=>v+j.totalStudents,0)})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:s.jsx(pr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Performance"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"92%"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:s.jsx(cs,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Active Teachers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:s.jsx(Yn,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search subjects, teachers, departments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:e,onChange:v=>r(v.target.value)})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsxs("select",{className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",value:n,onChange:v=>a(v.target.value),children:[s.jsx("option",{value:"All",children:"All Grades"}),s.jsx("option",{value:"Grade 9",children:"Grade 9"}),s.jsx("option",{value:"Grade 10",children:"Grade 10"}),s.jsx("option",{value:"Grade 11",children:"Grade 11"}),s.jsx("option",{value:"Grade 12",children:"Grade 12"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(jw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsxs("select",{className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",value:d,onChange:v=>u(v.target.value),children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"students",children:"Most Students"}),s.jsx("option",{value:"performance",children:"Best Performance"}),s.jsx("option",{value:"difficulty",children:"Difficulty Level"})]})]}),s.jsxs("div",{className:"flex border border-gray-200 rounded-xl overflow-hidden",children:[s.jsx("button",{onClick:()=>o("grid"),className:`p-3 ${i==="grid"?"bg-indigo-50 text-indigo-600":"text-gray-600"}`,children:s.jsx(o4,{size:20})}),s.jsx("button",{onClick:()=>o("list"),className:`p-3 ${i==="list"?"bg-indigo-50 text-indigo-600":"text-gray-600"}`,children:s.jsx(l4,{size:20})})]}),s.jsxs("button",{className:"px-4 py-3 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(bm,{size:18}),s.jsx("span",{className:"hidden md:inline",children:"More Filters"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[s.jsx("button",{className:"px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium",children:"STEM"}),s.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Humanities"}),s.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Arts"}),s.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Languages"}),s.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"All Categories"})]})]})]}),s.jsx("div",{className:`${i==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"flex flex-col"} gap-6`,children:h.map(v=>s.jsx(x,{subject:v},v.id))}),s.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold text-gray-900",children:h.length})," subjects",s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-green-600 font-semibold",children:"All systems operational"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(nhe,{size:16}),"Print Report"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(is,{size:16}),"Export Data"]})]})]})]})})};let MVe={data:""},FVe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||MVe},PVe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IVe=/\/\*[^]*?\*\/|  +/g,PW=/\n+/g,X0=(t,e)=>{let r="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?X0(o,i):i+"{"+X0(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=X0(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=X0.p?X0.p(i,o):i+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},cf={},Jne=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Jne(t[r]);return e}return t},DVe=(t,e,r,n,a)=>{let i=Jne(t),o=cf[i]||(cf[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!cf[o]){let c=i!==t?t:(d=>{let u,h,m=[{}];for(;u=PVe.exec(d.replace(IVe,""));)u[4]?m.shift():u[3]?(h=u[3].replace(PW," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(PW," ").trim();return m[0]})(t);cf[o]=X0(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&cf.g?cf.g:null;return r&&(cf.g=cf[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(cf[o],e,n,l),o},LVe=(t,e,r)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":X0(l,""):l===!1?"":l}return n+a+(o??"")},"");function l_(t){let e=this||{},r=t.call?t(e.p):t;return DVe(r.unshift?r.raw?LVe(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,FVe(e.target),e.g,e.o,e.k)}let Zne,gP,vP;l_.bind({g:1});let Gf=l_.bind({k:1});function RVe(t,e,r,n){X0.p=e,Zne=t,gP=r,vP=n}function Um(t,e){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:gP&&gP()},l),r.o=/ *go\d+/.test(c),l.className=l_.apply(r,n)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),vP&&d[0]&&vP(l),Zne(d,l)}return a}}var OVe=t=>typeof t=="function",yP=(t,e)=>OVe(t)?t(e):t,UVe=(()=>{let t=0;return()=>(++t).toString()})(),HVe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),QVe=20,eae="default",tae=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return tae(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},zVe=[],$Ve={toasts:[],pausedAt:void 0,settings:{toastLimit:QVe}},Dg={},rae=(t,e=eae)=>{Dg[e]=tae(Dg[e]||$Ve,t),zVe.forEach(([r,n])=>{r===e&&n(Dg[e])})},sae=t=>Object.keys(Dg).forEach(e=>rae(t,e)),GVe=t=>Object.keys(Dg).find(e=>Dg[e].toasts.some(r=>r.id===t)),LD=(t=eae)=>e=>{rae(e,t)},VVe=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||UVe()}),a2=t=>(e,r)=>{let n=VVe(e,t,r);return LD(n.toasterId||GVe(n.id))({type:2,toast:n}),n.id},mo=(t,e)=>a2("blank")(t,e);mo.error=a2("error");mo.success=a2("success");mo.loading=a2("loading");mo.custom=a2("custom");mo.dismiss=(t,e)=>{let r={type:3,toastId:t};e?LD(e)(r):sae(r)};mo.dismissAll=t=>mo.dismiss(void 0,t);mo.remove=(t,e)=>{let r={type:4,toastId:t};e?LD(e)(r):sae(r)};mo.removeAll=t=>mo.remove(void 0,t);mo.promise=(t,e,r)=>{let n=mo.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?yP(e.success,a):void 0;return i?mo.success(i,{id:n,...r,...r==null?void 0:r.success}):mo.dismiss(n),a}).catch(a=>{let i=e.error?yP(e.error,a):void 0;i?mo.error(i,{id:n,...r,...r==null?void 0:r.error}):mo.dismiss(n)}),t};var WVe=Gf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qVe=Gf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KVe=Gf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XVe=Um("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WVe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qVe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KVe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,YVe=Gf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JVe=Um("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${YVe} 1s linear infinite;
`,ZVe=Gf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eWe=Gf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tWe=Um("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZVe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eWe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rWe=Um("div")`
  position: absolute;
`,sWe=Um("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nWe=Gf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aWe=Um("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nWe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iWe=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?F.createElement(aWe,null,e):e:r==="blank"?null:F.createElement(sWe,null,F.createElement(JVe,{...n}),r!=="loading"&&F.createElement(rWe,null,r==="error"?F.createElement(XVe,{...n}):F.createElement(tWe,{...n})))},oWe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lWe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,cWe="0%{opacity:0;} 100%{opacity:1;}",dWe="0%{opacity:1;} 100%{opacity:0;}",uWe=Um("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hWe=Um("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fWe=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=HVe()?[cWe,dWe]:[oWe(r),lWe(r)];return{animation:e?`${Gf(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gf(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};F.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?fWe(t.position||e||"top-center",t.visible):{opacity:0},i=F.createElement(iWe,{toast:t}),o=F.createElement(hWe,{...t.ariaProps},yP(t.message,t));return F.createElement(uWe,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):F.createElement(F.Fragment,null,i,o))});RVe(F.createElement);l_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var ji=mo;const df="http://localhost:5000",mWe=({setShowAdminHeader:t})=>{var Zt,Br;const[e,r]=F.useState("years"),[n,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState([]),[d,u]=F.useState([]),[h,m]=F.useState(""),[f,A]=F.useState({name:"",startDate:"",endDate:"",isActive:!1}),[g,x]=F.useState({name:"",academicYearId:"",order:""}),[v,j]=F.useState({name:"",classId:""}),[b,S]=F.useState({name:"",code:"",classId:""}),[w,N]=F.useState(null),[E,P]=F.useState(null),[_,B]=F.useState(null),[k,M]=F.useState(null),[T,H]=F.useState(""),[L,Q]=F.useState(""),[O,V]=F.useState(""),[ee,Y]=F.useState(""),[re,D]=F.useState(!1),[G,z]=F.useState(null),[K,oe]=F.useState({field:"name",order:"asc"}),[ue,ge]=F.useState({field:"order",order:"asc"}),[pe,ye]=F.useState({field:"name",order:"asc"}),[Pe,le]=F.useState({field:"name",order:"asc"}),[lt,ne]=F.useState(1),[J,ie]=F.useState(1),[Ce,Oe]=F.useState(1),[Re,ze]=F.useState(1),[ce,ae]=F.useState(10),[Se,We]=F.useState([]),[Je,tt]=F.useState([]),[Tt,ft]=F.useState([]),[vt,_t]=F.useState([]),et=F.useMemo(()=>{const _e=localStorage.getItem("token");return{"Content-Type":"application/json",authorization:_e?`Bearer ${_e}`:""}},[]),It=F.useMemo(()=>{if(!T.trim())return n;const _e=T.toLowerCase();return n.filter($e=>$e.name.toLowerCase().includes(_e)||$e.startDate&&new Date($e.startDate).toLocaleDateString().includes(_e))},[n,T]),Lt=F.useMemo(()=>{if(!L.trim())return i;const _e=L.toLowerCase();return i.filter($e=>{var Ot;return $e.name.toLowerCase().includes(_e)||((Ot=$e.order)==null?void 0:Ot.toString().includes(_e))})},[i,L]),Gt=F.useMemo(()=>{if(!O.trim())return l;const _e=O.toLowerCase();return l.filter($e=>{var lr;const Ot=((lr=i.find(Yt=>Yt._id===$e.classId))==null?void 0:lr.name)||"";return $e.name.toLowerCase().includes(_e)||Ot.toLowerCase().includes(_e)})},[l,O,i]),Rt=F.useMemo(()=>{if(!ee.trim())return d;const _e=ee.toLowerCase();return d.filter($e=>{var lr,Yt;const Ot=((lr=i.find(hr=>hr._id===$e.classId))==null?void 0:lr.name)||"";return $e.name.toLowerCase().includes(_e)||((Yt=$e.code)==null?void 0:Yt.toLowerCase().includes(_e))||Ot.toLowerCase().includes(_e)})},[d,ee,i]),mr=_e=>{console.error(_e),m("Unable to load academic data. Please retry.")},Ht=async()=>{const _e=await fetch(`${df}/api/academic/years`,{method:"GET",headers:et});if(!_e.ok)throw new Error("Failed to load academic years");const $e=await _e.json();a(Array.isArray($e)?$e:[])},Ge=async()=>{const _e=await fetch(`${df}/api/academic/classes`,{method:"GET",headers:et});if(!_e.ok)throw new Error("Failed to load classes");const $e=await _e.json();o(Array.isArray($e)?$e:[])},we=async()=>{const _e=await fetch(`${df}/api/academic/sections`,{method:"GET",headers:et});if(!_e.ok)throw new Error("Failed to load sections");const $e=await _e.json();c(Array.isArray($e)?$e:[])},Ze=async()=>{const _e=await fetch(`${df}/api/academic/subjects`,{method:"GET",headers:et});if(!_e.ok)throw new Error("Failed to load subjects");const $e=await _e.json();u(Array.isArray($e)?$e:[])};F.useEffect(()=>{t==null||t(!1),m(""),Promise.all([Ht(),Ge(),we(),Ze()]).catch(mr)},[t]);const qe=async(_e,$e,Ot)=>{m("");const lr=await fetch(`${df}${_e}`,{method:"POST",headers:et,body:JSON.stringify($e)});if(!lr.ok){const Yt=await lr.json().catch(()=>({}));throw new Error(Yt.error||"Request failed")}await lr.json().catch(()=>({})),await Ot()},st=async _e=>{_e.preventDefault();try{await qe("/api/academic/years",f,Ht),A({name:"",startDate:"",endDate:"",isActive:!1})}catch($e){mr($e)}},ct=async _e=>{_e.preventDefault();try{await qe("/api/academic/classes",g,Ge),x({name:"",academicYearId:"",order:""})}catch($e){mr($e)}},St=async _e=>{if(_e.preventDefault(),!v.classId){m("Select a class before creating a section.");return}try{await qe("/api/academic/sections",v,we),j({name:"",classId:""})}catch($e){mr($e)}},Xt=async _e=>{_e.preventDefault();try{await qe("/api/academic/subjects",b,Ze),S({name:"",code:"",classId:""})}catch($e){mr($e)}},Vt=async(_e,$e,Ot,lr)=>{m(""),D(!0);try{const Yt=await fetch(`${df}${_e}/${$e}`,{method:"PUT",headers:et,body:JSON.stringify(Ot)});if(!Yt.ok){const Rr=await Yt.json().catch(()=>({}));throw new Error(Rr.error||"Update failed")}await Yt.json(),await lr();const hr=_e.split("/").pop();ji.success(`${hr.slice(0,-1)} updated successfully!`)}catch(Yt){m(Yt.message),ji.error(Yt.message)}finally{D(!1)}},Pr=async _e=>{_e.preventDefault(),await Vt("/api/academic/years",w._id,{name:w.name,startDate:w.startDate,endDate:w.endDate,isActive:w.isActive},async()=>{await Ht(),N(null)})},sr=async _e=>{_e.preventDefault(),await Vt("/api/academic/classes",E._id,{name:E.name,academicYearId:E.academicYearId,order:E.order},async()=>{await Ge(),P(null)})},cr=async _e=>{if(_e.preventDefault(),!_.classId){m("Select a class before updating section.");return}await Vt("/api/academic/sections",_._id,{name:_.name,classId:_.classId},async()=>{await we(),B(null)})},Ts=async _e=>{_e.preventDefault(),await Vt("/api/academic/subjects",k._id,{name:k.name,code:k.code,classId:k.classId},async()=>{await Ze(),M(null)})},tn=async(_e,$e,Ot,lr)=>{if((await es.fire({title:"Are you sure?",text:`Do you want to delete this ${Ot}? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed){z($e);try{const hr=await fetch(`${df}${_e}/${$e}`,{method:"DELETE",headers:et});if(!hr.ok){const Rr=await hr.json().catch(()=>({}));if(hr.status===409&&(Rr.dependentCount||Rr.dependentSections||Rr.dependentSubjects))if((await es.fire({title:"Dependent Records Found",html:Rr.error+"<br><br>Do you want to delete this and all dependent records?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete all",cancelButtonText:"Cancel"})).isConfirmed){const fs=await fetch(`${df}${_e}/${$e}?cascade=true`,{method:"DELETE",headers:et});if(!fs.ok){const us=await fs.json().catch(()=>({}));throw new Error(us.error||"Delete failed")}const Or=await fs.json();await lr(),es.fire({title:"Deleted!",html:`${Ot} and ${Or.deletedSections||0} section(s), ${Or.deletedSubjects||0} subject(s) deleted.`,icon:"success",timer:3e3});return}else return;throw new Error(Rr.error||"Delete failed")}await lr(),es.fire({title:"Deleted!",text:`${Ot} has been deleted.`,icon:"success",timer:2e3,showConfirmButton:!1})}catch(hr){es.fire({title:"Error",text:hr.message,icon:"error"})}finally{z(null)}}},Ls=_e=>tn("/api/academic/years",_e,"academic year",Ht),on=_e=>tn("/api/academic/classes",_e,"class",Ge),hs=_e=>tn("/api/academic/sections",_e,"section",we),Rs=_e=>tn("/api/academic/subjects",_e,"subject",Ze),me=(_e,$e)=>$e.field?[..._e].sort((Ot,lr)=>{let Yt=Ot[$e.field],hr=lr[$e.field];return $e.field.includes("Date")&&(Yt=new Date(Yt||0),hr=new Date(hr||0)),typeof Yt=="string"&&(Yt=Yt.toLowerCase(),hr=(hr==null?void 0:hr.toLowerCase())||""),$e.field==="order"&&(Yt=Yt??0,hr=hr??0),Yt<hr?$e.order==="asc"?-1:1:Yt>hr?$e.order==="asc"?1:-1:0}):_e,ke=F.useMemo(()=>me(It,K),[It,K]),je=F.useMemo(()=>me(Lt,ue),[Lt,ue]),Ee=F.useMemo(()=>me(Gt,pe),[Gt,pe]),Fe=F.useMemo(()=>me(Rt,Pe),[Rt,Pe]),Be=F.useMemo(()=>{const _e=(lt-1)*ce;return ke.slice(_e,_e+ce)},[ke,lt,ce]),it=F.useMemo(()=>{const _e=(J-1)*ce;return je.slice(_e,_e+ce)},[je,J,ce]);F.useMemo(()=>{const _e=(Ce-1)*ce;return Ee.slice(_e,_e+ce)},[Ee,Ce,ce]),F.useMemo(()=>{const _e=(Re-1)*ce;return Fe.slice(_e,_e+ce)},[Fe,Re,ce]);const wt=(_e,$e)=>{const Ot={years:We,classes:tt,sections:ft,subjects:_t};({years:Se,classes:Je,sections:Tt,subjects:vt})[_e].length===$e.length&&$e.length>0?Ot[_e]([]):Ot[_e]($e.map(Yt=>Yt._id))},dt=(_e,$e)=>{const Ot={years:We,classes:tt,sections:ft,subjects:_t},lr={years:Se,classes:Je,sections:Tt,subjects:vt}[_e];lr.includes($e)?Ot[_e](lr.filter(Yt=>Yt!==$e)):Ot[_e]([...lr,$e])},ut=async(_e,$e)=>{const Ot={years:Se,classes:Je,sections:Tt,subjects:vt}[_e];if(Ot.length===0||!(await es.fire({title:"Bulk Delete",html:`Are you sure you want to delete <strong>${Ot.length}</strong> ${$e}(s)?<br>This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete all"})).isConfirmed)return;let Yt=0,hr=0;es.fire({title:"Deleting...",html:`Deleted: <b>0</b> / ${Ot.length}`,allowOutsideClick:!1,didOpen:()=>es.showLoading()});for(const Rr of Ot)try{const nr={years:"/api/academic/years",classes:"/api/academic/classes",sections:"/api/academic/sections",subjects:"/api/academic/subjects"}[_e];(await fetch(`${df}${nr}/${Rr}?cascade=true`,{method:"DELETE",headers:et})).ok?Yt++:hr++,es.update({html:`Deleted: <b>${Yt}</b> / ${Ot.length}${hr>0?` (${hr} failed)`:""}`})}catch{hr++}await Promise.all([Ht(),Ge(),we(),Ze()]),We([]),tt([]),ft([]),_t([]),es.fire({title:"Completed",html:`Successfully deleted <b>${Yt}</b> ${$e}(s)${hr>0?`<br>${hr} deletion(s) failed`:""}`,icon:Yt>0?"success":"error"})},xt=(_e,$e,Ot)=>{if(_e.length===0){ji.error("No data to export");return}const lr=Ot.map(fs=>fs.label).join(","),Yt=_e.map(fs=>Ot.map(Or=>{let us=Or.accessor(fs);return us instanceof Date&&(us=us.toLocaleDateString()),typeof us=="string"&&(us.includes(",")||us.includes('"'))&&(us=`"${us.replace(/"/g,'""')}"`),us||""}).join(",")),hr=[lr,...Yt].join(`
`),Rr=new Blob([hr],{type:"text/csv;charset=utf-8;"}),nr=document.createElement("a");nr.href=URL.createObjectURL(Rr),nr.download=`${$e}_${new Date().toISOString().split("T")[0]}.csv`,nr.click(),ji.success(`Exported ${_e.length} records to CSV`)},de=(_e,$e,Ot)=>{if(_e.length===0){ji.error("No data to export");return}const lr=_e.map(Rr=>{const nr={};return Ot.forEach(fs=>{nr[fs.label]=fs.accessor(Rr)}),nr}),Yt=WN.json_to_sheet(lr);Yt["!cols"]=Ot.map(Rr=>({wch:Rr.width||15}));const hr=WN.book_new();WN.book_append_sheet(hr,Yt,"Data"),cVe(hr,`${$e}_${new Date().toISOString().split("T")[0]}.xlsx`),ji.success(`Exported ${_e.length} records to Excel`)},Le=[{label:"Name",accessor:_e=>_e.name,width:20},{label:"Start Date",accessor:_e=>_e.startDate?new Date(_e.startDate).toLocaleDateString():"",width:15},{label:"End Date",accessor:_e=>_e.endDate?new Date(_e.endDate).toLocaleDateString():"",width:15},{label:"Active",accessor:_e=>_e.isActive?"Yes":"No",width:10}],Ve=[{label:"Name",accessor:_e=>_e.name,width:20},{label:"Order",accessor:_e=>_e.order??0,width:10},{label:"Academic Year",accessor:_e=>{var $e;return(($e=n.find(Ot=>Ot._id===_e.academicYearId))==null?void 0:$e.name)||""},width:20}],Qe=(_e,$e,Ot)=>s.jsxs("button",{type:"button",onClick:()=>r(_e),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${e===_e?"bg-yellow-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-yellow-50"}`,children:[s.jsx(Ot,{className:"w-4 h-4"}),$e]}),De=({value:_e,onChange:$e,placeholder:Ot})=>s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",value:_e,onChange:lr=>$e(lr.target.value),placeholder:Ot,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:outline-none text-sm"})}),yt=({isOpen:_e,onClose:$e,title:Ot,children:lr,onSubmit:Yt,isSubmitting:hr})=>_e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:Ot}),s.jsx("button",{type:"button",onClick:$e,className:"text-gray-500 hover:text-gray-700",disabled:hr,children:s.jsx(Gs,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Yt,children:[lr,s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:$e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:hr,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50",disabled:hr,children:hr?"Saving...":"Save Changes"})]})]})]})}):null,Ut=({label:_e,field:$e,sortConfig:Ot,onSort:lr})=>s.jsx("th",{onClick:()=>lr($e),className:"cursor-pointer px-4 py-3 text-left hover:bg-yellow-100 transition select-none bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:_e}),Ot.field===$e&&(Ot.order==="asc"?s.jsx(EX,{className:"w-4 h-4 text-yellow-600"}):s.jsx(mn,{className:"w-4 h-4 text-yellow-600"})),Ot.field!==$e&&s.jsx(mde,{className:"w-4 h-4 text-gray-400"})]})}),zt=({currentPage:_e,totalItems:$e,itemsPerPage:Ot,onPageChange:lr,onItemsPerPageChange:Yt})=>{const hr=Math.ceil($e/Ot),Rr=(_e-1)*Ot+1,nr=Math.min(_e*Ot,$e),fs=[],Or=5;let us=Math.max(1,_e-Math.floor(Or/2)),_a=Math.min(hr,us+Or-1);_a-us<Or-1&&(us=Math.max(1,_a-Or+1));for(let bs=us;bs<=_a;bs++)fs.push(bs);return $e===0?null:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-3 border-t border-gray-200 bg-gray-50 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",Rr," to ",nr," of ",$e," items"]}),s.jsxs("select",{value:Ot,onChange:bs=>Yt(Number(bs.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:25,children:"25 per page"}),s.jsx("option",{value:50,children:"50 per page"}),s.jsx("option",{value:100,children:"100 per page"})]})]}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{onClick:()=>lr(_e-1),disabled:_e===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),us>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>lr(1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:"1"}),us>2&&s.jsx("span",{className:"px-2 py-1 text-sm",children:"..."})]}),fs.map(bs=>s.jsx("button",{onClick:()=>lr(bs),className:`px-3 py-1 border rounded text-sm ${_e===bs?"bg-yellow-500 text-white border-yellow-500":"border-gray-300 hover:bg-gray-100"}`,children:bs},bs)),_a<hr&&s.jsxs(s.Fragment,{children:[_a<hr-1&&s.jsx("span",{className:"px-2 py-1 text-sm",children:"..."}),s.jsx("button",{onClick:()=>lr(hr),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:hr})]}),s.jsx("button",{onClick:()=>lr(_e+1),disabled:_e===hr,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-yellow-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Academic Setup"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage academic years, classes, sections, and subjects."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[Qe("years","Academic Years",tr),Qe("classes","Classes",jw),Qe("sections","Sections",Qr),Qe("subjects","Subjects",Qr)]})]}),h&&s.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:h}),e==="years"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("form",{onSubmit:st,className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Academic Year"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year Name"}),s.jsx("input",{type:"text",value:f.name,onChange:_e=>A($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"2025-2026",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),s.jsx("input",{type:"date",value:f.startDate,onChange:_e=>A($e=>({...$e,startDate:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),s.jsx("input",{type:"date",value:f.endDate,onChange:_e=>A($e=>({...$e,endDate:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:f.isActive,onChange:_e=>A($e=>({...$e,isActive:_e.target.checked})),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded"}),"Set as active"]}),s.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[s.jsx($s,{className:"w-4 h-4"}),"Add Year"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Academic Years"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>xt(ke,"academic_years",Le),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm",children:[s.jsx(is,{className:"w-4 h-4"}),"Export CSV"]}),s.jsxs("button",{onClick:()=>de(ke,"academic_years",Le),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(IR,{className:"w-4 h-4"}),"Export Excel"]})]}),Se.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-3 mb-4 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Se.length," item(s) selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>We([]),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-white",children:"Clear Selection"}),s.jsxs("button",{onClick:()=>ut("years","academic year"),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[s.jsx(Ni,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),s.jsx(De,{value:T,onChange:H,placeholder:"Search academic years..."}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-4 py-3 w-12 bg-gray-50",children:s.jsx("input",{type:"checkbox",checked:Se.length===Be.length&&Be.length>0,onChange:()=>wt("years",Be),className:"h-4 w-4 text-yellow-600 rounded"})}),s.jsx(Ut,{label:"Name",field:"name",sortConfig:K,onSort:_e=>oe($e=>({field:_e,order:$e.field===_e&&$e.order==="asc"?"desc":"asc"}))}),s.jsx(Ut,{label:"Start Date",field:"startDate",sortConfig:K,onSort:_e=>oe($e=>({field:_e,order:$e.field===_e&&$e.order==="asc"?"desc":"asc"}))}),s.jsx(Ut,{label:"End Date",field:"endDate",sortConfig:K,onSort:_e=>oe($e=>({field:_e,order:$e.field===_e&&$e.order==="asc"?"desc":"asc"}))}),s.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:s.jsx("span",{className:"font-semibold text-gray-700",children:"Status"})}),s.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:s.jsx("span",{className:"font-semibold text-gray-700",children:"Actions"})})]})}),s.jsx("tbody",{children:Be.map(_e=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:Se.includes(_e._id),onChange:()=>dt("years",_e._id),className:"h-4 w-4 text-yellow-600 rounded"})}),s.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:_e.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:_e.startDate?new Date(_e.startDate).toLocaleDateString():""}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:_e.endDate?new Date(_e.endDate).toLocaleDateString():""}),s.jsx("td",{className:"px-4 py-3",children:_e.isActive&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Active"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>N(_e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"Edit",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ls(_e._id),disabled:G===_e._id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition disabled:opacity-50",title:"Delete",children:s.jsx(Ni,{className:"w-4 h-4"})})]})})]},_e._id))})]}),Be.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:T?"No matching academic years found.":"No academic years yet."})]}),s.jsx(zt,{currentPage:lt,totalItems:ke.length,itemsPerPage:ce,onPageChange:ne,onItemsPerPageChange:ae})]})]}),e==="classes"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("form",{onSubmit:ct,className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Class"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Name"}),s.jsx("input",{type:"text",value:g.name,onChange:_e=>x($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"Grade 10",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Year"}),s.jsxs("select",{value:g.academicYearId,onChange:_e=>x($e=>({...$e,academicYearId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Optional"}),n.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),s.jsx("input",{type:"number",value:g.order,onChange:_e=>x($e=>({...$e,order:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"0"})]}),s.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[s.jsx($s,{className:"w-4 h-4"}),"Add Class"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Classes"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>xt(je,"classes",Ve),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm",children:[s.jsx(is,{className:"w-4 h-4"}),"Export CSV"]}),s.jsxs("button",{onClick:()=>de(je,"classes",Ve),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[s.jsx(IR,{className:"w-4 h-4"}),"Export Excel"]})]}),Je.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-3 mb-4 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Je.length," item(s) selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>tt([]),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-white",children:"Clear Selection"}),s.jsxs("button",{onClick:()=>ut("classes","class"),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[s.jsx(Ni,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),s.jsx(De,{value:L,onChange:Q,placeholder:"Search classes..."}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-4 py-3 w-12 bg-gray-50",children:s.jsx("input",{type:"checkbox",checked:Je.length===it.length&&it.length>0,onChange:()=>wt("classes",it),className:"h-4 w-4 text-yellow-600 rounded"})}),s.jsx(Ut,{label:"Name",field:"name",sortConfig:ue,onSort:_e=>ge($e=>({field:_e,order:$e.field===_e&&$e.order==="asc"?"desc":"asc"}))}),s.jsx(Ut,{label:"Order",field:"order",sortConfig:ue,onSort:_e=>ge($e=>({field:_e,order:$e.field===_e&&$e.order==="asc"?"desc":"asc"}))}),s.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:s.jsx("span",{className:"font-semibold text-gray-700",children:"Academic Year"})}),s.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:s.jsx("span",{className:"font-semibold text-gray-700",children:"Actions"})})]})}),s.jsx("tbody",{children:it.map(_e=>{var $e;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:Je.includes(_e._id),onChange:()=>dt("classes",_e._id),className:"h-4 w-4 text-yellow-600 rounded"})}),s.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:_e.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:_e.order??0}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:(($e=n.find(Ot=>Ot._id===_e.academicYearId))==null?void 0:$e.name)||""}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>P(_e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"Edit",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>on(_e._id),disabled:G===_e._id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition disabled:opacity-50",title:"Delete",children:s.jsx(Ni,{className:"w-4 h-4"})})]})})]},_e._id)})})]}),it.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:L?"No matching classes found.":"No classes yet."})]}),s.jsx(zt,{currentPage:J,totalItems:je.length,itemsPerPage:ce,onPageChange:ie,onItemsPerPageChange:ae})]})]}),e==="sections"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("form",{onSubmit:St,className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Section"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Section Name"}),s.jsx("input",{type:"text",value:v.name,onChange:_e=>j($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"A",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class"}),s.jsxs("select",{value:v.classId,onChange:_e=>j($e=>({...$e,classId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0,children:[s.jsx("option",{value:"",children:"Select class"}),i.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]}),s.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[s.jsx($s,{className:"w-4 h-4"}),"Add Section"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Sections"}),s.jsx(De,{value:O,onChange:V,placeholder:"Search sections..."}),s.jsxs("div",{className:"space-y-3",children:[Gt.map(_e=>{var $e;return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:_e.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Class: ",(($e=i.find(Ot=>Ot._id===_e.classId))==null?void 0:$e.name)||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>B(_e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>hs(_e._id),disabled:G===_e._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50",title:"Delete",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]},_e._id)}),Gt.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:O?"No matching sections found.":"No sections yet."})]})]})]}),e==="subjects"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("form",{onSubmit:Xt,className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Subject"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Name"}),s.jsx("input",{type:"text",value:b.name,onChange:_e=>S($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"Mathematics",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Code"}),s.jsx("input",{type:"text",value:b.code,onChange:_e=>S($e=>({...$e,code:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"MATH101"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class (optional)"}),s.jsxs("select",{value:b.classId,onChange:_e=>S($e=>({...$e,classId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"All classes"}),i.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]}),s.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[s.jsx($s,{className:"w-4 h-4"}),"Add Subject"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Subjects"}),s.jsx(De,{value:ee,onChange:Y,placeholder:"Search subjects..."}),s.jsxs("div",{className:"space-y-3",children:[Rt.map(_e=>{var $e;return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:_e.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[_e.code||"No code"," "," ",(($e=i.find(Ot=>Ot._id===_e.classId))==null?void 0:$e.name)||"All classes"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>M(_e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Rs(_e._id),disabled:G===_e._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50",title:"Delete",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]},_e._id)}),Rt.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:ee?"No matching subjects found.":"No subjects yet."})]})]})]}),s.jsx(yt,{isOpen:w!==null,onClose:()=>N(null),title:"Edit Academic Year",onSubmit:Pr,isSubmitting:re,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year Name"}),s.jsx("input",{type:"text",value:(w==null?void 0:w.name)||"",onChange:_e=>N($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),s.jsx("input",{type:"date",value:((Zt=w==null?void 0:w.startDate)==null?void 0:Zt.split("T")[0])||"",onChange:_e=>N($e=>({...$e,startDate:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),s.jsx("input",{type:"date",value:((Br=w==null?void 0:w.endDate)==null?void 0:Br.split("T")[0])||"",onChange:_e=>N($e=>({...$e,endDate:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:(w==null?void 0:w.isActive)||!1,onChange:_e=>N($e=>({...$e,isActive:_e.target.checked})),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded"}),"Set as active"]})]})}),s.jsx(yt,{isOpen:E!==null,onClose:()=>P(null),title:"Edit Class",onSubmit:sr,isSubmitting:re,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Name"}),s.jsx("input",{type:"text",value:(E==null?void 0:E.name)||"",onChange:_e=>P($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Year"}),s.jsxs("select",{value:(E==null?void 0:E.academicYearId)||"",onChange:_e=>P($e=>({...$e,academicYearId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Optional"}),n.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),s.jsx("input",{type:"number",value:(E==null?void 0:E.order)??"",onChange:_e=>P($e=>({...$e,order:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"0"})]})]})}),s.jsx(yt,{isOpen:_!==null,onClose:()=>B(null),title:"Edit Section",onSubmit:cr,isSubmitting:re,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Section Name"}),s.jsx("input",{type:"text",value:(_==null?void 0:_.name)||"",onChange:_e=>B($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class"}),s.jsxs("select",{value:(_==null?void 0:_.classId)||"",onChange:_e=>B($e=>({...$e,classId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0,children:[s.jsx("option",{value:"",children:"Select class"}),i.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]})]})}),s.jsx(yt,{isOpen:k!==null,onClose:()=>M(null),title:"Edit Subject",onSubmit:Ts,isSubmitting:re,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Name"}),s.jsx("input",{type:"text",value:(k==null?void 0:k.name)||"",onChange:_e=>M($e=>({...$e,name:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Code"}),s.jsx("input",{type:"text",value:(k==null?void 0:k.code)||"",onChange:_e=>M($e=>({...$e,code:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"MATH101"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class (optional)"}),s.jsxs("select",{value:(k==null?void 0:k.classId)||"",onChange:_e=>M($e=>({...$e,classId:_e.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"All classes"}),i.map(_e=>s.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]})]})})]})})},pWe=({setShowAdminHeader:t})=>{F.useEffect(()=>{t(!1)},[]);const e=[{id:1,name:"John Smith",class:"10-A",status:"Present",checkInTime:"08:30 AM",totalPresent:45,totalAbsent:2},{id:2,name:"Emma Wilson",class:"10-A",status:"Absent",checkInTime:"-",totalPresent:42,totalAbsent:5},{id:3,name:"Michael Brown",class:"10-B",status:"Present",checkInTime:"08:45 AM",totalPresent:44,totalAbsent:3}],r=()=>{const n=new gr,a=n.internal.pageSize.width,i=new Date().toLocaleDateString();n.setFontSize(20),n.setFont(void 0,"bold"),n.text("Student Attendance Report",a/2,30,{align:"center"}),n.setFontSize(12),n.setFont(void 0,"normal"),n.text(`Generated on: ${i}`,a/2,45,{align:"center"}),n.setFontSize(10),n.setFont(void 0,"bold");const o=70,l=15;n.text("Student Name",20,o),n.text("Class",80,o),n.text("Status",110,o),n.text("Check-in Time",140,o),n.text("Present Days",170,o),n.text("Absent Days",190,o),n.line(15,o+5,a-15,o+5),n.setFont(void 0,"normal"),e.forEach((m,f)=>{const A=o+l+f*l;n.text(m.name,20,A),n.text(m.class,80,A),n.text(m.status,110,A),n.text(m.checkInTime,140,A),n.text(m.totalPresent.toString(),170,A),n.text(m.totalAbsent.toString(),190,A)});const c=o+l+e.length*l+20;n.setFont(void 0,"bold"),n.text("Summary:",20,c),n.setFont(void 0,"normal");const d=e.length,u=e.filter(m=>m.status==="Present").length,h=d-u;n.text(`Total Students: ${d}`,20,c+15),n.text(`Present Today: ${u}`,20,c+30),n.text(`Absent Today: ${h}`,20,c+45),n.save(`attendance-report-${i.replace(/\//g,"-")}.pdf`)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Attendance"}),s.jsx("p",{className:"text-yellow-100",children:"Track and manage student attendance"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(pd,{className:"w-12 h-12 text-yellow-200"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xo,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Classes"}),s.jsx("option",{value:"10a",children:"Class 10-A"}),s.jsx("option",{value:"10b",children:"Class 10-B"}),s.jsx("option",{value:"11a",children:"Class 11-A"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"w-5 h-5 text-gray-500"}),s.jsx("input",{type:"date",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),s.jsxs("button",{onClick:r,className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Report"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Student"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Check-in Time"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Total Present"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Total Absent"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(n=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(pr,{className:"h-5 w-5 text-yellow-600"})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:n.name})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:["Class ",n.class]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${n.status==="Present"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:n.checkInTime})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[n.totalPresent," days"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[n.totalAbsent," days"]})})]},n.id))})]})})})]})},AWe=({setShowAdminHeader:t})=>{F.useEffect(()=>{t==null||t(!0)},[t]);const[e,r]=F.useState(""),[n,a]=F.useState(""),i=Array.from({length:12},(u,h)=>`Class ${h+1}`),o=["A","B","C","D"],l={"Class 1":{A:[{id:1,name:"Aarav Sharma",rollNo:"001",subjects:{English:85,Math:92,Science:78,History:88}},{id:2,name:"Priya Verma",rollNo:"002",subjects:{English:90,Math:87,Science:82,History:91}},{id:3,name:"Rohan Patel",rollNo:"003",subjects:{English:75,Math:83,Science:79,History:84}}],B:[{id:4,name:"Sneha Singh",rollNo:"004",subjects:{English:88,Math:85,Science:91,History:86}},{id:5,name:"Vikram Rao",rollNo:"005",subjects:{English:82,Math:89,Science:77,History:83}}]},"Class 2":{A:[{id:6,name:"Kavya Nair",rollNo:"006",subjects:{English:93,Math:88,Science:85,History:90}},{id:7,name:"Aditya Joshi",rollNo:"007",subjects:{English:79,Math:91,Science:83,History:87}}],B:[{id:8,name:"Isha Mehra",rollNo:"008",subjects:{English:87,Math:84,Science:89,History:85}}]}},c=async u=>{const h=new gr,m=h.internal.pageSize.width,f=h.internal.pageSize.height,A=10,g=m-2*A,x=Y=>new Promise((re,D)=>{const G=new Image;G.onload=()=>re(G),G.onerror=D,G.src=Y});let v,j;try{v=await x("/NIF LOGO crop.png"),j=await x("/80.jpg")}catch(Y){console.warn("Could not load images:",Y)}h.setDrawColor(200,150,150),h.setLineWidth(1),h.rect(5,5,m-10,f-10);let b=12;h.setDrawColor(0),h.setLineWidth(.5),h.rect(A,b,g,35),v?h.addImage(v,"PNG",15,b+5,20,20):(h.setDrawColor(0),h.setLineWidth(.5),h.rect(15,b+5,20,20),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("EEC",25,b+13,{align:"center"}),h.text("LOGO",25,b+18,{align:"center"})),h.setFontSize(14),h.setFont("helvetica","bold"),h.setTextColor(220,20,60),h.text("ELECTRONIC EDUCARE",m/2,b+12,{align:"center"}),h.setFontSize(7),h.setFont("helvetica","normal"),h.setTextColor(0),h.text("Citimart, New Market, Esplanade, Kolkata",m/2,b+18,{align:"center"}),h.text("Phone: +91 9830590929 | Email: info@electroniceducare.com",m/2,b+22,{align:"center"}),h.setFontSize(8),h.setFont("helvetica","bold"),h.text("Annual Term (Session 2024-2025)",m/2,b+30,{align:"center"}),h.setDrawColor(0),h.circle(m-25,b+15,10),h.setFontSize(5),h.setFont("helvetica","bold"),h.text("CBSE",m-25,b+16,{align:"center"}),b+=40,h.setFillColor(240,240,240),h.rect(A,b,20,12,"F"),h.setDrawColor(0),h.rect(A,b,20,12),h.setFontSize(8),h.setFont("helvetica","bold"),h.text("class",15,b+6),h.text(e.split(" ")[1]||"I",18,b+10),b+=15,h.setFontSize(7),h.setFont("helvetica","normal"),h.text("Student's Name:",15,b),h.text(u.name,50,b),h.text("Father's Name:",15,b+5),h.text("Mr. "+(u.name.split(" ")[1]||"Father Name"),50,b+5),h.text("Mother's Name:",15,b+10),h.text("Mrs. "+(u.name.split(" ")[1]||"Mother Name"),50,b+10),h.text("Date of Birth:",15,b+15),h.text("01/01/2010",50,b+15),h.text("Height:",15,b+20),h.text("152 CM",50,b+20),h.text("Class:",110,b),h.text(e,125,b),h.text("Section:",110,b+5),h.text(n,125,b+5),h.text("Roll No.:",110,b+10),h.text(u.rollNo,125,b+10),h.text("House:",110,b+15),h.text("Blue House",125,b+15),h.text("Weight:",110,b+20),h.text("40 KG",125,b+20),j?h.addImage(j,"JPEG",m-30,b,20,25):(h.setDrawColor(0),h.rect(m-30,b,20,25),h.setFontSize(5),h.text("STUDENT",m-20,b+10,{align:"center"}),h.text("PHOTO",m-20,b+15,{align:"center"})),b+=30;const S={English:{periodicTest:8,notebook:4,subEnrichment:4,halfYearly:78,total:94,grade:"A2"},Hindi:{periodicTest:8,notebook:4,subEnrichment:4,halfYearly:75,total:91,grade:"A1"},Maths:{periodicTest:u.subjects.Math?Math.floor(u.subjects.Math/10):9,notebook:5,subEnrichment:5,halfYearly:u.subjects.Math||85,total:(u.subjects.Math||85)+19,grade:"A1"},Science:{periodicTest:u.subjects.Science?Math.floor(u.subjects.Science/10):7,notebook:4,subEnrichment:4,halfYearly:u.subjects.Science||72,total:(u.subjects.Science||72)+15,grade:"B1"},"Social Science":{periodicTest:u.subjects.History?Math.floor(u.subjects.History/10):8,notebook:4,subEnrichment:4,halfYearly:u.subjects.History||80,total:(u.subjects.History||80)+16,grade:"A2"}};h.setFillColor(220,220,220),h.rect(A,b,g,15,"F"),h.setDrawColor(0),h.rect(A,b,g,15);const w=35,N=15,E=15,P=20,_=20,B=20;h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Subjects",A+15,b+5),h.text("Scholastic Areas",A+w+30,b+3),h.text("Total",A+w+N+E+P+_+5,b+5),h.text("Grade",A+w+N+E+P+_+B+5,b+5),h.text("Periodic",A+w+5,b+8),h.text("Note",A+w+N+3,b+8),h.text("Sub",A+w+N+E+5,b+8),h.text("Half",A+w+N+E+P+3,b+8),h.text("(100)",A+w+N+E+P+_+3,b+8),h.text("Test(10)",A+w+3,b+12),h.text("Book(5)",A+w+N+1,b+12),h.text("Enrich(5)",A+w+N+E+1,b+12),h.text("Yearly(80)",A+w+N+E+P-2,b+12);let k=A+w;h.line(k,b,k,b+15),k+=N,h.line(k,b,k,b+15),k+=E,h.line(k,b,k,b+15),k+=P,h.line(k,b,k,b+15),k+=_,h.line(k,b,k,b+15),k+=B,h.line(k,b,k,b+15),b+=15,Object.entries(S).forEach(([Y,re],D)=>{D%2===0&&(h.setFillColor(248,248,248),h.rect(A,b,g,10,"F")),h.setDrawColor(0),h.rect(A,b,g,10),h.setFontSize(6),h.setFont("helvetica","normal"),h.text(Y,A+2,b+6),h.text(re.periodicTest.toString(),A+w+5,b+6),h.text(re.notebook.toString(),A+w+N+5,b+6),h.text(re.subEnrichment.toString(),A+w+N+E+7,b+6),h.text(re.halfYearly.toString(),A+w+N+E+P+5,b+6),h.text(re.total.toString(),A+w+N+E+P+_+5,b+6),h.text(re.grade,A+w+N+E+P+_+B+8,b+6),k=A+w,h.line(k,b,k,b+10),k+=N,h.line(k,b,k,b+10),k+=E,h.line(k,b,k,b+10),k+=P,h.line(k,b,k,b+10),k+=_,h.line(k,b,k,b+10),k+=B,h.line(k,b,k,b+10),b+=10}),h.setFillColor(220,220,220),h.rect(A,b,g,10,"F"),h.setDrawColor(0),h.rect(A,b,g,10),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Attendance",A+2,b+6),h.text("95/105",A+w+5,b+6);const M=Object.values(S).reduce((Y,re)=>Y+re.total,0),T=Object.keys(S).length*100,H=(M/T*100).toFixed(1);h.text("Total Marks:",A+w+N+5,b+6),h.text(`${M}/${T}`,A+w+N+E+P+5,b+6),h.text("Percentage:",A+w+N+E+P+_+2,b+6),h.text(`${H}%`,A+w+N+E+P+_+B+5,b+6),b+=15,h.setFillColor(240,240,240),h.rect(A,b,g,6,"F"),h.setDrawColor(0),h.rect(A,b,g,6),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Co-scholastic Activities Area (3-point scale)",A+5,b+4),b+=8,[{activity:"Work Education",grade:"A"},{activity:"Art Education",grade:"B"},{activity:"Physical Education",grade:"A"}].forEach((Y,re)=>{h.setDrawColor(0),h.rect(A,b,g,6),h.setFontSize(6),h.setFont("helvetica","normal"),h.text(Y.activity,A+5,b+4),h.text(Y.grade,A+80,b+4),b+=6}),b+=8,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Grade Scale: A1(91-100) A2(81-90) B1(71-80) B2(61-70) C1(51-60) C2(41-50) D(33-40) E(<33)",A,b),b+=10,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Remarks:",A,b),h.setFont("helvetica","normal");let Q;const O=parseFloat(H);O>=90?Q="Excellent performance! Keep up the outstanding work.":O>=75?Q="Very good performance. Continue your efforts.":O>=60?Q="Good work. Focus on weaker areas for improvement.":O>=33?Q="Needs improvement. Please work harder.":Q="Requires immediate attention and support.",h.text(Q,A,b+6),b+=15,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("On promotion/ You are promoted to class:",A,b),h.setFont("helvetica","normal");const V=parseInt(e.split(" ")[1]||"1")+1;h.text(`Class ${V}`,A+80,b);const ee=Math.min(b+20,f-30);h.setDrawColor(0),h.setLineWidth(.5),h.setFontSize(6),h.setFont("helvetica","normal"),h.line(15,ee,65,ee),h.text("Parent's Signature",30,ee+8),h.line(m/2-25,ee,m/2+25,ee),h.text("Class Teacher Signature",m/2-15,ee+8),h.line(m-65,ee,m-15,ee),h.text("Principal Signature",m-45,ee+8),h.save(`${u.name}_Report_Card_${e}_Section_${n}_2024-25.pdf`)},d=()=>{var u;return!e||!n?[]:((u=l[e])==null?void 0:u[n])||[]};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Results"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:e,onChange:u=>r(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Choose a class"}),i.map(u=>s.jsx("option",{value:u,children:u},u))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Section"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:n,onChange:u=>a(u.target.value),disabled:!e,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Choose a section"}),o.map(u=>s.jsxs("option",{value:u,children:["Section ",u]},u))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]})]})]}),e&&n&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[e," - Section ",n," Results"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects & Marks"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d().map(u=>{const h=Object.values(u.subjects).reduce((f,A)=>f+A,0),m=(h/(Object.keys(u.subjects).length*100)*100).toFixed(1);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.rollNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsx("div",{className:"space-y-1",children:Object.entries(u.subjects).map(([f,A])=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-2 py-1 rounded",children:[s.jsxs("span",{className:"font-medium",children:[f,":"]}),s.jsxs("span",{className:"text-blue-600 font-semibold",children:[A,"/100"]})]},f))})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[h,"/",Object.keys(u.subjects).length*100]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m>=90?"bg-green-100 text-green-800":m>=80?"bg-blue-100 text-blue-800":m>=70?"bg-yellow-100 text-yellow-800":m>=60?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[m,"%"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("button",{onClick:()=>c(u),className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition-colors",children:[s.jsx(is,{size:14,className:"mr-1"}),"Report Card"]})})]},u.id)})})]})}),d().length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No student results available for the selected class and section."})]})]}),(!e||!n)&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Select Class and Section"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select both class and section to view student results."})]})})]})},RB="http://localhost:5000",Xj=[{value:"ADV_CERT",label:"Advance Certificate (1 / 2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],Tp=["Fashion Design","Interior Design"],Yc={value:"ALL",label:"All Programs"},R0="ALL",Mp="ALL",IW=t=>{switch(t){case"ADV_CERT":return[1,2];case"B_VOC":return[1,2,3];case"M_VOC":return[1,2];case"B_DES":return[1,2,3,4];default:return[]}},xWe=({setShowAdminHeader:t})=>{const e=mi(),[r,n]=F.useState(Xj),[a,i]=F.useState({}),[o,l]=F.useState(Tp),[c,d]=F.useState(Yc.value),[u,h]=F.useState(R0),[m,f]=F.useState(Mp),[A,g]=F.useState("active"),[x,v]=F.useState([]),[j,b]=F.useState(!1),[S,w]=F.useState(""),[N,E]=F.useState("");F.useEffect(()=>{t==null||t(!1)},[t]);const P=F.useMemo(()=>c===Yc.value?[]:IW(c),[c]);F.useEffect(()=>{(async()=>{var V;try{const ee=await fetch(`${RB}/api/nif/course/fetch`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ee.ok)return;const Y=await ee.json();if(!Array.isArray(Y)||!Y.length)return;const re={};Y.forEach(z=>{var oe;const K=z.programType||"ADV_CERT";re[K]||(re[K]={label:z.programLabel||((oe=Xj.find(ue=>ue.value===K))==null?void 0:oe.label)||K,streams:new Set}),z.department&&re[K].streams.add(z.department)});const D=Object.entries(re).map(([z,K])=>({value:z,label:K.label}));if(D.length){const z=Xj.map(oe=>D.find(ge=>ge.value===oe.value)||oe),K=D.filter(oe=>!Xj.some(ue=>ue.value===oe.value));n([...z,...K])}const G=Object.fromEntries(Object.entries(re).map(([z,K])=>[z,Array.from(K.streams)]));i(G),c!==Yc.value&&!((V=G[c])!=null&&V.length)&&(d(Yc.value),f(Mp))}catch(ee){console.error("Failed to load course filters",ee)}})()},[c]),F.useEffect(()=>{if(c===Yc.value){l(Tp),u!==R0&&!Tp.includes(u)&&h(Tp[0]||R0);return}const O=a[c];O!=null&&O.length?(l(O),u!==R0&&!O.includes(u)&&h(O[0])):(l(Tp),u!==R0&&!Tp.includes(u)&&h(Tp[0]))},[c,a,u]);const _=async()=>{b(!0),w("");try{const O=new URLSearchParams;c!==Yc.value&&O.append("programType",c),u!==R0&&O.append("course",u),c!==Yc.value&&m!==Mp&&O.append("year",String(m)),A==="archived"?O.append("archived","true"):A==="all"?O.append("archived","all"):O.append("archived","false");const V=O.toString().length>0?`${RB}/api/nif/fees?${O.toString()}`:`${RB}/api/nif/fees`,ee=await fetch(V,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),Y=await ee.json();if(!ee.ok)throw new Error(Y.message||"Failed to fetch fee records");v(Array.isArray(Y)?Y:[])}catch(O){w(O.message)}finally{b(!1)}};F.useEffect(()=>{_()},[c,u,m,A]);const B=F.useMemo(()=>{if(!N)return x;const O=N.toLowerCase();return x.filter(V=>{var ee,Y;return((ee=V.name)==null?void 0:ee.toLowerCase().includes(O))||((Y=V.roll)==null?void 0:Y.toLowerCase().includes(O))})},[x,N]),k=F.useMemo(()=>{if(!x.length)return{totalStudents:0,totalDue:0,totalCollected:0,totalPending:0};const O=x.length,V=x.reduce((re,D)=>re+Number(D.totalFee||0),0),ee=x.reduce((re,D)=>re+Number(D.paidAmount||0),0),Y=x.reduce((re,D)=>re+Number(D.dueAmount||0),0);return{totalStudents:O,totalDue:V,totalCollected:ee,totalPending:Y}},[x]),M=O=>{O!=null&&O.feeRecordId&&e(`/admin/fees/student-details?record=${O.feeRecordId}`,{state:{feeRecordId:O.feeRecordId}})},T=()=>{var re;if(!x.length)return;const O=new gr,V=O.internal.pageSize.width,ee=new Date().toLocaleDateString();let Y=20;O.setFontSize(18),O.text("NIF Fees Collection Report",V/2,Y,{align:"center"}),Y+=10,O.setFontSize(11),O.text(`Program: ${c===Yc.value?"All":((re=r.find(D=>D.value===c))==null?void 0:re.label)||c} | Stream: ${u===R0?"All":u} | Year: ${m===Mp?"All":m}`,V/2,Y,{align:"center"}),Y+=6,O.text(`Generated on: ${ee}`,V/2,Y,{align:"center"}),Y+=10,O.setFontSize(10),O.text(`Total Students: ${k.totalStudents}`,20,Y),Y+=5,O.text(`Total Fees: ${k.totalDue.toLocaleString()}`,20,Y),Y+=5,O.text(`Collected: ${k.totalCollected.toLocaleString()}`,20,Y),Y+=5,O.text(`Pending: ${k.totalPending.toLocaleString()}`,20,Y),Y+=10,O.setFontSize(9),O.text("Name",10,Y),O.text("Roll",50,Y),O.text("Total",90,Y),O.text("Paid",120,Y),O.text("Due",150,Y),O.text("Status",175,Y),Y+=4,O.line(10,Y,V-10,Y),Y+=6,B.forEach(D=>{Y>270&&(O.addPage(),Y=20),O.text(D.name||"-",10,Y),O.text(D.roll||"-",50,Y),O.text(`${Number(D.totalFee||0).toLocaleString()}`,90,Y),O.text(`${Number(D.paidAmount||0).toLocaleString()}`,120,Y),O.text(`${Number(D.dueAmount||0).toLocaleString()}`,150,Y),O.text(D.status||"-",175,Y),Y+=6}),O.save(`nif-fees-${c}-${u}-year${m}-${ee.replace(/\//g,"-")}.pdf`)},H=[{label:"Total Students",value:k.totalStudents,icon:pr},{label:"Total Fees",value:`${k.totalDue.toLocaleString()}`,icon:$0},{label:"Collected",value:`${k.totalCollected.toLocaleString()}`,icon:iA},{label:"Pending",value:`${k.totalPending.toLocaleString()}`,icon:Ir}],L=O=>{switch(O){case"paid":return"bg-green-100 text-green-700";case"partial":return"bg-yellow-100 text-yellow-700";case"discounted":return"bg-amber-100 text-amber-700";case"due":default:return"bg-red-100 text-red-700"}},Q=(O="")=>{var V;return O==="discounted"?"DISCOUNT":((V=O==null?void 0:O.toUpperCase)==null?void 0:V.call(O))||""};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"NIF Fees Collection"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Type"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:c,onChange:O=>{const V=O.target.value;if(d(V),V===Yc.value)f(Mp);else{const ee=IW(V);ee.includes(Number(m))||f(ee[0]||1)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:Yc.value,children:Yc.label}),r.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stream"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:u,onChange:O=>h(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:R0,children:"All Streams"}),o.map(O=>s.jsx("option",{value:O,children:O},O))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsxs("div",{className:"relative",children:[c===Yc.value?s.jsx("select",{value:Mp,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500",children:s.jsx("option",{value:Mp,children:"All Years"})}):s.jsx("select",{value:m,onChange:O=>f(Number(O.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:P.map(O=>s.jsxs("option",{value:O,children:["Year ",O]},O))}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Records"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:A,onChange:O=>g(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"archived",children:"Archived"}),s.jsx("option",{value:"all",children:"All"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:H.map(O=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:O.label}),s.jsx("p",{className:"text-xl font-semibold text-gray-900 mt-1",children:O.value})]}),s.jsx(O.icon,{className:"w-8 h-8 text-yellow-500"})]},O.label))}),S&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:S}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsx("div",{className:"flex-1 w-full",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:N,onChange:O=>E(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Search by student name or roll"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Records"}),s.jsxs("select",{value:A,onChange:O=>g(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"archived",children:"Archived"}),s.jsx("option",{value:"all",children:"All"})]})]}),s.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800",children:[s.jsx(is,{size:16}),"Export Report"]}),s.jsxs("button",{onClick:_,disabled:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800 disabled:opacity-50",children:[j&&s.jsx(au,{className:"w-4 h-4 animate-spin"}),"Refresh"]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Student"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Stream"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Total Fee"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Paid"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),s.jsxs("tbody",{children:[j&&s.jsx("tr",{children:s.jsxs("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:[s.jsx(au,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading fee records..."]})}),!j&&!B.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-400",children:"No fee records found for the selected filters."})}),!j&&B.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:O.name}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.roll}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.program}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.course}),s.jsxs("td",{className:"px-4 py-3 text-right text-gray-900",children:["",Number(O.totalFee||0).toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["",Number(O.paidAmount||0).toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:["",Number(O.dueAmount||0).toLocaleString()]}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${L(O.status)}`,children:Q(O.status)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("button",{onClick:()=>M(O),className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded border border-purple-300 hover:bg-green-50 text-black",children:[s.jsx(Is,{size:12}),"Fee Breakup"]})})]},O.feeRecordId))]})]})})})]})},gWe="http://localhost:5000",vWe=({setShowAdminHeader:t})=>{F.useEffect(()=>{t(!1)},[t]);const[e,r]=F.useState(""),[n,a]=F.useState("Last 30 Days"),[i,o]=F.useState(null),[l,c]=F.useState(!0),[d,u]=F.useState("");F.useEffect(()=>{const w=new AbortController;return(async()=>{u(""),c(!0);try{const E=await fetch(`${gWe}/api/nif/fees/dashboard-summary`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},signal:w.signal}),P=await E.json().catch(()=>({}));if(!E.ok)throw new Error(P.message||"Failed to load fees dashboard data");o(P)}catch(E){if(w.signal.aborted)return;console.error(E),u(E.message||"Failed to load dashboard data")}finally{w.signal.aborted||c(!1)}})(),()=>w.abort()},[]);const h=(i==null?void 0:i.totals)||{totalOutstanding:0,overduePayments:0,totalEnrolled:0},m=(i==null?void 0:i.enrollment)||[],f=(i==null?void 0:i.outstandingSegments)||[],A=(i==null?void 0:i.recentPayments)||[],g=F.useMemo(()=>A.filter(w=>w.studentName.toLowerCase().includes(e.toLowerCase())||w.program.toLowerCase().includes(e.toLowerCase())),[A,e]),x=(w=0)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(w),v=w=>w==="Paid"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",j=F.useMemo(()=>{const w=new Date,N=[];for(let P=6;P>=0;P-=1){const _=new Date(w);_.setDate(w.getDate()-P);const B=_.toISOString().split("T")[0];N.push({key:B,label:_.toLocaleDateString("en-IN",{day:"numeric",month:"short"}),value:0})}const E=N.reduce((P,_)=>(P.set(_.key,_),P),new Map);return A.forEach(P=>{if(!P.paidOn)return;const _=new Date(P.paidOn).toISOString().split("T")[0];E.has(_)&&(E.get(_).value+=Number(P.amount||0))}),N},[A]),b=Math.max(...j.map(w=>w.value),1),S=()=>{alert("Generating comprehensive fees report...")};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading the latest fee analytics..."]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"p-8",children:[d&&s.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 text-red-700 px-4 py-3 text-sm",children:d}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Outstanding"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-full",children:s.jsx(dr,{className:"w-5 h-5 text-amber-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x(h.totalOutstanding)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Live balance pending across all records"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Overdue Payments"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-full",children:s.jsx(Ir,{className:"w-5 h-5 text-red-600"})})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.overduePayments," Students"]}),s.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[s.jsx($g,{className:"w-3 h-3 mr-1"}),"Require immediate follow-up"]})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Enrolled"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-100 rounded-full",children:s.jsx(dm,{className:"w-5 h-5 text-blue-600"})})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.totalEnrolled.toLocaleString()," Students"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students linked to fee records"})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collection Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Daily collections over the last 7 days."})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{children:n})]})]}),s.jsx("div",{className:"flex gap-3 items-end h-48",children:j.map(w=>s.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.jsx("div",{className:"w-full flex-1 flex items-end",children:s.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-blue-500 to-emerald-400 shadow",style:{height:`${w.value/b*100}%`}})}),s.jsxs("div",{className:"mt-2 text-center",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700",children:x(w.value)}),s.jsx("p",{className:"text-xs text-gray-500",children:w.label})]})]},w.key))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Payments"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Payments logged directly from fee records."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",value:e,onChange:w=>r(w.target.value),placeholder:"Search students...",className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),s.jsxs("select",{value:n,onChange:w=>a(w.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[s.jsx("option",{children:"Last 30 Days"}),s.jsx("option",{children:"Last 7 Days"}),s.jsx("option",{children:"All Time"})]}),s.jsxs("button",{onClick:S,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(is,{size:16}),"Report"]})]})]}),s.jsx("div",{className:"space-y-4",children:g.length?g.map((w,N)=>s.jsxs("div",{className:"bg-gray-50 rounded-2xl border border-gray-200 p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:w.studentName}),s.jsx("p",{className:"text-sm text-gray-500",children:w.program})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:x(w.amount)}),s.jsx("p",{className:"text-sm text-gray-500",children:w.paidOn?new Date(w.paidOn).toLocaleDateString():""}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${v(w.status)}`,children:w.status||"Paid"})]})]},`${w.studentName}-${N}`)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-6",children:"No recent payments match your search."})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Enrollment by Program"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of students with fee records."})]}),s.jsx(pr,{className:"w-6 h-6 text-blue-600"})]}),m.length?s.jsx("div",{className:"grid gap-4",children:m.map((w,N)=>s.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:w.program}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w.students})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Share"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[w.percentage,"%"]})]})]},w.program))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available."})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outstanding Overview"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Top programs and batches with outstanding dues."})]}),s.jsx(Lr,{className:"w-6 h-6 text-green-600"})]}),f.length?s.jsx("div",{className:"space-y-4",children:f.map(w=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:w.label}),s.jsxs("span",{className:"text-sm text-gray-500",children:[w.percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-amber-500 h-2 rounded-full",style:{width:`${w.percentage}%`}})})]},w.label))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No outstanding data to display."})]})]})]})]})})},OB="http://localhost:5000",yWe=({setShowAdminHeader:t})=>{var Y;F.useEffect(()=>{t(!1)},[t]);const e=Ec(),[r]=ace(),n=mi(),a=((Y=e.state)==null?void 0:Y.feeRecordId)||r.get("record")||"",[i,o]=F.useState(null),[l,c]=F.useState(!0),[d,u]=F.useState(""),h=F.useCallback(async({silent:re}={})=>{if(!a){u("No fee record selected. Please return to Fees Collection."),re||c(!1);return}re||c(!0);try{u("");const D=await fetch(`${OB}/api/nif/fees/details/${a}`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),G=await D.json();if(!D.ok)throw new Error(G.message||"Unable to load fee details");o(G)}catch(D){u(D.message||"Failed to load fee details")}finally{re||c(!1)}},[a]);F.useEffect(()=>{h()},[h]);const m=i==null?void 0:i.student,f=(i==null?void 0:i.payments)||[],[A,g]=F.useState([]),[x,v]=F.useState(""),[j,b]=F.useState(""),[S,w]=F.useState(!1);F.useEffect(()=>{if(!i){v(""),b("");return}v(i.discountAmount!=null?String(i.discountAmount):""),b(i.discountNote||"")},[i]);const N=F.useCallback((re=[],D=0)=>{if(!D)return re;let G=Number(D);if(!Number.isFinite(G)||G<=0)return re;const z=re.map(K=>({...K,discountImpact:0}));for(let K=z.length-1;K>=0&&G>0;K-=1){const oe=z[K],ue=oe.outstanding!=null?Math.max(0,Number(oe.outstanding)):Math.max(0,Number(oe.amount||0)-Number(oe.paid||0));if(!ue)continue;const ge=Math.min(G,ue);oe.outstanding=ue-ge,oe.discountImpact=ge,G-=ge,oe.outstanding===0&&(oe.status="discounted")}return z},[]);F.useEffect(()=>{if(!i)return;const G=((i.installments&&i.installments.length?i.installments:i.installmentsSnapshot&&i.installmentsSnapshot.length?i.installmentsSnapshot:null)||[{label:"Program Fee",amount:i.totalFee,dueMonth:i.academicYear||""}]).map((ge,pe)=>{const ye=Number(ge.amount||0),Pe=Number(ge.paid||0),le=ge.outstanding!=null?Number(ge.outstanding):Math.max(0,ye-Pe),lt=Number(ge.discountImpact||0),ne=ge.status||(Pe>=ye?"paid":Pe>0?"partial":"due");return{label:ge.label||`Installment ${pe+1}`,dueMonth:ge.dueMonth||"Scheduled",amount:ye,paid:Pe,outstanding:le,status:ne,discountImpact:lt}}),z=Number(i.discountAmount||0),K=G.some(ge=>ge.discountImpact>0||ge.status==="discounted"),ue=z>0&&!K?N(G,z):G;g(ue)},[N,i]);const E=F.useMemo(()=>{if(!i)return{totalFee:0,totalPaid:0,discountAmount:0,netTotal:0,outstanding:0,progress:0};const re=Number(i.totalFee||0),D=Number(i.paidAmount||0),G=Number(i.discountAmount||0),z=Math.max(0,re-G),K=Math.max(0,z-D),oe=z?Math.round(D/z*100):0;return{totalFee:re,totalPaid:D,discountAmount:G,netTotal:z,outstanding:K,progress:oe}},[i]),P=(re=0)=>`${Number(re||0).toLocaleString()}`,_=re=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",due:"bg-red-100 text-red-800",discounted:"bg-yellow-100 text-yellow-800"})[re]||"bg-gray-100 text-gray-800",B=(re="")=>{var D;return re==="discounted"?"DISCOUNT":((D=re==null?void 0:re.toUpperCase)==null?void 0:D.call(re))||""},k=F.useMemo(()=>A.filter(re=>Number(re.outstanding??re.amount??0)>0),[A]),M=F.useMemo(()=>k[0]||null,[k]),T=F.useMemo(()=>k.slice(0,3),[k]),H=F.useMemo(()=>f.length?[...f].sort((re,D)=>new Date(D.paidOn||0)-new Date(re.paidOn||0))[0]:null,[f]),L=(m==null?void 0:m.guardianPhone)||(m==null?void 0:m.mobile)||"Not provided",Q=(m==null?void 0:m.guardianEmail)||(m==null?void 0:m.email)||"Not provided",O=async re=>{if(a)try{const D=await fetch(`${OB}/api/nif/fees/installments/pay/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({installmentIndex:re,method:"cash"})}),G=await D.json();if(!D.ok)throw new Error(G.message||"Failed to mark installment as paid");await h({silent:!0})}catch(D){alert(D.message||"Could not mark as paid")}finally{}},V=async()=>{if(!a)return;const re=Number(x||0);if(!Number.isFinite(re)||re<0){alert("Enter a valid discount amount");return}if(i&&re>Number(i.totalFee||0)){alert("Discount cannot exceed the total fee amount");return}w(!0);try{const D=await fetch(`${OB}/api/nif/fees/discount/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:re,note:j})}),G=await D.json();if(!D.ok)throw new Error(G.message||"Failed to update discount");await h({silent:!0})}catch(D){alert(D.message||"Could not update discount")}finally{w(!1)}},ee=()=>{alert("Implement statement export.")};return l?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-yellow-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading student fee details..."]})}):d?s.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:s.jsx("div",{className:"relative max-w-xl w-full rounded-3xl border border-red-100 shadow-2xl overflow-hidden error-state-card",children:s.jsxs("div",{className:"relative z-10 p-8 flex flex-col items-center text-center gap-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-50 border border-red-100 flex items-center justify-center text-red-500",children:s.jsx(Ir,{size:28})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Somethings missing"}),s.jsx("p",{className:"text-gray-600",children:d||"No fee record selected. Please return to Fees Collection."})]}),s.jsxs("button",{onClick:()=>n("/admin/fees"),className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-gradient-to-r from-yellow-500 to-amber-500 text-white font-semibold shadow hover:shadow-lg transition-all",children:[s.jsx(Wl,{size:16}),"Back to Fees Collection"]})]})})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"rounded-3xl border border-gray-200 bg-white shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"relative isolate px-6 py-8 sm:px-8 animated-fee-gradient text-white",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 w-64 blur-3xl bg-white/30 opacity-40 pointer-events-none"}),s.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between relative z-10",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 text-sm text-white/80 hover:text-white transition-colors",children:[s.jsx(Wl,{size:16}),"Back to Fees"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:(m==null?void 0:m.name)||"Unnamed Student"}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white/25 text-white",children:B(i==null?void 0:i.status)||"STATUS"})]}),s.jsxs("p",{className:"text-white/80",children:["Roll: ",(m==null?void 0:m.roll)||"","  Program:"," ",(m==null?void 0:m.grade)||(i==null?void 0:i.programLabel)||""]}),s.jsxs("p",{className:"text-white/80",children:["Academic Year: ",(i==null?void 0:i.academicYear)||(m==null?void 0:m.academicYear)||""]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-white/80",children:[s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(As,{size:16}),(m==null?void 0:m.guardianName)||"Guardian not added"]}),s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Mi,{size:16}),L]}),s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Yi,{size:16}),Q]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[s.jsxs("div",{className:"rounded-2xl bg-white/15 border border-white/30 p-4 shadow-lg backdrop-blur",children:[s.jsx("p",{className:"text-sm text-white/80",children:"Outstanding balance"}),s.jsx("p",{className:"text-3xl font-bold",children:P(E.outstanding)}),s.jsxs("p",{className:"text-xs text-white/70",children:["Net payable: ",P(E.netTotal)]})]}),s.jsxs("div",{className:"rounded-2xl bg-white/10 border border-white/20 p-4",children:[s.jsx("p",{className:"text-sm text-white/80",children:"Next installment"}),s.jsx("p",{className:"text-2xl font-semibold",children:M?P(M.outstanding??M.amount):"All clear"}),s.jsxs("p",{className:"text-xs text-white/80 flex items-center gap-2 mt-1",children:[s.jsx(tr,{size:14}),(M==null?void 0:M.dueMonth)||"To be scheduled"]})]}),s.jsxs("button",{onClick:ee,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white text-amber-600 rounded-2xl font-semibold shadow hover:bg-amber-50 transition-colors",children:[s.jsx(is,{size:16}),"Generate Statement"]})]})]}),s.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3 text-sm text-white/80 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[s.jsx(tr,{size:18}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Course Duration"}),s.jsx("p",{className:"font-semibold",children:(m==null?void 0:m.duration)||(i==null?void 0:i.programLabel)||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[s.jsx(dr,{size:18}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Last Payment"}),s.jsx("p",{className:"font-semibold",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleDateString():"No payments yet"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[s.jsx(PT,{size:18}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Payments Logged"}),s.jsxs("p",{className:"font-semibold",children:[f.length||0," entries"]})]})]})]})]}),s.jsxs("div",{className:"p-6 space-y-6 bg-white",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Total Fee"}),s.jsx(afe,{size:18,className:"text-yellow-600"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P(E.totalFee)})]}),s.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Discount Applied"}),s.jsx(Zue,{size:18,className:"text-amber-600"})]}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:P(E.discountAmount)})]}),s.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Total Paid"}),s.jsx(PT,{size:18,className:"text-emerald-600"})]}),s.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:P(E.totalPaid)})]}),s.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Outstanding"}),s.jsx(Ir,{size:18,className:"text-red-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:P(E.outstanding)})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Payment Progress"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[E.progress,"%"]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-500",children:[s.jsx("p",{children:"Last payment"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:H?P(H.amount):""}),s.jsx("p",{className:"text-xs",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleString():"No payments yet"})]})]}),s.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300",style:{width:`${E.progress}%`}})}),s.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[P(E.totalPaid)," of"," ",P(E.netTotal)," paid"]})]}),s.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Upcoming installments"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Next dues at a glance"})]}),s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-50 text-yellow-700",children:[k.length," pending"]})]}),T.length?s.jsxs("div",{className:"space-y-3",children:[T.map((re,D)=>s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:re.label}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(tr,{size:12}),re.dueMonth||"Scheduled"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:P(re.outstanding??re.amount)}),s.jsx("p",{className:"text-[11px] text-gray-500 uppercase",children:B(re.status)})]})]},`${re.label}-${D}`)),k.length>T.length&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+",k.length-T.length," more installments"]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"All installments are settled. No pending dues."})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsx("div",{className:"xl:col-span-2 flex flex-col gap-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Fee Breakup"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Registration parts and installments with paid vs remaining. Click an item to mark it as paid."})]}),A.length?s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:A.map((re,D)=>{const G=Number(re.discountImpact||0),z=G>0||re.status==="discounted",K=z?"discounted":re.status,ue=!(K==="paid"||K==="discounted");return s.jsxs("div",{className:`flex flex-col gap-3 rounded-lg border px-4 py-3 shadow-xs ${z?"border-amber-200 bg-amber-50/60":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:re.label}),s.jsx("p",{className:"text-xs text-gray-500",children:re.dueMonth||"Scheduled"}),z&&s.jsxs("p",{className:"text-[11px] text-amber-600 font-semibold",children:["Discount applied",G>0&&s.jsxs("span",{className:"ml-1 font-normal text-amber-700",children:["(",P(G),")"]})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-[11px] font-semibold ${_(K)}`,children:B(K)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wide",children:"Amount"}),s.jsx("span",{className:"font-semibold text-gray-900",children:P(re.amount)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wide text-green-700",children:"Paid"}),s.jsx("span",{className:"font-semibold text-green-700",children:P(re.paid)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wide text-red-700",children:"Remaining"}),s.jsx("span",{className:"font-semibold text-red-700",children:P(re.outstanding)})]})]}),s.jsx("button",{onClick:()=>O(D),disabled:!ue,className:`text-xs font-semibold self-start ${ue?"text-blue-600 hover:underline":"text-gray-400 cursor-not-allowed"}`,children:ue?"Mark as Paid":K==="discounted"?"Discounted":"Completed"})]},`${re.label}-${D}`)})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No fee breakup available."})]}),s.jsx("div",{className:"overflow-x-auto mt-6",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-4",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),s.jsx("th",{className:"px-6 py-3",children:"Fee Item"}),s.jsx("th",{className:"px-6 py-3",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3",children:"Amount"}),s.jsx("th",{className:"px-6 py-3",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:A.length?A.map((re,D)=>{const G=Number(re.discountImpact||0),z=G>0||re.status==="discounted",K=z?"discounted":re.status,ue=!(K==="paid"||K==="discounted");return s.jsxs("tr",{className:`${z?"bg-amber-50/70":"hover:bg-gray-50"}`,children:[s.jsx("td",{className:"p-4 w-4",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),s.jsxs("td",{className:"px-6 py-3 text-gray-900 font-medium",children:[re.label,z&&s.jsxs("span",{className:"ml-2 text-[11px] font-semibold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:["Discounted",G>0&&s.jsxs("span",{className:"ml-1 text-amber-700",children:["(",P(G),")"]})]})]}),s.jsxs("td",{className:"px-6 py-3 text-gray-500 flex items-center gap-2",children:[s.jsx(tr,{size:14}),re.dueMonth||"Scheduled"]}),s.jsx("td",{className:"px-6 py-3 text-gray-900",children:P(re.amount)}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${_(K)}`,children:B(K)})}),s.jsx("td",{className:"px-6 py-3 text-right",children:ue?s.jsx("button",{onClick:()=>O(D),className:"font-medium text-blue-600 hover:underline",children:"Mark as Paid"}):s.jsx("span",{className:"text-gray-400 italic",children:K==="discounted"?"Discounted":"Completed"})})]},`${re.label}-${D}`)}):s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-8 text-center text-gray-500",colSpan:6,children:"No fee breakup available for this course."})})})]})})]})}),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fee Discount"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Current discount: ",P((i==null?void 0:i.discountAmount)||0),"  Net payable:"," ",P(E.netTotal)]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i!=null&&i.discountNote?`Note: ${i.discountNote}`:"No discount note added yet."}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Discount Amount"}),s.jsx("input",{type:"number",min:"0",max:(i==null?void 0:i.totalFee)||void 0,value:x,onChange:re=>v(re.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["Max allowed: ",P((i==null?void 0:i.totalFee)||0)]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Note (optional)"}),s.jsx("input",{type:"text",value:j,onChange:re=>b(re.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Reason for discount"})]}),s.jsx("button",{onClick:V,disabled:S,className:"w-full inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 text-white px-4 py-2 text-sm font-semibold hover:bg-emerald-700 disabled:bg-gray-300",children:S?"Saving...":"Apply Discount"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Payment History"}),f.length?s.jsx("div",{className:"space-y-3",children:f.map((re,D)=>{var G;return s.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded-xl p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:P(re.amount)}),s.jsx("p",{className:"text-sm text-gray-500",children:((G=re.method)==null?void 0:G.toUpperCase())||"CASH"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:re.paidOn?new Date(re.paidOn).toLocaleDateString():""})]},`${re.paidOn}-${D}`)})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No payment records yet. Collect a payment to populate this list."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Status"}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(i==null?void 0:i.status)}`,children:B(i==null?void 0:i.status)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Last Payment"}),s.jsx("span",{children:i!=null&&i.lastPayment?new Date(i.lastPayment).toLocaleString():"No payments yet"})]})]})]})]})]})]})},nae=F.forwardRef(({person:t,type:e},r)=>{const[n,a]=F.useState(""),i=new Date().getFullYear(),o=i+1;F.useEffect(()=>{const m=JSON.stringify({id:c(),name:l(),type:e,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],validity:`${i}-${o}`,verification:Math.random().toString(36).substring(2,15)}),f=`https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(m)}`;a(f)},[t,e]);const l=()=>`${t.firstName||""} ${t.lastName||""}`.trim()||"N/A",c=()=>t.empId||t.admissionNo||`${e.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,u=(()=>{switch(e){case"student":return{title:"STUDENT ID",id:c(),primaryInfo:`Class ${t.class||"N/A"}`,secondaryInfo:`Section ${t.section||"A"}  Roll ${t.rollNo||"N/A"}`,bgGradient:"from-blue-600 via-blue-700 to-blue-800",accentColor:"bg-blue-500",icon:""};case"teacher":return{title:"FACULTY ID",id:c(),primaryInfo:t.designation||"Teacher",secondaryInfo:t.department||"Academic Department",bgGradient:"from-emerald-600 via-emerald-700 to-emerald-800",accentColor:"bg-emerald-500",icon:""};case"staff":return{title:"STAFF ID",id:c(),primaryInfo:t.role||"Staff Member",secondaryInfo:t.department||"Administration",bgGradient:"from-purple-600 via-purple-700 to-purple-800",accentColor:"bg-purple-500",icon:""};default:return{title:"ID CARD",id:c(),primaryInfo:"N/A",secondaryInfo:"N/A",bgGradient:"from-gray-600 via-gray-700 to-gray-800",accentColor:"bg-gray-500",icon:""}}})(),h=t.photo||null;return s.jsxs("div",{ref:r,className:"w-96 h-60 mx-auto relative overflow-hidden rounded-2xl shadow-2xl bg-white border border-gray-200 print:shadow-none",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:s.jsx("div",{className:"grid grid-cols-8 grid-rows-8 h-full w-full",children:Array.from({length:64}).map((m,f)=>s.jsx("div",{className:`${u.accentColor} opacity-20 rounded-full m-1`},f))})})}),s.jsxs("div",{className:`relative bg-gradient-to-r ${u.bgGradient} text-white p-4 pb-6`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:s.jsx("span",{className:"text-sm font-bold",children:"EEC"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium opacity-90",children:"Electronic Educare"}),s.jsx("div",{className:"text-sm font-bold",children:u.title})]})]}),s.jsx("div",{className:"text-2xl",children:u.icon})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3",children:s.jsx("svg",{viewBox:"0 0 100 20",className:"w-full h-full",children:s.jsx("path",{d:"M0,10 Q25,0 50,10 T100,10 L100,20 L0,20 Z",fill:"white"})})})]}),s.jsxs("div",{className:"relative p-4 pt-2 flex h-44",children:[s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsxs("div",{className:"w-20 h-24 rounded-xl overflow-hidden border-2 border-gray-200 shadow-lg bg-gradient-to-br from-gray-100 to-gray-200",children:[h?s.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="flex"}}):null,s.jsxs("div",{className:`w-full h-full flex flex-col items-center justify-center text-gray-500 ${h?"hidden":"flex"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:""}),s.jsx("div",{className:"text-xs font-medium",children:"PHOTO"})]})]})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l()}),s.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["ID: ",u.id]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-800",children:u.primaryInfo}),s.jsx("div",{className:"text-xs text-gray-600",children:u.secondaryInfo})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[t.dob&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["DOB: ",new Date(t.dob).toLocaleDateString()]})]}),t.phone&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:t.phone})]}),t.email&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"truncate",children:t.email})]})]})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:s.jsx("div",{className:"w-16 h-16 bg-white border border-gray-300 rounded-lg shadow-sm overflow-hidden",children:n?s.jsx("img",{src:n,alt:"QR Code",className:"w-full h-full object-cover",onError:()=>a("")}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx("div",{className:"text-lg",children:""}),s.jsx("div",{className:"text-xs",children:"QR"})]})})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("div",{className:"text-gray-600",children:["Valid: ",i,"-",o]}),s.jsx("div",{className:"text-gray-500",children:" Authorized Personnel Only"}),s.jsx("div",{className:"text-gray-600",children:"Electronic Educare"})]})}),s.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 opacity-80 flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"})})})]})});nae.displayName="IDCard";const bWe=({setShowAdminHeader:t})=>{F.useEffect(()=>{t(!0)},[]);const[e,r]=F.useState("payroll"),[n,a]=F.useState(()=>{const J=new Date;return`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`}),i=26,o=[{id:"t1",name:"Prof. Priya Verma",designation:"Physics",baseSalary:55e3},{id:"t2",name:"Dr. Arjun Sen",designation:"Mathematics",baseSalary:6e4},{id:"t3",name:"Ms. Kavita Rao",designation:"Chemistry",baseSalary:52e3}],l=[{id:"s1",name:"Amit Kumar",role:"Clerk",baseSalary:28e3},{id:"s2",name:"Neha Sharma",role:"Librarian",baseSalary:32e3}],c=[{id:"v1",name:"ABC Transport Co.",service:"Bus Service",due:75e3},{id:"v2",name:"Tech Supplies Ltd",service:"IT Maintenance",due:42e3}],d={t1:{[n]:24},t2:{[n]:26},t3:{[n]:25}},u={s1:{[n]:25},s2:{[n]:24}},h=(J,ie,Ce)=>{var Oe,Re;return(ie==="teachers"?(Oe=d[J])==null?void 0:Oe[Ce]:(Re=u[J])==null?void 0:Re[Ce])??i},m=(J,ie)=>{const Ce=J/i,Oe=Ce*ie,Re=Math.round(J*.1),ze=Math.max(0,Math.round(Oe+Re));return{perDay:Math.round(Ce),earnings:Math.round(Oe),allowances:Re,net:ze}},f=(J,ie,Ce)=>{const Oe=h(J.id,ie,Ce),{perDay:Re,earnings:ze,allowances:ce,net:ae}=m(J.baseSalary,Oe),Se=new gr("p","pt","a4"),We=48;let Je=We;Se.setFont("helvetica","bold"),Se.setFontSize(18),Se.text("EEC Payslip",We,Je),Je+=14,Se.setFont("helvetica","normal"),Se.setFontSize(10),Se.text(`Month: ${Ce}`,We,Je),Je+=18,Se.setFont("helvetica","bold"),Se.text("Employee",We,Je),Je+=14,Se.setFont("helvetica","normal"),Se.text(`Name: ${J.name}`,We,Je),Je+=14,Se.text(`Role: ${J.designation||J.role||(ie==="teachers"?"Teacher":"Staff")}`,We,Je),Je+=14,Se.text(`Employee ID: ${J.id}`,We,Je),Je+=20,Se.setFont("helvetica","bold"),Se.text("Salary Summary",We,Je),Je+=14,Se.setFont("helvetica","normal"),[["Base Salary",`${J.baseSalary.toLocaleString()}`],["Working Days",`${i}`],["Present Days",`${Oe}`],["Per Day",`${Re.toLocaleString()}`],["Earnings",`${ze.toLocaleString()}`],["Allowances (10%)",`${ce.toLocaleString()}`],["Net Pay",`${ae.toLocaleString()}`]].forEach(([Tt,ft])=>{Se.text(Tt,We,Je),Se.text(ft,400,Je,{align:"right"}),Je+=14}),Je+=10,Se.setFont("helvetica","italic"),Se.text("System generated payslip",We,Je),Se.save(`Payslip_${J.name.replace(/\s+/g,"_")}_${Ce}.pdf`)},[A,g]=F.useState([...o.map(J=>({id:J.id,name:J.name,role:J.designation||"Teacher",type:"Teacher"})),...l.map(J=>({id:J.id,name:J.name,role:J.role||"Staff",type:"Staff"}))]),[x,v]=F.useState(!1),[j,b]=F.useState({name:"",role:"",type:"Teacher",baseSalary:""}),[S,w]=F.useState(!1),[N,E]=F.useState(null),[P,_]=F.useState("student"),B=F.useRef(),k=J=>{if(J.preventDefault(),!j.name)return;const ie=`${j.type==="Teacher"?"t":"s"}${A.length+1}`;g(Ce=>[...Ce,{id:ie,name:j.name,role:j.role,type:j.type}]),v(!1),b({name:"",role:"",type:"Teacher",baseSalary:""})},[M,T]=F.useState([{id:"L1",emp:"Prof. Priya Verma",type:"CL",from:"2025-09-10",to:"2025-09-11",status:"Pending"},{id:"L2",emp:"Amit Kumar",type:"SL",from:"2025-09-09",to:"2025-09-09",status:"Pending"}]),H=(J,ie)=>T(Ce=>Ce.map(Oe=>Oe.id===J?{...Oe,status:ie}:Oe)),[L,Q]=F.useState([{id:"J1",title:"Science Teacher",openings:2,status:"Open"},{id:"J2",title:"Office Assistant",openings:1,status:"Open"}]),[O,V]=F.useState([{id:"C1",name:"Rohit Das",for:"Science Teacher",status:"Screening"},{id:"C2",name:"Meera N",for:"Office Assistant",status:"Interview"}]),[ee,Y]=F.useState([{id:"P1",name:"Leave Policy.pdf",date:"2025-06-01"},{id:"P2",name:"Code of Conduct.pdf",date:"2025-05-12"}]),[re,D]=F.useState(""),G=J=>{J.preventDefault(),re&&(Y(ie=>[{id:`P${ie.length+1}`,name:re,date:new Date().toISOString().slice(0,10)},...ie]),D(""))},z=(J,ie)=>{E(J),_(ie),w(!0)},K=async()=>{if(N)try{const J=new gr("landscape","mm",[101.6,63.5]),ie=ft=>new Promise((vt,_t)=>{const et=new Image;et.crossOrigin="anonymous",et.onload=()=>{const It=document.createElement("canvas"),Lt=It.getContext("2d");It.width=et.width,It.height=et.height,Lt.drawImage(et,0,0),vt(It.toDataURL("image/jpeg",.8))},et.onerror=()=>vt(null),et.src=ft}),Ce=JSON.stringify({id:N.empId||N.admissionNo||`${P.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,name:`${N.firstName||""} ${N.lastName||""}`.trim(),type:P,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],verification:Math.random().toString(36).substring(2,15)}),Oe=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(Ce)}`,Re={student:[59,130,246],teacher:[34,197,94],staff:[147,51,234]},[ze,ce,ae]=Re[P]||[100,100,100];J.setFillColor(ze,ce,ae),J.roundedRect(3,3,95.6,20,3,3,"F");for(let ft=0;ft<20;ft++){const vt=1-ft/20*.4;J.setFillColor(ze*vt,ce*vt,ae*vt),J.roundedRect(3,3+ft,95.6,1,3,3,"F")}J.setTextColor(255,255,255),J.setFontSize(10),J.setFont("helvetica","bold"),J.text("ELECTRONIC EDUCARE",50.8,10,{align:"center"}),J.setFontSize(8),J.text(`${P.toUpperCase()} ID CARD`,50.8,16,{align:"center"}),J.setFillColor(255,255,255,.3),J.circle(10,13,3,"F"),J.setTextColor(255,255,255),J.setFontSize(6),J.text("EEC",10,14,{align:"center"}),J.setFillColor(255,215,0),J.circle(90,13,2.5,"F"),J.setFillColor(255,255,255,.6),J.circle(90,13,1.5,"F"),J.setFillColor(255,255,255),J.roundedRect(3,26,95.6,32,2,2,"F"),J.setTextColor(0,0,0);let Se=30,We=Se;if(N.photo)try{const ft=await ie(N.photo);ft?(J.addImage(ft,"JPEG",10,We,20,24),J.setDrawColor(ze,ce,ae),J.setLineWidth(.5),J.roundedRect(10,We,20,24,2,2,"D")):(J.setDrawColor(ze,ce,ae),J.setFillColor(248,250,252),J.roundedRect(10,We,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,We+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,We+16,{align:"center"}))}catch{J.setDrawColor(ze,ce,ae),J.setFillColor(248,250,252),J.roundedRect(10,We,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,We+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,We+16,{align:"center"})}else J.setDrawColor(ze,ce,ae),J.setFillColor(248,250,252),J.roundedRect(10,We,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,We+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,We+16,{align:"center"});const Je=`${N.firstName||""} ${N.lastName||""}`.trim(),tt=N.empId||N.admissionNo||`${P.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;if(J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(ze,ce,ae),J.text(Je,35,Se+5),J.setFontSize(10),J.setFont("helvetica","normal"),J.setTextColor(80,80,80),J.text(`ID: ${tt}`,35,Se+11),J.setFontSize(9),J.setTextColor(60,60,60),P==="student")J.text(`Class ${N.class||"N/A"}  Section ${N.section||"A"}`,35,Se+16),N.rollNo&&J.text(`Roll No: ${N.rollNo}`,35,Se+21);else{const ft=N.designation||N.role||(P==="teacher"?"Teacher":"Staff");J.text(ft,35,Se+16),N.department&&J.text(N.department,35,Se+21)}N.phone&&(J.setFontSize(8),J.setTextColor(100,100,100),J.text(` ${N.phone}`,35,Se+26));try{const ft=await ie(Oe);ft?(J.addImage(ft,"PNG",78,Se,18,18),J.setDrawColor(200,200,200),J.setLineWidth(.3),J.roundedRect(78,Se,18,18,1,1,"D")):(J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,Se,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,Se+10,{align:"center"}))}catch{J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,Se,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,Se+10,{align:"center"})}const Tt=new Date().getFullYear();J.setFillColor(248,250,252),J.roundedRect(3,61,95.6,8,2,2,"F"),J.setFontSize(7),J.setTextColor(100,100,100),J.text(`Valid: ${Tt}-${Tt+1}`,8,65.5),J.text(" Authorized Personnel Only",50.8,65.5,{align:"center"}),J.text("Electronic Educare",93,65.5,{align:"right"}),J.setDrawColor(ze,ce,ae),J.setLineWidth(1),J.roundedRect(3,3,95.6,57.5,3,3,"D"),J.save(`ID_Card_${N.firstName}_${N.lastName}_${P}.pdf`)}catch(J){console.error("Error generating PDF:",J),alert("Error generating PDF. Please try again.")}},oe=()=>{if(!B.current)return;const J=window.open("","_blank");J.document.write(`
      <html>
        <head>
          <title>ID Card</title>
          <style>
            body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
            @media print { body { padding: 0; } }
          </style>
        </head>
        <body>
          ${B.current.outerHTML}
        </body>
      </html>
    `),J.document.close(),J.print()},[ue,ge]=F.useState("teacher"),pe=(J,ie)=>{J.preventDefault();const Ce=new FormData(J.currentTarget),Oe={};for(const[Re,ze]of Ce.entries())Oe[Re]=ze;console.log(`Submitting ${ie}`,Oe),confirm(`${ie} added successfully! Would you like to generate an ID card?`)&&z(Oe,ie.toLowerCase()),alert(`${ie} form captured. Implement API to persist.`)},ye=({title:J,children:ie})=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:J}),ie]}),Pe=({label:J,type:ie="text",className:Ce="",inputClassName:Oe="",...Re})=>s.jsxs("div",{className:`flex flex-col gap-1 ${Ce}`,children:[s.jsx("label",{className:"text-sm text-gray-700",children:J}),s.jsx("input",{type:ie,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Oe}`,...Re})]}),le=({label:J,children:ie,className:Ce="",selectClassName:Oe="",...Re})=>s.jsxs("div",{className:`flex flex-col gap-1 ${Ce}`,children:[s.jsx("label",{className:"text-sm text-gray-700",children:J}),s.jsx("select",{className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Oe}`,...Re,children:ie})]}),lt=({label:J,rows:ie=3,className:Ce="",textareaClassName:Oe="",...Re})=>s.jsxs("div",{className:`flex flex-col gap-1 ${Ce}`,children:[s.jsx("label",{className:"text-sm text-gray-700",children:J}),s.jsx("textarea",{rows:ie,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Oe}`,...Re})]}),ne=({label:J,multiple:ie=!1,className:Ce="",inputClassName:Oe="",name:Re,...ze})=>{const[ce,ae]=F.useState(null),Se=We=>{const Je=We.target.files[0];if(Je&&Je.type.startsWith("image/")){const tt=new FileReader;tt.onload=Tt=>{ae(Tt.target.result)},tt.readAsDataURL(Je)}ze.onChange&&ze.onChange(We)};return s.jsxs("div",{className:`flex flex-col gap-1 ${Ce}`,children:[s.jsx("label",{className:"text-sm text-gray-700",children:J}),s.jsx("input",{type:"file",multiple:ie,name:Re,className:`border border-gray-300 rounded-lg px-3 py-2 bg-white ${Oe}`,onChange:Se,...ze}),ce&&Re==="photo"&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:ce,alt:"Preview",className:"w-16 h-20 object-cover rounded-lg border border-gray-300"})})]})};return s.jsx("div",{className:"w-full min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HR Management"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:["payroll","vendors","attendance","employees","leaves","recruitment","policies","add-new"].map(J=>s.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${e===J?J==="add-new"?"bg-green-500 text-white":"bg-yellow-100 text-yellow-700":J==="add-new"?"bg-green-100 text-green-700 hover:bg-green-200":"text-gray-600 hover:text-gray-800"}`,onClick:()=>r(J),children:J==="add-new"?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx($s,{size:14}),"Add New"]}):J.charAt(0).toUpperCase()+J.slice(1)},J))})]}),e==="payroll"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),s.jsx("input",{type:"month",value:n,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Salary"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Present/Working"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allowances"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Pay"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const ie=h(J.id,J._type,n),{allowances:Ce,net:Oe}=m(J.baseSalary,ie);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name}),s.jsx("div",{className:"text-sm text-gray-500",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")})]}),s.jsxs("td",{className:"px-6 py-4 text-sm",children:["",J.baseSalary.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-sm",children:[ie,"/",i]}),s.jsxs("td",{className:"px-6 py-4 text-sm",children:["",Ce.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["",Oe.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>f(J,J._type,n),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[s.jsx(kr,{size:14,className:"mr-1"})," Payslip"]}),s.jsx("button",{onClick:()=>alert("Payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})]})})]},J.id)})})]})})]}),e==="vendors"&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(J=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:J.service}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",J.due.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>alert("Vendor payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})})]},J.id))})]})})}),e==="attendance"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),s.jsx("input",{type:"month",value:n,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const ie=h(J.id,J._type,n),Ce=i-ie;return s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")}),s.jsxs("div",{className:"text-sm text-gray-700",children:["Present: ",ie," days"]}),s.jsxs("div",{className:"text-sm text-gray-700",children:["Absent: ",Ce," days"]})]},J.id)})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Connect your attendance API to drive payroll automatically."})]}),e==="employees"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(pr,{size:18})," Employees"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(J=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.name}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.role}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type})]},J.id))})]})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Employee"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>v(!1),children:s.jsx(Gs,{size:20})})]}),s.jsxs("form",{onSubmit:k,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),s.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:j.name,onChange:J=>b({...j,name:J.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Role"}),s.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:j.role,onChange:J=>b({...j,role:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:j.type,onChange:J=>b({...j,type:J.target.value}),children:[s.jsx("option",{children:"Teacher"}),s.jsx("option",{children:"Staff"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add"})]})]})]})})]}),e==="leaves"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Kce,{size:18})," Leave Approvals"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(J=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.emp}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.from}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.to}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.status}),s.jsx("td",{className:"px-6 py-3 text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>H(J.id,"Approved"),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Approve"}),s.jsx("button",{onClick:()=>H(J.id,"Rejected"),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Reject"})]})})]},J.id))})]})})]}),e==="recruitment"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Job Openings"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:L.map(J=>s.jsxs("li",{className:"py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:J.title}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Openings: ",J.openings]})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:J.status})]},J.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Candidates"}),s.jsx("ul",{className:"divide-y divide-gray-200",children:O.map(J=>s.jsxs("li",{className:"py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:["For: ",J.for]})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-800",children:J.status})]},J.id))})]})]}),e==="policies"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Xu,{size:18})," HR Policies"]}),s.jsxs("form",{onSubmit:G,className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{value:re,onChange:J=>D(J.target.value),placeholder:"Policy file name (e.g., Travel Policy.pdf)",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2"}),s.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-yellow-600 text-white hover:bg-yellow-700",children:"Upload"})]}),s.jsx("ul",{className:"divide-y divide-gray-200",children:ee.map(J=>s.jsxs("li",{className:"py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Uploaded: ",J.date]})]}),s.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"View"})]},J.id))})]}),e==="add-new"&&s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add New Records"}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:[s.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ue==="teacher"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ge("teacher"),children:"Teacher"}),s.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ue==="student"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ge("student"),children:"Student"}),s.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ue==="staff"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ge("staff"),children:"Staff"})]})]}),ue==="teacher"&&s.jsxs("form",{onSubmit:J=>pe(J,"Teacher"),className:"space-y-6",children:[s.jsx(ye,{title:"Personal Information",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"firstName",label:"First Name",required:!0}),s.jsx(Pe,{name:"lastName",label:"Last Name",required:!0}),s.jsxs(le,{name:"gender",label:"Gender",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),s.jsx("option",{children:"Male"}),s.jsx("option",{children:"Female"}),s.jsx("option",{children:"Other"})]}),s.jsx(Pe,{name:"dob",label:"Date of Birth",type:"date"}),s.jsx(Pe,{name:"email",label:"Email",type:"email"}),s.jsx(Pe,{name:"phone",label:"Phone",type:"tel"}),s.jsx(Pe,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),s.jsx(Pe,{name:"city",label:"City"}),s.jsx(Pe,{name:"state",label:"State"}),s.jsx(Pe,{name:"zip",label:"ZIP/Postal Code"}),s.jsx(ne,{name:"photo",label:"Photo"})]})}),s.jsx(ye,{title:"Employment Details",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"empId",label:"Employee ID"}),s.jsx(Pe,{name:"designation",label:"Designation"}),s.jsx(Pe,{name:"department",label:"Department"}),s.jsx(Pe,{name:"joiningDate",label:"Date of Joining",type:"date"}),s.jsx(Pe,{name:"qualification",label:"Highest Qualification"}),s.jsx(Pe,{name:"experienceYears",label:"Experience (years)",type:"number",min:"0"}),s.jsx(Pe,{name:"salary",label:"Salary ()",type:"number",min:"0"}),s.jsx(Pe,{name:"bankAccount",label:"Bank Account No."}),s.jsx(Pe,{name:"ifsc",label:"IFSC Code"})]})}),s.jsxs(ye,{title:"Documents",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{name:"idProof",label:"ID Proof (Aadhaar/Passport)"}),s.jsx(ne,{name:"addressProof",label:"Address Proof"}),s.jsx(ne,{name:"pan",label:"PAN Card"}),s.jsx(ne,{name:"cv",label:"Resume/CV"}),s.jsx(ne,{name:"qualificationCerts",label:"Qualification Certificates",multiple:!0}),s.jsx(ne,{name:"experienceLetters",label:"Experience Letters",multiple:!0})]}),s.jsx(lt,{name:"notes",label:"Notes"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),s.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ce={};for(const[Re,ze]of ie.entries())Re!=="photo"&&(Ce[Re]=ze);const Oe=ie.get("photo");if(Oe&&Oe.size>0){const Re=new FileReader;Re.onload=ze=>{Ce.photo=ze.target.result,Ce.firstName&&z(Ce,"teacher")},Re.readAsDataURL(Oe)}else Ce.firstName&&z(Ce,"teacher")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[s.jsx(vc,{size:16}),"Generate ID Card"]}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Teacher"})]})]}),ue==="student"&&s.jsxs("form",{onSubmit:J=>pe(J,"Student"),className:"space-y-6",children:[s.jsx(ye,{title:"Personal Information",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"firstName",label:"First Name",required:!0}),s.jsx(Pe,{name:"lastName",label:"Last Name",required:!0}),s.jsxs(le,{name:"gender",label:"Gender",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),s.jsx("option",{children:"Male"}),s.jsx("option",{children:"Female"}),s.jsx("option",{children:"Other"})]}),s.jsx(Pe,{name:"dob",label:"Date of Birth",type:"date"}),s.jsx(Pe,{name:"email",label:"Email",type:"email"}),s.jsx(Pe,{name:"phone",label:"Phone",type:"tel"}),s.jsx(Pe,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),s.jsx(Pe,{name:"city",label:"City"}),s.jsx(Pe,{name:"state",label:"State"}),s.jsx(Pe,{name:"zip",label:"ZIP/Postal Code"}),s.jsx(ne,{name:"photo",label:"Photo"})]})}),s.jsx(ye,{title:"Academic Details",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"admissionNo",label:"Admission No."}),s.jsxs(le,{name:"class",label:"Class",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),Array.from({length:12},(J,ie)=>ie+1).map(J=>s.jsxs("option",{value:`Class ${J}`,children:["Class ",J]},J))]}),s.jsx(le,{name:"section",label:"Section",defaultValue:"A",children:["A","B","C","D"].map(J=>s.jsx("option",{children:J},J))}),s.jsx(Pe,{name:"rollNo",label:"Roll No."}),s.jsx(Pe,{name:"admissionDate",label:"Date of Admission",type:"date"}),s.jsx(Pe,{name:"guardianName",label:"Guardian Name"}),s.jsx(Pe,{name:"guardianRelation",label:"Relation"}),s.jsx(Pe,{name:"guardianPhone",label:"Guardian Phone",type:"tel"}),s.jsx(Pe,{name:"guardianEmail",label:"Guardian Email",type:"email"})]})}),s.jsx(ye,{title:"Documents",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{name:"birthCert",label:"Birth Certificate"}),s.jsx(ne,{name:"transferCert",label:"Transfer Certificate"}),s.jsx(ne,{name:"aadhaar",label:"Aadhaar"}),s.jsx(ne,{name:"addressProof",label:"Address Proof"}),s.jsx(ne,{name:"photos",label:"Recent Photos",multiple:!0})]})}),s.jsxs(ye,{title:"Health Record",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(le,{name:"bloodGroup",label:"Blood Group",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(J=>s.jsx("option",{children:J},J))]}),s.jsx(Pe,{name:"allergies",label:"Allergies"}),s.jsx(Pe,{name:"conditions",label:"Medical Conditions"}),s.jsx(Pe,{name:"emergencyName",label:"Emergency Contact Name"}),s.jsx(Pe,{name:"emergencyPhone",label:"Emergency Contact Phone",type:"tel"}),s.jsx(ne,{name:"vaccinationCard",label:"Vaccination Card"})]}),s.jsx(lt,{name:"healthNotes",label:"Health Notes"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),s.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ce={};for(const[Re,ze]of ie.entries())Re!=="photo"&&(Ce[Re]=ze);const Oe=ie.get("photo");if(Oe&&Oe.size>0){const Re=new FileReader;Re.onload=ze=>{Ce.photo=ze.target.result,Ce.firstName&&z(Ce,"student")},Re.readAsDataURL(Oe)}else Ce.firstName&&z(Ce,"student")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[s.jsx(vc,{size:16}),"Generate ID Card"]}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Student"})]})]}),ue==="staff"&&s.jsxs("form",{onSubmit:J=>pe(J,"Staff"),className:"space-y-6",children:[s.jsx(ye,{title:"Personal Information",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"firstName",label:"First Name",required:!0}),s.jsx(Pe,{name:"lastName",label:"Last Name",required:!0}),s.jsxs(le,{name:"gender",label:"Gender",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),s.jsx("option",{children:"Male"}),s.jsx("option",{children:"Female"}),s.jsx("option",{children:"Other"})]}),s.jsx(Pe,{name:"dob",label:"Date of Birth",type:"date"}),s.jsx(Pe,{name:"email",label:"Email",type:"email"}),s.jsx(Pe,{name:"phone",label:"Phone",type:"tel"}),s.jsx(Pe,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),s.jsx(Pe,{name:"city",label:"City"}),s.jsx(Pe,{name:"state",label:"State"}),s.jsx(Pe,{name:"zip",label:"ZIP/Postal Code"}),s.jsx(ne,{name:"photo",label:"Photo"})]})}),s.jsx(ye,{title:"Employment Details",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Pe,{name:"empId",label:"Employee ID"}),s.jsx(Pe,{name:"role",label:"Role"}),s.jsx(Pe,{name:"department",label:"Department"}),s.jsx(Pe,{name:"joiningDate",label:"Date of Joining",type:"date"}),s.jsx(Pe,{name:"contractType",label:"Contract Type"}),s.jsx(Pe,{name:"salary",label:"Salary ()",type:"number",min:"0"}),s.jsx(Pe,{name:"bankAccount",label:"Bank Account No."}),s.jsx(Pe,{name:"ifsc",label:"IFSC Code"})]})}),s.jsxs(ye,{title:"Documents",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{name:"idProof",label:"ID Proof"}),s.jsx(ne,{name:"addressProof",label:"Address Proof"}),s.jsx(ne,{name:"policeVerification",label:"Police Verification"}),s.jsx(ne,{name:"resume",label:"Resume/CV"}),s.jsx(ne,{name:"otherDocs",label:"Other Documents",multiple:!0})]}),s.jsx(lt,{name:"notes",label:"Notes"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),s.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ce={};for(const[Re,ze]of ie.entries())Re!=="photo"&&(Ce[Re]=ze);const Oe=ie.get("photo");if(Oe&&Oe.size>0){const Re=new FileReader;Re.onload=ze=>{Ce.photo=ze.target.result,Ce.firstName&&z(Ce,"staff")},Re.readAsDataURL(Oe)}else Ce.firstName&&z(Ce,"staff")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[s.jsx(vc,{size:16}),"Generate ID Card"]}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Staff"})]})]})]})}),S&&N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 max-w-lg w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:" ID Card Generated Successfully!"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",onClick:()=>w(!1),children:s.jsx(Gs,{size:20})})]}),s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx(nae,{ref:B,person:N,type:P})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"text-blue-600 mt-0.5",children:""}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Your ID card is ready!"}),s.jsx("p",{children:"This design shows the actual appearance. You can download a PDF version or print directly."})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"}),s.jsxs("button",{onClick:oe,className:"flex-1 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2 transition-colors",children:[s.jsx(kr,{size:16}),"Print Card"]}),s.jsxs("button",{onClick:K,className:"flex-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 transition-colors",children:[s.jsx(vc,{size:16}),"Download PDF"]})]})]})})]})})},UB="http://localhost:5000",wWe=({setShowAdminHeader:t})=>{var j,b;const[e,r]=F.useState([]),[n,a]=F.useState(!0),[i,o]=F.useState(""),[l,c]=F.useState(null),[d,u]=F.useState(!1),h={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},m=async()=>{a(!0);try{const S=await fetch(`${UB}/api/schools/registrations/pending`,{headers:h});if(!S.ok)throw new Error("Failed to fetch registrations");const w=await S.json();r(w)}catch(S){console.error("Error fetching registrations:",S),ji.error("Failed to load registrations")}finally{a(!1)}};F.useEffect(()=>{t==null||t(!1),m()},[]);const f=async(S,w)=>{const N=await es.fire({title:"Approve Registration?",text:`Are you sure you want to approve ${w}?`,input:"textarea",inputLabel:"Admin Notes (Optional)",inputPlaceholder:"Add any notes for this approval...",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Approve",confirmButtonColor:"#10b981",cancelButtonText:"Cancel"});if(N.isConfirmed)try{if(!(await fetch(`${UB}/api/schools/registrations/${S}/approve`,{method:"PUT",headers:h,body:JSON.stringify({adminNotes:N.value})})).ok)throw new Error("Approval failed");ji.success("School registration approved successfully"),m(),u(!1)}catch(E){console.error("Approval error:",E),ji.error("Failed to approve registration")}},A=async(S,w)=>{const N=await es.fire({title:"Reject Registration?",text:`Are you sure you want to reject ${w}?`,input:"textarea",inputLabel:"Rejection Reason (Required)",inputPlaceholder:"Provide reason for rejection...",inputValidator:E=>{if(!E)return"Rejection reason is required"},icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Reject",confirmButtonColor:"#ef4444",cancelButtonText:"Cancel"});if(N.isConfirmed)try{if(!(await fetch(`${UB}/api/schools/registrations/${S}/reject`,{method:"PUT",headers:h,body:JSON.stringify({rejectionReason:N.value})})).ok)throw new Error("Rejection failed");ji.success("School registration rejected"),m(),u(!1)}catch(E){console.error("Rejection error:",E),ji.error("Failed to reject registration")}},g=S=>{c(S),u(!0)},x=e.filter(S=>{var N,E;return i.trim()===""||S.name.toLowerCase().includes(i.toLowerCase())||((N=S.officialEmail)==null?void 0:N.toLowerCase().includes(i.toLowerCase()))||((E=S.code)==null?void 0:E.toLowerCase().includes(i.toLowerCase()))}),v=({status:S})=>{const w={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},N={pending:s.jsx(dr,{size:14}),approved:s.jsx(Lr,{size:14}),rejected:s.jsx(Ka,{size:14})};return s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${w[S]}`,children:[N[S],S.charAt(0).toUpperCase()+S.slice(1)]})};return s.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"School Registrations"}),s.jsx("p",{className:"text-gray-600",children:"Review and manage pending school registrations"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or code...",value:i,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(au,{className:"w-12 h-12 text-amber-500 animate-spin"})}):x.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[s.jsx(dr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Pending Registrations"}),s.jsx("p",{className:"text-gray-600",children:"There are no pending school registrations at the moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(S=>{var w;return s.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6",children:[((w=S.logo)==null?void 0:w.secure_url)&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:S.logo.secure_url,alt:S.name,className:"w-20 h-20 object-cover rounded-lg"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:S.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:S.campuses&&S.campuses.length>0?`${S.campuses.length} Campus${S.campuses.length!==1?"es":""}`:S.campusName}),S.campuses&&S.campuses.length>0&&s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:S.campuses.map(N=>N.name).join(", ")}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Yi,{size:16,className:"text-amber-500"}),s.jsx("span",{className:"truncate",children:S.officialEmail})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Mi,{size:16,className:"text-amber-500"}),s.jsx("span",{children:S.contactPhone})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Xu,{size:16,className:"text-amber-500"}),s.jsx("span",{children:S.schoolType})]}),S.board&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Yn,{size:16,className:"text-amber-500"}),s.jsx("span",{children:S.board==="Other"?S.boardOther:S.board})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(tr,{size:16,className:"text-amber-500"}),s.jsx("span",{children:new Date(S.submittedAt).toLocaleDateString()})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx(v,{status:S.registrationStatus})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>g(S),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:[s.jsx(Is,{size:16}),"View"]}),s.jsx("button",{onClick:()=>f(S._id,S.name),className:"flex items-center justify-center px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:s.jsx(Lr,{size:18})}),s.jsx("button",{onClick:()=>A(S._id,S.name),className:"flex items-center justify-center px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:s.jsx(Ka,{size:18})})]})]},S._id)})}),d&&l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-amber-500 to-orange-500 text-white p-6 rounded-t-2xl flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:l.name}),s.jsx("p",{className:"text-amber-100",children:l.campuses&&l.campuses.length>0?`${l.campuses.length} Campus${l.campuses.length!==1?"es":""}`:l.campusName})]}),s.jsx("button",{onClick:()=>u(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:s.jsx(Gs,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[((j=l.logo)==null?void 0:j.secure_url)&&s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:l.logo.secure_url,alt:l.name,className:"w-32 h-32 object-cover rounded-xl shadow-md"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Lu,{icon:s.jsx(Xu,{}),label:"School Code",value:l.code}),s.jsx(Lu,{icon:s.jsx(Xu,{}),label:"School Type",value:l.schoolType}),l.board&&s.jsx(Lu,{icon:s.jsx(Yn,{}),label:"Board/Affiliation",value:l.board==="Other"?l.boardOther:l.board}),s.jsx(Lu,{icon:s.jsx(tr,{}),label:"Academic Structure",value:l.academicYearStructure}),s.jsx(Lu,{icon:s.jsx(As,{}),label:"Estimated Users",value:l.estimatedUsers})]})]}),l.campuses&&l.campuses.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Campus Information"}),s.jsx("div",{className:"space-y-4",children:l.campuses.map((S,w)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Xu,{className:"text-amber-500",size:20}),s.jsx("h4",{className:"font-semibold text-gray-800",children:S.name}),s.jsx("span",{className:`ml-auto px-2 py-1 text-xs font-medium rounded ${S.campusType==="Main"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:S.campusType})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ml,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:16}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Address"}),s.jsx("p",{className:"text-gray-700",children:S.address})]})]}),S.contactPerson&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(As,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:16}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Contact Person"}),s.jsx("p",{className:"text-gray-700",children:S.contactPerson})]})]}),S.contactPhone&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Mi,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:16}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Contact Phone"}),s.jsx("p",{className:"text-gray-700",children:S.contactPhone})]})]})]})]},w))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Primary Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Lu,{icon:s.jsx(As,{}),label:"Contact Person",value:l.contactPersonName}),s.jsx(Lu,{icon:s.jsx(Mi,{}),label:"Phone",value:l.contactPhone}),s.jsx(Lu,{icon:s.jsx(Yi,{}),label:"Email",value:l.officialEmail}),l.websiteURL&&s.jsx(Lu,{icon:s.jsx(Of,{}),label:"Website",value:l.websiteURL})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Main School Address"}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(ml,{className:"text-amber-500 flex-shrink-0 mt-1",size:20}),s.jsx("p",{className:"text-gray-700",children:l.address})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Verification Documents"}),s.jsx("div",{className:"space-y-2",children:(b=l.verificationDocs)==null?void 0:b.map((S,w)=>s.jsxs("a",{href:S.secure_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(kr,{className:"text-gray-400",size:20}),s.jsx("span",{className:"text-sm text-gray-700 flex-1",children:S.originalName}),s.jsx(Is,{className:"text-blue-500",size:18})]},w))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Submission Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Lu,{icon:s.jsx(tr,{}),label:"Submitted At",value:new Date(l.submittedAt).toLocaleString()}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dr,{className:"text-gray-400 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(v,{status:l.registrationStatus})})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>f(l._id,l.name),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors font-semibold",children:[s.jsx(Lr,{size:20}),"Approve"]}),s.jsxs("button",{onClick:()=>A(l._id,l.name),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-semibold",children:[s.jsx(Ka,{size:20}),"Reject"]})]})]})]})})]})},Lu=({icon:t,label:e,value:r})=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-gray-400 mt-1",children:Ue.cloneElement(t,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),s.jsx("p",{className:"text-gray-800",children:r})]})]}),jWe=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState("Dashboard"),a=d=>{n(d)},[i,o]=F.useState(!0),[l,c]=F.useState(!0);return s.jsx(Mve,{activeMenuItem:r,onMenuItemClick:a,sidebarCollapsed:t,onToggleSidebar:()=>{e(!t)},adminUser:{name:"Admin User",role:"Administrator",avatar:"src/koushik-bala-pp.jpg"},showAdminHeader:i,showBreadcrumb:l,children:s.jsxs(bw,{children:[s.jsx(qt,{path:"dashboard",element:s.jsx(Y$,{setShowAdminHeader:o})}),s.jsx(qt,{index:!0,element:s.jsx(Y$,{setShowAdminHeader:o})}),s.jsx(qt,{path:"analytics",element:s.jsx(vPe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"teachers",element:s.jsx(EPe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"staff",element:s.jsx(kPe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"students",element:s.jsx(yVe,{setShowAdminHeader:o,setShowAdminBreadcrumb:c})}),s.jsx(qt,{path:"wellbeing",element:s.jsx(bVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"routines",element:s.jsx(NVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"parents",element:s.jsx(kVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"academics",element:s.jsx(mWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"courses",element:s.jsx(BVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"subjects",element:s.jsx(TVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"attendance",element:s.jsx(pWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"examination",element:s.jsx(EVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"timetable",element:s.jsx(CVe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"lesson-plans",element:s.jsx(_Ve,{setShowAdminHeader:o})}),s.jsx(qt,{path:"result",element:s.jsx(AWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"fees",element:s.jsx(xWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"fees/dashboard",element:s.jsx(vWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"fees/student-details",element:s.jsx(yWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"hr",element:s.jsx(bWe,{setShowAdminHeader:o})}),s.jsx(qt,{path:"school-registrations",element:s.jsx(wWe,{setShowAdminHeader:o})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function i2(t){return t+.5|0}const nm=(t,e,r)=>Math.max(Math.min(t,r),e);function vb(t){return nm(i2(t*2.55),0,255)}function pm(t){return nm(i2(t*255),0,255)}function vf(t){return nm(i2(t/2.55)/100,0,1)}function DW(t){return nm(i2(t*100),0,100)}const Jc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bP=[..."0123456789ABCDEF"],NWe=t=>bP[t&15],SWe=t=>bP[(t&240)>>4]+bP[t&15],Yj=t=>(t&240)>>4===(t&15),_We=t=>Yj(t.r)&&Yj(t.g)&&Yj(t.b)&&Yj(t.a);function CWe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Jc[t[1]]*17,g:255&Jc[t[2]]*17,b:255&Jc[t[3]]*17,a:e===5?Jc[t[4]]*17:255}:(e===7||e===9)&&(r={r:Jc[t[1]]<<4|Jc[t[2]],g:Jc[t[3]]<<4|Jc[t[4]],b:Jc[t[5]]<<4|Jc[t[6]],a:e===9?Jc[t[7]]<<4|Jc[t[8]]:255})),r}const EWe=(t,e)=>t<255?e(t):"";function kWe(t){var e=_We(t)?NWe:SWe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+EWe(t.a,e):void 0}const BWe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aae(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function TWe(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function MWe(t,e,r){const n=aae(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function FWe(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function RD(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=FWe(r,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function OD(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(pm)}function UD(t,e,r){return OD(aae,t,e,r)}function PWe(t,e,r){return OD(MWe,t,e,r)}function IWe(t,e,r){return OD(TWe,t,e,r)}function iae(t){return(t%360+360)%360}function DWe(t){const e=BWe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?vb(+e[5]):pm(+e[5]));const a=iae(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=PWe(a,i,o):e[1]==="hsv"?n=IWe(a,i,o):n=UD(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function LWe(t,e){var r=RD(t);r[0]=iae(r[0]+e),r=UD(r),t.r=r[0],t.g=r[1],t.b=r[2]}function RWe(t){if(!t)return;const e=RD(t),r=e[0],n=DW(e[1]),a=DW(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${vf(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const LW={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},RW={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OWe(){const t={},e=Object.keys(RW),r=Object.keys(LW);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<r.length;a++)i=r[a],l=l.replace(i,LW[i]);i=parseInt(RW[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Jj;function UWe(t){Jj||(Jj=OWe(),Jj.transparent=[0,0,0,0]);const e=Jj[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HWe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QWe(t){const e=HWe.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?vb(o):nm(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?vb(n):nm(n,0,255)),a=255&(e[4]?vb(a):nm(a,0,255)),i=255&(e[6]?vb(i):nm(i,0,255)),{r:n,g:a,b:i,a:r}}}function zWe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vf(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const HB=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,eg=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $We(t,e,r){const n=eg(vf(t.r)),a=eg(vf(t.g)),i=eg(vf(t.b));return{r:pm(HB(n+r*(eg(vf(e.r))-n))),g:pm(HB(a+r*(eg(vf(e.g))-a))),b:pm(HB(i+r*(eg(vf(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Zj(t,e,r){if(t){let n=RD(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=UD(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function oae(t,e){return t&&Object.assign(e||{},t)}function OW(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=pm(t[3]))):(e=oae(t,{r:0,g:0,b:0,a:1}),e.a=pm(e.a)),e}function GWe(t){return t.charAt(0)==="r"?QWe(t):DWe(t)}class cw{constructor(e){if(e instanceof cw)return e;const r=typeof e;let n;r==="object"?n=OW(e):r==="string"&&(n=CWe(e)||UWe(e)||GWe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=oae(this._rgb);return e&&(e.a=vf(e.a)),e}set rgb(e){this._rgb=OW(e)}rgbString(){return this._valid?zWe(this._rgb):void 0}hexString(){return this._valid?kWe(this._rgb):void 0}hslString(){return this._valid?RWe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=$We(this._rgb,e._rgb,r)),this}clone(){return new cw(this.rgb)}alpha(e){return this._rgb.a=pm(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=i2(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zj(this._rgb,2,e),this}darken(e){return Zj(this._rgb,2,-e),this}saturate(e){return Zj(this._rgb,1,e),this}desaturate(e){return Zj(this._rgb,1,-e),this}rotate(e){return LWe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function uf(){}const VWe=(()=>{let t=0;return()=>t++})();function On(t){return t==null}function Ei(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function zs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function yd(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ru(t,e){return yd(t)?t:e}function Hs(t,e){return typeof t>"u"?e:t}const WWe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,lae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ra(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function yn(t,e,r,n){let a,i,o;if(Ei(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(zs(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function LS(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function RS(t){if(Ei(t))return t.map(RS);if(zs(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=RS(t[r[a]]);return e}return t}function cae(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function qWe(t,e,r,n){if(!cae(t))return;const a=e[t],i=r[t];zs(a)&&zs(i)?dw(a,i,n):e[t]=RS(i)}function dw(t,e,r){const n=Ei(e)?e:[e],a=n.length;if(!zs(t))return t;r=r||{};const i=r.merger||qWe;let o;for(let l=0;l<a;++l){if(o=n[l],!zs(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function Jb(t,e){return dw(t,e,{merger:KWe})}function KWe(t,e,r){if(!cae(t))return;const n=e[t],a=r[t];zs(n)&&zs(a)?Jb(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=RS(a))}const UW={"":t=>t,x:t=>t.x,y:t=>t.y};function XWe(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function YWe(t){const e=XWe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function zA(t,e){return(UW[e]||(UW[e]=YWe(e)))(t)}function HD(t){return t.charAt(0).toUpperCase()+t.slice(1)}const uw=t=>typeof t<"u",Bm=t=>typeof t=="function",HW=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function JWe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Rn=Math.PI,hi=2*Rn,OS=Number.POSITIVE_INFINITY,ZWe=Rn/180,Ti=Rn/2,Fp=Rn/4,QW=Rn*2/3,dae=Math.log10,Am=Math.sign;function qN(t,e,r){return Math.abs(t-e)<r}function zW(t){const e=Math.round(t);t=qN(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(dae(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function eqe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function tqe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function US(t){return!tqe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function rqe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function sqe(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Cf(t){return t*(Rn/180)}function nqe(t){return t*(180/Rn)}function $W(t){if(!yd(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function uae(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Rn&&(i+=hi),{angle:i,distance:a}}function aqe(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wu(t){return(t%hi+hi)%hi}function HS(t,e,r,n){const a=Wu(t),i=Wu(e),o=Wu(r),l=Wu(i-a),c=Wu(o-a),d=Wu(a-i),u=Wu(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Ul(t,e,r){return Math.max(e,Math.min(r,t))}function iqe(t){return Ul(t,-32768,32767)}function nA(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function QD(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const wP=(t,e,r,n)=>QD(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),oqe=(t,e,r)=>QD(t,r,n=>t[n][e]>=r);function lqe(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const hae=["push","pop","shift","splice","unshift"];function cqe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hae.forEach(r=>{const n="_onData"+HD(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function GW(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(hae.forEach(i=>{delete t[i]}),delete t._chartjs)}function fae(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const mae=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function pae(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,mae.call(window,()=>{n=!1,t.apply(e,r)}))}}function dqe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const zD=t=>t==="start"?"left":t==="end"?"right":"center",Ro=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,uqe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e,eN=t=>t===0||t===1,VW=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hi/r)),WW=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*hi/r)+1,Zb={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ti)+1,easeOutSine:t=>Math.sin(t*Ti),easeInOutSine:t=>-.5*(Math.cos(Rn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eN(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eN(t)?t:VW(t,.075,.3),easeOutElastic:t=>eN(t)?t:WW(t,.075,.3),easeInOutElastic(t){return eN(t)?t:t<.5?.5*VW(t*2,.1125,.45):.5+.5*WW(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Zb.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Zb.easeInBounce(t*2)*.5:Zb.easeOutBounce(t*2-1)*.5+.5};function Aae(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qW(t){return Aae(t)?t:new cw(t)}function QB(t){return Aae(t)?t:new cw(t).saturate(.5).darken(.1).hexString()}const hqe=["x","y","borderWidth","radius","tension"],fqe=["color","borderColor","backgroundColor"];function mqe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fqe},numbers:{type:"number",properties:hqe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function pqe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const KW=new Map;function Aqe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=KW.get(r);return n||(n=new Intl.NumberFormat(t,e),KW.set(r,n)),n}function $D(t,e,r){return Aqe(e,r).format(t)}const xqe={values(t){return Ei(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=gqe(t,r)}const o=dae(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),$D(t,n,c)}};function gqe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var xae={formatters:xqe};function vqe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xae.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $A=Object.create(null),jP=Object.create(null);function e1(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function zB(t,e,r){return typeof e=="string"?dw(e1(t,e),r):dw(e1(t,""),e)}class yqe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>QB(a.backgroundColor),this.hoverBorderColor=(n,a)=>QB(a.borderColor),this.hoverColor=(n,a)=>QB(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return zB(this,e,r)}get(e){return e1(this,e)}describe(e,r){return zB(jP,e,r)}override(e,r){return zB($A,e,r)}route(e,r,n,a){const i=e1(this,e),o=e1(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return zs(c)?Object.assign({},d,c):Hs(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var qa=new yqe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mqe,pqe,vqe]);function bqe(t){return!t||On(t.size)||On(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function XW(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Pp(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function YW(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function JW(t,e,r,n){gae(t,e,r,n,null)}function gae(t,e,r,n,a){let i,o,l,c,d,u,h,m;const f=e.pointStyle,A=e.rotation,g=e.radius;let x=(A||0)*ZWe;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(x),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:a?t.ellipse(r,n,a/2,g,0,0,hi):t.arc(r,n,g,0,hi),t.closePath();break;case"triangle":u=a?a/2:g,t.moveTo(r+Math.sin(x)*u,n-Math.cos(x)*g),x+=QW,t.lineTo(r+Math.sin(x)*u,n-Math.cos(x)*g),x+=QW,t.lineTo(r+Math.sin(x)*u,n-Math.cos(x)*g),t.closePath();break;case"rectRounded":d=g*.516,c=g-d,o=Math.cos(x+Fp)*c,h=Math.cos(x+Fp)*(a?a/2-d:c),l=Math.sin(x+Fp)*c,m=Math.sin(x+Fp)*(a?a/2-d:c),t.arc(r-h,n-l,d,x-Rn,x-Ti),t.arc(r+m,n-o,d,x-Ti,x),t.arc(r+h,n+l,d,x,x+Ti),t.arc(r-m,n+o,d,x+Ti,x+Rn),t.closePath();break;case"rect":if(!A){c=Math.SQRT1_2*g,u=a?a/2:c,t.rect(r-u,n-c,2*u,2*c);break}x+=Fp;case"rectRot":h=Math.cos(x)*(a?a/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,m=Math.sin(x)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+m,n-o),t.lineTo(r+h,n+l),t.lineTo(r-m,n+o),t.closePath();break;case"crossRot":x+=Fp;case"cross":h=Math.cos(x)*(a?a/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,m=Math.sin(x)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o);break;case"star":h=Math.cos(x)*(a?a/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,m=Math.sin(x)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o),x+=Fp,h=Math.cos(x)*(a?a/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,m=Math.sin(x)*(a?a/2:g),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+m,n-o),t.lineTo(r-m,n+o);break;case"line":o=a?a/2:Math.cos(x)*g,l=Math.sin(x)*g,t.moveTo(r-o,n-l),t.lineTo(r+o,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(x)*(a?a/2:g),n+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vae(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function GD(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function VD(t){t.restore()}function wqe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),On(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function jqe(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function Nqe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function hw(t,e,r,n,a,i={}){const o=Ei(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,wqe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&Nqe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),On(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,n,i.maxWidth)),t.fillText(d,r,n,i.maxWidth),jqe(t,r,n,d,i),n+=Number(a.lineHeight);t.restore()}function QS(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Rn,Rn,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Rn,Ti,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Ti,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Ti,!0),t.lineTo(r+o.topLeft,n)}const Sqe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_qe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Cqe(t,e){const r=(""+t).match(Sqe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Eqe=t=>+t||0;function WD(t,e){const r={},n=zs(e),a=n?Object.keys(e):e,i=zs(t)?n?o=>Hs(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=Eqe(i(o));return r}function yae(t){return WD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Lg(t){return WD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bd(t){const e=yae(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wo(t,e){t=t||{},e=e||qa.font;let r=Hs(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Hs(t.style,e.style);n&&!(""+n).match(_qe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Hs(t.family,e.family),lineHeight:Cqe(Hs(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Hs(t.weight,e.weight),string:""};return a.string=bqe(a),a}function tN(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function kqe(t,e,r){const{min:n,max:a}=t,i=lae(e,(a-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function ny(t,e){return Object.assign(Object.create(t),e)}function qD(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=Nae("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>qD([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return wae(l,c,()=>Lqe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return eq(l).includes(c)},ownKeys(l){return eq(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function Mv(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:bae(t,n),setContext:i=>Mv(t,i,r,n),override:i=>Mv(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return wae(i,o,()=>Tqe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function bae(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Bm(r)?r:()=>r,isIndexable:Bm(n)?n:()=>n}}const Bqe=(t,e)=>t?t+HD(e):e,KD=(t,e)=>zs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function wae(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Tqe(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return Bm(l)&&o.isScriptable(e)&&(l=Mqe(e,l,t,r)),Ei(l)&&l.length&&(l=Fqe(e,l,t,o.isIndexable)),KD(e,l)&&(l=Mv(l,a,i&&i[e],o)),l}function Mqe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),KD(t,c)&&(c=XD(a._scopes,a,t,c)),c}function Fqe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(zs(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=XD(d,a,t,u);e.push(Mv(h,i,o&&o[t],l))}}return e}function jae(t,e,r){return Bm(t)?t(e,r):t}const Pqe=(t,e)=>t===!0?e:typeof t=="string"?zA(e,t):void 0;function Iqe(t,e,r,n,a){for(const i of e){const o=Pqe(r,i);if(o){t.add(o);const l=jae(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function XD(t,e,r,n){const a=e._rootScopes,i=jae(e._fallback,r,n),o=[...t,...a],l=new Set;l.add(n);let c=ZW(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=ZW(l,o,i,c,n),c===null)?!1:qD(Array.from(l),[""],a,i,()=>Dqe(e,r,n))}function ZW(t,e,r,n,a){for(;r;)r=Iqe(t,e,r,n,a);return r}function Dqe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Ei(a)&&zs(r)?r:a||{}}function Lqe(t,e,r,n){let a;for(const i of e)if(a=Nae(Bqe(i,t),r),typeof a<"u")return KD(t,a)?XD(r,n,t,a):a}function Nae(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function eq(t){let e=t._keys;return e||(e=t._keys=Rqe(t._scopes)),e}function Rqe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function YD(){return typeof window<"u"&&typeof document<"u"}function JD(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function zS(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const c_=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Oqe(t,e){return c_(t).getPropertyValue(e)}const Uqe=["top","right","bottom","left"];function yA(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=Uqe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Hqe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Qqe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(Hqe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function zp(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=c_(r),i=a.boxSizing==="border-box",o=yA(a,"padding"),l=yA(a,"border","width"),{x:c,y:d,box:u}=Qqe(t,r),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:A}=e;return i&&(f-=o.width+l.width,A-=o.height+l.height),{x:Math.round((c-h)/f*r.width/n),y:Math.round((d-m)/A*r.height/n)}}function zqe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&JD(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=c_(i),c=yA(l,"border","width"),d=yA(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,n=zS(l.maxWidth,i,"clientWidth"),a=zS(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||OS,maxHeight:a||OS}}const am=t=>Math.round(t*10)/10;function $qe(t,e,r,n){const a=c_(t),i=yA(a,"margin"),o=zS(a.maxWidth,t,"clientWidth")||OS,l=zS(a.maxHeight,t,"clientHeight")||OS,c=zqe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=yA(a,"border","width"),f=yA(a,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=am(Math.min(d,o,c.maxWidth)),u=am(Math.min(u,l,c.maxHeight)),d&&!u&&(u=am(d/2)),(e!==void 0||r!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=am(Math.floor(u*n))),{width:d,height:u}}function tq(t,e,r){const n=e||1,a=am(t.height*n),i=am(t.width*n);t.height=am(t.height),t.width=am(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Gqe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};YD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function rq(t,e){const r=Oqe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const Vqe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Wqe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Rg(t,e,r){return t?Vqe(e,r):Wqe()}function Sae(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function _ae(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rN(t,e,r){return t.options.clip?t[r]:e[r]}function qqe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:rN(r,e,"left"),right:rN(r,e,"right"),top:rN(n,e,"top"),bottom:rN(n,e,"bottom")}:e}function Kqe(t,e){const r=e._clip;if(r.disabled)return!1;const n=qqe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Xqe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mae.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pf=new Xqe;const sq="transparent",Yqe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=qW(t||sq),a=n.valid&&qW(e||sq);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Jqe{constructor(e,r,n,a){const i=r[n];a=tN([e.to,a,i,e.from]);const o=tN([e.from,i,a]);this._active=!0,this._fn=e.fn||Yqe[e.type||typeof o],this._easing=Zb[e.easing]||Zb.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=tN([e.to,r,a,e.from]),this._from=tN([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class Cae{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!zs(e))return;const r=Object.keys(qa.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!zs(i))return;const o={};for(const l of r)o[l]=i[l];(Ei(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,r){const n=r.options,a=eKe(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Zqe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}i[d]=h=new Jqe(m,e,d,u),a.push(h)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return pf.add(this._chart,n),!0}}function Zqe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function eKe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function nq(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function tKe(t,e,r){if(r===!1)return!1;const n=nq(t,r),a=nq(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function rKe(t){let e,r,n,a;return zs(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function Eae(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function aq(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,n.all)continue;break}d=t.values[c],yd(d)&&(i||e===0||Am(e)===Am(d))&&(e+=d)}return!u&&!n.all?0:e}function sKe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function $B(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function nKe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function aKe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function iKe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function iq(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function oq(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=nKe(i,o,n),h=e.length;let m;for(let f=0;f<h;++f){const A=e[f],{[c]:g,[d]:x}=A,v=A._stacks||(A._stacks={});m=v[d]=iKe(a,u,g),m[l]=x,m._top=iq(m,o,!0,n.type),m._bottom=iq(m,o,!1,n.type);const j=m._visualValues||(m._visualValues={});j[l]=x}}function GB(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function oKe(t,e){return ny(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lKe(t,e,r){return ny(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function tb(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const VB=t=>t==="reset"||t==="none",lq=(t,e)=>e?t:Object.assign({},t),cKe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Eae(r,!0),values:null};class Og{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$B(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&tb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(h,m,f,A)=>h==="x"?m:h==="r"?A:f,i=r.xAxisID=Hs(n.xAxisID,GB(e,"x")),o=r.yAxisID=Hs(n.yAxisID,GB(e,"y")),l=r.rAxisID=Hs(n.rAxisID,GB(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GW(this._data,this),e._stacked&&tb(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(zs(r)){const a=this._cachedMeta;this._data=sKe(r,a)}else if(n!==r){if(n){GW(n,this);const a=this._cachedMeta;tb(a),a._parsed=[]}r&&Object.isExtensible(r)&&cqe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=$B(r.vScale,r),r.stack!==n.stack&&(a=!0,tb(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(oq(this,r._parsed),r._stacked=$B(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&r===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Ei(a[e])?m=this.parseArrayData(n,a,e,r):zs(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)n._parsed[u+e]=h=m[u],c&&(f()&&(c=!1),d=h);n._sorted=c}o&&oq(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let m,f,A;for(m=0,f=a;m<f;++m)A=m+n,h[m]={[l]:u||i.parse(d[A],A),[c]:o.parse(r[A],A)};return h}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,m,f;for(u=0,h=a;u<h;++u)m=u+n,f=r[m],d[u]={x:i.parse(zA(f,l),m),y:o.parse(zA(f,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:Eae(a,!0),values:r._stacks[e.axis]._visualValues};return aq(l,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,o=aq(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=cKe(r,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=aKe(l);let m,f;function A(){f=a[m];const g=f[l.axis];return!yd(f[e.axis])||u>g||h<g}for(m=0;m<o&&!(!A()&&(this.updateRangeFromParsed(d,e,f,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!A()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],yd(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=rKe(Hs(this.options.clip,tKe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=lKe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=oKe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&uw(n);if(l)return lq(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(qa.elements[e]),A=()=>this.getContext(n,a,r),g=d.resolveNamedOptions(m,f,A,h);return g.$shared&&(g.$shared=c,i[o]=Object.freeze(lq(g,c))),g}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,n,r))}const d=new Cae(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||VB(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){VB(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!VB(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&tb(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ur(Og,"defaults",{}),ur(Og,"datasetElementType",null),ur(Og,"dataElementType",null);function dKe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=fae(n.sort((a,i)=>a-i))}return t._cache.$bar}function uKe(t){const e=t.iScale,r=dKe(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(uw(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function hKe(t,e,r,n){const a=r.barThickness;let i,o;return On(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function fKe(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:d}}function mKe(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function kae(t,e,r,n){return Ei(t)?mKe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function cq(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,m;for(d=r,u=r+n;d<u;++d)m=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(kae(m,h,i,d));return c}function WB(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function pKe(t,e,r){return t!==0?Am(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function AKe(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function xKe(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=AKe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=d:(r._bottom||0)===n?a=u:(i[dq(u,o,l,c)]=!0,a=d)),i[dq(a,o,l,c)]=!0,t.borderSkipped=i}function dq(t,e,r,n){return n?(t=gKe(t,e,r),t=uq(t,r,e)):t=uq(t,e,r),t}function gKe(t,e,r){return t===e?r:t===r?e:t}function uq(t,e,r){return t==="start"?e:t==="end"?r:t}function vKe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class KN extends Og{parsePrimitiveData(e,r,n,a){return cq(e,r,n,a)}parseArrayData(e,r,n,a){return cq(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,f,A,g;for(m=n,f=n+a;m<f;++m)g=r[m],A={},A[i.axis]=i.parse(zA(g,d),m),h.push(kae(zA(g,u),A,o,m));return h}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=WB(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(r,a);for(let f=r;f<r+n;f++){const A=this.getParsed(f),g=i||On(A[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,u),v=(A._stacks||{})[l.axis],j={horizontal:d,base:g.base,enableBorderRadius:!v||WB(A._custom)||o===v._top||o===v._bottom,x:d?g.head:x.center,y:d?x.center:g.head,height:d?x.size:Math.abs(g.size),width:d?Math.abs(g.size):x.size};m&&(j.options=h||this.resolveDataElementOptions(f,e[f].active?"active":a));const b=j.options||e[f].options;xKe(j,b,v,o),vKe(j,b,u.ratio),this.updateElement(e[f],f,j,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(f=>f[n.axis]===c),m=h&&h[u.vScale.axis];if(On(m)||isNaN(m))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Hs(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||uKe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=WB(d);let h=c[r.axis],m=0,f=n?this.applyStack(r,c,n):h,A,g;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&Am(h)!==Am(d.barEnd)&&(m=0),m+=h);const x=!On(i)&&!u?i:m;let v=r.getPixelForValue(x);if(this.chart.getDataVisibility(e)?A=r.getPixelForValue(m+f):A=v,g=A-v,Math.abs(g)<o){g=pKe(g,r,l)*o,h===l&&(v-=g/2);const j=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),S=Math.min(j,b),w=Math.max(j,b);v=Math.max(Math.min(v,w),S),A=v+g,n&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(A)-r.getValueForPixel(v))}if(v===r.getPixelForValue(l)){const j=Am(g)*r.getLineWidthForValue(l)/2;v+=j,g-=j}return{size:g,base:v,head:A,center:A+g/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Hs(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?fKe(e,r,a,u*d):hKe(e,r,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Hs(m,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=h.start+h.chunk*A+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}ur(KN,"id","bar"),ur(KN,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ur(KN,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function yKe(t,e,r){let n=1,a=1,i=0,o=0;if(e<hi){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(b,S,w)=>HS(b,l,c,!0)?1:Math.max(S,S*r,w,w*r),A=(b,S,w)=>HS(b,l,c,!0)?-1:Math.min(S,S*r,w,w*r),g=f(0,d,h),x=f(Ti,u,m),v=A(Rn,d,h),j=A(Rn+Ti,u,m);n=(g-v)/2,a=(x-j)/2,i=-(g+v)/2,o=-(x+j)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class yb extends Og{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(zs(n[e])){const{key:c="value"}=this._parsing;i=d=>+zA(n[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return Cf(this.options.rotation-90)}_getCircumference(){return Cf(this.options.circumference)}_getRotationExtents(){let e=hi,r=-hi;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(WWe(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:A,offsetY:g}=yKe(h,u,c),x=(n.width-o)/m,v=(n.height-o)/f,j=Math.max(Math.min(x,v)/2,0),b=lae(this.options.radius,j),S=Math.max(b*c,0),w=(b-S)/this._getVisibleDatasetWeightTotal();this.offsetX=A*b,this.offsetY=g*b,a.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/hi)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=i&&d.animateScale,f=m?0:this.innerRadius,A=m?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(r,a);let v=this._getRotation(),j;for(j=0;j<r;++j)v+=this._circumference(j,i);for(j=r;j<r+n;++j){const b=this._circumference(j,i),S=e[j],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:A,innerRadius:f};x&&(w.options=g||this.resolveDataElementOptions(j,S.active?"active":a)),v+=b,this.updateElement(S,j,w,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?hi*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=$D(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Hs(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ur(yb,"id","doughnut"),ur(yb,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ur(yb,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ur(yb,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class NP extends yb{}ur(NP,"id","pie"),ur(NP,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ip(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ZD{constructor(e){ur(this,"options");this.options=e||{}}static override(e){Object.assign(ZD.prototype,e)}init(){}formats(){return Ip()}parse(){return Ip()}format(){return Ip()}add(){return Ip()}diff(){return Ip()}startOf(){return Ip()}endOf(){return Ip()}}var bKe={_date:ZD};function wKe(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?oqe:wP;if(n){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(i,e,r-h),f=d(i,e,r+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:m}=t,f=m.slice(0,u.lo+1).reverse().findIndex(g=>!On(g[h.axis]));u.lo-=Math.max(0,f);const A=m.slice(u.hi).findIndex(g=>!On(g[h.axis]));u.hi+=Math.max(0,A)}return u}}return{lo:0,hi:i.length-1}}function d_(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:m}=wKe(i[l],e,o,a);for(let f=h;f<=m;++f){const A=u[f];A.skip||n(A,d,f)}}}function jKe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function qB(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||d_(t,r,e,function(l,c,d){!a&&!vae(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function NKe(t,e,r,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=uae(o,{x:e.x,y:e.y});HS(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return d_(t,r,e,i),a}function SKe(t,e,r,n,a,i){let o=[];const l=jKe(r);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(e.x,e.y,a);if(n&&!f)return;const A=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(A))&&!f)return;const x=l(e,A);x<c?(o=[{element:u,datasetIndex:h,index:m}],c=x):x===c&&o.push({element:u,datasetIndex:h,index:m})}return d_(t,r,e,d),o}function KB(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?NKe(t,e,r,a):SKe(t,e,r,n,a,i)}function hq(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return d_(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var _Ke={modes:{index(t,e,r,n){const a=zp(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?qB(t,a,i,n,o):KB(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,n){const a=zp(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?qB(t,a,i,n,o):KB(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,n){const a=zp(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return qB(t,a,i,n,o)},nearest(t,e,r,n){const a=zp(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return KB(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=zp(e,t);return hq(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=zp(e,t);return hq(t,a,"y",r.intersect,n)}}};const Bae=["left","top","right","bottom"];function rb(t,e){return t.filter(r=>r.pos===e)}function fq(t,e){return t.filter(r=>Bae.indexOf(r.pos)===-1&&r.box.axis===e)}function sb(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function CKe(t){const e=[];let r,n,a,i,o,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function EKe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!Bae.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function kKe(t,e){const r=EKe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return r}function BKe(t){const e=CKe(t),r=sb(e.filter(d=>d.box.fullSize),!0),n=sb(rb(e,"left"),!0),a=sb(rb(e,"right")),i=sb(rb(e,"top"),!0),o=sb(rb(e,"bottom")),l=fq(e,"x"),c=fq(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:rb(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function mq(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Tae(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function TKe(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!zs(a)){r.size&&(t[a]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[a]+=r.size}i.getPadding&&Tae(o,i.getPadding());const l=Math.max(0,e.outerWidth-mq(o,t,"left","right")),c=Math.max(0,e.outerHeight-mq(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function MKe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function FKe(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function bb(t,e,r,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,FKe(l.horizontal,e));const{same:h,other:m}=TKe(e,r,l,n);d|=h&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&bb(a,e,r,n)||u}function sN(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function pq(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,m=d.size||c.height;uw(d.start)&&(o=d.start),c.fullSize?sN(c,a.left,o,r.outerWidth-a.right-a.left,m):sN(c,e.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,m=d.size||c.width;uw(d.start)&&(i=d.start),c.fullSize?sN(c,i,a.top,m,r.outerHeight-a.bottom-a.top):sN(c,i,e.top+d.placed,m,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var dd={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=bd(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=BKe(t.boxes),c=l.vertical,d=l.horizontal;yn(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);Tae(m,bd(n));const f=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),A=kKe(c.concat(d),h);bb(l.fullSize,f,h,A),bb(c,f,h,A),bb(d,f,h,A)&&bb(c,f,h,A),MKe(f),pq(l.leftAndTop,f,h,A),f.x+=f.w,f.y+=f.h,pq(l.rightAndBottom,f,h,A),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},yn(l.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Mae{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class PKe extends Mae{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const XN="$chartjs",IKe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Aq=t=>t===null||t==="";function DKe(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[XN]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Aq(a)){const i=rq(t,"width");i!==void 0&&(t.width=i)}if(Aq(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=rq(t,"height");i!==void 0&&(t.height=i)}return t}const Fae=Gqe?{passive:!0}:!1;function LKe(t,e,r){t&&t.addEventListener(e,r,Fae)}function RKe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Fae)}function OKe(t,e){const r=IKe[t.type]||t.type,{x:n,y:a}=zp(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function $S(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function UKe(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||$S(l.addedNodes,n),o=o&&!$S(l.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function HKe(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||$S(l.removedNodes,n),o=o&&!$S(l.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const fw=new Map;let xq=0;function Pae(){const t=window.devicePixelRatio;t!==xq&&(xq=t,fw.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function QKe(t,e){fw.size||window.addEventListener("resize",Pae),fw.set(t,e)}function zKe(t){fw.delete(t),fw.size||window.removeEventListener("resize",Pae)}function $Ke(t,e,r){const n=t.canvas,a=n&&JD(n);if(!a)return;const i=pae((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),QKe(t,i),o}function XB(t,e,r){r&&r.disconnect(),e==="resize"&&zKe(t)}function GKe(t,e,r){const n=t.canvas,a=pae(i=>{t.ctx!==null&&r(OKe(i,t))},t);return LKe(n,e,a),a}class VKe extends Mae{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(DKe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[XN])return!1;const n=r[XN].initial;["height","width"].forEach(i=>{const o=n[i];On(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[XN],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:UKe,detach:HKe,resize:$Ke}[r]||GKe;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:XB,detach:XB,resize:XB}[r]||RKe)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return $qe(e,r,n,a)}isAttached(e){const r=e&&JD(e);return!!(r&&r.isConnected)}}function WKe(t){return!YD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?PKe:VKe}var PN;let ox=(PN=class{constructor(){ur(this,"x");ur(this,"y");ur(this,"active",!1);ur(this,"options");ur(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return US(this.x)&&US(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},ur(PN,"defaults",{}),ur(PN,"defaultRoutes"),PN);function qKe(t,e){const r=t.options.ticks,n=KKe(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?YKe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return JKe(e,d,i,o/a),d;const u=XKe(i,e,a);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(nN(e,d,u,On(f)?0:l-f,l),h=0,m=o-1;h<m;h++)nN(e,d,u,i[h],i[h+1]);return nN(e,d,u,c,On(f)?e.length:c+f),d}return nN(e,d,u),d}function KKe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function XKe(t,e,r){const n=ZKe(t),a=e.length/r;if(!n)return Math.max(a,1);const i=eqe(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function YKe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function JKe(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function nN(t,e,r,n,a){const i=Hs(n,0),o=Math.min(Hs(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function ZKe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const eXe=t=>t==="left"?"right":t==="right"?"left":t,gq=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,vq=(t,e)=>Math.min(e||t,t);function yq(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function tXe(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function rXe(t,e){yn(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function nb(t){return t.drawTicks?t.tickLength:0}function bq(t,e){if(!t.display)return 0;const r=Wo(t.font,e),n=bd(t.padding);return(Ei(t.text)?t.text.length:1)*r.lineHeight+n.height}function sXe(t,e){return ny(t,{scale:e,type:"scale"})}function nXe(t,e,r){return ny(t,{tick:r,index:e,type:"tick"})}function aXe(t,e,r){let n=zD(t);return(r&&e!=="right"||!r&&e==="right")&&(n=eXe(n)),n}function iXe(t,e,r,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,m,f,A;const g=o-a,x=l-i;if(t.isHorizontal()){if(f=Ro(n,i,l),zs(r)){const v=Object.keys(r)[0],j=r[v];A=u[v].getPixelForValue(j)+g-e}else r==="center"?A=(d.bottom+d.top)/2+g-e:A=gq(t,r,e);m=l-i}else{if(zs(r)){const v=Object.keys(r)[0],j=r[v];f=u[v].getPixelForValue(j)-x+e}else r==="center"?f=(d.left+d.right)/2-x+e:f=gq(t,r,e);A=Ro(n,o,a),h=r==="left"?-Ti:Ti}return{titleX:f,titleY:A,maxWidth:m,rotation:h}}class ay extends ox{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=Ru(e,Number.POSITIVE_INFINITY),r=Ru(r,Number.NEGATIVE_INFINITY),n=Ru(n,Number.POSITIVE_INFINITY),a=Ru(a,Number.NEGATIVE_INFINITY),{min:Ru(e,n),max:Ru(r,a),minDefined:yd(e),maxDefined:yd(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:Ru(r,Ru(n,r)),max:Ru(n,Ru(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ra(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kqe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?yq(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=qKe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ra(this.options.afterUpdate,[this])}beforeSetDimensions(){ra(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ra(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ra(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ra(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=ra(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ra(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ra(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=vq(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=Ul(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:f/(n-1),h+6>l&&(l=f/(n-(e.offset?.5:1)),c=this.maxHeight-nb(e.grid)-r.padding-bq(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=nqe(Math.min(Math.asin(Ul((u.highest.height+6)/l,-1,1)),Math.asin(Ul(c/d,-1,1))-Math.asin(Ul(m/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ra(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ra(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=bq(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=nb(i)+c):(e.height=this.maxHeight,e.width=nb(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=n.padding*2,A=Cf(this.labelRotation),g=Math.cos(A),x=Math.sin(A);if(l){const v=n.mirror?0:x*h.width+g*m.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=n.mirror?0:g*h.width+x*m.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(d,u,x,g)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=a*e.width,f=n*r.height):(m=n*e.height,f=a*r.width):i==="start"?f=r.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,f=r.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ra(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)On(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=yq(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/vq(r,n));let d=0,u=0,h,m,f,A,g,x,v,j,b,S,w;for(h=0;h<r;h+=c){if(A=e[h].label,g=this._resolveTickFontOptions(h),a.font=x=g.string,v=i[x]=i[x]||{data:{},gc:[]},j=g.lineHeight,b=S=0,!On(A)&&!Ei(A))b=XW(a,v.data,v.gc,b,A),S=j;else if(Ei(A))for(m=0,f=A.length;m<f;++m)w=A[m],!On(w)&&!Ei(w)&&(b=XW(a,v.data,v.gc,b,w),S+=j);o.push(b),l.push(S),d=Math.max(b,d),u=Math.max(S,u)}rXe(i,r);const N=o.indexOf(d),E=l.indexOf(u),P=_=>({width:o[_]||0,height:l[_]||0});return{first:P(0),last:P(r-1),widest:P(N),highest:P(E),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return iqe(this._alignToPixels?Pp(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=nXe(this.getContext(),e,n))}return this.$context||(this.$context=sXe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Cf(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=nb(i),f=[],A=l.setContext(this.getContext()),g=A.display?A.width:0,x=g/2,v=function(Q){return Pp(n,Q,g)};let j,b,S,w,N,E,P,_,B,k,M,T;if(o==="top")j=v(this.bottom),E=this.bottom-m,_=j-x,k=v(e.top)+x,T=e.bottom;else if(o==="bottom")j=v(this.top),k=e.top,T=v(e.bottom)-x,E=j+x,_=this.top+m;else if(o==="left")j=v(this.right),N=this.right-m,P=j-x,B=v(e.left)+x,M=e.right;else if(o==="right")j=v(this.left),B=e.left,M=v(e.right)-x,N=j+x,P=this.left+m;else if(r==="x"){if(o==="center")j=v((e.top+e.bottom)/2+.5);else if(zs(o)){const Q=Object.keys(o)[0],O=o[Q];j=v(this.chart.scales[Q].getPixelForValue(O))}k=e.top,T=e.bottom,E=j+x,_=E+m}else if(r==="y"){if(o==="center")j=v((e.left+e.right)/2);else if(zs(o)){const Q=Object.keys(o)[0],O=o[Q];j=v(this.chart.scales[Q].getPixelForValue(O))}N=j-x,P=N-m,B=e.left,M=e.right}const H=Hs(a.ticks.maxTicksLimit,h),L=Math.max(1,Math.ceil(h/H));for(b=0;b<h;b+=L){const Q=this.getContext(b),O=i.setContext(Q),V=l.setContext(Q),ee=O.lineWidth,Y=O.color,re=V.dash||[],D=V.dashOffset,G=O.tickWidth,z=O.tickColor,K=O.tickBorderDash||[],oe=O.tickBorderDashOffset;S=tXe(this,b,c),S!==void 0&&(w=Pp(n,S,ee),d?N=P=B=M=w:E=_=k=T=w,f.push({tx1:N,ty1:E,tx2:P,ty2:_,x1:B,y1:k,x2:M,y2:T,width:ee,color:Y,borderDash:re,borderDashOffset:D,tickWidth:G,tickColor:z,tickBorderDash:K,tickBorderDashOffset:oe}))}return this._ticksLength=h,this._borderValue=j,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,m=nb(n.grid),f=m+u,A=h?-u:f,g=-Cf(this.labelRotation),x=[];let v,j,b,S,w,N,E,P,_,B,k,M,T="middle";if(a==="top")N=this.bottom-A,E=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+A,E=this._getXAxisLabelAlignment();else if(a==="left"){const L=this._getYAxisLabelAlignment(m);E=L.textAlign,w=L.x}else if(a==="right"){const L=this._getYAxisLabelAlignment(m);E=L.textAlign,w=L.x}else if(r==="x"){if(a==="center")N=(e.top+e.bottom)/2+f;else if(zs(a)){const L=Object.keys(a)[0],Q=a[L];N=this.chart.scales[L].getPixelForValue(Q)+f}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")w=(e.left+e.right)/2-f;else if(zs(a)){const L=Object.keys(a)[0],Q=a[L];w=this.chart.scales[L].getPixelForValue(Q)}E=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?T="top":c==="end"&&(T="bottom"));const H=this._getLabelSizes();for(v=0,j=l.length;v<j;++v){b=l[v],S=b.label;const L=i.setContext(this.getContext(v));P=this.getPixelForTick(v)+i.labelOffset,_=this._resolveTickFontOptions(v),B=_.lineHeight,k=Ei(S)?S.length:1;const Q=k/2,O=L.color,V=L.textStrokeColor,ee=L.textStrokeWidth;let Y=E;o?(w=P,E==="inner"&&(v===j-1?Y=this.options.reverse?"left":"right":v===0?Y=this.options.reverse?"right":"left":Y="center"),a==="top"?d==="near"||g!==0?M=-k*B+B/2:d==="center"?M=-H.highest.height/2-Q*B+B:M=-H.highest.height+B/2:d==="near"||g!==0?M=B/2:d==="center"?M=H.highest.height/2-Q*B:M=H.highest.height-k*B,h&&(M*=-1),g!==0&&!L.showLabelBackdrop&&(w+=B/2*Math.sin(g))):(N=P,M=(1-k)*B/2);let re;if(L.showLabelBackdrop){const D=bd(L.backdropPadding),G=H.heights[v],z=H.widths[v];let K=M-D.top,oe=0-D.left;switch(T){case"middle":K-=G/2;break;case"bottom":K-=G;break}switch(E){case"center":oe-=z/2;break;case"right":oe-=z;break;case"inner":v===j-1?oe-=z:v>0&&(oe-=z/2);break}re={left:oe,top:K,width:z+D.width,height:G+D.height,color:L.backdropColor}}x.push({label:S,font:_,textOffset:M,options:{rotation:g,color:O,strokeColor:V,strokeWidth:ee,textAlign:Y,textBaseline:T,translation:[w,N],backdrop:re}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Cf(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Pp(e,this.left,o)-o/2,u=Pp(e,this.right,l)+l/2,h=m=c):(h=Pp(e,this.top,o)-o/2,m=Pp(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&GD(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;hw(n,d,0,u,c,l)}a&&VD(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Wo(n.font),o=bd(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||zs(r)?(c+=o.bottom,Ei(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=iXe(this,c,r,l);hw(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:m,textAlign:aXe(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Hs(e.grid&&e.grid.z,-1),a=Hs(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ay.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Wo(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class aN{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;cXe(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,oXe(e,o,n),this.override&&qa.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in qa[a]&&(delete qa[a][n],this.override&&delete $A[n])}}function oXe(t,e,r){const n=dw(Object.create(null),[r?qa.get(r):{},qa.get(e),t.defaults]);qa.set(e,n),t.defaultRoutes&&lXe(e,t.defaultRoutes),t.descriptors&&qa.describe(e,t.descriptors)}function lXe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");qa.route(i,a,c,l)})}function cXe(t){return"id"in t&&"defaults"in t}class dXe{constructor(){this.controllers=new aN(Og,"datasets",!0),this.elements=new aN(ox,"elements"),this.plugins=new aN(Object,"plugins"),this.scales=new aN(ay,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):yn(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,n){const a=HD(e);ra(n["before"+a],[],n),r[e](n),ra(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Gu=new dXe;class uXe{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[r,a,i.options];if(ra(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){On(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Hs(n.options&&n.options.plugins,{}),i=hXe(n);return a===!1&&!r?[]:mXe(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function hXe(t){const e={},r=[],n=Object.keys(Gu.plugins.items);for(let i=0;i<n.length;i++)r.push(Gu.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function fXe(t,e){return!e&&t===!1?null:t===!0?{}:t}function mXe(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=fXe(n[c],a);d!==null&&i.push({plugin:l,options:pXe(t.config,{plugin:l,local:r[c]},d,o)})}return i}function pXe(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function SP(t,e){const r=qa.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function AXe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function xXe(t,e){return t===e?"_index_":"_value_"}function wq(t){if(t==="x"||t==="y"||t==="r")return t}function gXe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function _P(t,...e){if(wq(t))return t;for(const r of e){const n=r.axis||gXe(r.position)||t.length>1&&wq(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function jq(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function vXe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return jq(t,"x",r[0])||jq(t,"y",r[0])}return{}}function yXe(t,e){const r=$A[t.type]||{scales:{}},n=e.scales||{},a=SP(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!zs(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=_P(o,l,vXe(o,t),qa.scales[l.type]),d=xXe(c,a),u=r.scales||{};i[o]=Jb(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||SP(l,e),u=($A[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=AXe(h,c),f=o[m+"AxisID"]||m;i[f]=i[f]||Object.create(null),Jb(i[f],[{axis:m},n[f],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Jb(l,[qa.scales[l.type],qa.scale])}),i}function Iae(t){const e=t.options||(t.options={});e.plugins=Hs(e.plugins,{}),e.scales=yXe(t,e)}function Dae(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bXe(t){return t=t||{},t.data=Dae(t.data),Iae(t),t}const Nq=new Map,Lae=new Set;function iN(t,e){let r=Nq.get(t);return r||(r=e(),Nq.set(t,r),Lae.add(r)),r}const ab=(t,e,r)=>{const n=zA(e,r);n!==void 0&&t.add(n)};class wXe{constructor(e){this._config=bXe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Dae(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Iae(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return iN(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return iN(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return iN(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return iN(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>ab(c,e,h))),u.forEach(h=>ab(c,a,h)),u.forEach(h=>ab(c,$A[i]||{},h)),u.forEach(h=>ab(c,qa,h)),u.forEach(h=>ab(c,jP,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Lae.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,$A[r]||{},qa.datasets[r]||{},{type:r},qa,jP]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=Sq(this._resolverCache,e,a);let c=o;if(NXe(o,r)){i.$shared=!1,n=Bm(n)?n():n;const d=this.createResolver(e,n,l);c=Mv(o,n,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,n=[""],a){const{resolver:i}=Sq(this._resolverCache,e,n);return zs(r)?Mv(i,r,void 0,a):i}}function Sq(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:qD(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const jXe=t=>zs(t)&&Object.getOwnPropertyNames(t).some(e=>Bm(t[e]));function NXe(t,e){const{isScriptable:r,isIndexable:n}=bae(t);for(const a of e){const i=r(a),o=n(a),l=(o||i)&&t[a];if(i&&(Bm(l)||jXe(l))||o&&Ei(l))return!0}return!1}var SXe="4.5.1";const _Xe=["top","bottom","left","right","chartArea"];function _q(t,e){return t==="top"||t==="bottom"||_Xe.indexOf(t)===-1&&e==="x"}function Cq(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Eq(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),ra(r&&r.onComplete,[t],e)}function CXe(t){const e=t.chart,r=e.options.animation;ra(r&&r.onProgress,[t],e)}function Rae(t){return YD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const YN={},kq=t=>{const e=Rae(t);return Object.values(YN).filter(r=>r.canvas===e).pop()};function EXe(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function kXe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var O0;let iy=(O0=class{static register(...e){Gu.add(...e),Bq()}static unregister(...e){Gu.remove(...e),Bq()}constructor(e,r){const n=this.config=new wXe(r),a=Rae(e),i=kq(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||WKe(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=VWe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uXe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dqe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],YN[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}pf.listen(this,"complete",Eq),pf.listen(this,"progress",CXe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return On(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Gu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tq(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YW(this.canvas,this.ctx),this}stop(){return pf.stop(this),this}resize(e,r){pf.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tq(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ra(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};yn(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=_P(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),yn(i,o=>{const l=o.options,c=l.id,d=_P(c,l),u=Hs(l.type,o.dtype);(l.position===void 0||_q(l.position,d)!==_q(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=Gu.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),yn(a,(o,l)=>{o||delete n[l]}),yn(n,o=>{dd.configure(this,o,o.options),dd.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Cq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||SP(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Gu.getController(l),{datasetElementType:d,dataElementType:u}=qa.datasets[l];Object.assign(c,{dataElementType:Gu.getElement(u),datasetElementType:d&&Gu.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){yn(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||yn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Cq("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){yn(this.scales,e=>{dd.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!HW(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;EXe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!HW(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dd.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],yn(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Bm(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pf.has(this)?this.attached&&!pf.running(this)&&pf.start(this):(this.draw(),Eq({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Kqe(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&GD(r,a),e.controller.draw(),a&&VD(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return vae(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=_Ke.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=ny(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);uw(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),pf.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),YW(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete YN[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};yn(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){yn(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},yn(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!LS(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,e),l=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,n,o),c=JWe(e),d=kXe(e,this._lastEvent,n,c);n&&(this._lastEvent=null,ra(i.onHover,[e,l,this],this),c&&ra(i.onClick,[e,l,this],this));const u=!LS(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},ur(O0,"defaults",qa),ur(O0,"instances",YN),ur(O0,"overrides",$A),ur(O0,"registry",Gu),ur(O0,"version",SXe),ur(O0,"getChart",kq),O0);function Bq(){return yn(iy.instances,t=>t._plugins.invalidate())}function BXe(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Wu(n-r));if(t.beginPath(),t.arc(a,i,o-d/2,n+h/2,r-h/2),l>0){const m=Math.min(d/l,Wu(n-r));t.arc(a,i,l+d/2,r-m/2,n+m/2,!0)}else{const m=Math.min(d/2,o*Wu(n-r));if(u==="round")t.arc(a,i,m,r-Rn/2,n+Rn/2,!0);else if(u==="bevel"){const f=2*m*m,A=-f*Math.cos(r+Rn/2)+a,g=-f*Math.sin(r+Rn/2)+i,x=f*Math.cos(n+Rn/2)+a,v=f*Math.sin(n+Rn/2)+i;t.lineTo(A,g),t.lineTo(x,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function TXe(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,n-d,!0)):t.arc(i,o,a,r+Ti,n-Ti),t.closePath(),t.clip()}function MXe(t){return WD(t,["outerStart","outerEnd","innerStart","innerEnd"])}function FXe(t,e,r,n){const a=MXe(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(r-Math.min(i,c))*n/2;return Ul(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ul(a.innerStart,0,o),innerEnd:Ul(a.innerEnd,0,o)}}function tg(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function GS(t,e,r,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+r-d,0),m=u>0?u+n+r+d:0;let f=0;const A=a-c;if(n){const L=u>0?u-n:0,Q=h>0?h-n:0,O=(L+Q)/2,V=O!==0?A*O/(O+n):A;f=(A-V)/2}const g=Math.max(.001,A*h-r/Rn)/h,x=(A-g)/2,v=c+x+f,j=a-x-f,{outerStart:b,outerEnd:S,innerStart:w,innerEnd:N}=FXe(e,m,h,j-v),E=h-b,P=h-S,_=v+b/E,B=j-S/P,k=m+w,M=m+N,T=v+w/k,H=j-N/M;if(t.beginPath(),i){const L=(_+B)/2;if(t.arc(o,l,h,_,L),t.arc(o,l,h,L,B),S>0){const ee=tg(P,B,o,l);t.arc(ee.x,ee.y,S,B,j+Ti)}const Q=tg(M,j,o,l);if(t.lineTo(Q.x,Q.y),N>0){const ee=tg(M,H,o,l);t.arc(ee.x,ee.y,N,j+Ti,H+Math.PI)}const O=(j-N/m+(v+w/m))/2;if(t.arc(o,l,m,j-N/m,O,!0),t.arc(o,l,m,O,v+w/m,!0),w>0){const ee=tg(k,T,o,l);t.arc(ee.x,ee.y,w,T+Math.PI,v-Ti)}const V=tg(E,v,o,l);if(t.lineTo(V.x,V.y),b>0){const ee=tg(E,_,o,l);t.arc(ee.x,ee.y,b,v-Ti,_)}}else{t.moveTo(o,l);const L=Math.cos(_)*h+o,Q=Math.sin(_)*h+l;t.lineTo(L,Q);const O=Math.cos(B)*h+o,V=Math.sin(B)*h+l;t.lineTo(O,V)}t.closePath()}function PXe(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){GS(t,e,r,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%hi||hi))}return GS(t,e,r,n,c,a),t.fill(),c}function IXe(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,A=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=m,A?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){GS(t,e,r,n,g,a);for(let x=0;x<i;++x)t.stroke();isNaN(l)||(g=o+(l%hi||hi))}A&&TXe(t,e,g),c.selfJoin&&g-o>=Rn&&f===0&&u!=="miter"&&BXe(t,e,g),i||(GS(t,e,r,n,g,a),t.stroke())}class bg extends ox{constructor(r){super();ur(this,"circumference");ur(this,"endAngle");ur(this,"fullCircles");ur(this,"innerRadius");ur(this,"outerRadius");ur(this,"pixelMargin");ur(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=uae(i,{x:r,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,A=Hs(m,d-c),g=HS(o,c,d)&&c!==d,x=A>=hi||g,v=nA(l,u+f,h+f);return x&&v}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,h=(i+o)/2,m=(l+c+u+d)/2;return{x:n+Math.cos(h)*m,y:a+Math.sin(h)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>hi?Math.floor(a/hi):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(Rn,a||0)),u=i*d;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,PXe(r,this,u,o,l),IXe(r,this,u,o,l),r.restore()}}ur(bg,"id","arc"),ur(bg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ur(bg,"defaultRoutes",{backgroundColor:"backgroundColor"}),ur(bg,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function Oae(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(r,a),c=Math.max(r,a),d=n-h,u=n+h):(h=i/2,l=r-h,c=r+h,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function im(t,e,r,n){return t?0:Ul(e,r,n)}function DXe(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=yae(n);return{t:im(a.top,i.top,0,r),r:im(a.right,i.right,0,e),b:im(a.bottom,i.bottom,0,r),l:im(a.left,i.left,0,e)}}function LXe(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=Lg(a),o=Math.min(e,r),l=t.borderSkipped,c=n||zs(a);return{topLeft:im(!c||l.top||l.left,i.topLeft,0,o),topRight:im(!c||l.top||l.right,i.topRight,0,o),bottomLeft:im(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:im(!c||l.bottom||l.right,i.bottomRight,0,o)}}function RXe(t){const e=Oae(t),r=e.right-e.left,n=e.bottom-e.top,a=DXe(t,r/2,n/2),i=LXe(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function YB(t,e,r,n){const a=e===null,i=r===null,l=t&&!(a&&i)&&Oae(t,n);return l&&(a||nA(e,l.left,l.right))&&(i||nA(r,l.top,l.bottom))}function OXe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function UXe(t,e){t.rect(e.x,e.y,e.w,e.h)}function JB(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class Ug extends ox{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=RXe(this),l=OXe(o.radius)?QS:UXe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,JB(o,r,i)),e.clip(),l(e,JB(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,JB(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return YB(this,e,r,n)}inXRange(e,r){return YB(this,e,null,r)}inYRange(e,r){return YB(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ur(Ug,"id","bar"),ur(Ug,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ur(Ug,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Tq=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},HXe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Mq extends ox{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=ra(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Wo(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Tq(n,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((A,g)=>{const x=n+r/2+i.measureText(A.text).width;(g===0||d[d.length-1]+x+2*l>o)&&(h+=u,d[d.length-(g>0?0:1)]=0,f+=u,m++),c[g]={left:0,top:f,row:m,width:x,height:a},d[d.length-1]+=x+l}),h}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,m=0,f=0,A=0,g=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:j,itemHeight:b}=QXe(n,r,i,x,a);v>0&&f+b+2*l>u&&(h+=m+l,d.push({width:m,height:f}),A+=m+l,g++,m=f=0),c[v]={left:A,top:f,col:g,width:j,height:b},m=Math.max(m,j),f+=b+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Rg(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ro(n,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=Ro(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=Ro(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=Ro(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;GD(e,this),this._draw(),VD(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=qa.color,c=Rg(e.rtl,this.left,this.width),d=Wo(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:A,boxHeight:g,itemHeight:x}=Tq(o,h),v=function(N,E,P){if(isNaN(A)||A<=0||isNaN(g)||g<0)return;a.save();const _=Hs(P.lineWidth,1);if(a.fillStyle=Hs(P.fillStyle,l),a.lineCap=Hs(P.lineCap,"butt"),a.lineDashOffset=Hs(P.lineDashOffset,0),a.lineJoin=Hs(P.lineJoin,"miter"),a.lineWidth=_,a.strokeStyle=Hs(P.strokeStyle,l),a.setLineDash(Hs(P.lineDash,[])),o.usePointStyle){const B={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:_},k=c.xPlus(N,A/2),M=E+m;gae(a,B,k,M,o.pointStyleWidth&&A)}else{const B=E+Math.max((h-g)/2,0),k=c.leftForLtr(N,A),M=Lg(P.borderRadius);a.beginPath(),Object.values(M).some(T=>T!==0)?QS(a,{x:k,y:B,w:A,h:g,radius:M}):a.rect(k,B,A,g),a.fill(),_!==0&&a.stroke()}a.restore()},j=function(N,E,P){hw(a,P.text,N,E+x/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},b=this.isHorizontal(),S=this._computeTitleHeight();b?f={x:Ro(i,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:Ro(i,this.top+S+u,this.bottom-r[0].height),line:0},Sae(this.ctx,e.textDirection);const w=x+u;this.legendItems.forEach((N,E)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;const P=a.measureText(N.text).width,_=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),B=A+m+P;let k=f.x,M=f.y;c.setWidth(this.width),b?E>0&&k+B+u>this.right&&(M=f.y+=w,f.line++,k=f.x=Ro(i,this.left+u,this.right-n[f.line])):E>0&&M+w>this.bottom&&(k=f.x=k+r[f.line].width+u,f.line++,M=f.y=Ro(i,this.top+S+u,this.bottom-r[f.line].height));const T=c.x(k);if(v(T,M,N),k=uqe(_,k+A+m,b?k+B:this.right,e.rtl),j(c.x(k),M,N),b)f.x+=B+u;else if(typeof N.text!="string"){const H=d.lineHeight;f.y+=Uae(N,H)+u}else f.y+=w}),_ae(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Wo(r.font),a=bd(r.padding);if(!r.display)return;const i=Rg(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,d=a.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=Ro(e.align,h,this.right-m);else{const A=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);u=d+Ro(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const f=Ro(l,h,h+m);o.textAlign=i.textAlign(zD(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,hw(o,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Wo(e.font),n=bd(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(nA(e,this.left,this.right)&&nA(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],nA(e,a.left,a.left+a.width)&&nA(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!GXe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=HXe(a,n);a&&!i&&ra(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&ra(r.onHover,[e,n,this],this)}else n&&ra(r.onClick,[e,n,this],this)}}function QXe(t,e,r,n,a){const i=zXe(n,t,e,r),o=$Xe(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function zXe(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function $Xe(t,e,r){let n=t;return typeof e.text!="string"&&(n=Uae(e,r)),n}function Uae(t,e){const r=t.text?t.text.length:0;return e*r}function GXe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var eL={id:"legend",_element:Mq,start(t,e,r){const n=t.legend=new Mq({ctx:t.ctx,options:r,chart:t});dd.configure(t,n,r),dd.addBox(t,n)},stop(t){dd.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;dd.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=bd(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Hae extends ox{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Ei(n.text)?n.text.length:1;this._padding=bd(n.padding);const i=a*Wo(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Ro(l,n,i),h=r+e,d=i-n):(o.position==="left"?(u=n+e,h=Ro(l,a,r),c=Rn*-.5):(u=i-e,h=Ro(l,r,a),c=Rn*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Wo(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);hw(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:d,textAlign:zD(r.align),textBaseline:"middle",translation:[o,l]})}}function VXe(t,e){const r=new Hae({ctx:t.ctx,options:e,chart:t});dd.configure(t,r,e),dd.addBox(t,r),t.titleBlock=r}var tL={id:"title",_element:Hae,start(t,e,r){VXe(t,r)},stop(t){const e=t.titleBlock;dd.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;dd.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wb={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=aqe(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function zu(t,e){return e&&(Ei(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Af(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function WXe(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function Fq(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Wo(e.bodyFont),d=Wo(e.titleFont),u=Wo(e.footerFont),h=i.length,m=a.length,f=n.length,A=bd(e.padding);let g=A.height,x=0,v=n.reduce((S,w)=>S+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const S=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=f*S+(v-f)*c.lineHeight+(v-1)*e.bodySpacing}m&&(g+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let j=0;const b=function(S){x=Math.max(x,r.measureText(S).width+j)};return r.save(),r.font=d.string,yn(t.title,b),r.font=c.string,yn(t.beforeBody.concat(t.afterBody),b),j=e.displayColors?o+2+e.boxPadding:0,yn(n,S=>{yn(S.before,b),yn(S.lines,b),yn(S.after,b)}),j=0,r.font=u.string,yn(t.footer,b),r.restore(),x+=A.width,{width:x,height:g}}function qXe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function KXe(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function XXe(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),KXe(d,t,e,r)&&(d="center"),d}function Pq(t,e,r){const n=r.yAlign||e.yAlign||qXe(t,r);return{xAlign:r.xAlign||e.xAlign||XXe(t,e,r,n),yAlign:n}}function YXe(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function JXe(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function Iq(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=Lg(o);let A=YXe(e,l);const g=JXe(e,c,d);return c==="center"?l==="left"?A+=d:l==="right"&&(A-=d):l==="left"?A-=Math.max(u,m)+a:l==="right"&&(A+=Math.max(h,f)+a),{x:Ul(A,0,n.width-e.width),y:Ul(g,0,n.height-e.height)}}function oN(t,e,r){const n=bd(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Dq(t){return zu([],Af(t))}function ZXe(t,e,r){return ny(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Lq(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Qae={beforeTitle:uf,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:uf,beforeBody:uf,beforeLabel:uf,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return On(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:uf,afterBody:uf,beforeFooter:uf,footer:uf,afterFooter:uf};function Il(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?Qae[e].call(r,n):a}class CP extends ox{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new Cae(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ZXe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Il(n,"beforeTitle",this,e),i=Il(n,"title",this,e),o=Il(n,"afterTitle",this,e);let l=[];return l=zu(l,Af(a)),l=zu(l,Af(i)),l=zu(l,Af(o)),l}getBeforeBody(e,r){return Dq(Il(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return yn(e,i=>{const o={before:[],lines:[],after:[]},l=Lq(n,i);zu(o.before,Af(Il(l,"beforeLabel",this,i))),zu(o.lines,Il(l,"label",this,i)),zu(o.after,Af(Il(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return Dq(Il(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Il(n,"beforeFooter",this,e),i=Il(n,"footer",this,e),o=Il(n,"afterFooter",this,e);let l=[];return l=zu(l,Af(a)),l=zu(l,Af(i)),l=zu(l,Af(o)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(WXe(this.chart,r[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),yn(l,u=>{const h=Lq(e.callbacks,u);a.push(Il(h,"labelColor",this,u)),i.push(Il(h,"labelPointStyle",this,u)),o.push(Il(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=wb[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Fq(this,n),d=Object.assign({},l,c),u=Pq(this.chart,n,d),h=Iq(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Lg(l),{x:m,y:f}=e,{width:A,height:g}=r;let x,v,j,b,S,w;return i==="center"?(S=f+g/2,a==="left"?(x=m,v=x-o,b=S+o,w=S-o):(x=m+A,v=x+o,b=S-o,w=S+o),j=x):(a==="left"?v=m+Math.max(c,u)+o:a==="right"?v=m+A-Math.max(d,h)-o:v=this.caretX,i==="top"?(b=f,S=b-o,x=v-o,j=v+o):(b=f+g,S=b+o,x=v+o,j=v-o),w=b),{x1:x,x2:v,x3:j,y1:b,y2:S,y3:w}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=Rg(n.rtl,this.x,this.width);for(e.x=oN(this,n.titleAlign,n),r.textAlign=d.textAlign(n.titleAlign),r.textBaseline="middle",o=Wo(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=Wo(i.bodyFont),h=oN(this,"left",i),m=a.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,A=r.y+f;if(i.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=a.leftForLtr(m,d)+d/2,v=A+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,JW(e,g,x,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,JW(e,g,x,v)}else{e.lineWidth=zs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=a.leftForLtr(m,d),x=a.leftForLtr(a.xPlus(m,1),d-2),v=Lg(o.borderRadius);Object.values(v).some(j=>j!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,QS(e,{x:g,y:A,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),QS(e,{x,y:A+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(g,A,d,c),e.strokeRect(g,A,d,c),e.fillStyle=o.backgroundColor,e.fillRect(x,A+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Wo(n.bodyFont);let m=h.lineHeight,f=0;const A=Rg(n.rtl,this.x,this.width),g=function(P){r.fillText(P,A.x(e.x+f),e.y+m/2),e.y+=m+i},x=A.textAlign(o);let v,j,b,S,w,N,E;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,e.x=oN(this,x,n),r.fillStyle=n.bodyColor,yn(this.beforeBody,g),f=l&&x!=="right"?o==="center"?d/2+u:d+2+u:0,S=0,N=a.length;S<N;++S){for(v=a[S],j=this.labelTextColors[S],r.fillStyle=j,yn(v.before,g),b=v.lines,l&&b.length&&(this._drawColorBox(r,e,S,A,n),m=Math.max(h.lineHeight,c)),w=0,E=b.length;w<E;++w)g(b[w]),m=h.lineHeight;yn(v.after,g)}f=0,m=h.lineHeight,yn(this.afterBody,g),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,l;if(i){const c=Rg(n.rtl,this.x,this.width);for(e.x=oN(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=Wo(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:A}=Lg(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+d-m,c),r.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+d,c+u-A),r.quadraticCurveTo(l+d,c+u,l+d-A,c+u),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=wb[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Fq(this,e),c=Object.assign({},o,this._size),d=Pq(r,e,c),u=Iq(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=bd(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),Sae(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),_ae(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!LS(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),l=this._positionChanged(o,e),c=r||!LS(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=wb[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}}ur(CP,"positioners",wb);var rL={id:"tooltip",_element:CP,positioners:wb,afterInit(t,e,r){r&&(t.tooltip=new CP({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Qae},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eYe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function tYe(t,e,r,n){const a=t.indexOf(e);if(a===-1)return eYe(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const rYe=(t,e)=>t===null?null:Ul(Math.round(t),0,e);function Rq(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class mw extends ay{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(On(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:tYe(n,e,Hs(r,e),this._addedLabels),rYe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return Rq.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ur(mw,"id","category"),ur(mw,"defaults",{ticks:{callback:Rq}});function sYe(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=t,f=i||1,A=u-1,{min:g,max:x}=e,v=!On(o),j=!On(l),b=!On(d),S=(x-g)/(h+1);let w=zW((x-g)/A/f)*f,N,E,P,_;if(w<1e-14&&!v&&!j)return[{value:g},{value:x}];_=Math.ceil(x/w)-Math.floor(g/w),_>A&&(w=zW(_*w/A/f)*f),On(c)||(N=Math.pow(10,c),w=Math.ceil(w*N)/N),a==="ticks"?(E=Math.floor(g/w)*w,P=Math.ceil(x/w)*w):(E=g,P=x),v&&j&&i&&rqe((l-o)/i,w/1e3)?(_=Math.round(Math.min((l-o)/w,u)),w=(l-o)/_,E=o,P=l):b?(E=v?o:E,P=j?l:P,_=d-1,w=(P-E)/_):(_=(P-E)/w,qN(_,Math.round(_),w/1e3)?_=Math.round(_):_=Math.ceil(_));const B=Math.max($W(w),$W(E));N=Math.pow(10,On(c)?B:c),E=Math.round(E*N)/N,P=Math.round(P*N)/N;let k=0;for(v&&(m&&E!==o?(r.push({value:o}),E<o&&k++,qN(Math.round((E+k*w)*N)/N,o,Oq(o,S,t))&&k++):E<o&&k++);k<_;++k){const M=Math.round((E+k*w)*N)/N;if(j&&M>l)break;r.push({value:M})}return j&&m&&P!==l?r.length&&qN(r[r.length-1].value,l,Oq(l,S,t))?r[r.length-1].value=l:r.push({value:l}):(!j||P===l)&&r.push({value:P}),r}function Oq(t,e,{horizontal:r,minRotation:n}){const a=Cf(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class nYe extends ay{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return On(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=n?i:c;if(e){const c=Am(a),d=Am(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=sYe(a,i);return e.bounds==="ticks"&&sqe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return $D(e,this.chart.options.locale,this.options.ticks.format)}}class pw extends nYe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=yd(e)?e:0,this.max=yd(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Cf(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ur(pw,"id","linear"),ur(pw,"defaults",{ticks:{callback:xae.formatters.numeric}});const u_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rl=Object.keys(u_);function Uq(t,e){return t-e}function Hq(t,e){if(On(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),yd(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(US(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function Qq(t,e,r,n){const a=Rl.length;for(let i=Rl.indexOf(t);i<a-1;++i){const o=u_[Rl[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=n)return Rl[i]}return Rl[a-1]}function aYe(t,e,r,n,a){for(let i=Rl.length-1;i>=Rl.indexOf(r);i--){const o=Rl[i];if(u_[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Rl[r?Rl.indexOf(r):0]}function iYe(t){for(let e=Rl.indexOf(t)+1,r=Rl.length;e<r;++e)if(u_[Rl[e]].common)return Rl[e]}function zq(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=QD(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function oYe(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function $q(t,e,r){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!r?n:oYe(t,n,a,r)}class VS extends ay{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new bKe._date(e.adapters.date);a.init(r),Jb(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Hq(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=yd(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=yd(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=lqe(a,i,o);return this._unit=r.unit||(n.autoSkip?Qq(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):aYe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:iYe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),$q(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Ul(r,0,o),n=Ul(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||Qq(i.minUnit,r,n,this._getLabelCapacity(r)),l=Hs(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=US(c)||c===!0,u={};let h=r,m,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<n;m=+e.add(m,l,o),f++)zq(u,m,A);return(m===n||a.bounds==="ticks"||f===1)&&zq(u,m,A),Object.keys(u).sort(Uq).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return ra(o,[e,r,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=n[r],f=d&&h&&m&&m.major;return this._adapter.format(e,a||(f?h:u))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=Cf(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,$q(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(Hq(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fae(e.sort(Uq))}}ur(VS,"id","time"),ur(VS,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lN(t,e,r){let n=0,a=t.length-1,i,o,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=wP(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=wP(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class Gq extends VS{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=lN(r,this.min),this._tableRange=lN(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=n&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(lN(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return lN(this._table,n*this._tableRange+this._minPos,!0)}}ur(Gq,"id","timeseries"),ur(Gq,"defaults",VS.defaults);const zae="label";function Vq(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function lYe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function $ae(t,e){t.labels=e}function Gae(t,e,r=zae){const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function cYe(t,e=zae){const r={labels:[],datasets:[]};return $ae(r,t.labels),Gae(r,t.datasets,e),r}function dYe(t,e){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,f=F.useRef(null),A=F.useRef(null),g=()=>{f.current&&(A.current=new iy(f.current,{type:o,data:cYe(l,i),options:c&&{...c},plugins:d}),Vq(e,A.current))},x=()=>{Vq(e,null),A.current&&(A.current.destroy(),A.current=null)};return F.useEffect(()=>{!a&&A.current&&c&&lYe(A.current,c)},[a,c]),F.useEffect(()=>{!a&&A.current&&$ae(A.current.config.data,l.labels)},[a,l.labels]),F.useEffect(()=>{!a&&A.current&&l.datasets&&Gae(A.current.config.data,l.datasets,i)},[a,l.datasets]),F.useEffect(()=>{A.current&&(a?(x(),setTimeout(g)):A.current.update(h))},[a,c,l.labels,l.datasets,h]),F.useEffect(()=>{A.current&&(x(),setTimeout(g))},[o]),F.useEffect(()=>(g(),()=>x()),[]),s.jsx("canvas",{ref:f,role:"img",height:r,width:n,...m,children:u})}const uYe=F.forwardRef(dYe);function Vae(t,e){return iy.register(e),F.forwardRef((r,n)=>s.jsx(uYe,{...r,ref:n,type:t}))}const sL=Vae("bar",KN),nL=Vae("pie",NP),hYe=({activeView:t,setActiveView:e,isOpen:r,setIsOpen:n})=>{const a=[{id:"overview",name:"Dashboard Overview",icon:Lv,description:"School-wide statistics and KPIs"},{id:"academics",name:"Academic Analytics",icon:Qr,description:"Performance, grades, and curriculum"},{id:"students",name:"Student Analytics",icon:Yn,description:"Enrollment, attendance, and progress"},{id:"staff",name:"Staff Management",icon:pr,description:"Teachers, performance, and HR"},{id:"finance",name:"Financial Dashboard",icon:dh,description:"Budget, revenue, and expenses"},{id:"facilities",name:"Facilities & Resources",icon:Gce,description:"Infrastructure and maintenance"},{id:"reports",name:"Reports & Analytics",icon:Mn,description:"Detailed reports and insights"},{id:"communications",name:"Communications",icon:kn,description:"Send SMS/Email to groups"},{id:"notifications",name:"Notification Center",icon:Kn,description:"Alerts and urgent matters"},{id:"calendar",name:"School Calendar",icon:tr,description:"Events and important dates"}],i=[{id:"emergency",name:"Emergency Alert",icon:Vg,color:"red"},{id:"announcement",name:"Send Announcement",icon:kn,color:"blue"},{id:"meeting",name:"Schedule Meeting",icon:tr,color:"green"},{id:"report",name:"Generate Report",icon:kr,color:"purple"}];return s.jsxs("div",{className:`h-screen bg-gradient-to-b from-yellow-50 to-amber-50 border-r border-yellow-200 shadow-2xl transition-all duration-300 flex flex-col fixed left-0 top-0 z-50 ${r?"w-80":"w-20"}`,children:[s.jsx("div",{className:"p-6 border-b border-yellow-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:`flex items-center space-x-3 ${r?"block":"hidden"}`,children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Vg,{className:"w-6 h-6 text-white"})}),r&&s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-lg text-amber-800",children:"Principal Portal"}),s.jsx("p",{className:"text-xs text-yellow-600",children:"Electronic Educare Center"})]})]}),s.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-600 hover:text-amber-800",children:r?s.jsx(wd,{size:20}):s.jsx(aa,{size:20})})]})}),s.jsxs("nav",{className:"flex-1 px-4 py-6 overflow-y-auto",children:[s.jsx("div",{className:"space-y-2",children:a.map(o=>{const l=o.icon,c=t===o.id;return s.jsxs("button",{onClick:()=>e(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${c?"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-lg transform scale-105":"text-amber-700 hover:bg-yellow-100 hover:text-amber-800 hover:transform hover:scale-102"}`,children:[s.jsx(l,{size:20,className:"flex-shrink-0"}),r&&s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("span",{className:"font-medium text-sm block",children:o.name}),s.jsx("span",{className:"text-xs opacity-70 block",children:o.description})]}),!r&&s.jsxs("div",{className:"absolute left-full ml-2 px-3 py-2 bg-amber-800 text-white text-sm rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:[s.jsx("div",{className:"font-medium",children:o.name}),s.jsx("div",{className:"text-xs text-yellow-200",children:o.description})]})]},o.id)})}),r&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-sm font-semibold text-amber-600 mb-4 px-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-2",children:i.map(o=>{const l=o.icon;return s.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 hover:transform hover:scale-102 text-amber-700 ${o.color==="red"?"hover:bg-red-100 hover:text-red-700":o.color==="blue"?"hover:bg-purple-100 hover:text-purple-700":o.color==="green"?"hover:bg-yellow-100 hover:text-yellow-700":"hover:bg-amber-100 hover:text-amber-800"}`,children:[s.jsx(l,{size:16,className:"flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:o.name})]},o.id)})})]})]}),s.jsx("div",{className:"p-4 border-t border-yellow-200",children:r&&s.jsx("div",{className:"mt-4 pt-4 border-t border-yellow-200",children:s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-white",children:"P"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Dr. Principal"}),s.jsx("p",{className:"text-xs text-yellow-600",children:"School Principal"})]})]})})})]})},fYe=({sidebarOpen:t,setSidebarOpen:e,notifications:r})=>{const[n,a]=F.useState(!1),[i,o]=F.useState(!1),[l,c]=F.useState(""),[d,u]=F.useState(!1),h=mi(),m=F.useRef(null),f=F.useRef(null),A=F.useRef(null);F.useEffect(()=>{const w=N=>{m.current&&!m.current.contains(N.target)&&a(!1),f.current&&!f.current.contains(N.target)&&o(!1),A.current&&!A.current.contains(N.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const g=r.filter(w=>w.priority==="high"),x=r.length,v={name:"Dr. Sarah Johnson",title:"School Principal",email:"principal@eec.edu",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},j=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),h("/")},S=[{type:"student",title:"John Smith - Grade 10A",icon:As},{type:"teacher",title:"Ms. Johnson - Mathematics",icon:As},{type:"report",title:"Monthly Performance Report",icon:is},{type:"event",title:"Parent-Teacher Meeting",icon:tr}].filter(w=>w.title.toLowerCase().includes(l.toLowerCase()));return s.jsx("header",{className:"bg-white border-b border-gray-100 shadow-sm sticky top-0 z-40",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 md:hidden","aria-label":"Toggle sidebar",children:s.jsx(Sw,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",ref:A,children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:w=>c(w.target.value),onFocus:()=>u(!0),placeholder:"Search students, teachers, reports...",className:"pl-10 pr-8 py-2 w-48 sm:w-64 md:w-80 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"}),l&&s.jsx("button",{onClick:()=>c(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:s.jsx(Gs,{className:"w-4 h-4"})})]})}),d&&S.length>0&&s.jsx("div",{className:"absolute top-full mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-hidden",children:s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"px-3 py-1 text-xs font-medium text-gray-500 bg-gray-50",children:"Quick Results"}),S.map((w,N)=>{const E=w.icon;return s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 transition-colors text-left",children:[s.jsx(E,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700 truncate",children:w.title}),s.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full flex-shrink-0 ${w.type==="student"?"bg-blue-50 text-blue-600":w.type==="teacher"?"bg-green-50 text-green-600":w.type==="report"?"bg-purple-50 text-purple-600":"bg-orange-50 text-orange-600"}`,children:w.type})]},N)})]})})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Refresh Data","aria-label":"Refresh Data",children:s.jsx(Wf,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Send Message","aria-label":"Send Message",children:s.jsx(kn,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Emergency Contact","aria-label":"Emergency Contact",children:s.jsx(Mi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",ref:m,children:[s.jsxs("button",{onClick:()=>a(!n),className:"relative p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700","aria-label":"Notifications",children:[s.jsx(Kn,{className:"w-5 h-5"}),x>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:x>9?"9+":x})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.length>0&&s.jsxs("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:[g.length," urgent"]}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",onClick:()=>a(!1),children:"Clear all"})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length>0?r.slice(0,5).map(w=>s.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{a(!1)},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full flex-shrink-0 mt-0.5 ${w.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(Vo,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:w.title}),s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:w.timestamp})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:w.message}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.department==="Safety"?"bg-red-50 text-red-700":w.department==="Academic"?"bg-blue-50 text-blue-700":w.department==="Finance"?"bg-green-50 text-green-700":"bg-gray-50 text-gray-700"}`,children:w.department}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View"})]})]})]})},w.id)):s.jsxs("div",{className:"p-6 text-center text-gray-500",children:[s.jsx(Kn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No new notifications"}),s.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"You're all caught up!"})]})}),r.length>5&&s.jsx("div",{className:"p-3 bg-gray-50 text-center border-t border-gray-100",children:s.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center justify-center gap-1 w-full",onClick:()=>{a(!1)},children:["View All Notifications",s.jsx(aa,{className:"w-4 h-4"})]})})]})]}),s.jsxs("div",{className:"relative",ref:f,children:[s.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Profile menu",children:[s.jsx("img",{src:v.avatar,alt:"Principal",className:"w-8 h-8 rounded-full border-2 border-gray-100 object-cover",onError:w=>{w.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[120px]",children:v.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[120px]",children:v.title})]}),s.jsx(mn,{className:`w-4 h-4 text-gray-400 transition-transform ${i?"transform rotate-180":""}`})]}),i&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:v.avatar,alt:"Principal",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm",onError:w=>{w.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:v.name}),s.jsx("p",{className:"text-sm text-gray-500",children:v.title}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:v.email})]})]})}),s.jsxs("div",{className:"py-1",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[s.jsx(As,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"View Profile"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[s.jsx(bm,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[s.jsx(Yi,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),s.jsx("div",{className:"border-t border-gray-100 my-1"}),s.jsxs("button",{onClick:j,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left text-red-600",children:[s.jsx(l1,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})]})]})]})})},mYe=()=>{const[t,e]=F.useState("current_term"),[r,n]=F.useState("all"),a={averageGPA:"95%",passRate:94.8,honorsStudents:234},i=[{grade:"A+",count:187,percentage:23.4,color:"emerald"},{grade:"A",count:234,percentage:29.3,color:"green"},{grade:"B+",count:156,percentage:19.5,color:"blue"},{grade:"B",count:123,percentage:15.4,color:"yellow"},{grade:"C+",count:67,percentage:8.4,color:"orange"},{grade:"C",count:23,percentage:2.9,color:"red"},{grade:"Below C",count:9,percentage:1.1,color:"gray"}],o=[{subject:"Mathematics",avgScore:87.5,improvement:3.2,studentsAbove80:234,totalStudents:289,teacherRating:4.6,trend:"up"},{subject:"Science",avgScore:84.7,improvement:2.8,studentsAbove80:198,totalStudents:289,teacherRating:4.4,trend:"up"},{subject:"English Language",avgScore:82.3,improvement:1.9,studentsAbove80:187,totalStudents:289,teacherRating:4.5,trend:"up"},{subject:"Social Studies",avgScore:79.8,improvement:-.5,studentsAbove80:156,totalStudents:289,teacherRating:4.2,trend:"down"},{subject:"Arts & Crafts",avgScore:91.2,improvement:4.1,studentsAbove80:267,totalStudents:289,teacherRating:4.8,trend:"up"},{subject:"Physical Education",avgScore:88.9,improvement:2.3,studentsAbove80:245,totalStudents:289,teacherRating:4.7,trend:"up"}],l=[{grade:"Grade 6",totalStudents:120,avgGPA:3.8,topPerformers:28,needsSupport:8},{grade:"Grade 7",totalStudents:125,avgGPA:3.7,topPerformers:31,needsSupport:12},{grade:"Grade 8",totalStudents:118,avgGPA:3.6,topPerformers:25,needsSupport:15},{grade:"Grade 9",totalStudents:132,avgGPA:3.8,topPerformers:35,needsSupport:10},{grade:"Grade 10",totalStudents:128,avgGPA:3.9,topPerformers:42,needsSupport:7},{grade:"Grade 11",totalStudents:115,avgGPA:3.7,topPerformers:29,needsSupport:11},{grade:"Grade 12",totalStudents:109,avgGPA:3.8,topPerformers:38,needsSupport:6}],c=[{exam:"Mid-Term Exams",date:"2024-03-15",status:"upcoming",subjects:5},{exam:"Unit Test 3",date:"2024-02-28",status:"completed",subjects:3},{exam:"Practical Exams",date:"2024-04-10",status:"scheduled",subjects:4},{exam:"Final Exams",date:"2024-05-20",status:"scheduled",subjects:6}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Academic Analytics"}),s.jsx("p",{className:"text-yellow-100",children:"Comprehensive academic performance insights"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:t,onChange:d=>e(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white placeholder-white/70",children:[s.jsx("option",{value:"current_term",children:"Current Term"}),s.jsx("option",{value:"last_term",children:"Last Term"}),s.jsx("option",{value:"academic_year",children:"Academic Year"})]}),s.jsxs("select",{value:r,onChange:d=>n(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white",children:[s.jsx("option",{value:"all",children:"All Grades"}),s.jsx("option",{value:"6",children:"Grade 6"}),s.jsx("option",{value:"7",children:"Grade 7"}),s.jsx("option",{value:"8",children:"Grade 8"}),s.jsx("option",{value:"9",children:"Grade 9"}),s.jsx("option",{value:"10",children:"Grade 10"}),s.jsx("option",{value:"11",children:"Grade 11"}),s.jsx("option",{value:"12",children:"Grade 12"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(pn,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.averageGPA}),s.jsx("div",{className:"text-sm text-amber-600",children:"Average Percentage"})]})]}),s.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${a.averageGPA/4*100}%`}})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(jn,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-amber-900",children:[a.passRate,"%"]}),s.jsx("div",{className:"text-sm text-amber-600",children:"Pass Rate"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[s.jsx($g,{className:"w-4 h-4"}),s.jsx("span",{children:"+2.3% from last term"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(pr,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.honorsStudents}),s.jsx("div",{className:"text-sm text-amber-600",children:"Honor Students"})]})]}),s.jsx("div",{className:"text-xs text-amber-600",children:"18.8% of total students"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(CX,{className:"w-5 h-5 text-yellow-500"}),"Grade Distribution"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:i.map((d,u)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`}),s.jsx("span",{className:"font-medium text-gray-900",children:d.grade})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.count," students"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[d.percentage,"%"]})]}),s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`,style:{width:`${d.percentage*3}%`}})})]})]},u))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-500"}),"Subject Performance"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:o.slice(0,4).map((d,u)=>s.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:d.subject}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${d.trend==="up"?"text-green-600":"text-red-600"}`,children:[d.trend==="up"?s.jsx($g,{className:"w-4 h-4"}):s.jsx(FT,{className:"w-4 h-4"}),d.improvement>0?"+":"",d.improvement,"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Average Score"}),s.jsxs("div",{className:"font-bold text-gray-900",children:[d.avgScore,"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Above 80%"}),s.jsxs("div",{className:"font-bold text-gray-900",children:[d.studentsAbove80,"/",d.totalStudents]})]})]}),s.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${d.avgScore}%`}})})]},u))})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(Mn,{className:"w-5 h-5 text-purple-500"}),"Grade-wise Analytics"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),"Export Report"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-yellow-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Grade"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Total Students"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Average GPA"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Top Performers"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Needs Support"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Performance"})]})}),s.jsx("tbody",{className:"divide-y divide-yellow-200",children:l.map((d,u)=>s.jsxs("tr",{className:"hover:bg-yellow-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-amber-900",children:d.grade}),s.jsx("td",{className:"px-6 py-4 text-amber-700",children:d.totalStudents}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:"font-semibold text-amber-900",children:d.avgGPA}),s.jsx("div",{className:"w-16 bg-yellow-200 rounded-full h-1 mt-1",children:s.jsx("div",{className:"bg-yellow-500 h-1 rounded-full",style:{width:`${d.avgGPA/4*100}%`}})})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.topPerformers," students"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.needsSupport," students"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${d.avgGPA>=3.5?"bg-purple-500":d.avgGPA>=3?"bg-amber-500":"bg-red-500"}`,style:{width:`${d.avgGPA/4*100}%`}})})})]},u))})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-amber-500"}),"Examination Schedule"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((d,u)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:d.exam}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.status==="upcoming"?"bg-orange-100 text-orange-700":d.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:d.status})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(tr,{className:"w-4 h-4"}),new Date(d.date).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"w-4 h-4"}),d.subjects," subjects"]})]})]},u))})})]})]})};iy.register(mw,pw,Ug,bg,tL,rL,eL);const pYe=()=>{const t=[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],e=[{name:"Amit Sharma",grade:"A",attendance:"98%"},{name:"Priya Singh",grade:"A",attendance:"97%"},{name:"Rahul Das",grade:"A",attendance:"96%"},{name:"Sneha Roy",grade:"B",attendance:"95%"},{name:"Vikram Patel",grade:"B",attendance:"94%"}],r={labels:t.map(o=>o.grade),datasets:[{label:"Students",data:t.map(o=>o.students),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},n={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Attendance (%)",data:e.map(o=>parseInt(o.attendance)),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Top Students Attendance"}},scales:{y:{min:90,max:100,title:{display:!0,text:"Attendance (%)"}}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl p-8 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Analytics"}),s.jsx("p",{className:"text-blue-100",children:"Comprehensive student enrollment, attendance, and progress analytics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1,247"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Students"})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Yn,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94.2%"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Attendance Rate"})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(pr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"96.5%"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Graduation Rate"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(pn,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"+4.2%"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Growth Rate"})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(cs,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Performance Distribution"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(nL,{data:r,options:n})}),s.jsx("div",{children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Number of Students"})]})}),s.jsx("tbody",{children:t.map((o,l)=>s.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[s.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.grade}),s.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.students})]},o.grade))})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Students"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(sL,{data:a,options:i})}),s.jsx("div",{children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Name"}),s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Attendance"})]})}),s.jsx("tbody",{children:e.map((o,l)=>s.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[s.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),s.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.grade}),s.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.attendance})]},o.name))})]})})]})]})]})};iy.register(mw,pw,Ug,bg,tL,rL,eL);const AYe=()=>{const t=[{role:"Teachers",count:89},{role:"Support Staff",count:34},{role:"Admin",count:12},{role:"HR",count:6},{role:"New Hires",count:5}],e=[{name:"Teachers",score:4.7},{name:"Support Staff",score:4.5},{name:"Admin",score:4.2},{name:"HR",score:4.6}],r={labels:t.map(o=>o.role),datasets:[{label:"Staff Count",data:t.map(o=>o.count),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},n={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Staff Roles Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Satisfaction Score",data:e.map(o=>o.score),backgroundColor:"rgba(139, 92, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Staff Satisfaction Scores"}},scales:{y:{min:3.5,max:5,title:{display:!0,text:"Score (out of 5)"}}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-8 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Staff Management"}),s.jsx("p",{className:"text-purple-100",children:"Manage teachers, staff performance, and HR operations"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"89"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Teachers"})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(pr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"34"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Support Staff"})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(pd,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4.6/5"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Satisfaction"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(pn,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"5"}),s.jsx("div",{className:"text-sm text-gray-500",children:"New Hires"})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(hI,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Roles Distribution"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(nL,{data:r,options:n})}),s.jsx("div",{children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Count"})]})}),s.jsx("tbody",{children:t.map((o,l)=>s.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[s.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.role}),s.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.count})]},o.role))})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Satisfaction Scores"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(sL,{data:a,options:i})}),s.jsx("div",{children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),s.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Satisfaction Score"})]})}),s.jsx("tbody",{children:e.map((o,l)=>s.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[s.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),s.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.score})]},o.name))})]})})]})]})]})},xYe=()=>{const t=[{month:"Jan",revenue:12e6,expenses:85e5},{month:"Feb",revenue:145e5,expenses:92e5},{month:"Mar",revenue:138e5,expenses:89e5},{month:"Apr",revenue:162e5,expenses:101e5},{month:"May",revenue:158e5,expenses:98e5},{month:"Jun",revenue:182e5,expenses:112e5},{month:"Jul",revenue:175e5,expenses:108e5},{month:"Aug",revenue:198e5,expenses:121e5}],e=[{name:"Salaries",value:45,color:"#3B82F6"},{name:"Infrastructure",value:25,color:"#10B981"},{name:"Equipment",value:15,color:"#F59E0B"},{name:"Utilities",value:10,color:"#EF4444"},{name:"Others",value:5,color:"#8B5CF6"}],r=[{department:"Engineering",allocated:5e6,utilized:42e5},{department:"Medical",allocated:45e5,utilized:38e5},{department:"Business",allocated:35e5,utilized:29e5},{department:"Arts",allocated:28e5,utilized:24e5},{department:"Science",allocated:42e5,utilized:36e5}],n=[{id:1,description:"Faculty Salary - Engineering",amount:85e4,type:"expense",date:"2024-08-15"},{id:2,description:"Student Fee Collection",amount:12e5,type:"income",date:"2024-08-14"},{id:3,description:"Laboratory Equipment",amount:32e4,type:"expense",date:"2024-08-13"},{id:4,description:"Government Grant",amount:5e5,type:"income",date:"2024-08-12"},{id:5,description:"Utility Bills",amount:85e3,type:"expense",date:"2024-08-11"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-8 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Financial Dashboard"}),s.jsx("p",{className:"text-green-100",children:"Comprehensive financial overview and budget management"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"19.8 Cr"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),s.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[s.jsx(FR,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(dh,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12.1 Cr"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Expenses"}),s.jsxs("div",{className:"flex items-center mt-2 text-blue-600",children:[s.jsx(FR,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"+8.2%"})]})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(vc,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"78.5%"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Budget Utilization"}),s.jsxs("div",{className:"flex items-center mt-2 text-orange-600",children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"High usage"})]})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(CX,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"7.7 Cr"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Net Profit"}),s.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[s.jsx(cs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"+15.3%"})]})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(cs,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue vs Expenses Trend"}),s.jsx(ru,{width:"100%",height:300,children:s.jsxs(Kee,{data:t,children:[s.jsx(Mf,{strokeDasharray:"3 3"}),s.jsx(jc,{dataKey:"month"}),s.jsx(Nc,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),s.jsx(di,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),s.jsx(FA,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,name:"Revenue"}),s.jsx(FA,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:3,name:"Expenses"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),s.jsx(ru,{width:"100%",height:300,children:s.jsxs(E8,{children:[s.jsx(di,{formatter:a=>[`${a}%`,""]}),s.jsx(Au,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,children:e.map((a,i)=>s.jsx(Nm,{fill:a.color},`cell-${i}`))})]})}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:e.map((a,i)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),s.jsxs("span",{className:"text-sm text-gray-600",children:[a.name,": ",a.value,"%"]})]},i))})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Budget Utilization"}),s.jsx(ru,{width:"100%",height:300,children:s.jsxs(G1,{data:r,children:[s.jsx(Mf,{strokeDasharray:"3 3"}),s.jsx(jc,{dataKey:"department"}),s.jsx(Nc,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),s.jsx(di,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),s.jsx($l,{dataKey:"allocated",fill:"#3B82F6",name:"Allocated"}),s.jsx($l,{dataKey:"utilized",fill:"#10B981",name:"Utilized"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Date"})]})}),s.jsx("tbody",{children:n.map(a=>s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3 px-4 text-gray-900",children:a.description}),s.jsxs("td",{className:"py-3 px-4 text-gray-900",children:["",(a.amount/1e5).toFixed(1),"L"]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),s.jsx("td",{className:"py-3 px-4 text-gray-500",children:a.date})]},a.id))})]})})]})]})},gYe=({notifications:t=[]})=>{const[e,r]=F.useState("all"),[n,a]=F.useState(""),i=[...t,{id:5,type:"info",title:"New Student Enrollment",message:"15 new students enrolled for the upcoming semester",timestamp:"4 hours ago",priority:"low",department:"Admission",read:!1},{id:6,type:"success",title:"Infrastructure Upgrade Complete",message:"Science lab renovation completed successfully",timestamp:"6 hours ago",priority:"medium",department:"Facility",read:!0},{id:7,type:"warning",title:"Maintenance Schedule",message:"Library maintenance scheduled for this weekend",timestamp:"8 hours ago",priority:"medium",department:"Maintenance",read:!1},{id:8,type:"urgent",title:"Parent Complaint",message:"Urgent complaint regarding cafeteria food quality",timestamp:"12 hours ago",priority:"high",department:"Administration",read:!1},{id:9,type:"academic",title:"Teacher Conference Request",message:"Ms. Johnson requests conference about curriculum changes",timestamp:"1 day ago",priority:"medium",department:"Academic",read:!0},{id:10,type:"financial",title:"Monthly Budget Report",message:"February budget report is now available for review",timestamp:"1 day ago",priority:"low",department:"Finance",read:!0}],o={high:i.filter(h=>h.priority==="high").length,medium:i.filter(h=>h.priority==="medium").length,low:i.filter(h=>h.priority==="low").length,unread:i.filter(h=>!h.read).length},l=h=>{switch(h){case"urgent":case"warning":return Vo;case"success":return Lr;case"info":return ww;default:return Kn}},c=(h,m)=>{if(m==="high")return"red";switch(h){case"urgent":return"red";case"warning":return"yellow";case"success":return"green";case"financial":return"emerald";case"academic":return"blue";case"staff":return"purple";default:return"gray"}},d=h=>{switch(h.toLowerCase()){case"academic":return kr;case"finance":return dh;case"hr":return As;case"safety":return Vo;case"administration":return As;default:return Kn}},u=i.filter(h=>!(e!=="all"&&h.priority!==e&&e!=="unread"||e==="unread"&&h.read||n&&!h.title.toLowerCase().includes(n.toLowerCase())&&!h.message.toLowerCase().includes(n.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notification Center"}),s.jsx("p",{className:"text-yellow-100",children:"Manage all school notifications and alerts"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:o.unread}),s.jsx("div",{className:"text-xs text-yellow-100",children:"Unread"})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:o.high}),s.jsx("div",{className:"text-xs text-yellow-100",children:"Urgent"})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:i.length}),s.jsx("div",{className:"text-sm text-amber-600",children:"Total Notifications"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Kn,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.high}),s.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Vo,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:o.medium}),s.jsx("div",{className:"text-sm text-amber-600",children:"Medium Priority"})]}),s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(DR,{className:"w-6 h-6 text-amber-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:o.unread}),s.jsx("div",{className:"text-sm text-gray-500",children:"Unread"})]}),s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-gray-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),placeholder:"Search notifications...",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:e,onChange:h=>r(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Notifications"}),s.jsx("option",{value:"high",children:"High Priority"}),s.jsx("option",{value:"medium",children:"Medium Priority"}),s.jsx("option",{value:"low",children:"Low Priority"}),s.jsx("option",{value:"unread",children:"Unread Only"})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Mark All Read"}),s.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Archive All"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"divide-y divide-gray-100",children:u.length>0?u.map(h=>{const m=l(h.type),f=d(h.department),A=c(h.type,h.priority);return s.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${h.read?"":"bg-blue-50/30"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg flex-shrink-0 ${A==="red"?"bg-red-100":A==="yellow"?"bg-yellow-100":A==="green"?"bg-green-100":A==="emerald"?"bg-emerald-100":A==="blue"?"bg-blue-100":A==="purple"?"bg-purple-100":"bg-gray-100"}`,children:s.jsx(m,{className:`w-5 h-5 ${A==="red"?"text-red-600":A==="yellow"?"text-yellow-600":A==="green"?"text-green-600":A==="emerald"?"text-emerald-600":A==="blue"?"text-blue-600":A==="purple"?"text-purple-600":"text-gray-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:`font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:[h.title,!h.read&&s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full inline-block"})]}),s.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",children:h.message})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.priority==="high"?"bg-red-100 text-red-700":h.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:h.priority}),s.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:s.jsx(md,{className:"w-4 h-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"w-4 h-4"}),h.timestamp]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(f,{className:"w-4 h-4"}),h.department]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Archive",children:s.jsx(MT,{className:"w-4 h-4 text-gray-400"})}),s.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Flag",children:s.jsx(DR,{className:"w-4 h-4 text-gray-400"})})]})]})]})]})},h.id)}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]})}),u.length>10&&s.jsx("div",{className:"p-6 bg-gray-50 text-center",children:s.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Load More Notifications"})})]})]})},vYe=[{value:"1",label:"Class 1"},{value:"2",label:"Class 2"},{value:"3",label:"Class 3"},{value:"4",label:"Class 4"},{value:"5",label:"Class 5"},{value:"6",label:"Class 6"},{value:"7",label:"Class 7"},{value:"8",label:"Class 8"},{value:"9",label:"Class 9"},{value:"10",label:"Class 10"},{value:"11",label:"Class 11"},{value:"12",label:"Class 12"}],yYe=["A","B","C","D"],cN=[{id:"p1",role:"Parent",name:"Anita Sharma",class:"1",section:"A",email:"anita@example.com",phone:"+91-900000001"},{id:"p2",role:"Parent",name:"Rahul Verma",class:"1",section:"B",email:"rahul@example.com",phone:"+91-900000002"},{id:"p3",role:"Parent",name:"Sonal Kapoor",class:"2",section:"A",email:"sonal@example.com",phone:"+91-900000003"},{id:"p4",role:"Parent",name:"Deepak Singh",class:"3",section:"C",email:"deepak@example.com",phone:"+91-900000004"},{id:"t1",role:"Teacher",name:"Mr. Iyer",class:"5",section:"A",email:"iyer@school.edu",phone:"+91-900000101"},{id:"t2",role:"Teacher",name:"Ms. Bose",class:"7",section:"B",email:"bose@school.edu",phone:"+91-900000102"},{id:"s1",role:"Staff",name:"Office Admin",class:"-",section:"-",email:"office@school.edu",phone:"+91-900000201"},{id:"s2",role:"Staff",name:"Transport Incharge",class:"-",section:"-",email:"bus@school.edu",phone:"+91-900000202"}];function bYe(){const[t,e]=F.useState(!0),[r,n]=F.useState(!1),[a,i]=F.useState("Parents"),[o,l]=F.useState(""),[c,d]=F.useState(""),[u,h]=F.useState(""),[m,f]=F.useState(new Set),[A,g]=F.useState(""),[x,v]=F.useState(""),j=F.useMemo(()=>{let B=cN;if(a!=="All"&&(B=B.filter(k=>k.role.toLowerCase()===a.toLowerCase())),o&&(B=B.filter(k=>k.class===o)),c&&(B=B.filter(k=>k.section===c)),u.trim()){const k=u.trim().toLowerCase();B=B.filter(M=>M.name.toLowerCase().includes(k)||M.email&&M.email.toLowerCase().includes(k)||M.phone&&M.phone.toLowerCase().includes(k))}return B},[a,o,c,u]),b=B=>{f(k=>{const M=new Set(k);return M.has(B)?M.delete(B):M.add(B),M})},S=()=>{f(new Set(j.map(B=>B.id)))},w=()=>f(new Set),N=x.length,E=Math.max(1,Math.ceil(N/160)),P=(t||r)&&m.size>0&&x.trim().length>0,_=async()=>{const B=cN.filter(k=>m.has(k.id));console.log("Sending via:",{email:t,sms:r}),console.log("Audience/Filters:",{audience:a,selectedClass:o,selectedSection:c,query:u}),console.log("Subject:",A),console.log("Message:",x),console.log("Recipients:",B),alert(`Prepared to send ${t?"Email ":""}${t&&r?"& ":""}${r?"SMS ":""}to ${B.length} recipient(s).`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Communications"}),s.jsx("p",{className:"text-yellow-100",children:"Send Email and SMS to parents, teachers, and staff"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:cN.filter(B=>B.role==="Parent").length}),s.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[s.jsx(Yn,{className:"w-3 h-3"})," Parents"]})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:cN.filter(B=>B.role!=="Parent").length}),s.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[s.jsx(pr,{className:"w-3 h-3"})," Staff & Teachers"]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap md:col-span-2",children:[s.jsxs("button",{onClick:()=>e(B=>!B),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${t?"bg-amber-100 border-amber-300 text-amber-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Yi,{className:"w-4 h-4"})," Email"]}),s.jsxs("button",{onClick:()=>n(B=>!B),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${r?"bg-yellow-100 border-yellow-300 text-yellow-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Mi,{className:"w-4 h-4"})," SMS"]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Audience"}),s.jsxs("select",{value:a,onChange:B=>i(B.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[s.jsx("option",{children:"Parents"}),s.jsx("option",{children:"Teachers"}),s.jsx("option",{children:"Staff"}),s.jsx("option",{children:"All"})]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Class"}),s.jsxs("select",{value:o,onChange:B=>l(B.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[s.jsx("option",{value:"",children:"All Classes"}),vYe.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Section"}),s.jsxs("select",{value:c,onChange:B=>d(B.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[s.jsx("option",{value:"",children:"All Sections"}),yYe.map(B=>s.jsx("option",{value:B,children:B},B))]})]}),s.jsxs("div",{className:"md:col-span-2 min-w-0",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Search"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx(Ds,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:u,onChange:B=>h(B.target.value),placeholder:"Search name, email, phone",className:"w-full border border-gray-200 rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"})]})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-amber-800",children:[m.size," selected  ",j.length," match",j.length!==1?"es":""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:S,className:"text-sm px-3 py-1.5 rounded-lg bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 text-amber-800",children:"Select All"}),s.jsx("button",{onClick:w,className:"text-sm px-3 py-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700",children:"Clear"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-yellow-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-yellow-100 flex items-center justify-between",children:s.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recipients"})}),s.jsxs("div",{className:"divide-y divide-yellow-50 max-h-[440px] overflow-auto",children:[j.map(B=>s.jsxs("label",{className:"flex items-center gap-4 p-4 hover:bg-yellow-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:m.has(B.id),onChange:()=>b(B.id),className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-amber-900",children:B.name}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${B.role==="Parent"?"bg-purple-100 text-purple-700":B.role==="Teacher"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-800"}`,children:B.role})]}),s.jsxs("div",{className:"text-sm text-amber-700",children:[B.email,"  ",B.phone]})]}),s.jsx("div",{className:"text-sm text-amber-700 w-24 text-right",children:B.class!=="-"?`Class ${B.class}-${B.section}`:"-"})]},B.id)),j.length===0&&s.jsx("div",{className:"p-6 text-center text-amber-700",children:"No matches found."})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Compose Message"}),t&&s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Subject (Email)"}),s.jsx("input",{value:A,onChange:B=>g(B.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Subject line"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"text-xs text-amber-700",children:"Message"}),s.jsx("textarea",{rows:8,value:x,onChange:B=>v(B.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Type your announcement or message here..."}),r&&s.jsxs("div",{className:"text-xs text-amber-700 mt-1",children:[N," characters  ~",E," SMS segment",E>1?"s":""]})]}),s.jsxs("button",{disabled:!P,onClick:_,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-white transition-colors ${P?"bg-amber-600 hover:bg-amber-700":"bg-gray-300 cursor-not-allowed"}`,children:[s.jsx(kn,{className:"w-4 h-4"}),t&&r?"Send Email & SMS":t?"Send Email":"Send SMS"]}),s.jsx("div",{className:"text-xs text-amber-700 mt-2",children:"This is a demo UI. Integrate with backend APIs to actually deliver messages."})]})]})]})}iy.register(mw,pw,Ug,tL,rL,eL);const wYe="http://localhost:5000",jYe=()=>{var E,P,_,B,k,M,T,H,L,Q;const[t,e]=F.useState("overview"),[r,n]=F.useState(!0),[a,i]=F.useState(null),[o,l]=F.useState(!0),[c,d]=F.useState("");F.useEffect(()=>{(async()=>{l(!0),d("");try{const V=await fetch(`${wYe}/api/principal/overview`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!V.ok)throw new Error("Failed to load principal overview");const ee=await V.json();i(ee)}catch(V){console.error("Principal overview error:",V),d("Unable to load live dashboard data.")}finally{l(!1)}})()},[]);const u={totalStudents:((E=a==null?void 0:a.stats)==null?void 0:E.totalStudents)??1247,totalTeachers:((P=a==null?void 0:a.stats)==null?void 0:P.totalTeachers)??89,totalStaff:34,totalClasses:((_=a==null?void 0:a.stats)==null?void 0:_.totalClasses)??45,activeParents:((B=a==null?void 0:a.stats)==null?void 0:B.totalParents)??1180,attendanceRate:((k=a==null?void 0:a.attendance)==null?void 0:k.rate)??94.2,satisfactionScore:4.7,currentRevenue:(M=a==null?void 0:a.fees)!=null&&M.paidAmount?Number((a.fees.paidAmount/1e6).toFixed(2)):2.4,monthlyGrowth:8.3},h=[{id:1,type:"urgent",title:"Fire Safety Inspection Due",message:"Annual fire safety inspection scheduled for next week",timestamp:"10 minutes ago",priority:"high",department:"Safety"},{id:2,type:"academic",title:"Exam Results Available",message:"Mid-term examination results ready for review",timestamp:"1 hour ago",priority:"medium",department:"Academic"},{id:3,type:"financial",title:"Budget Approval Required",message:"Q2 budget proposal awaiting principal approval",timestamp:"2 hours ago",priority:"high",department:"Finance"}],m=[{id:1,action:"New teacher application approved",time:"5 min ago",type:"staff"},{id:2,action:"Student disciplinary meeting scheduled",time:"15 min ago",type:"student"},{id:3,action:"Budget report generated",time:"30 min ago",type:"finance"},{id:4,action:"Parent-teacher meeting confirmed",time:"1 hour ago",type:"academic"}],f=[{title:"Academic Excellence",value:"94.2%",change:"+2.1%",trend:"up",color:"bg-emerald-100 text-emerald-800",icon:pn,description:"Students achieving above 85%"},{title:"Teacher Satisfaction",value:"4.6/5",change:"+0.2",trend:"up",color:"bg-blue-100 text-blue-800",icon:pd,description:"Based on quarterly survey"},{title:"Parent Engagement",value:"89.3%",change:"+5.7%",trend:"up",color:"bg-purple-100 text-purple-800",icon:pr,description:"Active participation rate"},{title:"Infrastructure Score",value:"92/100",change:"+3",trend:"up",color:"bg-amber-100 text-amber-800",icon:dm,description:"Facility condition rating"}],A=[{title:"Total Students",value:u.totalStudents.toLocaleString(),change:"+47",changeType:"increase",icon:Yn,color:"bg-blue-600",drillDown:"students"},{title:"Faculty & Staff",value:(u.totalTeachers+u.totalStaff).toLocaleString(),change:"+3",changeType:"increase",icon:pr,color:"bg-green-600",drillDown:"staff"},{title:"Active Classes",value:u.totalClasses.toString(),change:"+2",changeType:"increase",icon:Qr,color:"bg-purple-600",drillDown:"academics"},{title:"Attendance Rate",value:`${u.attendanceRate}%`,change:"+1.2%",changeType:"increase",icon:pd,color:"bg-orange-600",drillDown:"attendance"},{title:"Revenue (M)",value:`$${u.currentRevenue}M`,change:`+${u.monthlyGrowth}%`,changeType:"increase",icon:dh,color:"bg-indigo-600",drillDown:"finance"},{title:"Satisfaction Score",value:`${u.satisfactionScore}/5`,change:"+0.3",changeType:"increase",icon:pn,color:"bg-yellow-500",drillDown:"satisfaction"}],g=(H=(T=a==null?void 0:a.attendance)==null?void 0:T.trend)!=null&&H.length?a.attendance.trend.map(O=>({month:O.month,value:O.rate})):[{month:"Jan",value:92.4},{month:"Feb",value:93.1},{month:"Mar",value:94.2},{month:"Apr",value:94.8},{month:"May",value:95.3},{month:"Jun",value:94.7}],x={labels:g.map(O=>O.month),datasets:[{label:"Attendance Rate (%)",data:g.map(O=>O.value),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8},{label:"Target (%)",data:Array(g.length).fill(95),backgroundColor:"rgba(34, 197, 94, 0.5)",borderRadius:8}]},v={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Attendance Trend (Last 6 Months)"}},scales:{y:{min:85,max:100,ticks:{stepSize:1},title:{display:!0,text:"Attendance (%)"}}}},j=(Q=(L=a==null?void 0:a.performance)==null?void 0:L.gradeDistribution)!=null&&Q.length?a.performance.gradeDistribution.map(O=>({grade:O.grade,students:O.count})):[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],b={labels:j.map(O=>O.grade),datasets:[{label:"Students",data:j.map(O=>O.students),backgroundColor:["rgba(251, 191, 36, 0.7)","rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(251, 191, 36, 1)","rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},S={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},w=(O,V)=>{const ee=O.icon;return s.jsxs("div",{className:"relative rounded-xl p-6 shadow-lg overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl",onClick:()=>e(O.drillDown),children:[s.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${O.color}`}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:O.title}),s.jsx("div",{className:`p-2 rounded-lg ${O.color.replace("600","100")} text-white`,children:s.jsx(ee,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex items-end justify-between mt-auto",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.value}),s.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs font-medium ${O.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[O.changeType==="increase"?s.jsx($g,{className:"w-3 h-3"}):s.jsx(FT,{className:"w-3 h-3"}),O.change]})]})})]}),s.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition-opacity"})]},V)},N=(O,V)=>{const ee=O.icon;return s.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${O.color.split(" ")[0]} ${O.color.split(" ")[1].replace("800","600")}`,children:s.jsx(ee,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:O.title}),s.jsx("p",{className:"text-sm text-gray-500",children:O.description})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:O.value}),s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${O.trend==="up"?"text-green-600":"text-red-600"}`,children:[O.trend==="up"?s.jsx(cs,{className:"w-4 h-4"}):s.jsx(FT,{className:"w-4 h-4"}),O.change]})]})]})},V)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),s.jsx(hYe,{activeView:t,setActiveView:e,isOpen:r,setIsOpen:n}),s.jsxs("div",{className:`transition-all duration-300 ${r?"ml-80":"ml-20"}`,children:[s.jsx("div",{className:"sticky top-0 z-30",children:s.jsx(fYe,{sidebarOpen:r,setSidebarOpen:n,notifications:h})}),s.jsxs("main",{className:"p-6 bg-gray-50 min-h-screen",children:[(o||c)&&s.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${c?"border-red-200 bg-red-50 text-red-700":"border-yellow-200 bg-yellow-50 text-yellow-800"}`,children:o?"Loading live dashboard data...":c}),t==="overview"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-300 to-yellow-500 rounded-xl p-6 text-black relative overflow-hidden shadow-xl",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-geometric.png')] opacity-10"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Principal Dashboard"}),s.jsx("p",{className:"text-black opacity-90",children:"Comprehensive analytics for Electronic Educare Center"})]}),s.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[s.jsx(tr,{className:"w-5 h-5"}),s.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("button",{className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg backdrop-blur-sm flex items-center gap-2 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),"Export Report"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"School Overview"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[s.jsx(xo,{className:"w-4 h-4"}),"Filters"]}),s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[s.jsx(Wf,{className:"w-4 h-4"}),"Refresh"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:A.map((O,V)=>w(O,V))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1 space-y-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Metrics"}),s.jsx("div",{className:"space-y-4",children:f.map((O,V)=>N(O,V))})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Trend"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:s.jsx(IT,{className:"w-4 h-4"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"appearance-none bg-gray-100 border-none rounded-lg pl-3 pr-8 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:"Last 6 Months"}),s.jsx("option",{children:"Last Year"}),s.jsx("option",{children:"Last 3 Years"})]}),s.jsx(mn,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"})]})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(sL,{data:x,options:v})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Performance Distribution"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:s.jsx(IT,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:s.jsx(Dde,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(nL,{data:b,options:S})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Vo,{className:"w-5 h-5 text-red-500"}),"Critical Alerts"]}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:["View All",s.jsx(aa,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:h.map(O=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 flex-shrink-0 p-2 rounded-full ${O.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(Kn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.title}),s.jsx("span",{className:"text-xs text-gray-500",children:O.timestamp})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.message}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.department==="Safety"?"bg-red-100 text-red-700":O.department==="Academic"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:O.department}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"Take Action"})]})]})]})},O.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5 text-blue-500"}),"Recent Activities"]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:m.map(O=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${O.type==="staff"?"bg-green-500":O.type==="student"?"bg-blue-500":O.type==="finance"?"bg-purple-500":"bg-orange-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.action}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:O.time}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.type==="staff"?"bg-green-100 text-green-700":O.type==="student"?"bg-blue-100 text-blue-700":O.type==="finance"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:O.type.charAt(0).toUpperCase()+O.type.slice(1)})]})]})]})},O.id))})]})]})]}):t==="academics"?s.jsx(mYe,{}):t==="students"?s.jsx(pYe,{}):t==="staff"?s.jsx(AYe,{}):t==="finance"?s.jsx(xYe,{}):t==="notifications"?s.jsx(gYe,{notifications:h}):t==="facilities"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Facilities & Resources"}),s.jsx("p",{className:"text-yellow-100",children:"Infrastructure management and maintenance oversight"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:"98%"}),s.jsx("div",{className:"text-xs text-yellow-100",children:"Operational"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"45"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Classrooms"})]}),s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(dm,{className:"w-6 h-6 text-amber-600"})})]}),s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"42 Active, 3 Under Maintenance"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Laboratories"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ya,{className:"w-6 h-6 text-purple-600"})})]}),s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"All Operational"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"12"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Buses"})]}),s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(cs,{className:"w-6 h-6 text-amber-600"})})]}),s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"11 Active, 1 In Service"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"95%"}),s.jsx("div",{className:"text-sm text-amber-600",children:"HVAC Systems"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(bm,{className:"w-6 h-6 text-yellow-600"})})]}),s.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"Optimal Performance"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Maintenance"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:[{task:"HVAC System Inspection",date:"2024-08-10",location:"Main Building",priority:"high"},{task:"Fire Safety Equipment Check",date:"2024-08-12",location:"All Buildings",priority:"high"},{task:"Playground Equipment Maintenance",date:"2024-08-15",location:"Sports Complex",priority:"medium"},{task:"Library Carpet Cleaning",date:"2024-08-18",location:"Library Wing",priority:"low"}].map((O,V)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-900",children:O.task}),s.jsx("p",{className:"text-sm text-amber-600",children:O.location})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-amber-700",children:O.date}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.priority==="high"?"bg-red-100 text-red-700":O.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:O.priority})]})]},V))})})]})]}):t==="communications"?s.jsx(bYe,{}):t==="reports"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),s.jsx("p",{className:"text-yellow-100",children:"Detailed insights and performance reports"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:"24"}),s.jsx("div",{className:"text-xs text-yellow-100",children:"Reports Generated"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Mn,{className:"w-6 h-6 text-purple-600"})}),s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Updated"})]}),s.jsx("h3",{className:"font-semibold text-amber-900",children:"Academic Reports"}),s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Student performance & grades"}),s.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Last updated: 2 hours ago"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(dh,{className:"w-6 h-6 text-amber-600"})}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Pending"})]}),s.jsx("h3",{className:"font-semibold text-amber-900",children:"Financial Reports"}),s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Budget & revenue analysis"}),s.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Due: Tomorrow"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(pr,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Ready"})]}),s.jsx("h3",{className:"font-semibold text-amber-900",children:"Staff Reports"}),s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Teacher performance & HR"}),s.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Available for download"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(cs,{className:"w-6 h-6 text-purple-600"})}),s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"In Progress"})]}),s.jsx("h3",{className:"font-semibold text-amber-900",children:"Trend Analysis"}),s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Multi-year comparisons"}),s.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Generating report..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recent Reports"}),s.jsxs("button",{className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["View All",s.jsx(aa,{className:"w-4 h-4"})]})]})}),s.jsx("div",{className:"divide-y divide-yellow-100",children:[{name:"Monthly Academic Performance Report",date:"2024-08-05",type:"Academic",size:"2.4 MB",status:"completed"},{name:"Q2 Financial Summary",date:"2024-08-03",type:"Financial",size:"1.8 MB",status:"completed"},{name:"Teacher Evaluation Report",date:"2024-08-01",type:"HR",size:"3.1 MB",status:"completed"},{name:"Student Attendance Analysis",date:"2024-07-28",type:"Academic",size:"1.2 MB",status:"completed"},{name:"Facility Maintenance Report",date:"2024-07-25",type:"Operations",size:"980 KB",status:"completed"}].map((O,V)=>s.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kr,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-900",children:O.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-amber-600",children:O.date}),s.jsx("span",{className:"text-xs text-gray-400",children:""}),s.jsx("span",{className:"text-xs text-amber-600",children:O.size})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.type==="Academic"?"bg-blue-100 text-blue-700":O.type==="Financial"?"bg-green-100 text-green-700":O.type==="HR"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:O.type}),s.jsx("button",{className:"p-1 hover:bg-yellow-100 rounded text-amber-600",children:s.jsx(is,{className:"w-4 h-4"})})]})]})},V))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Report Statistics"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"847"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Total Reports Generated"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-amber-700",children:"This Month"}),s.jsx("span",{className:"font-semibold text-amber-900",children:"24"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-amber-700",children:"Automated"}),s.jsx("span",{className:"font-semibold text-amber-900",children:"18"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-amber-700",children:"Custom"}),s.jsx("span",{className:"font-semibold text-amber-900",children:"6"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-amber-700",children:"Avg. Generation Time"}),s.jsx("span",{className:"font-semibold text-amber-900",children:"2.3 min"})]})]}),s.jsx("button",{className:"w-full mt-4 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Generate New Report"})]})]})]})]}):t==="calendar"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"School Calendar"}),s.jsx("p",{className:"text-yellow-100",children:"Events, schedules, and important dates"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold",children:"8"}),s.jsx("div",{className:"text-xs text-yellow-100",children:"Upcoming Events"})]})})]})}),s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-yellow-100",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:s.jsx(aa,{className:"w-5 h-5 rotate-180 text-amber-600"})}),s.jsx("h2",{className:"text-xl font-bold text-amber-900",children:"August 2024"}),s.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:s.jsx(aa,{className:"w-5 h-5 text-amber-600"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Event"}),s.jsx("button",{className:"px-4 py-2 border border-yellow-300 text-amber-700 rounded-lg hover:bg-yellow-50 transition-colors",children:"View All"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(O=>s.jsx("div",{className:"p-2 text-center text-sm font-medium text-amber-700",children:O},O))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(O,V)=>{const ee=V-3,Y=ee>0&&ee<=31,re=[8,12,15,18,22,25].includes(ee),D=ee===6;return s.jsxs("div",{className:`p-2 h-16 border border-yellow-100 rounded ${Y?"bg-white hover:bg-yellow-50":"bg-gray-50 text-gray-400"} ${D?"bg-purple-100 border-purple-300":""} cursor-pointer transition-colors`,children:[s.jsx("div",{className:`text-sm ${D?"font-bold text-purple-700":""}`,children:Y?ee:""}),re&&s.jsx("div",{className:"mt-1",children:s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]},V)})})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[s.jsx("div",{className:"p-6 border-b border-yellow-100",children:s.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Events"})}),s.jsx("div",{className:"divide-y divide-yellow-100",children:[{title:"Parent-Teacher Conference",date:"Aug 8",time:"9:00 AM",type:"meeting"},{title:"Science Fair Preparation",date:"Aug 12",time:"2:00 PM",type:"academic"},{title:"Staff Training Session",date:"Aug 15",time:"8:00 AM",type:"training"},{title:"Sports Day Practice",date:"Aug 18",time:"3:30 PM",type:"sports"},{title:"Board Meeting",date:"Aug 22",time:"10:00 AM",type:"meeting"},{title:"Library Week Opening",date:"Aug 25",time:"11:00 AM",type:"event"}].map((O,V)=>s.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${O.type==="meeting"?"bg-purple-500":O.type==="academic"?"bg-blue-500":O.type==="training"?"bg-green-500":O.type==="sports"?"bg-orange-500":"bg-amber-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-amber-900 text-sm",children:O.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-amber-600",children:O.date}),s.jsx("span",{className:"text-xs text-gray-400",children:""}),s.jsx("span",{className:"text-xs text-amber-600",children:O.time})]}),s.jsx("span",{className:`inline-block mt-2 text-xs px-2 py-1 rounded-full ${O.type==="meeting"?"bg-purple-100 text-purple-700":O.type==="academic"?"bg-blue-100 text-blue-700":O.type==="training"?"bg-green-100 text-green-700":O.type==="sports"?"bg-orange-100 text-orange-700":"bg-amber-100 text-amber-700"}`,children:O.type})]})]})},V))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"23"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Events This Month"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(tr,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"156"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Total Attendees"})]}),s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(pr,{className:"w-6 h-6 text-amber-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Pending Approvals"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"94%"}),s.jsx("div",{className:"text-sm text-amber-600",children:"Event Success Rate"})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(pn,{className:"w-6 h-6 text-green-600"})})]})})]})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-amber-900 mb-6",children:[t.charAt(0).toUpperCase()+t.slice(1)," View"]}),s.jsx("div",{className:"h-96 bg-yellow-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dm,{className:"w-12 h-12 mx-auto text-amber-400 mb-4"}),s.jsxs("p",{className:"text-amber-600",children:[t," dashboard content will appear here"]})]})})]})]})]})]})},NYe=()=>{const[t,e]=F.useState("march"),[r,n]=F.useState("all"),[a]=F.useState(new Date),i={studentName:"Koushik Bala",class:"10-A",totalPresent:85,totalAbsent:5,totalLeaves:2,attendancePercentage:94.4,totalDays:92,punctualityScore:98,attendance:[{date:"2024-03-01",status:"Present",checkIn:"08:30 AM",checkOut:"03:30 PM"},{date:"2024-03-02",status:"Present",checkIn:"08:25 AM",checkOut:"03:30 PM"},{date:"2024-03-03",status:"Absent",checkIn:"-",checkOut:"-"}]},o=()=>{const l=a.getHours();return l<12?"Good Morning":l<17?"Good Afternoon":"Good Evening"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-purple-100",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl shadow-2xl mb-8",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-32 -translate-y-32"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-48 translate-y-48"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-purple-300 rounded-full transform -translate-x-20 -translate-y-20"})]}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:s.jsx(tr,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Attendance Report"}),s.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"LIVE TRACKING"})})]}),s.jsxs("p",{className:"text-white/90 text-lg mt-2",children:[o(),"! Track ",i.studentName,"'s attendance journey"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(pn,{className:"w-4 h-4 text-yellow-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[i.attendancePercentage,"% Attendance"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(jn,{className:"w-4 h-4 text-purple-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[i.punctualityScore,"% Punctual"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(l5,{className:"w-4 h-4 text-amber-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[i.totalDays," School Days"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-6 lg:mt-0",children:[s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 border border-white/30",children:[s.jsx(Cw,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Share"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-indigo-700 transition-all duration-200 shadow-lg",children:[s.jsx(is,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Export Report"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(As,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-xs font-medium text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:"STUDENT"})]})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Student Profile"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"text-sm font-bold text-gray-800",children:i.studentName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Class:"}),s.jsx("span",{className:"text-sm font-bold text-gray-800",children:i.class})]}),s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Status"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})})]})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Lr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx(cs,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs font-bold text-green-600",children:"EXCELLENT"})]})]}),s.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-1",children:[i.attendancePercentage,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Overall Attendance"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:{width:`${i.attendancePercentage}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsxs("span",{children:["Present: ",i.totalPresent," days"]}),s.jsxs("span",{children:["Total: ",i.totalDays," days"]})]})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Ka,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ya,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-xs font-medium text-red-600 bg-red-100 px-2 py-1 rounded-full",children:"TRACKED"})]})]}),s.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-1",children:i.totalAbsent}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Absent Days"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-red-400 to-pink-500 transition-all duration-500",style:{width:`${i.totalAbsent/i.totalDays*100}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsxs("span",{children:["Absent: ",i.totalAbsent," days"]}),s.jsxs("span",{children:[(i.totalAbsent/i.totalDays*100).toFixed(1),"% of total"]})]})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(PR,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"APPROVED"})]})]}),s.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-1",children:i.totalLeaves}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Approved Leaves"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-purple-400 to-violet-500 transition-all duration-500",style:{width:`${i.totalLeaves/i.totalDays*100*5}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsxs("span",{children:["Leaves: ",i.totalLeaves," days"]}),s.jsx("span",{children:"Well planned"})]})]})]}),s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 mb-8 shadow-xl border border-white/20",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-xl",children:s.jsx(tr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"appearance-none bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200 rounded-xl px-4 py-3 pr-10 text-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent font-medium",value:t,onChange:l=>e(l.target.value),children:[s.jsx("option",{value:"march",children:"March 2024"}),s.jsx("option",{value:"february",children:"February 2024"}),s.jsx("option",{value:"january",children:"January 2024"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-yellow-600 pointer-events-none"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl",children:s.jsx(xo,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"appearance-none bg-gradient-to-r from-purple-50 to-violet-50 border-2 border-purple-200 rounded-xl px-4 py-3 pr-10 text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent font-medium",value:r,onChange:l=>n(l.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"leave",children:"Leave"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-600 pointer-events-none"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-amber-100 to-yellow-100 px-4 py-2 rounded-full border border-yellow-200",children:[s.jsx(ds,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Filtered View"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-6 py-3 rounded-xl hover:from-yellow-500 hover:to-amber-600 transition-all duration-200 shadow-lg font-medium",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-violet-600 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-violet-700 transition-all duration-200 shadow-lg font-medium",children:[s.jsx(Mn,{className:"w-4 h-4"}),s.jsx("span",{children:"Analytics"})]})]})]})}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl",children:s.jsx(tr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Attendance Records"}),s.jsx("p",{className:"text-white/90 text-sm",children:"Daily attendance tracking with detailed timestamps"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-white/10 backdrop-blur-sm rounded-full px-3 py-1",children:[s.jsx(Ya,{className:"w-4 h-4 text-white"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[i.attendance.length," Records"]})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-purple-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Check In"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Check Out"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-purple-100",children:i.attendance.map((l,c)=>s.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-yellow-50 hover:to-purple-50 transition-all duration-200",children:[s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-100 to-amber-200 rounded-lg mr-3",children:s.jsx(tr,{className:"w-4 h-4 text-yellow-700"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:new Date(l.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.date).getFullYear()})]})]})}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center",children:[l.status==="Present"?s.jsx(Lr,{className:"w-4 h-4 text-green-500 mr-2"}):l.status==="Absent"?s.jsx(Ka,{className:"w-4 h-4 text-red-500 mr-2"}):s.jsx(PR,{className:"w-4 h-4 text-purple-500 mr-2"}),s.jsx("span",{className:`inline-block px-3 py-1.5 text-xs font-bold rounded-full shadow-sm ${l.status==="Present"?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":l.status==="Absent"?"bg-gradient-to-r from-red-400 to-pink-500 text-white":"bg-gradient-to-r from-purple-400 to-violet-500 text-white"}`,children:l.status})]})}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg mr-3",children:s.jsx(dr,{className:"w-4 h-4 text-green-700"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.checkIn}),s.jsx("div",{className:"text-xs text-gray-500",children:l.checkIn!=="-"?"On Time":"No Check-in"})]})]})}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-violet-200 rounded-lg mr-3",children:s.jsx(dr,{className:"w-4 h-4 text-purple-700"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.checkOut}),s.jsx("div",{className:"text-xs text-gray-500",children:l.checkOut!=="-"?"Full Day":"No Check-out"})]})]})}),s.jsx("td",{className:"px-6 py-5",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-lg hover:from-yellow-500 hover:to-amber-600 transition-all duration-200 shadow-sm",children:s.jsx(Is,{className:"w-4 h-4 text-white"})}),s.jsx("button",{className:"p-2 bg-gradient-to-r from-purple-400 to-violet-500 rounded-lg hover:from-purple-500 hover:to-violet-600 transition-all duration-200 shadow-sm",children:s.jsx(is,{className:"w-4 h-4 text-white"})})]})})]},c))})]})}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 via-amber-50 to-purple-50 p-6 border-t border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Present: ",i.totalPresent," days"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-red-400 to-pink-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Absent: ",i.totalAbsent," days"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-purple-400 to-violet-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Leaves: ",i.totalLeaves," days"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-100 to-purple-100 px-4 py-2 rounded-full",children:[s.jsx(LX,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-bold text-purple-700",children:"Excellent Attendance Record!"})]})]})})]})]})})},SYe=()=>{const[t,e]=F.useState("overview"),[r,n]=F.useState("all"),a={studentName:"Koushik Bala",class:"10-A",studentId:"STU-2024-1085",currentPercentage:97,rank:5,totalStudents:120,attendance:94,improvement:"+5.2%",subjects:[{name:"Mathematics",grade:"A",percentage:92,teacher:"Dr. Sarah Johnson",assignments:{completed:15,total:15},tests:{completed:4,total:5},trend:[85,88,90,92],color:"#8b5cf6"},{name:"Physics",grade:"A-",percentage:88,teacher:"Prof. Michael Chen",assignments:{completed:12,total:12},tests:{completed:3,total:4},trend:[80,82,85,88],color:"#10b981"},{name:"English",grade:"B+",percentage:85,teacher:"Ms. Emily Davis",assignments:{completed:18,total:18},tests:{completed:4,total:4},trend:[78,80,82,85],color:"#3b82f6"},{name:"Chemistry",grade:"A",percentage:90,teacher:"Dr. Robert Kim",assignments:{completed:14,total:14},tests:{completed:3,total:3},trend:[82,85,88,90],color:"#f59e0b"},{name:"History",grade:"B+",percentage:87,teacher:"Mr. James Wilson",assignments:{completed:10,total:10},tests:{completed:2,total:2},trend:[80,83,85,87],color:"#ec4899"},{name:"Computer Science",grade:"A+",percentage:95,teacher:"Ms. Lisa Anderson",assignments:{completed:16,total:16},tests:{completed:3,total:3},trend:[88,90,92,95],color:"#06b6d4"}],upcomingAssignments:[{subject:"Physics",title:"Project Submission",dueDate:"Jun 25, 2023"},{subject:"English",title:"Essay Writing",dueDate:"Jun 28, 2023"},{subject:"Mathematics",title:"Problem Set 6",dueDate:"Jun 30, 2023"}],performanceTrend:[{month:"Jan",percentage:88},{month:"Feb",percentage:90},{month:"Mar",percentage:92},{month:"Apr",percentage:93},{month:"May",percentage:95},{month:"Jun",percentage:97}]},i=a.subjects.map(c=>({subject:c.name,percentage:c.percentage,fill:c.color})),o=[{name:"A",value:45,color:"#10b981"},{name:"B",value:30,color:"#3b82f6"},{name:"C",value:15,color:"#f59e0b"},{name:"D",value:7,color:"#ef4444"},{name:"F",value:3,color:"#6b7280"}],l=({active:c,payload:d,label:u})=>c&&d&&d.length?s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md border border-gray-200",children:[s.jsx("p",{className:"font-semibold text-gray-800",children:u}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.jsxs("span",{className:"font-medium",children:[d[0].value,"%"]})]})]}):null;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl mb-8",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full transform translate-x-32 -translate-y-32"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full transform -translate-x-48 translate-y-48"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-yellow-300 rounded-full transform -translate-x-20 -translate-y-20"})]}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:s.jsx(Yn,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Academic Report"}),s.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"DETAILED"})})]}),s.jsxs("p",{className:"text-white/90 text-lg mt-2",children:["Comprehensive academic performance analysis for ",a.studentName]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(ds,{className:"w-4 h-4 text-yellow-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:["Rank #",a.rank]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(cs,{className:"w-4 h-4 text-green-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[a.improvement," Growth"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(pn,{className:"w-4 h-4 text-blue-300"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[a.currentPercentage,"% Overall"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-6 lg:mt-0",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"appearance-none bg-white/20 backdrop-blur-sm border-0 rounded-xl pl-4 pr-10 py-3 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 min-w-[150px]",value:r,onChange:c=>n(c.target.value),children:[s.jsx("option",{value:"all",className:"text-gray-800",children:"All Subjects"}),a.subjects.map((c,d)=>s.jsx("option",{value:c.name.toLowerCase(),className:"text-gray-800",children:c.name},d))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/70 pointer-events-none"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 border border-white/30",children:[s.jsx(Cw,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Share"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg",children:[s.jsx(is,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Export PDF"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(As,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Js,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"ACTIVE"})]})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:a.studentName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Class ",a.class,"  ID: ",a.studentId]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Profile Status"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Mn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx($g,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs font-bold text-green-600",children:a.improvement})]})]}),s.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.currentPercentage,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Overall Performance"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-400 to-cyan-500 transition-all duration-500",style:{width:`${a.currentPercentage}%`}})})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(pn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ds,{className:"h-4 w-4 text-amber-500 fill-current"}),s.jsx("span",{className:"text-xs font-medium text-amber-600 bg-amber-100 px-2 py-1 rounded-full",children:"TOP 5"})]})]}),s.jsxs("div",{className:"flex items-baseline space-x-1 mb-1",children:[s.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["#",a.rank]}),s.jsxs("span",{className:"text-lg text-gray-500",children:["/",a.totalStudents]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Class Ranking"}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Percentile"}),s.jsxs("span",{className:"font-bold text-amber-600",children:[Math.round((1-a.rank/a.totalStudents)*100),"th"]})]})]}),s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Lr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"EXCELLENT"})]})]}),s.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.attendance,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Attendance Rate"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:{width:`${a.attendance}%`}})})]})]}),s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-2 mb-8 shadow-xl border border-white/20",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="overview"?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("overview"),children:[s.jsx(Mn,{className:"w-4 h-4"}),s.jsx("span",{children:"Overview"})]}),s.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="subjects"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("subjects"),children:[s.jsx(Qr,{className:"w-4 h-4"}),s.jsx("span",{children:"Subjects"})]}),s.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="assignments"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("assignments"),children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{children:"Assignments"})]})]})}),t==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:s.jsx(cs,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Performance Trend"}),s.jsx("p",{className:"text-sm text-gray-600",children:"6-month academic progression"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[s.jsx($g,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs font-bold text-green-600",children:"+9% Growth"})]})]}),s.jsx("div",{className:"h-80",children:s.jsx(ru,{width:"100%",height:"100%",children:s.jsxs(Kee,{data:a.performanceTrend,children:[s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(jc,{dataKey:"month",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),s.jsx(Nc,{domain:[85,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),s.jsx(di,{content:s.jsx(l,{}),cursor:{stroke:"#8b5cf6",strokeWidth:1}}),s.jsx(FA,{type:"monotone",dataKey:"percentage",stroke:"url(#colorGradient)",strokeWidth:3,dot:{r:5,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:7,fill:"#8b5cf6",strokeWidth:3,stroke:"#fff"}}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),s.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]})})})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:s.jsx(jn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Grade Distribution"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Class performance breakdown"})]})]}),s.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-3 py-1 rounded-full",children:"CLASS ANALYTICS"})]}),s.jsx("div",{className:"h-80",children:s.jsx(ru,{width:"100%",height:"100%",children:s.jsxs(E8,{children:[s.jsx(Au,{data:o,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:3,dataKey:"value",label:({name:c,percent:d})=>`${c}: ${(d*100).toFixed(0)}%`,labelLine:!1,children:o.map((c,d)=>s.jsx(Nm,{fill:c.color},`cell-${d}`))}),s.jsx(di,{formatter:c=>[`${c}%`,"Students"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),s.jsx(ah,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"})]})})})]})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:s.jsx(Mn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Subject Performance Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Detailed performance across all subjects"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Is,{className:"h-4 w-4 text-gray-500"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(is,{className:"h-4 w-4 text-gray-500"})})]})]}),s.jsx("div",{className:"h-96",children:s.jsx(ru,{width:"100%",height:"100%",children:s.jsxs(G1,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(Mf,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(jc,{dataKey:"subject",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),s.jsx(Nc,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),s.jsx(di,{content:s.jsx(l,{}),cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),s.jsx($l,{dataKey:"percentage",radius:[8,8,0,0],name:"Performance %",children:i.map((c,d)=>s.jsx(Nm,{fill:`url(#gradient-${d})`},`cell-${d}`))}),s.jsx("defs",{children:i.map((c,d)=>s.jsxs("linearGradient",{id:`gradient-${d}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:c.fill,stopOpacity:.8}),s.jsx("stop",{offset:"100%",stopColor:c.fill,stopOpacity:.3})]},d))})]})})})]})]}),t==="subjects"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.subjects.map((c,d)=>s.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:s.jsx(Qr,{className:"h-7 w-7",style:{color:c.color}})}),s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:""})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:c.name}),s.jsx("p",{className:"text-sm text-gray-600",children:c.teacher}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-bold shadow-sm ${c.grade.startsWith("A")?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":c.grade.startsWith("B")?"bg-gradient-to-r from-blue-400 to-cyan-500 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-white"}`,children:c.grade}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ds,{className:"h-3 w-3 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Grade"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Performance Score"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[c.percentage,"%"]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx(cs,{className:"h-3 w-3 text-green-600"}),s.jsxs("span",{className:"text-xs text-green-600 font-bold",children:["+",c.trend[c.trend.length-1]-c.trend[0],"%"]})]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:s.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.percentage}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Assignments"}),s.jsx(kr,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.assignments.completed,s.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.assignments.total]})]}),s.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:s.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:`${c.assignments.completed/c.assignments.total*100}%`}})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Tests"}),s.jsx(jn,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.tests.completed,s.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.tests.total]})]}),s.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:s.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-purple-400 to-purple-600",style:{width:`${c.tests.completed/c.tests.total*100}%`}})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Progress Trend"}),s.jsx(Ya,{className:"h-4 w-4 text-gray-500"})]}),s.jsx("div",{className:"flex items-end h-12 gap-1",children:c.trend.map((u,h)=>s.jsx("div",{className:"flex-1 rounded-t-lg transition-all duration-500 ease-out group-hover:scale-110",style:{height:`${(u-70)/30*100}%`,background:`linear-gradient(180deg, ${c.color}, ${c.color}80)`,opacity:.6+h*.1}},h))}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"Q1"}),s.jsx("span",{children:"Q2"}),s.jsx("span",{children:"Q3"}),s.jsx("span",{children:"Q4"})]})]})]})]},d))}),t==="assignments"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:s.jsx(kr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Upcoming Assignments"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tasks due in the coming weeks"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 px-3 py-1 rounded-full",children:[s.jsx(dr,{className:"h-3 w-3 text-orange-600"}),s.jsxs("span",{className:"text-xs font-bold text-orange-600",children:[a.upcomingAssignments.length," Pending"]})]})]}),s.jsx("div",{className:"space-y-4",children:a.upcomingAssignments.map((c,d)=>s.jsxs("div",{className:"group flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-lg hover:scale-102 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(kr,{className:"h-7 w-7 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"!"})})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-1",children:c.title}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:c.subject}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"High Priority"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[s.jsx(tr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:c.dueDate})]}),s.jsx("span",{className:"text-xs text-red-600 font-semibold bg-red-100 px-2 py-1 rounded-full",children:"Due Soon"})]}),s.jsx("button",{className:"group/btn h-10 w-10 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:s.jsx(md,{className:"h-5 w-5 text-gray-500 group-hover/btn:text-gray-700"})})]})]},d))})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:s.jsx(jn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Assignment Completion Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Subject-wise completion tracking"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[s.jsx(Lr,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs font-bold text-green-600",children:"98% Overall"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.subjects.map((c,d)=>s.jsxs("div",{className:"group bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:s.jsx(Qr,{className:"h-5 w-5",style:{color:c.color}})}),s.jsx("h4",{className:"font-bold text-gray-800",children:c.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[Math.round(c.assignments.completed/c.assignments.total*100),"%"]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Completion"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:s.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.assignments.completed/c.assignments.total*100}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 font-medium",children:[c.assignments.completed," of ",c.assignments.total," completed"]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[c.assignments.completed===c.assignments.total?s.jsx(Lr,{className:"h-4 w-4 text-green-500"}):s.jsx(dr,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:`text-xs font-semibold ${c.assignments.completed===c.assignments.total?"text-green-600":"text-amber-600"}`,children:c.assignments.completed===c.assignments.total?"Complete":"In Progress"})]})]}),s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Remaining: ",c.assignments.total-c.assignments.completed]}),s.jsxs("span",{children:["Grade Impact: ",c.grade]})]})})]})]},d))})]})]})]})})},_Ye=()=>{const t=()=>{const m=new gr;m.setFontSize(18),m.text("Fee Payment Receipt",20,20),m.setFontSize(12),m.text(`Student Name: ${h.studentName}`,20,35),m.text(`Class: ${h.class}`,20,45),m.text(`Total Fees: ${h.totalFees}`,20,55),m.text(`Paid Fees: ${h.paidFees}`,20,65),m.text(`Pending Fees: ${h.pendingFees}`,20,75),m.text(`Next Due Date: ${new Date(h.nextDueDate).toLocaleDateString()}`,20,85),m.text("Payments:",20,95);let f=105;h.payments.forEach((A,g)=>{m.text(`${g+1}. ${A.type} - ${A.amount} - ${A.status}${A.paidOn?" (Paid on "+new Date(A.paidOn).toLocaleDateString()+")":""}`,25,f),f+=10}),m.save("Fee_Receipt.pdf")},[e,r]=F.useState(null),[n,a]=F.useState(!1),[i,o]=F.useState(!1),[l,c]=F.useState(!1),[d,u]=F.useState(!1),h={studentName:"Koushik Bala",class:"10-A",totalFees:5e4,paidFees:35e3,pendingFees:15e3,nextDueDate:"2024-03-15",payments:[{id:1,type:"Tuition Fee",amount:25e3,dueDate:"2024-03-15",status:"Paid",paidOn:"2024-03-01"},{id:2,type:"Laboratory Fee",amount:5e3,dueDate:"2024-03-15",status:"Pending"},{id:3,type:"Library Fee",amount:2e3,dueDate:"2024-03-15",status:"Paid",paidOn:"2024-03-01"}]};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Fees Payment"}),s.jsx("p",{className:"text-yellow-100",children:"Manage and pay school fees"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:["Name: ",h.studentName]}),s.jsxs("p",{className:"text-gray-600",children:["Class: ",h.class]})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["",h.totalFees]}),s.jsx("p",{className:"text-gray-600",children:"Total Fees"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-2xl font-bold text-green-600",children:["",h.paidFees]}),s.jsx("p",{className:"text-gray-600",children:"Paid Fees"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-2xl font-bold text-red-600",children:["",h.pendingFees]}),s.jsx("p",{className:"text-gray-600",children:"Pending Fees"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("span",{className:"text-gray-600",children:["Next Due Date: ",new Date(h.nextDueDate).toLocaleDateString()]})]})}),s.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",onClick:t,children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Receipt"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[600px] text-xs sm:text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Fee Type"}),s.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Amount"}),s.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Due Date"}),s.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Status"}),s.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:h.payments.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:s.jsx("div",{className:"text-gray-900",children:m.type})}),s.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:s.jsx("div",{className:"flex items-center text-gray-900",children:m.amount})}),s.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),new Date(m.dueDate).toLocaleDateString()]})}),s.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${m.status==="Paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status})}),s.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:m.status==="Pending"?s.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-2 sm:px-3 py-1 border border-yellow-500 text-yellow-500 rounded hover:bg-yellow-50 text-xs sm:text-sm",children:[s.jsx(vc,{className:"w-4 h-4 mr-1"}),"Pay Now"]}):s.jsxs("span",{className:"flex items-center text-green-600 text-xs sm:text-sm",children:[s.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Paid on ",new Date(m.paidOn).toLocaleDateString()]})})]},m.id))})]})})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-white rounded-xl p-4 sm:p-6 shadow-sm mb-4 sm:mb-6 mt-4 sm:mt-6 gap-4 sm:gap-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Total Fees Due"}),s.jsxs("p",{className:"text-xl sm:text-2xl text-red-600 font-semibold",children:["",h.pendingFees]})]}),s.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide w-full sm:w-auto",onClick:()=>a(!0),children:"Pay Now"})]}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-md relative border border-yellow-300 animate-fadeIn",children:[s.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>a(!1),children:s.jsx(Gs,{})}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-yellow-700 text-center",children:"Select Payment Method"}),s.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[s.jsx("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>o(!0),children:s.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"UPI"})}),s.jsxs("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>c(!0),children:[s.jsx(vc,{className:"w-5 sm:w-6 h-5 sm:h-6 text-yellow-500"}),s.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"Credit/Debit Card"})]}),s.jsx("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>u(!0),children:s.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"Net Banking"})})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-sm relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[s.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>o(!1),children:s.jsx(Gs,{})}),s.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Scan UPI QR to Pay"}),s.jsx("img",{src:"/koushik-upi-qr.jpeg",alt:"UPI QR Code",className:"w-40 sm:w-64 h-40 sm:h-64 object-contain rounded-lg border-2 border-yellow-300 mb-2 sm:mb-4"}),s.jsx("p",{className:"text-gray-600 text-center text-xs sm:text-base",children:"Open your UPI app and scan the QR code to complete the payment."})]})}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-lg relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[s.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>c(!1),children:s.jsx(Gs,{})}),s.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Pay with Card"}),s.jsxs("form",{className:"w-full space-y-2 sm:space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Card Number",maxLength:19,className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),s.jsxs("div",{className:"flex gap-2 sm:gap-6",children:[s.jsx("input",{type:"text",placeholder:"MM/YY",maxLength:5,className:"flex-1 border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),s.jsx("input",{type:"text",placeholder:"CVV",maxLength:4,className:"w-16 sm:w-24 border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"})]}),s.jsx("input",{type:"text",placeholder:"Cardholder Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),s.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white py-3 sm:py-4 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide",children:"Pay"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-sm relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[s.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>u(!1),children:s.jsx(Gs,{})}),s.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Net Banking"}),s.jsxs("form",{className:"w-full space-y-2 sm:space-y-4",children:[s.jsxs("select",{className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 text-gray-800 text-sm sm:text-base shadow-sm",children:[s.jsx("option",{value:"",children:"Select Bank"}),s.jsx("option",{value:"SBI",children:"State Bank of India"}),s.jsx("option",{value:"HDFC",children:"HDFC Bank"}),s.jsx("option",{value:"ICICI",children:"ICICI Bank"}),s.jsx("option",{value:"AXIS",children:"Axis Bank"}),s.jsx("option",{value:"PNB",children:"Punjab National Bank"}),s.jsx("option",{value:"BOB",children:"Bank of Baroda"})]}),s.jsx("input",{type:"text",placeholder:"Account Holder Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),s.jsx("input",{type:"text",placeholder:"Account Number",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),s.jsx("input",{type:"text",placeholder:"IFSC Code",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),s.jsx("input",{type:"text",placeholder:"Branch Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),s.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white py-2 sm:py-3 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide",children:"Pay"})]})]})}),s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Payment Methods"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 sm:gap-4",children:[s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm border-2 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(vc,{className:"w-5 sm:w-6 h-5 sm:h-6 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"Credit/Debit Card"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay securely with your card"})]})]}),s.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm hover:border-2 hover:border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"Net Banking"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay through your bank"})]})}),s.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm hover:border-2 hover:border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"UPI"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay using UPI"})]})}),s.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})})]})]})]})},CYe=()=>{const t={studentName:"Koushik Bala",class:"10-A",age:15,bloodGroup:"B+",height:"165 cm",weight:"52 kg",bmi:"19.1",lastCheckup:"2024-02-15",medicalHistory:[{date:"2024-02-15",type:"Regular Checkup",findings:"Normal",doctor:"Dr. Johnson",recommendations:"Continue regular exercise"},{date:"2024-01-10",type:"Vaccination",findings:"Flu Shot",doctor:"Dr. Smith",recommendations:"Next dose due in 6 months"}],allergies:["Peanuts","Dust"],emergencyContact:{name:"John Smith",relation:"Father",phone:"+1 234-567-8900"}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Health Report"}),s.jsx("p",{className:"text-yellow-100",children:"View student health records and history"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),s.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]}),s.jsxs("p",{className:"text-gray-600",children:["Age: ",t.age," years"]}),s.jsxs("p",{className:"text-gray-600",children:["Blood Group: ",t.bloodGroup]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Height & Weight"}),s.jsx(Ya,{className:"w-6 h-6 text-yellow-500"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(IX,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Height"})]}),s.jsx("span",{className:"font-medium text-gray-800",children:t.height})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ofe,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Weight"})]}),s.jsx("span",{className:"font-medium text-gray-800",children:t.weight})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ya,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"BMI"})]}),s.jsx("span",{className:"font-medium text-gray-800",children:t.bmi})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Allergies"}),s.jsx(Ir,{className:"w-6 h-6 text-red-500"})]}),s.jsx("div",{className:"space-y-2",children:t.allergies.map((e,r)=>s.jsx("div",{className:"inline-block px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm mr-2",children:e},r))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Emergency Contact"}),s.jsx(ql,{className:"w-6 h-6 text-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:["Name: ",t.emergencyContact.name]}),s.jsxs("p",{className:"text-gray-600",children:["Relation: ",t.emergencyContact.relation]}),s.jsxs("p",{className:"text-gray-600",children:["Phone: ",t.emergencyContact.phone]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("span",{className:"text-gray-600",children:["Last Checkup: ",new Date(t.lastCheckup).toLocaleDateString()]})]})}),s.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Report"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Medical History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Findings"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Doctor"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Recommendations"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.medicalHistory.map((e,r)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(tr,{className:"w-4 h-4 mr-2 text-gray-500"}),new Date(e.date).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:e.type})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:e.findings})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:e.doctor})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-600",children:e.recommendations})})]},r))})]})})]})]})},EYe=()=>{const t={studentName:"Koushik Bala",class:"10-A",currentGPA:"89%",rank:5,totalStudents:120,examResults:[{examName:"Mid-Term Examination",date:"2024-02-15",subjects:[{name:"Mathematics",marks:92,grade:"A",maxMarks:100},{name:"Physics",marks:88,grade:"A-",maxMarks:100},{name:"Chemistry",marks:85,grade:"B+",maxMarks:100},{name:"English",marks:90,grade:"A",maxMarks:100}]},{examName:"Unit Test 2",date:"2024-01-20",subjects:[{name:"Mathematics",marks:95,grade:"A",maxMarks:100},{name:"Physics",marks:87,grade:"B+",maxMarks:100},{name:"Chemistry",marks:88,grade:"B+",maxMarks:100},{name:"English",marks:92,grade:"A",maxMarks:100}]}]};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Results"}),s.jsx("p",{className:"text-yellow-100",children:"View your child's academic results"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),s.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-yellow-600",children:t.currentGPA}),s.jsx("p",{className:"text-gray-600",children:"Current Marks"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:t.rank}),s.jsx("p",{className:"text-gray-600",children:"Class Rank"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:t.totalStudents}),s.jsx("p",{className:"text-gray-600",children:"Total Students"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Exams"}),s.jsx("option",{value:"midterm",children:"Mid-Term"}),s.jsx("option",{value:"unit",children:"Unit Tests"})]})]})}),s.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Report"})]})]})}),t.examResults.map((e,r)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.examName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(e.date).toLocaleDateString()]})]}),s.jsx(cs,{className:"w-6 h-6 text-yellow-500"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Marks"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Performance"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.subjects.map((n,a)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:n.name})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[n.marks,"/",n.maxMarks]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${n.grade.startsWith("A")?"bg-green-100 text-green-800":n.grade.startsWith("B")?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:n.grade})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${n.marks/n.maxMarks*100}%`}})})})]},a))})]})})]},r))]})},kYe=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalAwards:12,recentAchievements:3,achievements:[{id:1,title:"First Place - Science Fair",category:"Academic",date:"2024-02-15",description:"Won first place for innovative project on renewable energy",awardType:"Gold Medal",issuer:"State Science Association"},{id:2,title:"Best Speaker Award",category:"Extra-Curricular",date:"2024-01-20",description:"Recognized for outstanding performance in inter-school debate competition",awardType:"Trophy",issuer:"Regional Education Board"},{id:3,title:"Academic Excellence",category:"Academic",date:"2023-12-15",description:"Achieved highest grades in Mathematics and Science",awardType:"Certificate",issuer:"School Administration"}]},e=r=>{switch(r){case"Academic":return s.jsx(MX,{className:"w-5 h-5"});case"Extra-Curricular":return s.jsx(Hl,{className:"w-5 h-5"});default:return s.jsx(ds,{className:"w-5 h-5"})}};return s.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Achievements"}),s.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's achievements and awards"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),s.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalAwards}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Awards"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.recentAchievements}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Recent Achievements"})]}),s.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex items-center justify-center",children:s.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-yellow-500 text-black px-3 sm:px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-xs sm:text-sm",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Certificates"})]})})]}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.achievements.map(r=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[e(r.category),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:r.title})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(r.date).toLocaleDateString()})]})]}),s.jsx("span",{className:`inline-block px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${r.category==="Academic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:r.category})]}),s.jsx("p",{className:"mt-2 sm:mt-4 text-gray-600 text-sm sm:text-base",children:r.description}),s.jsxs("div",{className:"mt-2 sm:mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between text-xs sm:text-sm gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pn,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-gray-600",children:r.awardType})]}),s.jsxs("span",{className:"text-gray-500",children:["Issued by: ",r.issuer]})]})]})},r.id))})]})},BYe=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalCourses:6,completedModules:24,upcomingAssignments:3,courses:[{id:1,name:"Advanced Mathematics",teacher:"Dr. Sarah Johnson",schedule:"Mon, Wed, Fri - 9:00 AM",progress:85,modules:8,completedModules:6,nextAssignment:"2024-03-15",materials:["Textbook","Practice Sheets","Video Lectures"]},{id:2,name:"Physics",teacher:"Prof. Michael Chen",schedule:"Tue, Thu - 10:30 AM",progress:75,modules:6,completedModules:4,nextAssignment:"2024-03-18",materials:["Lab Manual","Study Guide","Online Simulations"]},{id:3,name:"English Literature",teacher:"Ms. Emily Davis",schedule:"Mon, Wed - 2:00 PM",progress:90,modules:5,completedModules:4,nextAssignment:"2024-03-20",materials:["Novel Collection","Writing Guide","Audio Books"]}]};return s.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Courses"}),s.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's enrolled courses"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),s.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalCourses}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Courses"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.completedModules}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Completed Modules"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.upcomingAssignments}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Upcoming Assignments"})]})]}),s.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.courses.map(e=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2 sm:gap-0",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"w-5 h-5 text-yellow-500"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:e.name})]}),s.jsxs("div",{className:"flex flex-wrap items-center space-x-4 text-xs sm:text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsx("span",{children:e.teacher})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{children:e.schedule})]})]})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Materials"})]})]}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Course Progress"}),s.jsxs("span",{className:"font-medium text-gray-800",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${e.progress}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 pt-3 sm:pt-4 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Modules"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[e.completedModules,"/",e.modules]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Next Assignment"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"font-medium text-gray-800",children:new Date(e.nextAssignment).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Materials"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[e.materials.length," items"]})]})]}),s.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1 sm:mb-2",children:[s.jsx(kr,{className:"w-4 h-4 text-gray-500"}),s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Available Materials"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.materials.map((r,n)=>s.jsx("span",{className:"inline-block px-2 sm:px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:r},n))})]})]})]})},e.id))})]})},TYe=()=>{const[t,e]=F.useState("meetings"),[r,n]=F.useState(null),[a,i]=F.useState([{id:1,teacherName:"Ms. Johnson",subject:"Mathematics",date:"2025-09-12",time:"10:00 AM",type:"Video Call",status:"pending",topic:"Academic Progress Discussion",agenda:["Homework completion","Exam preparation"],notification:{read:!1,timestamp:"2025-09-01T10:30:00"}},{id:2,teacherName:"Mr. Smith",subject:"Science",date:"2025-09-15",time:"2:30 PM",type:"In Person",status:"confirmed",topic:"Project Discussion",agenda:["Project timeline","Lab safety"],notification:{read:!0,timestamp:"2025-09-02T15:45:00"}}]),[o,l]=F.useState({date:"",time:"",reason:""}),[c,d]=F.useState({rating:0,comment:""}),[u,h]=F.useState(""),[m,f]=F.useState(!1),A=F.useMemo(()=>u?`https://meet.jit.si/${encodeURIComponent(u)}`:"",[u]),g=N=>{switch(N){case"Video Call":return s.jsx(NA,{className:"w-4 h-4"});case"Phone Call":return s.jsx(Mi,{className:"w-4 h-4"});default:return s.jsx(pr,{className:"w-4 h-4"})}},x=(N,E)=>{i(P=>P.map(_=>_.id===N?{..._,status:E==="accept"?"confirmed":"declined"}:_))},v=N=>{n(N),l({date:"",time:"",reason:""})},j=()=>{r&&(i(N=>N.map(E=>E.id===r.id?{...E,status:"reschedule_requested",requested:{...o}}:E)),n(null))},b=N=>{n(N),d({rating:0,comment:""})},S=()=>{r&&(i(N=>N.map(E=>E.id===r.id?{...E,feedback:c}:E)),n(null))},w=async N=>{try{await navigator.clipboard.writeText(N)}catch{}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),s.jsx("p",{className:"text-yellow-100",children:"View and respond to meeting requests"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"meetings",label:"Meetings"},{key:"requests",label:"Requests"},{key:"video",label:"Video Meeting"},{key:"history",label:"History"}].map(N=>s.jsx("button",{onClick:()=>e(N.key),className:`px-3 py-1.5 rounded-lg text-sm border ${t===N.key?"bg-yellow-500 text-black border-yellow-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:N.label},N.key))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t==="meetings"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),s.jsx("div",{className:"p-4 space-y-4",children:a.filter(N=>N.status==="pending"||N.status==="confirmed").map(N=>{var E;return s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",N.teacherName]}),!N.notification.read&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"New"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:N.subject}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:N.date})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{children:N.time})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[g(N.type),s.jsx("span",{children:N.type})]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",N.topic]}),(E=N.agenda)!=null&&E.length?s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Agenda:"})," ",N.agenda.join(", ")]}):null]}),N.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>x(N.id,"accept"),className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors",children:s.jsx(jA,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(N.id,"decline"),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:s.jsx(Gs,{className:"w-4 h-4"})})]}),N.status==="confirmed"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmed"}),s.jsxs("button",{onClick:()=>v(N),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[s.jsx(MR,{className:"w-3.5 h-3.5"})," Reschedule"]}),s.jsxs("button",{onClick:()=>b(N),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-yellow-50 text-yellow-700 border border-yellow-200",children:[s.jsx(ds,{className:"w-3.5 h-3.5"})," Feedback"]})]})]})},N.id)})})]}),t==="requests"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Requests"})}),s.jsx("div",{className:"p-4 space-y-4",children:a.filter(N=>N.status==="pending"||N.status==="reschedule_requested").map(N=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-800",children:[N.teacherName,"  ",N.subject]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.date," at ",N.time,"  ",N.type]}),N.requested&&s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Reschedule requested: ",N.requested.date," at ",N.requested.time,"  ",N.requested.reason]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>x(N.id,"accept"),className:"px-3 py-1 rounded-lg bg-green-600 text-white text-sm",children:"Accept"}),s.jsx("button",{onClick:()=>x(N.id,"decline"),className:"px-3 py-1 rounded-lg bg-red-600 text-white text-sm",children:"Decline"})]})]})},N.id))})]}),t==="video"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Video Meeting"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[s.jsx("input",{placeholder:"Enter or generate room name",value:u,onChange:N=>h(N.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 md:col-span-2"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{h(`PTM-${Math.random().toString(36).slice(2,8).toUpperCase()}`),f(!1)},className:"px-3 py-2 rounded-lg border border-gray-300",children:"Generate"}),s.jsx("button",{onClick:()=>f(!0),disabled:!u,className:`px-3 py-2 rounded-lg ${u?"bg-yellow-500 text-black hover:bg-yellow-600":"bg-gray-100 text-gray-400"}`,children:"Start"})]})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("button",{onClick:()=>window.open(A,"_blank"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[s.jsx(Rde,{className:"w-4 h-4"})," Open in new tab"]}),s.jsxs("button",{onClick:()=>w(A),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[s.jsx(vm,{className:"w-4 h-4"})," Copy link"]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:m&&u?s.jsx("iframe",{title:"PTM Video Meeting",src:`${A}#config.prejoinConfig.enabled=true`,className:"w-full h-[480px]",allow:"camera; microphone; fullscreen; display-capture"}):s.jsx("div",{className:"h-[240px] flex items-center justify-center text-gray-500 text-sm",children:"Enter a room name and click Start to join."})}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Video meetings are powered by Jitsi Meet. By starting, you agree to Jitsis terms of service."})]}),t==="history"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Past Meetings"})}),s.jsx("div",{className:"p-4 space-y-3",children:a.filter(N=>N.status==="declined"||N.status==="completed").map(N=>s.jsx("div",{className:"border rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-800",children:[N.teacherName,"  ",N.subject]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.date," at ",N.time]}),N.feedback&&s.jsxs("p",{className:"text-xs text-yellow-700",children:["Your rating: ",N.feedback.rating,"/5  ",N.feedback.comment]})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700 capitalize",children:N.status})]})},N.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${N.notification.read?"bg-gray-50":"bg-yellow-50"}`,children:[s.jsx(Kn,{className:`w-5 h-5 ${N.notification.read?"text-gray-400":"text-yellow-500"}`}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-800",children:["New meeting request from ",N.teacherName]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.notification.timestamp).toLocaleString()})]})]},N.id))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Overview"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(N=>N.status==="confirmed").length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),s.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(N=>N.status==="pending").length})]})]})]})]})]}),r&&o&&t!=="video"&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(null)}),s.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(MR,{className:"w-5 h-5"})," Request Reschedule"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.teacherName,"  ",r.subject]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"New Date"}),s.jsx("input",{type:"date",value:o.date,onChange:N=>l({...o,date:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"New Time"}),s.jsx("input",{type:"time",value:o.time,onChange:N=>l({...o,time:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reason"}),s.jsx("textarea",{rows:3,value:o.reason,onChange:N=>l({...o,reason:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Brief reason for rescheduling"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>n(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),s.jsx("button",{onClick:j,className:"px-3 py-2 rounded-lg bg-blue-600 text-white",children:"Submit Request"})]})]})]}),r&&c&&t!=="video"&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(null)}),s.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5"})," Meeting Feedback"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.teacherName,"  ",r.subject]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Rating:"}),[1,2,3,4,5].map(N=>s.jsx("button",{onClick:()=>d({...c,rating:N}),className:`p-1 rounded ${c.rating>=N?"text-yellow-500":"text-gray-300"}`,children:s.jsx(ds,{className:"w-5 h-5 fill-current"})},N))]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Comments"}),s.jsx("textarea",{rows:3,value:c.comment,onChange:N=>d({...c,comment:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Share your feedback"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>n(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),s.jsx("button",{onClick:S,className:"px-3 py-2 rounded-lg bg-yellow-500 text-black",children:"Submit Feedback"})]})]})]})]})},MYe=()=>{const[t,e]=F.useState({isOnline:!0,lastActivity:"Just now",currentLocation:"Mathematics Classroom",healthStatus:"Good",moodRating:4,connectionStrength:"Strong",batteryLevel:85,safetyStatus:"Secure",activityLevel:"Active"}),[r,n]=F.useState(new Date),[a]=F.useState("Emma"),[i,o]=F.useState(new Date),l=[{label:"Attendance Rate",value:"95%",icon:tr,color:"green"},{label:"Assignments Due",value:"3",icon:Qr,color:"red"},{label:"Upcoming PTMs",value:"2",icon:NA,color:"blue"},{label:"Pending Fees",value:"$0",icon:vc,color:"yellow"}],c=[{id:1,type:"ptm",message:"Parent-Teacher Meeting scheduled for Mathematics",time:"1 hour ago",priority:"high"},{id:2,type:"assignment",message:"New Science assignment due next week",time:"3 hours ago",priority:"medium"},{id:3,type:"health",message:"Health check-up scheduled for next Monday",time:"1 day ago",priority:"low"}],d=[{id:1,time:"10:30 AM",activity:"Math Class Participation",mood:"",notes:"Actively engaged in problem solving"},{id:2,time:"12:15 PM",activity:"Lunch Break",mood:"",notes:"Playing with friends in the playground"},{id:3,time:"2:45 PM",activity:"Science Lab",mood:"",notes:"Seemed tired, less participation"}],u=[{label:"Current Activity",value:"In Class",status:"active"},{label:"Attention Level",value:"85%",status:"good"},{label:"Social Interaction",value:"High",status:"excellent"},{label:"Mood Today",value:"Happy",status:"good"}],h=x=>{switch(x){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-blue-600 bg-blue-100";case"active":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},m=x=>{switch(x.toLowerCase()){case"excellent":return{color:"bg-green-500",text:"text-green-600",label:"Excellent"};case"good":return{color:"bg-blue-500",text:"text-blue-600",label:"Good"};case"fair":return{color:"bg-yellow-500",text:"text-yellow-600",label:"Fair"};case"poor":return{color:"bg-red-500",text:"text-red-600",label:"Poor"};default:return{color:"bg-gray-500",text:"text-gray-600",label:x}}},f=x=>{switch(x.toLowerCase()){case"strong":return{color:"bg-green-500",bars:4};case"good":return{color:"bg-blue-500",bars:3};case"weak":return{color:"bg-yellow-500",bars:2};case"poor":return{color:"bg-red-500",bars:1};default:return{color:"bg-gray-500",bars:0}}},A=x=>x>50?"text-green-600":x>20?"text-yellow-600":"text-red-600";F.useEffect(()=>{const x=setInterval(()=>{n(new Date),o(new Date),e(v=>({...v,batteryLevel:Math.max(20,v.batteryLevel+(Math.random()>.5?-1:1)),lastActivity:"Just now",activityLevel:["Active","Moderate","Low"][Math.floor(Math.random()*3)]}))},3e4);return()=>clearInterval(x)},[]);const g=()=>{const x=i.getHours();return x<12?"Good Morning":x<17?"Good Afternoon":"Good Evening"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 rounded-2xl shadow-2xl mb-8",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-32 -translate-y-32"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-48 translate-y-48"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-yellow-300 rounded-full transform -translate-x-16 -translate-y-16"})]}),s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:s.jsx(Lv,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-white/80 text-sm font-medium",children:[g(),", Parent! "]}),s.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight",children:["Welcome to ",s.jsxs("span",{className:"text-yellow-300",children:[a,"'s"]})," Portal"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-6 text-white/90",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(l5,{className:"w-5 h-5 text-yellow-300"}),s.jsx("span",{className:"text-sm font-medium",children:i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pr,{className:"w-5 h-5 text-green-300"}),s.jsx("span",{className:"text-sm font-medium",children:"School Active"})]})]}),s.jsx("p",{className:"text-white/80 mt-4 text-lg leading-relaxed",children:"Stay connected with your child's journey, track their progress, and celebrate their achievements together."})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center",children:s.jsx(LX,{className:"w-12 h-12 text-white animate-pulse"})})}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx("div",{className:"w-8 h-8 bg-green-400 rounded-full flex items-center justify-center",children:s.jsx(ds,{className:"w-5 h-5 text-white"})})})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:[a," is Online"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(pn,{className:"w-4 h-4 text-yellow-300"}),s.jsx("span",{className:"text-white text-sm font-medium",children:"3 New Achievements"})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[s.jsx(Kn,{className:"w-4 h-4 text-blue-300"}),s.jsx("span",{className:"text-white text-sm font-medium",children:"2 Updates Today"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map((x,v)=>s.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-white/20 hover:scale-105",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:x.label}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:x.value}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${x.color==="green"?"from-green-400 to-green-600":x.color==="red"?"from-red-400 to-red-600":x.color==="blue"?"from-blue-400 to-blue-600":"from-yellow-400 to-yellow-600"} transition-all duration-300`,style:{width:x.color==="green"?"95%":x.color==="red"?"30%":x.color==="blue"?"50%":"100%"}})})]}),s.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${x.color==="green"?"from-green-100 to-green-200":x.color==="red"?"from-red-100 to-red-200":x.color==="blue"?"from-blue-100 to-blue-200":"from-yellow-100 to-yellow-200"} group-hover:scale-110 transition-transform duration-300`,children:s.jsx(x.icon,{className:`w-7 h-7 ${x.color==="green"?"text-green-600":x.color==="red"?"text-red-600":x.color==="blue"?"text-blue-600":"text-yellow-600"}`})})]})},v))}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 mb-8",children:[s.jsx("div",{className:"p-6 border-b border-gray-200/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg",children:s.jsx(Uue,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Live Child Monitor"}),s.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-green-400 to-green-500 rounded-full",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"LIVE"})})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Real-time insights into ",a,"'s school activities"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 rounded-full px-4 py-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping"})]}),s.jsx("span",{className:"text-sm text-green-700 font-semibold",children:"Online"})]}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(aa,{className:"w-5 h-5 text-gray-400"})})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:u.map((x,v)=>s.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-xl p-4 border border-gray-200/50 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:x.label}),s.jsx("p",{className:"text-xl font-bold text-gray-800",children:x.value})]}),s.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${h(x.status)}`,children:x.status.toUpperCase()})]})},v))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:s.jsx(iI,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Activity Stream"})]}),s.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:"LIVE"})]}),s.jsx("div",{className:"space-y-3 max-h-56 overflow-y-auto custom-scrollbar",children:d.map(x=>s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/30 hover:bg-white/90 transition-all duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center shadow-sm",children:s.jsx(dr,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:x.activity}),s.jsx("span",{className:"text-xl",children:x.mood})]}),s.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:x.time})]}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:x.notes})]})]},x.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-5 h-5 text-purple-600"}),s.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Current Status"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",r.toLocaleTimeString()]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ml,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Location"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t.currentLocation}),s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ql,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Health Status"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-sm font-medium ${m(t.healthStatus).text}`,children:m(t.healthStatus).label}),s.jsx("div",{className:`w-3 h-3 rounded-full ${m(t.healthStatus).color}`})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ya,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Activity Level"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t.activityLevel}),s.jsx("div",{className:`w-3 h-3 rounded-full ${t.activityLevel==="Active"?"bg-green-500 animate-pulse":t.activityLevel==="Moderate"?"bg-yellow-500":"bg-gray-500"}`})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(cfe,{className:"w-3 h-3 text-cyan-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Connection"})]}),s.jsx("div",{className:"flex items-center space-x-1",children:[...Array(4)].map((x,v)=>s.jsx("div",{className:`w-1 h-3 rounded-sm ${v<f(t.connectionStrength).bars?f(t.connectionStrength).color:"bg-gray-300"}`},v))})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Vg,{className:"w-3 h-3 text-emerald-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Safety"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:t.safetyStatus}),s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Tce,{className:"w-3 h-3 text-yellow-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Device"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("span",{className:`text-xs font-medium ${A(t.batteryLevel)}`,children:[t.batteryLevel,"%"]}),s.jsx("div",{className:"w-4 h-2 border border-gray-300 rounded-sm relative",children:s.jsx("div",{className:`h-full rounded-sm transition-all duration-500 ${t.batteryLevel>50?"bg-green-500":t.batteryLevel>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.max(t.batteryLevel,5)}%`}})})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Yu,{className:"w-3 h-3 text-orange-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Mood"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("span",{className:"text-xs text-gray-800 font-medium",children:[t.moodRating,"/5"]})]})]})})]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"View Observations"})]}),s.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105",children:[s.jsx(Mn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Analytics"})]})]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[s.jsx("div",{className:"p-6 border-b border-gray-200/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl",children:s.jsx(Kn,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Important Updates"})]}),s.jsxs("div",{className:"text-xs text-orange-600 font-medium bg-orange-100 px-3 py-1 rounded-full",children:[c.length," Updates"]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:c.map(x=>s.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-xl border-l-4 transition-all duration-200 hover:shadow-md ${x.priority==="high"?"bg-red-50 border-red-400":x.priority==="medium"?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-400"}`,children:[s.jsx("div",{className:`p-2 rounded-xl ${x.priority==="high"?"bg-red-100":x.priority==="medium"?"bg-yellow-100":"bg-gray-100"}`,children:s.jsx(Ir,{className:`w-5 h-5 ${x.priority==="high"?"text-red-600":x.priority==="medium"?"text-yellow-600":"text-gray-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800 leading-relaxed",children:x.message}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:x.time}),s.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${x.priority==="high"?"bg-red-100 text-red-700":x.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x.priority.toUpperCase()})]})]})]},x.id))})})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[s.jsx("div",{className:"p-6 border-b border-gray-200/50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-xl",children:s.jsx(Ya,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Quick Actions"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border border-blue-200/50 transition-all duration-200 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(NA,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Schedule PTM"})]}),s.jsx(aa,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors"})]}),s.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border border-green-200/50 transition-all duration-200 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(vc,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Pay Fees"})]}),s.jsx(aa,{className:"w-5 h-5 text-gray-400 group-hover:text-green-500 transition-colors"})]}),s.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border border-red-200/50 transition-all duration-200 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-500 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(ql,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Health Report"})]}),s.jsx(aa,{className:"w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors"})]}),s.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-purple-50 to-violet-50 hover:from-purple-100 hover:to-violet-100 border border-purple-200/50 transition-all duration-200 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(Is,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-medium text-gray-700",children:"Observations"})]}),s.jsx(aa,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-500 transition-colors"})]})]})})]})]})]})})},FYe=()=>{const[t,e]=F.useState({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null}),[r,n]=F.useState(!1),a=[{id:"q1",text:"How often have you observed your child seeming more irritable, sad, or emotionally flat than is usual for them?"},{id:"q2",text:"How often has your child withdrawn from family activities or preferred to be alone, more so than their typical behavior?"},{id:"q3",text:"How much have you noticed a change in your child's sleep, such as sleeping much more, much less, or having trouble falling/staying asleep?"},{id:"q4",text:"How often has your child shown interest or enthusiasm for hobbies, friendships, or activities they normally enjoy?"},{id:"q5",text:"How would you describe your child's overall energy level at home?"},{id:"q6",text:"How often has your child expressed significant worry about school, their future, or their friendships?"},{id:"q7",text:"How often has your child become easily frustrated or upset by small problems or setbacks?"},{id:"q8",text:"How often has your child complained of physical issues like headaches, stomach aches, or general fatigue?"},{id:"q9",text:"How much has your child been communicating with you about their schoolwork or their experiences at school?"},{id:"q10",text:"How often have you heard your child make negative or highly critical comments about themselves?"}],i=[{emoji:"",label:"Very Good",value:0},{emoji:"",label:"Okay",value:1},{emoji:"",label:"Neutral",value:2},{emoji:"",label:"Worried",value:3},{emoji:"",label:"Very Worried",value:4}],o=(d,u)=>{e(h=>({...h,[d]:u}))},l=d=>{d.preventDefault(),console.log("Observation Form Submitted:",t),n(!0),setTimeout(()=>{n(!1),e({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null})},3e3)},c=()=>Object.values(t).every(d=>d!==null);return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Child Behavior Observation Form"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please answer the following questions about your child's recent behavior and emotional state."})]}),r&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium",children:"Thank you! Your observation has been submitted successfully."})]})}),s.jsxs("form",{onSubmit:l,className:"space-y-8",children:[a.map((d,u)=>s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("label",{className:"block text-lg font-medium text-gray-900 mb-4",children:[u+1,". ",d.text]})}),s.jsx("div",{className:"flex justify-center space-x-4",children:i.map(h=>s.jsxs("button",{type:"button",onClick:()=>o(d.id,h.value),className:`flex flex-col items-center p-4 rounded-lg transition-all duration-200 border-2 ${t[d.id]===h.value?"bg-blue-100 border-blue-400 shadow-md":"bg-gray-50 hover:bg-gray-100 border-transparent hover:border-gray-300"}`,children:[s.jsx("span",{className:"text-3xl mb-2",children:h.emoji}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.label})]},h.value))}),t[d.id]!==null&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Answered"})})]},d.id)),s.jsx("div",{className:"flex justify-center pt-6",children:s.jsx("button",{type:"submit",disabled:!c(),className:`px-8 py-3 rounded-lg font-medium text-white transition-colors ${c()?"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2":"bg-gray-400 cursor-not-allowed"}`,children:"Submit Observation"})})]})]})})})},PYe=()=>{const[t,e]=F.useState([]),[r,n]=F.useState({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),[a,i]=F.useState(!1),o=[{id:1,name:"Emma Johnson",class:"Grade 5A",image:"/api/placeholder/32/32"},{id:2,name:"Liam Johnson",class:"Grade 3B",image:"/api/placeholder/32/32"}],l=["Academic Performance","Social Interaction","Emotional Wellbeing","Behavioral Changes","Physical Health","Sleep Patterns","Eating Habits","Communication"],c=[{emoji:"",label:"Very Happy",value:5},{emoji:"",label:"Happy",value:4},{emoji:"",label:"Neutral",value:3},{emoji:"",label:"Sad",value:2},{emoji:"",label:"Very Sad",value:1}],d=[{value:"low",label:"Low",color:"green"},{value:"medium",label:"Medium",color:"yellow"},{value:"high",label:"High",color:"red"}];F.useEffect(()=>{e([{id:1,childName:"Emma Johnson",date:"2024-01-15",category:"Academic Performance",observation:"Emma showed great enthusiasm during math class today. She completed her homework early and helped classmates.",moodRating:5,behaviorNotes:"Very positive attitude towards learning",concernLevel:"low",timestamp:"2024-01-15T10:30:00Z"},{id:2,childName:"Emma Johnson",date:"2024-01-14",category:"Social Interaction",observation:"Emma seemed withdrawn during lunch break. She didn't interact much with her usual friend group.",moodRating:2,behaviorNotes:"Less social than usual, preferred to read alone",concernLevel:"medium",timestamp:"2024-01-14T12:15:00Z"}])},[]);const u=(A,g)=>{n(x=>({...x,[A]:g}))},h=A=>{A.preventDefault();const g={...r,id:t.length+1,timestamp:new Date().toISOString()};e(x=>[g,...x]),i(!0),n({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),setTimeout(()=>{i(!1)},3e3)},m=()=>r.childName&&r.category&&r.observation&&r.moodRating!==null,f=A=>{switch(A){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Is,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parent Observation Portal"}),s.jsx("p",{className:"text-gray-600",children:"Track and record your child's daily observations"})]})]})}),a&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2"}),"Record New Observation"]})}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Child"}),s.jsxs("select",{value:r.childName,onChange:A=>u("childName",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Choose a child"}),o.map(A=>s.jsxs("option",{value:A.name,children:[A.name," - ",A.class]},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:r.date,onChange:A=>u("date",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{value:r.category,onChange:A=>u("category",A.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select category"}),l.map(A=>s.jsx("option",{value:A,children:A},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Child's Mood"}),s.jsx("div",{className:"flex justify-center space-x-4",children:c.map(A=>s.jsxs("button",{type:"button",onClick:()=>u("moodRating",A.value),className:`flex flex-col items-center p-3 rounded-lg transition-all ${r.moodRating===A.value?"bg-blue-100 border-2 border-blue-400":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[s.jsx("span",{className:"text-2xl mb-1",children:A.emoji}),s.jsx("span",{className:"text-xs text-gray-600",children:A.label})]},A.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observation Details"}),s.jsx("textarea",{value:r.observation,onChange:A=>u("observation",A.target.value),placeholder:"Describe what you observed about your child today...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),s.jsx("textarea",{value:r.behaviorNotes,onChange:A=>u("behaviorNotes",A.target.value),placeholder:"Any additional behavioral notes or context...",rows:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Concern Level"}),s.jsx("div",{className:"flex space-x-4",children:d.map(A=>s.jsx("button",{type:"button",onClick:()=>u("concernLevel",A.value),className:`px-4 py-2 rounded-lg border-2 transition-all ${r.concernLevel===A.value?`bg-${A.color}-100 border-${A.color}-400 text-${A.color}-700`:"bg-white border-gray-300 text-gray-700 hover:border-gray-400"}`,children:A.label},A.value))})]}),s.jsx("button",{type:"submit",disabled:!m(),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${m()?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Record Observation"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(cs,{className:"w-5 h-5 mr-2"}),"Recent Observations"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(A=>{var g;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium text-gray-900",children:A.childName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(A.concernLevel)}`,children:A.concernLevel.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{children:A.date})]})]}),s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:A.category})}),s.jsx("p",{className:"text-gray-700 text-sm mb-2",children:A.observation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Mood:"}),s.jsx("span",{className:"text-lg",children:(g=c.find(x=>x.value===A.moodRating))==null?void 0:g.emoji})]}),A.behaviorNotes&&s.jsxs("div",{className:"text-xs text-gray-500 max-w-xs truncate",children:["Notes: ",A.behaviorNotes]})]})]},A.id)})})})]})]})]})})},Wae="eec_parent_chat_v2",ZB=[{id:"class-teacher",name:"Ms. Johnson",type:"teacher",unread:1,lastMessage:"PTM is scheduled for Monday 10 AM",lastTime:"10:30 AM"},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"Fee due date extended to 15th",lastTime:"Yesterday"},{id:"transport",name:"Transport Desk",type:"support",unread:0,lastMessage:"Route 3 will be 10 mins late today",lastTime:"09:15 AM"},{id:"art-teacher",name:"Mr. Williams",type:"teacher",unread:0,lastMessage:"Art supplies needed by Friday",lastTime:"Monday"},{id:"pta",name:"PTA Coordinator",type:"admin",unread:3,lastMessage:"Volunteers needed for spring fair",lastTime:"Sunday"}],eT={"class-teacher":[{id:"m1",sender:"teacher",text:"Hello! PTM is scheduled for Monday 10 AM.",ts:Date.now()-72e5,read:!0},{id:"m2",sender:"parent",text:"Thanks for the update. Will be there.",ts:Date.now()-7e6,read:!0},{id:"m3",sender:"teacher",text:"Great! Please bring your child's portfolio.",ts:Date.now()-68e5,read:!1}],office:[{id:"m4",sender:"admin",text:"Fee due date extended to 15th.",ts:Date.now()-54e5,read:!0}],transport:[{id:"m5",sender:"support",text:"Route 3 will be 10 mins late today.",ts:Date.now()-36e5,read:!0}],"art-teacher":[{id:"m6",sender:"teacher",text:"Please ensure your child brings art supplies by Friday.",ts:Date.now()-864e5,read:!0}],pta:[{id:"m7",sender:"admin",text:"We need volunteers for the spring fair next month.",ts:Date.now()-1728e5,read:!1},{id:"m8",sender:"admin",text:"Please sign up using the form sent yesterday.",ts:Date.now()-1727e5,read:!1},{id:"m9",sender:"admin",text:"Reminder: PTA meeting this Friday at 4 PM.",ts:Date.now()-1726e5,read:!1}]};function IYe(){var t;try{const e=localStorage.getItem(Wae);if(!e)return{conversations:ZB,messages:eT};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:ZB,messages:r.messages||eT}}catch{return{conversations:ZB,messages:eT}}}function DYe(t){try{localStorage.setItem(Wae,JSON.stringify(t))}catch{}}const LYe=({mine:t,text:e,ts:r,read:n})=>{const a=new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap text-[15px]",children:e}),s.jsxs("div",{className:`flex items-center justify-end mt-1 ${t?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{className:"text-xs mr-1",children:a}),t&&s.jsx(ode,{className:`h-3 w-3 ${n?"text-blue-200":"text-blue-200/70"}`})]})]})})},RYe=()=>{var j;const[{conversations:t,messages:e},r]=F.useState(IYe),[n,a]=F.useState(((j=t[0])==null?void 0:j.id)||null),[i,o]=F.useState(""),[l,c]=F.useState(""),[d,u]=F.useState("list"),h=F.useRef(null),m=F.useMemo(()=>e[n]||[],[e,n]),f=F.useMemo(()=>t.find(b=>b.id===n),[t,n]);F.useEffect(()=>{DYe({conversations:t,messages:e})},[t,e]),F.useEffect(()=>{n&&r(b=>({...b,conversations:b.conversations.map(S=>S.id===n?{...S,unread:0}:S)}))},[n]),F.useEffect(()=>{h.current&&m.length&&(h.current.scrollTop=h.current.scrollHeight)},[m]);const A=F.useMemo(()=>{const b=i.trim().toLowerCase();return b?t.filter(S=>S.name.toLowerCase().includes(b)||S.lastMessage.toLowerCase().includes(b)):t},[t,i]),g=()=>{const b=l.trim();if(!b||!n)return;const S={id:crypto.randomUUID(),sender:"parent",text:b,ts:Date.now(),read:!1};r(w=>({conversations:w.conversations.map(N=>N.id===n?{...N,lastMessage:b,lastTime:"Just now"}:N),messages:{...w.messages,[n]:[...w.messages[n]||[],S]}})),c("")},x=b=>{const S=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-amber-100 text-amber-600","bg-pink-100 text-pink-600"],w=b.length%S.length;return S[w]},v=b=>b.split(" ").map(S=>S[0]).join("").toUpperCase();return s.jsxs("div",{className:"h-full min-h-[70vh] bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 bg-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:s.jsx(kn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Parent Chat"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Connect with school staff"})]})]}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(md,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"flex h-[60vh]",children:[s.jsxs("div",{className:`bg-white border-r border-gray-100 w-full md:w-96 flex flex-col ${d==="chat"?"hidden md:flex":"flex"}`,children:[s.jsx("div",{className:"p-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl px-3 py-2.5",children:[s.jsx(Ds,{className:"h-4 w-4 text-gray-500"}),s.jsx("input",{value:i,onChange:b=>o(b.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-400"})]})}),s.jsxs("div",{className:"overflow-y-auto flex-1",children:[A.map(b=>s.jsxs("button",{onClick:()=>{a(b.id),u("chat")},className:`w-full text-left p-3 flex items-center gap-3 hover:bg-gray-50 border-b border-gray-100 transition-colors ${n===b.id?"bg-blue-50":""}`,children:[s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center font-medium ${x(b.name)}`,children:v(b.name)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-800 truncate",children:b.name}),s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:b.lastTime})]}),s.jsxs("div",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[b.unread>0&&s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-xs text-white",children:b.unread}),s.jsx("span",{children:b.lastMessage})]})]})]},b.id)),A.length===0&&s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:"No conversations found"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Try a different search term"})]})]})]}),s.jsx("div",{className:`flex-1 flex flex-col ${d==="list"?"hidden md:flex":"flex"}`,children:f?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>u("list"),className:"md:hidden p-1 rounded-lg hover:bg-gray-100",children:s.jsx(Wl,{className:"h-5 w-5 text-gray-500"})}),s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center font-medium ${x(f.name)}`,children:v(f.name)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:f.name}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:f.type})]})]}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(md,{className:"h-5 w-5 text-gray-500"})})]}),s.jsx("div",{ref:h,className:"flex-1 overflow-y-auto p-4 bg-gray-50/50",children:m.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center text-xs text-gray-500 mb-4",children:"Today"}),m.map(b=>s.jsx(LYe,{mine:b.sender==="parent",text:b.text,ts:b.ts,read:b.read},b.id))]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(kn,{className:"h-12 w-12 mb-2 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No messages yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Say hello to start the conversation"})]})}),s.jsx("div",{className:"border-t border-gray-100 bg-white p-3",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(lI,{className:"h-5 w-5 text-gray-500"})}),s.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-4 py-2",children:s.jsx("textarea",{rows:1,value:l,onChange:b=>c(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g())},placeholder:"Type a message...",className:"w-full resize-none bg-transparent outline-none text-sm placeholder-gray-500 max-h-32"})}),l.trim()?s.jsx("button",{onClick:g,className:"p-2.5 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:s.jsx(qf,{className:"h-5 w-5"})}):s.jsx("button",{className:"p-2.5 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(FX,{className:"h-5 w-5 text-gray-500"})})]})})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50/50 p-4 text-center",children:[s.jsx(kn,{className:"h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"font-medium text-gray-500 mb-1",children:"No conversation selected"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Choose a conversation from the list to start chatting"})]})})]})]})},OYe=()=>{const[t,e]=F.useState(!0),r=F.useRef(null),n=()=>{r.current&&r.current.scrollBy({top:200,behavior:"smooth"})},a=[{icon:Lv,label:"Dashboard",path:"/parents"},{icon:tr,label:"Attendance Report",path:"/parents/attendance"},{icon:Qr,label:"Academic Report",path:"/parents/academic"},{icon:vc,label:"Fees Payment",path:"/parents/fees"},{icon:Ya,label:"Health Report",path:"/parents/health"},{icon:kn,label:"Chat",path:"/parents/chat"},{icon:kn,label:"Complaints",path:"/parents/complaints"},{icon:NA,label:"Parent-Teacher Meetings",path:"/parents/ptm"},{icon:Is,label:"Observation",path:"/parents/observation"},{icon:Is,label:"Parent Observation",path:"/parents/parent-observation"},{icon:Yn,label:"Results",path:"/parents/results"},{icon:pn,label:"Achievements",path:"/parents/achievements"},{icon:kr,label:"Courses",path:"/parents/courses"}];return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex gap-0",children:[!t&&s.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-yellow-500 text-white rounded-lg",onClick:()=>e(!0),children:s.jsx(Sw,{size:24})}),s.jsx("div",{className:`
          fixed top-0 left-0 h-screen bg-white shadow-lg transform transition-max-width duration-300 ease-in-out z-40 md:block
          lg:translate-x-0 ${t?"max-w-80":"hidden max-w-32"}
        `,style:{willChange:"transform"},"aria-label":"Sidebar",children:s.jsxs("div",{className:"p-6 w-full h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(pr,{className:"w-6 aspect-square text-yellow-600"})}),t&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Parent Portal"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back!"})]}),s.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-700","aria-label":t?"Close sidebar":"Open sidebar",children:t?s.jsx(wd,{size:20}):s.jsx(aa,{size:20})})]}),s.jsx("nav",{ref:r,className:"space-y-2 overflow-y-auto flex-grow scrollbar-hide",children:a.map(i=>s.jsxs(Qg,{to:i.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors",children:[s.jsx(i.icon,{className:"h-5 w-5"}),t&&s.jsx("span",{children:i.label})]},i.path))}),s.jsx("button",{onClick:n,className:"mt-2 w-full py-2 flex items-center justify-center text-gray-500 hover:text-yellow-600 transition-colors",children:s.jsx(mn,{className:"h-5 h-5"})})]})}),s.jsx("div",{className:`overflow-y-scroll h-screen ${t?"md:ml-80":"md:ml-32"} flex-grow p-6 bg-gray-50 transition-all duration-300`,children:s.jsxs(bw,{children:[s.jsx(qt,{path:"/",element:s.jsx(MYe,{})}),s.jsx(qt,{path:"attendance",element:s.jsx(NYe,{})}),s.jsx(qt,{path:"academic",element:s.jsx(SYe,{})}),s.jsx(qt,{path:"fees",element:s.jsx(_Ye,{})}),s.jsx(qt,{path:"health",element:s.jsx(CYe,{})}),s.jsx(qt,{path:"complaints",element:s.jsx(jY,{})}),s.jsx(qt,{path:"chat",element:s.jsx(RYe,{})}),s.jsx(qt,{path:"ptm",element:s.jsx(TYe,{})}),s.jsx(qt,{path:"observation",element:s.jsx(FYe,{})}),s.jsx(qt,{path:"parent-observation",element:s.jsx(PYe,{})}),s.jsx(qt,{path:"results",element:s.jsx(EYe,{})}),s.jsx(qt,{path:"achievements",element:s.jsx(kYe,{})}),s.jsx(qt,{path:"courses",element:s.jsx(BYe,{})})]})})]})},UYe=()=>{const[t,e]=F.useState(null),[r,n]=F.useState("overview"),[a,i]=F.useState(""),[o,l]=F.useState("all"),c=[{id:1,name:"Koushik Bala",class:"10-A",healthStatus:"Good",lastUpdate:"2024-03-01",recentIssues:[],height:"165 cm",weight:"52 kg",bloodGroup:"B+",bmi:"19.1",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 123-4567",emotionalWellbeing:{mood:"excellent",socialEngagement:9,academicStress:3,behaviorChanges:!1,lastAssessment:"2024-03-01",notes:"Student shows excellent emotional stability and positive attitude towards learning.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Praise",date:"2024-02-28",description:"Recognized for helping classmates"},{type:"Peer Support",date:"2024-02-25",description:"Assigned as study buddy mentor"}]}},{id:2,name:"John Doe",class:"10-A",healthStatus:"Under Observation",lastUpdate:"2024-03-05",recentIssues:["Mild Fever"],height:"170 cm",weight:"60 kg",bloodGroup:"O+",bmi:"20.8",allergies:["Peanuts"],medications:["Antihistamine"],emergencyContact:"+1 (555) 987-6543",emotionalWellbeing:{mood:"concerning",socialEngagement:4,academicStress:8,behaviorChanges:!0,lastAssessment:"2024-03-05",notes:"Student showing signs of academic pressure. Recommended for counseling support.",counselingSessions:2,parentNotifications:1,interventions:["Academic Support","Stress Management"],supportActions:[{type:"Counseling",date:"2024-03-03",description:"Individual session on exam anxiety"},{type:"Parent Meeting",date:"2024-03-01",description:"Discussed academic pressure concerns"}]}},{id:3,name:"Emma Johnson",class:"10-B",healthStatus:"Needs Attention",lastUpdate:"2024-03-03",recentIssues:["Asthma","Seasonal Allergies"],height:"158 cm",weight:"48 kg",bloodGroup:"A+",bmi:"19.2",allergies:["Dust","Pollen"],medications:["Inhaler","Antihistamine"],emergencyContact:"+1 (555) 456-7890",emotionalWellbeing:{mood:"good",socialEngagement:7,academicStress:5,behaviorChanges:!1,lastAssessment:"2024-03-03",notes:"Despite health challenges, student maintains positive outlook. Good peer relationships.",counselingSessions:1,parentNotifications:1,interventions:["Health Support"],supportActions:[{type:"Health Counseling",date:"2024-03-02",description:"Discussed coping strategies for health conditions"},{type:"Accommodation",date:"2024-02-28",description:"Provided extra time during physical activities"}]}},{id:4,name:"Michael Brown",class:"10-B",healthStatus:"Good",lastUpdate:"2024-03-10",recentIssues:[],height:"175 cm",weight:"65 kg",bloodGroup:"AB+",bmi:"21.2",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 234-5678",emotionalWellbeing:{mood:"neutral",socialEngagement:6,academicStress:6,behaviorChanges:!1,lastAssessment:"2024-03-10",notes:"Student shows average engagement. Could benefit from more social activities.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Group Activity",date:"2024-03-08",description:"Participated in team building exercise"},{type:"Academic Support",date:"2024-03-05",description:"Extra help session for mathematics"}]}}],[d,u]=F.useState({date:new Date().toISOString().split("T")[0],type:"Regular Checkup",findings:"",recommendations:"",status:"Good"}),h=c.filter(A=>{const g=A.name.toLowerCase().includes(a.toLowerCase())||A.class.toLowerCase().includes(a.toLowerCase()),x=o==="all"||A.class===o;return g&&x}),m={totalStudents:c.length,goodHealth:c.filter(A=>A.healthStatus==="Good").length,underObservation:c.filter(A=>A.healthStatus==="Under Observation").length,needsAttention:c.filter(A=>A.healthStatus==="Needs Attention").length},f={excellentMood:c.filter(A=>A.emotionalWellbeing.mood==="excellent").length,concerningMood:c.filter(A=>A.emotionalWellbeing.mood==="concerning"||A.emotionalWellbeing.mood==="critical").length,behaviorChanges:c.filter(A=>A.emotionalWellbeing.behaviorChanges).length,needsCounseling:c.filter(A=>A.emotionalWellbeing.counselingSessions>0).length};return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Health & Wellbeing Management"}),s.jsx("p",{className:"text-gray-500",children:"Monitor and manage student physical health and emotional wellbeing"})]}),s.jsxs("button",{className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"New Health Record"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.totalStudents})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(As,{className:"w-5 h-5 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Good Health"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.goodHealth})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(ql,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Under Observation"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.underObservation})]}),s.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:s.jsx(Ya,{className:"w-5 h-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Attention"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.needsAttention})]}),s.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:s.jsx(Ir,{className:"w-5 h-5 text-red-600"})})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Js,{className:"w-5 h-5 mr-2 text-purple-600"}),"Emotional Wellbeing Overview"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Excellent Mood"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.excellentMood})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(Yu,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Concerning Mood"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.concerningMood})]}),s.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:s.jsx(o1,{className:"w-5 h-5 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Behavior Changes"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.behaviorChanges})]}),s.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:s.jsx(Ir,{className:"w-5 h-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Counseling"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.needsCounseling})]}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:s.jsx(du,{className:"w-5 h-5 text-purple-600"})})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-gray-100",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Student Directory"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ds,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:A=>i(A.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",children:[s.jsx("option",{value:"all",children:"All Classes"}),s.jsx("option",{value:"10-A",children:"Class 10-A"}),s.jsx("option",{value:"10-B",children:"Class 10-B"})]})]})]})]}),s.jsx("div",{className:"divide-y divide-gray-100 max-h-[500px] overflow-y-auto",children:h.length>0?h.map(A=>s.jsxs("div",{onClick:()=>e(A),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===A.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${A.healthStatus==="Good"?"bg-green-500":A.healthStatus==="Under Observation"?"bg-yellow-500":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:A.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",A.class]})]})]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.healthStatus==="Good"?"bg-green-100 text-green-800":A.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:A.healthStatus})]}),A.recentIssues.length>0&&s.jsxs("div",{className:"mt-2 flex items-center",children:[s.jsx(Ir,{className:"w-3 h-3 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-xs text-yellow-700",children:A.recentIssues.join(", ")})]})]},A.id)):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No students found matching your search."})})]}),s.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t?s.jsxs("div",{children:[s.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>e(null),className:"p-1 rounded-lg hover:bg-gray-200 transition-colors",children:s.jsx(Wl,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",t.class," | Last update: ",t.lastUpdate]})]})]}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.healthStatus==="Good"?"bg-green-100 text-green-800":t.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.healthStatus})]})}),s.jsx("div",{className:"p-5 border-b border-gray-100",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>n("overview"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="overview"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Overview"}),s.jsx("button",{onClick:()=>n("medical"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="medical"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Medical Info"}),s.jsx("button",{onClick:()=>n("history"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="history"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"History"}),s.jsxs("button",{onClick:()=>n("wellbeing"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1 ${r==="wellbeing"?"bg-purple-100 text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"Wellbeing"})]})]})}),s.jsxs("div",{className:"p-5",children:[r==="overview"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Vital Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Height"}),s.jsx("p",{className:"font-medium",children:t.height})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),s.jsx("p",{className:"font-medium",children:t.weight})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"BMI"}),s.jsx("p",{className:"font-medium",children:t.bmi})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Blood Group"}),s.jsx("p",{className:"font-medium",children:t.bloodGroup})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Recent Issues"}),t.recentIssues.length>0?s.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:t.recentIssues.map((A,g)=>s.jsx("li",{className:"text-yellow-700",children:A},g))}):s.jsx("p",{className:"text-sm text-yellow-700",children:"No recent health issues"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Emergency Contact"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-gray-800 font-medium",children:t.emergencyContact})})]})]}),r==="medical"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.allergies.map((A,g)=>s.jsx("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:A},g))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Medications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.medications.map((A,g)=>s.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:A},g))})]})]}),r==="history"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Health Update History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx(kr,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Regular Checkup"}),s.jsx("span",{className:"text-xs text-gray-500",children:"2024-03-01"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All vitals normal. No issues reported."}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Good"})})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:s.jsx(Ir,{className:"w-4 h-4 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Sick Visit"}),s.jsx("span",{className:"text-xs text-gray-500",children:"2024-02-15"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Mild fever observed. Recommended rest and hydration."}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Under Observation"})})]})]})]})]})}),r==="wellbeing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-purple-800 mb-3 flex items-center",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Emotional Wellbeing Assessment"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full mb-2 ${t.emotionalWellbeing.mood==="excellent"?"bg-green-100":t.emotionalWellbeing.mood==="good"?"bg-blue-100":t.emotionalWellbeing.mood==="neutral"?"bg-yellow-100":t.emotionalWellbeing.mood==="concerning"?"bg-orange-100":"bg-red-100"}`,children:t.emotionalWellbeing.mood==="excellent"||t.emotionalWellbeing.mood==="good"?s.jsx(Yu,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":"text-blue-600"}`}):t.emotionalWellbeing.mood==="neutral"?s.jsx(o5,{className:"w-6 h-6 text-yellow-600"}):s.jsx(o1,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`})}),s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Overall Mood"}),s.jsx("p",{className:`text-xs font-medium capitalize ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":t.emotionalWellbeing.mood==="good"?"text-blue-600":t.emotionalWellbeing.mood==="neutral"?"text-yellow-600":t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`,children:t.emotionalWellbeing.mood})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-2",children:s.jsx(pr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Social Engagement"}),s.jsxs("p",{className:"text-xs font-medium text-blue-600",children:[t.emotionalWellbeing.socialEngagement,"/10"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-orange-100 mb-2",children:s.jsx(cs,{className:"w-6 h-6 text-orange-600"})}),s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Academic Stress"}),s.jsxs("p",{className:"text-xs font-medium text-orange-600",children:[t.emotionalWellbeing.academicStress,"/10"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Last Assessment"}),s.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.lastAssessment})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Counseling Sessions"}),s.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.counselingSessions})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Parent Notifications"}),s.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.parentNotifications})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Behavior Changes"}),s.jsx("span",{className:`text-xs font-medium ${t.emotionalWellbeing.behaviorChanges?"text-orange-600":"text-green-600"}`,children:t.emotionalWellbeing.behaviorChanges?"Yes":"No"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Interventions"}),s.jsx("div",{className:"space-y-2",children:t.emotionalWellbeing.interventions.length>0?t.emotionalWellbeing.interventions.map((A,g)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(ds,{className:"w-3 h-3 text-yellow-500 mr-2"}),s.jsx("span",{className:"text-xs text-gray-700",children:A})]},g)):s.jsx("p",{className:"text-xs text-gray-500",children:"No interventions needed"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Notes"}),s.jsx("p",{className:"text-xs text-gray-600",children:t.emotionalWellbeing.notes||"No additional notes available."})]}),t.emotionalWellbeing.supportActions&&t.emotionalWellbeing.supportActions.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Support Actions Taken"}),s.jsx("div",{className:"space-y-3",children:t.emotionalWellbeing.supportActions.map((A,g)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full",children:s.jsx(du,{className:"w-3 h-3 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-800",children:A.type}),s.jsx("span",{className:"text-xs text-gray-500",children:A.date})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:A.description})]})]},g))})]})]})]}),s.jsxs("div",{className:"mt-6 pt-5 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Health Update"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:d.date,onChange:A=>u({...d,date:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:d.type,onChange:A=>u({...d,type:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{children:"Regular Checkup"}),s.jsx("option",{children:"Sick Visit"}),s.jsx("option",{children:"Follow-up"}),s.jsx("option",{children:"Emergency"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:d.status,onChange:A=>u({...d,status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{children:"Good"}),s.jsx("option",{children:"Under Observation"}),s.jsx("option",{children:"Needs Attention"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Findings"}),s.jsx("textarea",{value:d.findings,onChange:A=>u({...d,findings:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter medical findings..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),s.jsx("textarea",{value:d.recommendations,onChange:A=>u({...d,recommendations:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter recommendations..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[s.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm",children:"Save Health Update"})]})]})]})]})]}):s.jsxs("div",{className:"p-10 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(As,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Select a student"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Choose a student from the list to view and manage their health records"})]})})]})]})},HYe=()=>{const[t,e]=F.useState(null),r=[{id:1,studentName:"John Doe",parentName:"Mr. & Mrs. Doe",date:"2024-03-20",time:"10:00 AM",type:"Video Call",status:"scheduled",topic:"Academic Progress Discussion"},{id:2,studentName:"Koushik Bala",parentName:"Mrs. Smith",date:"2024-03-22",time:"2:30 PM",type:"In Person",status:"pending",topic:"Behavioral Concerns"}],n=a=>{switch(a){case"Video Call":return s.jsx(NA,{className:"w-4 h-4"});case"Phone Call":return s.jsx(Mi,{className:"w-4 h-4"});default:return s.jsx(pr,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),s.jsx("p",{className:"text-yellow-100",children:"Schedule and manage parent meetings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),s.jsx("div",{className:"p-4 space-y-4",children:r.map(a=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",a.parentName]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Student: ",a.studentName]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:a.date})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{children:a.time})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[n(a.type),s.jsx("span",{children:a.type})]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",a.topic]})]})})},a.id))})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Schedule New Meeting"})}),s.jsx("div",{className:"p-4",children:s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter student name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Name"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter parent name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[s.jsx("option",{value:"video",children:"Video Call"}),s.jsx("option",{value:"phone",children:"Phone Call"}),s.jsx("option",{value:"in-person",children:"In Person"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:"3",placeholder:"Enter meeting topic"})]}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 transition-colors",children:"Schedule Meeting"})]})})]})]})]})},Wq=[{_id:"1",title:"Quadratic Equations Problem Set",subject:"Mathematics",class:"10-A",description:"Solve problems related to quadratic equations, including graphing and real-world applications.",dueDate:"2025-01-15",createdDate:"2025-01-05",marks:100,status:"active",submissions:28,totalStudents:35,avgScore:87.5,difficulty:"Medium",type:"Problem Set",attachments:["quadratic_equations.pdf","answer_sheet.docx"],instructions:"Complete all 20 problems. Show your work for full credit. Use graphing calculator where needed.",tags:["Algebra","Graphing","Problem Solving"]},{_id:"2",title:"Cell Structure Lab Report",subject:"Biology",class:"9-B",description:"Write a detailed lab report on cell structure observation using microscopy.",dueDate:"2025-01-20",createdDate:"2025-01-08",marks:50,status:"active",submissions:22,totalStudents:30,avgScore:92.3,difficulty:"Easy",type:"Lab Report",attachments:["lab_format.pdf","cell_images.zip"],instructions:"Follow the lab report format. Include labeled diagrams and observations.",tags:["Laboratory","Microscopy","Scientific Writing"]},{_id:"3",title:"Romeo and Juliet Essay",subject:"English Literature",class:"11-A",description:"Analytical essay on the theme of fate vs. free will in Romeo and Juliet.",dueDate:"2025-01-25",createdDate:"2025-01-10",marks:75,status:"draft",submissions:0,totalStudents:32,avgScore:0,difficulty:"Hard",type:"Essay",attachments:["essay_rubric.pdf","citation_guide.pdf"],instructions:"Write a 1000-word analytical essay. Use MLA format with at least 3 scholarly sources.",tags:["Literature","Critical Analysis","Writing"]},{_id:"4",title:"World War II Timeline Project",subject:"History",class:"10-B",description:"Create a comprehensive timeline of major World War II events with analysis.",dueDate:"2025-01-18",createdDate:"2025-01-03",marks:80,status:"active",submissions:25,totalStudents:28,avgScore:85.7,difficulty:"Medium",type:"Project",attachments:["timeline_template.pptx","resource_links.pdf"],instructions:"Include at least 20 major events. Provide context and analysis for each event.",tags:["Timeline","Research","Historical Analysis"]},{_id:"5",title:"Chemical Bonding Quiz",subject:"Chemistry",class:"11-C",description:"Multiple choice and short answer quiz on ionic and covalent bonding.",dueDate:"2025-01-12",createdDate:"2025-01-07",marks:25,status:"completed",submissions:27,totalStudents:27,avgScore:78.9,difficulty:"Medium",type:"Quiz",attachments:[],instructions:"Complete the quiz in 30 minutes. No external resources allowed.",tags:["Assessment","Chemical Bonding","Quick Test"]},{_id:"6",title:"Python Programming Assignment",subject:"Computer Science",class:"12-A",description:"Implement sorting algorithms and analyze their time complexity.",dueDate:"2025-01-30",createdDate:"2025-01-12",marks:120,status:"active",submissions:15,totalStudents:24,avgScore:95.2,difficulty:"Hard",type:"Programming",attachments:["starter_code.py","test_cases.txt"],instructions:"Implement bubble sort, merge sort, and quick sort. Include time complexity analysis.",tags:["Programming","Algorithms","Time Complexity"]}],QYe=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState(null),[a,i]=F.useState(!1),[o,l]=F.useState("grid"),[c,d]=F.useState("all"),[u,h]=F.useState("all"),[m,f]=F.useState(""),[A,g]=F.useState({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"}),[x,v]=F.useState(Wq),[j,b]=F.useState(Wq),S=Q=>{switch(Q){case"active":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=Q=>{switch(Q){case"Easy":return"text-green-600";case"Medium":return"text-yellow-600";case"Hard":return"text-red-600";default:return"text-gray-600"}},N=(Q,O)=>O>0?Math.round(Q/O*100):0,E=Q=>{const O=new Date,ee=new Date(Q)-O;return Math.ceil(ee/(1e3*60*60*24))},P=Q=>{g({...A,[Q.target.name]:Q.target.value})},_=()=>{const Q=(x.length+1).toString(),O={...A,_id:Q,createdDate:new Date().toISOString().split("T")[0],submissions:0,totalStudents:30,avgScore:0,attachments:[],instructions:"Complete the assignment as per instructions.",tags:["Assignment"]};v([O,...x]),e(!1),g({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"})};F.useEffect(()=>{let Q=x;m&&(Q=Q.filter(O=>O.title.toLowerCase().includes(m.toLowerCase())||O.subject.toLowerCase().includes(m.toLowerCase())||O.class.toLowerCase().includes(m.toLowerCase()))),c!=="all"&&(Q=Q.filter(O=>O.status===c)),u!=="all"&&(Q=Q.filter(O=>O.subject===u)),b(Q)},[x,m,c,u]);const B=[...new Set(x.map(Q=>Q.subject))],k=x.length,M=x.filter(Q=>Q.status==="active").length,T=x.filter(Q=>Q.status==="completed").length,H=x.filter(Q=>Q.status==="draft").length;x.reduce((Q,O)=>Q+O.submissions,0);const L=x.length>0?Math.round(x.reduce((Q,O)=>Q+N(O.submissions,O.totalStudents),0)/x.length):0;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(kr,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Assignment Management"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and track student assignments"})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Assignments"})]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:M}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Currently ongoing"})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Lr,{className:"h-5 w-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Finished assignments"})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(pn,{className:"h-5 w-5 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Work in progress"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(ki,{className:"h-5 w-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Completion"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[L,"%"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Student completion rate"})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(cs,{className:"h-5 w-5 text-purple-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search assignments...",value:m,onChange:Q=>f(Q.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xo,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:c,onChange:Q=>d(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs("select",{value:u,onChange:Q=>h(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Subjects"}),B.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md ${o==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:s.jsxs("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[s.jsx("div",{className:"bg-current rounded-sm"}),s.jsx("div",{className:"bg-current rounded-sm"}),s.jsx("div",{className:"bg-current rounded-sm"}),s.jsx("div",{className:"bg-current rounded-sm"})]})}),s.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md ${o==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:s.jsxs("div",{className:"w-4 h-4 flex flex-col space-y-0.5",children:[s.jsx("div",{className:"bg-current h-0.5 rounded"}),s.jsx("div",{className:"bg-current h-0.5 rounded"}),s.jsx("div",{className:"bg-current h-0.5 rounded"})]})})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Assignment"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Assignments (",j.length,")"]}),j.length>0&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",j.length," of ",k," assignments"]})]}),j.length===0?s.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[s.jsx(kr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria"}),s.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Create First Assignment"]})]}):s.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:j.map(Q=>s.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 ${o==="grid"?"p-6":"p-4"}`,children:s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight",children:Q.title}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>{n(Q),i(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Is,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:s.jsx(md,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${S(Q.status)}`,children:Q.status.charAt(0).toUpperCase()+Q.status.slice(1)}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:Q.subject}),s.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 border border-blue-200",children:["Class ",Q.class]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:Q.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:["Due ",new Date(Q.dueDate).toLocaleDateString()]}),E(Q.dueDate)<=3&&E(Q.dueDate)>0&&s.jsx(Vo,{className:"w-4 h-4 text-orange-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(pn,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:[Q.marks," marks"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsxs("span",{children:[Q.submissions,"/",Q.totalStudents," submitted"]})]}),s.jsx("span",{className:`font-medium ${w(Q.difficulty)}`,children:Q.difficulty})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[Q.attachments.length>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[s.jsx(kr,{className:"w-3 h-3"}),s.jsx("span",{children:Q.attachments.length})]}),s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N(Q.submissions,Q.totalStudents)}%`}})})]})]})]})})},Q._id))})]})]}),t&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($s,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Assignment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new assignment for your students"})]})]}),s.jsx("button",{onClick:()=>e(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Gs,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),_()},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Title *"}),s.jsx("input",{name:"title",value:A.title,onChange:P,type:"text",placeholder:"e.g., Quadratic Equations Problem Set",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsxs("select",{name:"subject",value:A.subject,onChange:P,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select Subject"}),s.jsx("option",{value:"Mathematics",children:"Mathematics"}),s.jsx("option",{value:"Physics",children:"Physics"}),s.jsx("option",{value:"Chemistry",children:"Chemistry"}),s.jsx("option",{value:"Biology",children:"Biology"}),s.jsx("option",{value:"English Literature",children:"English Literature"}),s.jsx("option",{value:"History",children:"History"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class *"}),s.jsx("input",{name:"class",value:A.class,onChange:P,type:"text",placeholder:"e.g., 10-A",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),s.jsx("input",{name:"dueDate",value:A.dueDate,onChange:P,type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks *"}),s.jsx("input",{name:"marks",value:A.marks,onChange:P,type:"number",min:"1",placeholder:"e.g., 100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Type"}),s.jsxs("select",{name:"type",value:A.type,onChange:P,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Assignment",children:"Assignment"}),s.jsx("option",{value:"Quiz",children:"Quiz"}),s.jsx("option",{value:"Project",children:"Project"}),s.jsx("option",{value:"Lab Report",children:"Lab Report"}),s.jsx("option",{value:"Essay",children:"Essay"}),s.jsx("option",{value:"Problem Set",children:"Problem Set"}),s.jsx("option",{value:"Programming",children:"Programming"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),s.jsxs("select",{name:"difficulty",value:A.difficulty,onChange:P,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Easy",children:"Easy"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Hard",children:"Hard"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:A.status,onChange:P,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"active",children:"Active"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:A.description,onChange:P,rows:"4",placeholder:"Provide detailed instructions for the assignment...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Create Assignment"})]})]})})]})}),a&&r&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(kr,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.subject,"  Class ",r.class]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(ki,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:s.jsx(is,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:s.jsx(Cw,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Gs,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assignment Details"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Instructions"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.instructions})]}),r.attachments.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Attachments"}),s.jsx("div",{className:"space-y-2",children:r.attachments.map((Q,O)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[s.jsx(kr,{className:"w-5 h-5 text-blue-500"}),s.jsx("span",{className:"text-gray-700 flex-1",children:Q}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]},O))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((Q,O)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:Q},O))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Assignment Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${S(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Type:"}),s.jsx("span",{className:"text-gray-900",children:r.type})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Difficulty:"}),s.jsx("span",{className:w(r.difficulty),children:r.difficulty})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Total Marks:"}),s.jsx("span",{className:"text-gray-900",children:r.marks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Due Date:"}),s.jsx("span",{className:"text-gray-900",children:new Date(r.dueDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Created:"}),s.jsx("span",{className:"text-gray-900",children:new Date(r.createdDate).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Submission Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-500",children:"Submissions"}),s.jsxs("span",{className:"text-gray-900",children:[r.submissions,"/",r.totalStudents]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N(r.submissions,r.totalStudents)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N(r.submissions,r.totalStudents),"% completion rate"]})]}),r.avgScore>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Average Score:"}),s.jsxs("span",{className:"text-gray-900",children:[r.avgScore.toFixed(1),"%"]})]})]})]})]})]})})]})})]})},zYe=()=>{var _,B;const[t,e]=F.useState(null),[r,n]=F.useState("all"),[a,i]=F.useState(""),[o,l]=F.useState("all"),[c,d]=F.useState("evaluation"),[u,h]=F.useState({marks:"",feedback:"",status:"evaluated"}),[m,f]=F.useState(!1),A=(k,M)=>{h(T=>({...T,[k]:M}))},g=async()=>{if(!t||!u.marks){alert("Please provide marks for the submission");return}f(!0);try{const k={score:parseFloat(u.marks),feedback:u.feedback,status:u.status};if((await fetch(`/api/progress/submission/${t.studentId}/${t.assignmentId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok)e(T=>({...T,marks:k.score,feedback:k.feedback,status:k.status})),h({marks:"",feedback:"",status:"evaluated"}),alert("Evaluation saved successfully and student progress updated!");else throw new Error("Failed to save evaluation")}catch(k){console.error("Error saving evaluation:",k),alert("Failed to save evaluation. Please try again.")}finally{f(!1)}},x=k=>{e(k),h({marks:k.marks||"",feedback:k.feedback||"",status:k.status||"submitted"})},v=[{id:1,title:"Mathematics Assignment 1",subject:"Mathematics",dueDate:"2024-03-10",totalMarks:100},{id:2,title:"Physics Lab Report",subject:"Physics",dueDate:"2024-03-12",totalMarks:50},{id:3,title:"English Essay",subject:"English Literature",dueDate:"2024-03-15",totalMarks:80},{id:4,title:"Chemistry Project",subject:"Chemistry",dueDate:"2024-03-18",totalMarks:100}],j=[{id:1,studentName:"Koushik Bala",studentId:"STU001",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-15",submissionTime:"14:30",status:"submitted",marks:null,feedback:"",attachments:["math_hw1.pdf"],late:!1,wordCount:1200,pages:4},{id:2,studentName:"John Doe",studentId:"STU002",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-14",submissionTime:"09:15",status:"evaluated",marks:85,feedback:"Excellent work! Clear explanations and accurate calculations. Please improve presentation of graphs.",attachments:["math_solution.pdf"],late:!1,wordCount:1500,pages:5},{id:3,studentName:"Emma Johnson",studentId:"STU003",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-16",submissionTime:"23:45",status:"submitted",marks:null,feedback:"",attachments:["algebra_assignment.pdf"],late:!0,wordCount:900,pages:3},{id:4,studentName:"Michael Brown",studentId:"STU004",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-12",submissionTime:"11:20",status:"evaluated",marks:42,feedback:"Good experimental setup description but analysis needs more depth. Include error analysis in future reports.",attachments:["physics_lab.pdf","data_sheet.xlsx"],late:!1,wordCount:2e3,pages:7},{id:5,studentName:"Olivia Davis",studentId:"STU005",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-13",submissionTime:"16:40",status:"evaluated",marks:48,feedback:"Outstanding work! Thorough analysis and excellent presentation. Well done!",attachments:["physics_report.pdf"],late:!1,wordCount:2200,pages:8},{id:6,studentName:"William Wilson",studentId:"STU006",assignmentId:3,assignmentTitle:"English Essay",subject:"English Literature",submissionDate:"2024-03-14",submissionTime:"13:10",status:"submitted",marks:null,feedback:"",attachments:["hamlet_essay.docx"],late:!1,wordCount:1800,pages:6}],b=k=>{switch(k){case"evaluated":return s.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Lr,{className:"w-3 h-3"}),s.jsx("span",{children:"Evaluated"})]});case"submitted":return s.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[s.jsx(Ir,{className:"w-3 h-3"}),s.jsx("span",{children:"Pending"})]});default:return null}},S=(k,M)=>{const T=k/M*100;return T>=90?"text-green-600":T>=80?"text-blue-600":T>=70?"text-yellow-600":T>=60?"text-orange-600":"text-red-600"},w=j.filter(k=>!(r!=="all"&&k.status!==r||o!=="all"&&k.assignmentId!==parseInt(o)||a&&!k.studentName.toLowerCase().includes(a.toLowerCase())&&!k.assignmentTitle.toLowerCase().includes(a.toLowerCase()))),N=j.filter(k=>k.status==="submitted").length,E=j.filter(k=>k.status==="evaluated").length,P=j.filter(k=>k.marks).reduce((k,M)=>k+M.marks,0)/E||0;return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 mb-6 text-white shadow-md",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Assignment Evaluation"}),s.jsx("p",{className:"text-blue-100",children:"Review, grade, and provide feedback on student submissions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-blue-400 px-3 py-1 rounded-full text-sm",children:s.jsxs("span",{className:"font-medium",children:[j.length," Submissions"]})}),s.jsxs("button",{className:"flex items-center space-x-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:[s.jsx(Ew,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Grades"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pending Evaluation"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:N})]}),s.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:s.jsx(dr,{className:"w-5 h-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Evaluated"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:E})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx($de,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Average Score"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:[P.toFixed(1),"%"]})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(cs,{className:"w-5 h-5 text-blue-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students or assignments...",value:a,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full md:w-64"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:r,onChange:k=>n(k.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"submitted",children:"Pending"}),s.jsx("option",{value:"evaluated",children:"Evaluated"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:o,onChange:k=>l(k.target.value),children:[s.jsx("option",{value:"all",children:"All Assignments"}),v.map(k=>s.jsx("option",{value:k.id,children:k.title},k.id))]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:s.jsxs("span",{children:[w.length," results"]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Submissions"})}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:w.length>0?w.map(k=>{const M=v.find(T=>T.id===k.assignmentId);return s.jsxs("div",{onClick:()=>x(k),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===k.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-800",children:k.studentName}),b(k.status)]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.assignmentTitle}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(tr,{className:"w-3 h-3 mr-1"}),k.submissionDate]}),k.marks&&M&&s.jsxs("span",{className:`font-medium ${S(k.marks,M.totalMarks)}`,children:[k.marks,"/",M.totalMarks]})]}),k.late&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})})]},k.id)}):s.jsxs("div",{className:"p-6 text-center text-gray-500",children:[s.jsx(kr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No submissions match your filters"})]})})]}),s.jsx("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"p-6",children:t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Evaluate Submission"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[b(t.status),t.late&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsx("span",{children:"Preview"})]}),s.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Download"})]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8",children:["evaluation","details","statistics"].map(k=>s.jsx("button",{onClick:()=>d(k),className:`py-2 px-1 text-sm font-medium border-b-2 transition-colors ${c===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})}),c==="evaluation"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[s.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Submission Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Student"}),s.jsx("p",{className:"font-medium",children:t.studentName}),s.jsx("p",{className:"text-gray-400 text-xs",children:t.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Submitted On"}),s.jsx("p",{className:"font-medium",children:t.submissionDate}),s.jsx("p",{className:"text-gray-400 text-xs",children:t.submissionTime})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Assignment"}),s.jsx("p",{className:"font-medium",children:t.assignmentTitle}),s.jsx("p",{className:"text-gray-400 text-xs",children:t.subject})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Document"}),s.jsxs("p",{className:"font-medium",children:[t.pages," pages"]}),s.jsxs("p",{className:"text-gray-400 text-xs",children:[t.wordCount," words"]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Attachments"]}),s.jsx("div",{className:"space-y-2",children:t.attachments.map((k,M)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(kr,{className:"w-4 h-4 text-blue-600"})}),s.jsx("span",{className:"text-sm text-gray-700",children:k})]}),s.jsx("button",{className:"text-blue-500 hover:text-blue-600 p-1",children:s.jsx(is,{className:"w-4 h-4"})})]},M))})]}),s.jsxs("form",{className:"space-y-6 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marks",s.jsxs("span",{className:"text-gray-400 ml-1",children:["(out of ",((_=v.find(k=>k.id===t.assignmentId))==null?void 0:_.totalMarks)||100,")"]})]}),s.jsx("input",{type:"number",value:u.marks,onChange:k=>A("marks",k.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter marks",min:"0",max:((B=v.find(k=>k.id===t.assignmentId))==null?void 0:B.totalMarks)||100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:u.status,onChange:k=>A("status",k.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"evaluated",children:"Evaluated"}),s.jsx("option",{value:"submitted",children:"Pending Review"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Feedback",s.jsx("span",{className:"text-gray-400 ml-1",children:"(visible to student)"})]}),s.jsx("textarea",{value:u.feedback,onChange:k=>A("feedback",k.target.value),rows:5,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Provide constructive feedback for the student..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>e(null),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:g,disabled:m,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors font-medium flex items-center space-x-2",children:[s.jsx(qf,{className:"w-4 h-4"}),s.jsx("span",{children:m?"Saving...":"Submit Evaluation"})]})]})]})]}),c==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-5",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-3",children:"Assignment Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700",children:"Due Date"}),s.jsx("p",{className:"font-medium",children:"March 10, 2024"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700",children:"Total Marks"}),s.jsx("p",{className:"font-medium",children:"100"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700",children:"Submission Type"}),s.jsx("p",{className:"font-medium",children:"Individual"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700",children:"Word Limit"}),s.jsx("p",{className:"font-medium",children:"1500 words"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Rubric Assessment"}),s.jsx("div",{className:"space-y-4",children:["Content","Structure","Originality","References"].map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:k}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(M=>s.jsx(ds,{className:"w-4 h-4 text-yellow-400 fill-current"},M))}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"25/25"})]},k))})]})]}),c==="statistics"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Class Performance"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),s.jsx("span",{className:"font-medium",children:"78.5%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Highest Score"}),s.jsx("span",{className:"font-medium text-green-600",children:"94%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Lowest Score"}),s.jsx("span",{className:"font-medium text-red-600",children:"62%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Submission Rate"}),s.jsx("span",{className:"font-medium",children:"92%"})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Grade Distribution"}),s.jsx("div",{className:"space-y-2",children:["A (90-100)","B (80-89)","C (70-79)","D (60-69)","F (<60)"].map((k,M)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 w-16",children:k}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mx-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${75-M*15}%`}})}),s.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[75-M*15,"%"]})]},k))})]})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[s.jsx(kr,{className:"w-16 h-16 mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No submission selected"}),s.jsx("p",{className:"text-center",children:"Select a submission from the list to begin evaluation"})]})})})]})]})},$Ye=()=>{const[t,e]=F.useState(new Date().toISOString().split("T")[0]),[r,n]=F.useState("10-A"),[a,i]=F.useState(""),o=[{id:1,name:"Koushik Bala",rollNumber:"101",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"absent","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"absent","2024-03-04":"present"}},{id:2,name:"John Doe",rollNumber:"102",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"absent","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"absent","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:3,name:"Emma Johnson",rollNumber:"103",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:4,name:"Michael Brown",rollNumber:"104",class:"10-A",avatar:"",attendance:{"2024-03-15":"absent","2024-03-14":"absent","2024-03-13":"present","2024-03-12":"present","2024-03-11":"absent","2024-03-08":"present","2024-03-07":"present","2024-03-06":"absent","2024-03-05":"present","2024-03-04":"present"}},{id:5,name:"Olivia Davis",rollNumber:"105",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"absent","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"absent"}},{id:6,name:"William Wilson",rollNumber:"106",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"absent","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:7,name:"Sophia Miller",rollNumber:"107",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"absent","2024-03-13":"absent","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:8,name:"James Taylor",rollNumber:"108",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"absent","2024-03-07":"present","2024-03-06":"present","2024-03-05":"absent","2024-03-04":"present"}}],[l,c]=F.useState(o.reduce((w,N)=>({...w,[N.id]:N.attendance[t]||"present"}),{})),d=()=>{const w=[];for(let N=6;N>=0;N--){const E=new Date;E.setDate(E.getDate()-N),w.push(E.toISOString().split("T")[0])}return w},u=()=>{const w=[];for(let N=29;N>=0;N--){const E=new Date;E.setDate(E.getDate()-N),w.push(E.toISOString().split("T")[0])}return w},h=(w,N)=>{const E=o.find(P=>P.id===w);return(E==null?void 0:E.attendance[N])||"-"},m=w=>{c(N=>({...N,[w]:N[w]==="present"?"absent":"present"}))},f=()=>{alert("Attendance data saved successfully!")},A=()=>{alert("Exporting attendance data...")},g=o.filter(w=>w.class===r&&w.name.toLowerCase().includes(a.toLowerCase())),x=Object.values(l).filter(w=>w==="present").length,v=Object.values(l).filter(w=>w==="absent").length,j=Math.round(x/(x+v)*100),b=o.map(w=>{const N=u(),E=N.filter(P=>w.attendance[P]==="present").length;return{...w,monthlyRate:Math.round(E/N.length*100)}}),S=g.filter(w=>w.class===r);return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-xl p-6 mb-6 text-white shadow-md",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),s.jsx("p",{className:"text-yellow-100",children:"Track and manage student attendance records"})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:w=>i(w.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsxs("select",{className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none",value:r,onChange:w=>n(w.target.value),children:[s.jsx("option",{value:"10-A",children:"Class 10-A"}),s.jsx("option",{value:"10-B",children:"Class 10-B"}),s.jsx("option",{value:"all",children:"All Classes"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(tr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"date",value:t,onChange:w=>e(w.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 transition-colors shadow-sm",children:[s.jsx(jA,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Attendance"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Today's Attendance - ",new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-3",children:S.length>0?S.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:w.avatar}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",w.rollNumber]})]})]}),s.jsx("button",{onClick:()=>m(w.id),className:`p-2 rounded-full transition-colors ${l[w.id]==="present"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:l[w.id]==="present"?s.jsx(jA,{className:"w-5 h-5"}):s.jsx(Gs,{className:"w-5 h-5"})})]},w.id)):s.jsx("div",{className:"text-center py-6 text-gray-500",children:"No students found in this class."})})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Weekly Overview"]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Student"}),d().map(w=>s.jsxs("th",{className:"px-3 py-2 text-center text-sm font-medium text-gray-500",children:[new Date(w).toLocaleDateString("en-US",{weekday:"short"}),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:new Date(w).getDate()})]},w))]})}),s.jsx("tbody",{children:S.slice(0,4).map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:w.avatar}),w.name]})}),d().map(N=>s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs ${h(w.id,N)==="present"?"bg-green-100 text-green-600":h(w.id,N)==="absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-400"}`,children:h(w.id,N)==="present"?"P":h(w.id,N)==="absent"?"A":"-"})},N))]},w.id))})]})}),S.length>4&&s.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:["+ ",S.length-4," more students"]})]})]}),s.jsxs("div",{className:"lg:col-span-4 grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Today's Attendance"}),s.jsx(pr,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-2",children:s.jsx(pd,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Present"}),s.jsx("p",{className:"text-2xl font-semibold text-green-600",children:x})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-2",children:s.jsx(qhe,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Absent"}),s.jsx("p",{className:"text-2xl font-semibold text-red-600",children:v})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Attendance Rate"}),s.jsx(cs,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-50 rounded-full mb-3",children:s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[j,"%"]})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Today's Rate"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Monthly Average"}),s.jsx(Mn,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-50 rounded-full mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-green-600",children:"92%"})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Class Average"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Trend"}),s.jsx(cs,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-50 rounded-full mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:" 3%"})}),s.jsx("p",{className:"text-sm text-gray-500",children:"vs Last Week"})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Attendees"})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-4",children:b.filter(w=>w.class===r).sort((w,N)=>N.monthlyRate-w.monthlyRate).slice(0,5).map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.avatar}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",w.rollNumber]})]})]}),s.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[w.monthlyRate,"%"]})]},w.id))})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Needing Attention"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[b.filter(w=>w.class===r&&w.monthlyRate<85).sort((w,N)=>w.monthlyRate-N.monthlyRate).slice(0,5).map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.avatar}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",w.rollNumber]})]})]}),s.jsxs("span",{className:"text-lg font-semibold text-red-600",children:[w.monthlyRate,"%"]})]},w.id)),b.filter(w=>w.class===r&&w.monthlyRate<85).length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"All students have good attendance records!"})]})})]})]})]})},GYe=()=>{const[t,e]=F.useState(new Date),[r]=F.useState(5);F.useEffect(()=>{const m=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(m)},[]);const n=m=>{const f={weekday:"long",year:"numeric",month:"long",day:"numeric"},A=m.toLocaleDateString("en-US",f),g=m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return{dateStr:A,timeStr:g}},{dateStr:a,timeStr:i}=n(t),o=[{label:"Total Students",value:"184",icon:pr,color:"blue",change:"+12 this month",trend:"up"},{label:"Attendance Today",value:"94.2%",icon:Ya,color:"green",change:"+2.5% from yesterday",trend:"up"},{label:"Pending Evaluations",value:"23",icon:kr,color:"orange",change:"5 urgent",trend:"neutral"},{label:"Upcoming Events",value:"7",icon:tr,color:"purple",change:"2 today",trend:"neutral"}],l=[{id:1,type:"assignment",message:"12 new submissions for Mathematics Assignment",time:"15 minutes ago",icon:kr,color:"blue"},{id:2,type:"meeting",message:"Parent-Teacher meeting scheduled with Sarah's parents",time:"45 minutes ago",icon:tr,color:"purple"},{id:3,type:"attendance",message:"Attendance marked for Grade 10-B (92% present)",time:"2 hours ago",icon:Bb,color:"green"},{id:4,type:"announcement",message:"School holiday announced for next Friday",time:"3 hours ago",icon:Kn,color:"yellow"},{id:5,type:"performance",message:"Emma Johnson scored 98% in Physics test",time:"5 hours ago",icon:pn,color:"green"}],c=[{id:1,subject:"Mathematics",class:"Grade 10-A",time:"09:00 - 09:45",room:"Room 302",status:"upcoming"},{id:2,subject:"Physics",class:"Grade 11-B",time:"10:00 - 10:45",room:"Lab 101",status:"upcoming"},{id:3,subject:"Mathematics",class:"Grade 9-C",time:"11:30 - 12:15",room:"Room 302",status:"upcoming"},{id:4,subject:"Consultation",class:"Grade 12-A",time:"14:00 - 14:30",room:"Staff Room",status:"upcoming"}],d=[{subject:"Mathematics",average:87,trend:"up"},{subject:"Physics",average:92,trend:"up"},{subject:"Chemistry",average:78,trend:"down"},{subject:"Biology",average:85,trend:"neutral"}],u=[{id:1,label:"Mark Attendance",description:"Take today's attendance",icon:Bb,color:"green"},{id:2,label:"Create Assignment",description:"New homework or project",icon:kr,color:"blue"},{id:3,label:"Schedule Meeting",description:"With parents or staff",icon:tr,color:"purple"},{id:4,label:"Post Announcement",description:"Class updates or news",icon:Kn,color:"yellow"},{id:5,label:"View Progress",description:"Student performance tracking",icon:Mn,color:"purple"},{id:6,label:"Identify Weak Students",description:"AI-powered intervention",icon:Vo,color:"red"}],h=[{name:"Emma Johnson",grade:"10-A",score:98,improvement:"+5%"},{name:"Michael Brown",grade:"11-B",score:96,improvement:"+3%"},{name:"Sophia Williams",grade:"9-C",score:94,improvement:"+7%"},{name:"James Wilson",grade:"12-A",score:92,improvement:"+2%"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 mb-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Good Morning, Dr. Roomit Beed"}),s.jsxs("p",{className:"text-blue-100",children:["Here's your teaching overview for ",a]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsxs("button",{className:"bg-blue-500 hover:bg-blue-400 p-3 rounded-lg transition-colors",children:[s.jsx(Kn,{className:"w-5 h-5"}),r>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:r})]})}),s.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex flex-col items-center space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-semibold",children:i})]}),s.jsx("span",{className:"text-xs text-blue-100",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:o.map((m,f)=>{const A=m.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-${m.color}-100`,children:s.jsx(A,{className:`w-6 h-6 text-${m.color}-600`})}),m.trend==="up"&&s.jsx(cs,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:m.label}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.value}),s.jsx("p",{className:`text-xs mt-2 ${m.trend==="up"?"text-green-600":"text-gray-500"}`,children:m.change})]})]},f)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-5 border-b border-gray-100",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(dr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Today's Schedule"]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-800",children:m.subject}),s.jsxs("p",{className:"text-sm text-gray-500",children:[m.class,"  ",m.room]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-gray-800",children:m.time}),s.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full mt-1",children:m.status})]})]},m.id))}),s.jsxs("button",{className:"w-full mt-4 flex items-center justify-center space-x-2 py-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[s.jsx("span",{children:"View Full Schedule"}),s.jsx(aa,{className:"w-4 h-4"})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Kn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activities"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-4",children:l.map(m=>{const f=m.icon;return s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${m.color}-100`,children:s.jsx(f,{className:`w-5 h-5 text-${m.color}-600`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-800 font-medium",children:m.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.time})]}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Is,{className:"w-4 h-4"})})]},m.id)})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-5 border-b border-gray-100",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Bb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Quick Actions"]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(m=>{const f=m.icon,A=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`p-3 rounded-xl bg-${m.color}-100 mb-3 group-hover:scale-110 transition-transform`,children:s.jsx(f,{className:`w-6 h-6 text-${m.color}-600`})}),s.jsx("span",{className:"text-sm font-medium text-gray-800 text-center",children:m.label}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:m.description})]});return m.id===5?s.jsx(Qg,{to:"/teachers/progress",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsx(A,{})},m.id):m.id===6?s.jsx(Qg,{to:"/teachers/weak-students",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsx(A,{})},m.id):s.jsx("button",{className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:s.jsx(A,{})},m.id)})})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Performance Overview"]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{className:"text-sm border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:"This Month"}),s.jsx("option",{children:"Last Month"}),s.jsx("option",{children:"This Semester"})]})})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Subject Averages"}),s.jsx("div",{className:"space-y-4",children:d.map((m,f)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:m.subject}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${m.average}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8",children:[m.average,"%"]}),m.trend==="up"?s.jsx(cs,{className:"w-4 h-4 text-green-500"}):m.trend==="down"?s.jsx(cs,{className:"w-4 h-4 text-red-500 transform rotate-180"}):null]})]},f))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Top Students"}),s.jsx("div",{className:"space-y-3",children:h.map((m,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:m.name}),s.jsx("p",{className:"text-xs text-gray-500",children:m.grade})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[m.score,"%"]}),s.jsx("p",{className:"text-xs text-green-600",children:m.improvement})]})]},f))})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[s.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upcoming Deadlines"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-red-800",children:"Urgent"}),s.jsx("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded-full",children:"Tomorrow"})]}),s.jsx("h3",{className:"font-medium text-red-900",children:"Physics Project Submission"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Grade 11-B  24 submissions pending"})]}),s.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Upcoming"}),s.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"2 days"})]}),s.jsx("h3",{className:"font-medium text-orange-900",children:"Math Quiz Papers"}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Grade 10-A  Evaluation needed"})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Planning"}),s.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:"5 days"})]}),s.jsx("h3",{className:"font-medium text-blue-900",children:"Term Exam Preparation"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Syllabus completion required"})]})]})})]})]})},qq=[{id:1,subject:"Mathematics",title:"Introduction to Algebra",class:"Grade 8",section:"A",chapter:"Chapter 1",status:"Published",lastUpdated:"2 days ago",duration:"45 mins",objectives:["Understand basic algebraic concepts","Solve simple equations","Apply algebraic principles"],resources:["Textbook Chapter 1","Algebra worksheets","Online practice problems"],activities:["Group problem-solving","Equation practice","Real-world applications"]},{id:2,subject:"Physics",title:"Newton's Laws of Motion",class:"Grade 10",section:"B",chapter:"Chapter 3",status:"Draft",lastUpdated:"1 week ago",duration:"60 mins",objectives:["Explain Newton's three laws","Apply laws to real-world scenarios","Calculate force and motion"],resources:["Physics textbook","Motion simulation software","Experiment materials"],activities:["Demonstrations","Group experiments","Problem-solving sessions"]},{id:3,subject:"English Literature",title:"Shakespeare's Hamlet",class:"Grade 12",section:"A",chapter:"Act 1",status:"Published",lastUpdated:"3 days ago",duration:"90 mins",objectives:["Analyze character motivations","Understand Elizabethan context","Interpret key soliloquies"],resources:["Hamlet text","Historical context materials","Film adaptations"],activities:["Role reading","Group discussions","Literary analysis writing"]},{id:4,subject:"Chemistry",title:"Organic Compounds",class:"Grade 11",section:"C",chapter:"Chapter 5",status:"Published",lastUpdated:"5 days ago",duration:"75 mins",objectives:["Identify organic functional groups","Name simple organic compounds","Understand isomerism"],resources:["Molecular model kits","Textbook Chapter 5","Nomenclature guide"],activities:["Molecular modeling","Nomenclature practice","Group presentations"]},{id:5,subject:"History",title:"World War II",class:"Grade 9",section:"A",chapter:"Chapter 8",status:"Draft",lastUpdated:"1 day ago",duration:"50 mins",objectives:["Identify key events of WWII","Understand geopolitical causes","Analyze consequences"],resources:["Historical documents","Maps and timelines","Documentary clips"],activities:["Timeline creation","Document analysis","Debate on key decisions"]},{id:6,subject:"Biology",title:"Cell Structure",class:"Grade 10",section:"A",chapter:"Chapter 2",status:"Published",lastUpdated:"4 days ago",duration:"55 mins",objectives:["Identify cell organelles","Understand cellular functions","Compare plant and animal cells"],resources:["Microscopes and slides","Cell diagrams","Interactive cell models"],activities:["Microscope work","Cell drawing","Organelle function matching"]}],Kq=t=>t==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",Xq=t=>({Mathematics:"bg-blue-100 text-blue-800",Physics:"bg-purple-100 text-purple-800","English Literature":"bg-red-100 text-red-800",Chemistry:"bg-indigo-100 text-indigo-800",History:"bg-amber-100 text-amber-800",Biology:"bg-emerald-100 text-emerald-800"})[t]||"bg-gray-100 text-gray-800",VYe=()=>{const[t,e]=F.useState(qq),[r,n]=F.useState(!1),[a,i]=F.useState("grid"),[o,l]=F.useState(""),[c,d]=F.useState("All Subjects"),[u,h]=F.useState("All Statuses"),[m,f]=F.useState({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),[A,g]=F.useState(qq[0]),[x,v]=F.useState(!0),[j,b]=F.useState(!1),[S,w]=F.useState({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),N=(L,Q)=>{f(O=>({...O,[L]:Q}))},E=(L,Q)=>{w(O=>({...O,[L]:Q}))},P=L=>{if(L.preventDefault(),!_)return;const Q={id:Math.max(...t.map(O=>O.id),0)+1,title:m.title||`New ${m.subject} Lesson`,subject:m.subject,class:m.class,section:m.section,chapter:m.chapter,duration:m.duration||"45 mins",status:"Draft",lastUpdated:"Just now",date:m.date||new Date().toISOString().split("T")[0],objectives:["Learning objectives will be added here"],resources:["Teaching resources will be listed here"],activities:["Classroom activities will be detailed here"]};e(O=>[Q,...O]),g(Q),f({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),n(!1)},_=m.class&&m.section&&m.subject&&m.chapter,B=async L=>{if(L.preventDefault(),!!k)try{const Q=await fetch("/api/course/teacher/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),O=await Q.json();Q.ok?(w({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),b(!1),alert(`Course "${S.courseName}" created successfully!`)):alert(`Error: ${O.error}`)}catch(Q){console.error("Error creating course:",Q),alert("Failed to create course. Please try again.")}},k=S.courseName&&S.courseCode&&S.department,M=t.filter(L=>{const Q=L.title.toLowerCase().includes(o.toLowerCase())||L.subject.toLowerCase().includes(o.toLowerCase()),O=c==="All Subjects"||L.subject===c,V=u==="All Statuses"||L.status===u;return Q&&O&&V}),T=["All Subjects",...new Set(t.map(L=>L.subject))],H=["All Statuses","Published","Draft"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Qr,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Lesson Plan Manager"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and organize your lesson plans"})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-1",children:[s.jsx(As,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Prof. Johnson"})]})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"New Lesson Plan"}),s.jsx(mn,{className:"w-4 h-4"})]}),r&&s.jsxs("div",{className:"absolute left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-xl p-6 z-10 w-96",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Create New Lesson Plan"}),s.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Gs,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),s.jsxs("select",{value:m.subject,onChange:L=>N("subject",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select Subject"}),T.filter(L=>L!=="All Subjects").map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",placeholder:"Lesson title",value:m.title,onChange:L=>N("title",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),s.jsx("input",{type:"text",placeholder:"Grade level",value:m.class,onChange:L=>N("class",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),s.jsx("input",{type:"text",placeholder:"Section",value:m.section,onChange:L=>N("section",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chapter *"}),s.jsx("input",{type:"text",placeholder:"Chapter",value:m.chapter,onChange:L=>N("chapter",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),s.jsx("input",{type:"text",placeholder:"e.g., 45 mins",value:m.duration,onChange:L=>N("duration",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-2",children:[s.jsx("button",{type:"submit",disabled:!_,className:`px-4 py-2 rounded-lg text-sm font-medium ${_?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Lesson Plan"}),s.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancel"})]})]})]})]}),s.jsxs("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Course"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ds,{className:"h-4 w-4 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search lesson plans...",className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64",value:o,onChange:L=>l(L.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",value:c,onChange:L=>d(L.target.value),children:T.map(L=>s.jsx("option",{children:L},L))})]}),s.jsx("div",{className:"relative",children:s.jsx("select",{className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:u,onChange:L=>h(L.target.value),children:H.map(L=>s.jsx("option",{children:L},L))})})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>i("grid"),className:`p-2 rounded-lg ${a==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(o4,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-lg ${a==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(l4,{className:"w-4 h-4"})})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Plans"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.length})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(kr,{className:"w-5 h-5 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(L=>L.status==="Published").length})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(a5,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Drafts"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(L=>L.status==="Draft").length})]}),s.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:s.jsx(ki,{className:"w-5 h-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:T.length-1})]}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:s.jsx(Qr,{className:"w-5 h-5 text-purple-600"})})]})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:`${x?"lg:w-2/5":"w-full"} bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden`,children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[s.jsxs("h2",{className:"font-semibold text-gray-800",children:["Lesson Plans (",M.length,")"]}),s.jsx("button",{onClick:()=>v(!x),className:"lg:hidden text-blue-600 text-sm font-medium",children:x?"Hide Details":"Show Details"})]}),s.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:M.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:M.map(L=>s.jsx("div",{className:`p-4 cursor-pointer transition-colors ${(A==null?void 0:A.id)===L.id?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>g(L),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Xq(L.subject)}`,children:L.subject}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Kq(L.status)}`,children:L.status})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:L.title}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-3",children:[s.jsxs("span",{children:[L.class," - Section ",L.section]}),s.jsx("span",{children:""}),s.jsx("span",{children:L.chapter})]}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400 space-x-3",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(dr,{className:"w-3 h-3 mr-1"}),L.duration]}),s.jsxs("span",{children:["Updated ",L.lastUpdated]})]})]}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:s.jsx(md,{className:"w-4 h-4"})})]})},L.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(kr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-gray-500 font-medium",children:"No lesson plans found"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search or filters"})]})})]}),x&&s.jsxs("div",{className:"lg:w-3/5 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[s.jsx("h2",{className:"font-semibold text-gray-800",children:"Lesson Plan Details"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-600 rounded-lg hover:bg-blue-50",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-green-600 rounded-lg hover:bg-green-50",children:s.jsx(is,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-purple-600 rounded-lg hover:bg-purple-50",children:s.jsx(yhe,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-lg hover:bg-red-50",children:s.jsx(Ni,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:A?s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-start mb-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Kq(A.status)}`,children:A.status}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Xq(A.subject)}`,children:A.subject})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:A.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),A.class," - Section ",A.section]}),s.jsx("span",{children:""}),s.jsx("span",{children:A.chapter}),s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),A.duration]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[s.jsx(a5,{className:"w-4 h-4 mr-2"}),"Learning Objectives"]}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700",children:A.objectives.map((L,Q)=>s.jsx("li",{children:L},Q))})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Teaching Resources"]}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:A.resources.map((L,Q)=>s.jsx("li",{children:L},Q))})]})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[s.jsxs("h3",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Classroom Activities"]}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-yellow-700",children:A.activities.map((L,Q)=>s.jsx("li",{children:L},Q))})]}),s.jsxs("div",{className:"text-xs text-gray-400 flex justify-between items-center",children:[s.jsxs("span",{children:["Last updated: ",A.lastUpdated]}),s.jsx("span",{children:"Created by: Prof. Johnson"})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[s.jsx(kr,{className:"w-12 h-12 mb-3"}),s.jsx("p",{children:"Select a lesson plan to view details"})]})})]})]})]}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Yn,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Course"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new course with all required details"})]})]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 p-1",children:s.jsx(Gs,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:B,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name *"}),s.jsx("input",{type:"text",placeholder:"e.g., Advanced Mathematics",value:S.courseName,onChange:L=>E("courseName",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Code *"}),s.jsx("input",{type:"text",placeholder:"e.g., MATH401",value:S.courseCode,onChange:L=>E("courseCode",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),s.jsxs("select",{value:S.department,onChange:L=>E("department",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select Department"}),s.jsx("option",{value:"Mathematics",children:"Mathematics"}),s.jsx("option",{value:"Physics",children:"Physics"}),s.jsx("option",{value:"Chemistry",children:"Chemistry"}),s.jsx("option",{value:"Biology",children:"Biology"}),s.jsx("option",{value:"English",children:"English"}),s.jsx("option",{value:"History",children:"History"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"}),s.jsx("option",{value:"Economics",children:"Economics"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credits"}),s.jsx("input",{type:"number",placeholder:"e.g., 3",min:"1",max:"6",value:S.credits,onChange:L=>E("credits",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),s.jsxs("select",{value:S.duration,onChange:L=>E("duration",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Duration"}),s.jsx("option",{value:"1 Semester",children:"1 Semester"}),s.jsx("option",{value:"2 Semesters",children:"2 Semesters"}),s.jsx("option",{value:"1 Year",children:"1 Year"}),s.jsx("option",{value:"Summer Course",children:"Summer Course"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Description"}),s.jsx("textarea",{rows:"4",placeholder:"Provide a detailed description of the course objectives, content, and learning outcomes...",value:S.description,onChange:L=>E("description",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisites"}),s.jsx("input",{type:"text",placeholder:"e.g., MATH301, PHYS201 (separate multiple courses with commas)",value:S.prerequisites,onChange:L=>E("prerequisites",L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!k,className:`px-6 py-3 rounded-lg font-medium transition-colors ${k?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Course"})]})]})]})})]})},qae="eec_teacher_chat_v2",tT=[{id:"class-10a",name:"Class 10-A",type:"class",unread:2,lastMessage:"Yes, submit by 6 PM.",lastTime:Date.now()-34e5},{id:"parent-emma",name:"Emma's Parents",type:"parent",unread:0,lastMessage:"Can we reschedule the PTM?",lastTime:Date.now()-72e5},{id:"staff-math",name:"Math Department",type:"staff",unread:1,lastMessage:"Department meeting at 3 PM.",lastTime:Date.now()-54e5},{id:"class-9b",name:"Class 9-B",type:"class",unread:0,lastMessage:"Homework submitted",lastTime:Date.now()-864e5},{id:"parent-liam",name:"Liam's Father",type:"parent",unread:3,lastMessage:"About the science project...",lastTime:Date.now()-108e5}],rT={"class-10a":[{id:"m1",sender:"student",text:"Sir, is the assignment due today?",ts:Date.now()-36e5},{id:"m2",sender:"teacher",text:"Yes, submit by 6 PM.",ts:Date.now()-34e5}],"parent-emma":[{id:"m3",sender:"parent",text:"Can we reschedule the PTM?",ts:Date.now()-72e5}],"staff-math":[{id:"m4",sender:"staff",text:"Department meeting at 3 PM.",ts:Date.now()-54e5}],"class-9b":[{id:"m5",sender:"teacher",text:"Remember to submit your homework by Friday",ts:Date.now()-864e5},{id:"m6",sender:"student",text:"Homework submitted",ts:Date.now()-832e5}],"parent-liam":[{id:"m7",sender:"parent",text:"Hello, I wanted to discuss Liam's science project",ts:Date.now()-108e5},{id:"m8",sender:"parent",text:"He seems to be struggling with the research part",ts:Date.now()-107e5},{id:"m9",sender:"parent",text:"Could you provide some guidance?",ts:Date.now()-106e5}]};function WYe(){var t;try{const e=localStorage.getItem(qae);if(!e)return{conversations:tT,messages:rT};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:tT,messages:r.messages||rT}}catch{return{conversations:tT,messages:rT}}}function qYe(t){try{localStorage.setItem(qae,JSON.stringify(t))}catch{}}const KYe=({mine:t,text:e,ts:r,senderType:n})=>s.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[!t&&n!=="teacher"&&s.jsx("div",{className:"text-xs font-medium mb-1 opacity-80",children:n==="student"?"Student":n==="parent"?"Parent":"Staff"}),s.jsx("div",{className:"whitespace-pre-wrap",children:e}),s.jsx("div",{className:`text-xs mt-1 ${t?"text-blue-100":"text-gray-500"} text-right`,children:new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),XYe=({conversation:t,isActive:e,onClick:r,hasUnread:n})=>{const a=()=>{switch(t.type){case"class":return s.jsx(Qr,{className:"h-4 w-4 text-blue-600"});case"parent":return s.jsx(pd,{className:"h-4 w-4 text-green-600"});case"staff":return s.jsx(pr,{className:"h-4 w-4 text-purple-600"});default:return s.jsx(kn,{className:"h-4 w-4 text-gray-600"})}},i=()=>{switch(t.type){case"class":return"bg-blue-100 text-blue-800";case"parent":return"bg-green-100 text-green-800";case"staff":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("button",{onClick:r,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-blue-50":"hover:bg-gray-50"} border-b`,children:[s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${e?"bg-blue-100":"bg-gray-100"}`,children:a()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),n&&s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-500 text-white text-xs",children:t.unread})]}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i()}`,children:t.type}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.lastTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})},YYe=()=>{var A;const[{conversations:t,messages:e},r]=F.useState(WYe),[n,a]=F.useState(((A=t[0])==null?void 0:A.id)||null),[i,o]=F.useState(""),[l,c]=F.useState(""),d=F.useRef(null),u=F.useMemo(()=>e[n]||[],[e,n]),h=F.useMemo(()=>t.find(g=>g.id===n),[t,n]);F.useEffect(()=>{qYe({conversations:t,messages:e})},[t,e]),F.useEffect(()=>{n&&r(g=>({...g,conversations:g.conversations.map(x=>x.id===n?{...x,unread:0}:x)}))},[n]);const m=F.useMemo(()=>{const g=i.trim().toLowerCase();return g?t.filter(x=>x.name.toLowerCase().includes(g)||x.lastMessage.toLowerCase().includes(g)):t},[t,i]),f=()=>{const g=l.trim();if(!g||!n)return;const x={id:crypto.randomUUID(),sender:"teacher",text:g,ts:Date.now()};r(v=>({conversations:v.conversations.map(j=>j.id===n?{...j,lastMessage:g,lastTime:Date.now()}:j),messages:{...v.messages,[n]:[...v.messages[n]||[],x]}})),c("")};return s.jsxs("div",{className:"h-full min-h-screen bg-gray-50 flex",children:[s.jsxs("div",{className:"w-80 bg-white border-r flex flex-col h-screen",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(kn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-gray-800",children:"Teacher Chat"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Messages"})]})]}),s.jsx("button",{className:"h-8 w-8 rounded-full hover:bg-gray-100 flex items-center justify-center",children:s.jsx(md,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-gray-500"}),s.jsx("input",{value:i,onChange:g=>o(g.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),m.map(g=>s.jsx(XYe,{conversation:g,isActive:n===g.id,onClick:()=>a(g.id),hasUnread:g.unread>0},g.id)),m.length===0&&s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),s.jsx("div",{className:"p-4 border-t bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-200 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-800",children:"JD"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"John Doe"})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Teacher"})]})})]}),s.jsx("div",{className:"flex-1 flex flex-col h-screen",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:h.type==="class"?s.jsx(Qr,{className:"h-5 w-5 text-blue-600"}):h.type==="parent"?s.jsx(pd,{className:"h-5 w-5 text-green-600"}):s.jsx(pr,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:h.type})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:s.jsx(tr,{className:"h-5 w-5 text-gray-600"})}),s.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:s.jsx(md,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsx("div",{ref:d,className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:u.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center text-xs text-gray-500 mb-6",children:"Today"}),u.map(g=>s.jsx(KYe,{mine:g.sender==="teacher",senderType:g.sender,text:g.text,ts:g.ts},g.id))]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(kn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),s.jsx("p",{className:"font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),s.jsx("div",{className:"border-t bg-white p-4",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl flex items-end",children:[s.jsxs("div",{className:"flex items-center px-3 py-2",children:[s.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:s.jsx(lI,{className:"h-4 w-4 text-gray-600"})}),s.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200 ml-1",children:s.jsx(tr,{className:"h-4 w-4 text-gray-600"})})]}),s.jsx("textarea",{rows:1,value:l,onChange:g=>c(g.target.value),onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-0 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),s.jsx("div",{className:"flex items-center px-3 py-2",children:s.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:s.jsx(Yu,{className:"h-4 w-4 text-gray-600"})})})]}),s.jsx("button",{onClick:f,disabled:!l.trim(),className:"h-12 w-12 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(qf,{className:"h-5 w-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(kn,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Teacher Chat"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with students, parents, or staff members."}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Qr,{className:"h-5 w-5 text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Classes"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(pd,{className:"h-5 w-5 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parents"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[s.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(pr,{className:"h-5 w-5 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Staff"})]})]})]})})})]})},JYe=()=>{var S,w,N,E,P,_,B,k,M;const[t,e]=F.useState([]),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState({grade:"",section:"",subject:""}),[c,d]=F.useState(""),[u,h]=F.useState(!0),[m,f]=F.useState("overview");F.useEffect(()=>{A(),g()},[o]);const A=async()=>{try{h(!0);const T=await fetch(`/api/progress/students?${new URLSearchParams(o)}`);if(T.ok){const H=await T.json();e(H)}else e(Yq)}catch(T){console.error("Error fetching students:",T),e(Yq)}finally{h(!1)}},g=async()=>{try{const T=await fetch(`/api/progress/analytics?${new URLSearchParams(o)}`);if(T.ok){const H=await T.json();n(H)}else n(Jq)}catch(T){console.error("Error fetching analytics:",T),n(Jq)}},x=t.filter(T=>{var H,L,Q,O;return((L=(H=T.studentId)==null?void 0:H.name)==null?void 0:L.toLowerCase().includes(c.toLowerCase()))||((O=(Q=T.studentId)==null?void 0:Q.roll)==null?void 0:O.toString().includes(c))}),v=T=>({"A+":"text-green-600 bg-green-100",A:"text-green-600 bg-green-100","B+":"text-blue-600 bg-blue-100",B:"text-blue-600 bg-blue-100","C+":"text-yellow-600 bg-yellow-100",C:"text-yellow-600 bg-yellow-100",D:"text-orange-600 bg-orange-100",F:"text-red-600 bg-red-100"})[T]||"text-gray-600 bg-gray-100",j=T=>{switch(T){case"improving":return s.jsx(cs,{className:"w-4 h-4 text-green-500"});case"declining":return s.jsx(uI,{className:"w-4 h-4 text-red-500"});default:return s.jsx(Rue,{className:"w-4 h-4 text-gray-500"})}},b=T=>T>=90?"text-green-600":T>=80?"text-blue-600":T>=70?"text-yellow-600":T>=60?"text-orange-600":"text-red-600";return u?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading student progress..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Progress Tracking"}),s.jsx("p",{className:"text-purple-100",children:"Monitor and analyze student performance across subjects"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{className:"bg-purple-500 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-600 transition-colors",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Report"})]})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:c,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:o.grade,onChange:T=>l({...o,grade:T.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Grades"}),s.jsx("option",{value:"9",children:"Grade 9"}),s.jsx("option",{value:"10",children:"Grade 10"}),s.jsx("option",{value:"11",children:"Grade 11"}),s.jsx("option",{value:"12",children:"Grade 12"})]}),s.jsxs("select",{value:o.section,onChange:T=>l({...o,section:T.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Sections"}),s.jsx("option",{value:"A",children:"Section A"}),s.jsx("option",{value:"B",children:"Section B"}),s.jsx("option",{value:"C",children:"Section C"})]}),s.jsxs("select",{value:o.subject,onChange:T=>l({...o,subject:T.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Subjects"}),s.jsx("option",{value:"Mathematics",children:"Mathematics"}),s.jsx("option",{value:"Physics",children:"Physics"}),s.jsx("option",{value:"Chemistry",children:"Chemistry"}),s.jsx("option",{value:"Biology",children:"Biology"})]})]})}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:s.jsx(pr,{className:"w-6 h-6 text-blue-600"})}),s.jsx(cs,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:r.totalStudents})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:s.jsx(jn,{className:"w-6 h-6 text-green-600"})}),s.jsx(cs,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Average Score"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[r.averageScore,"%"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:s.jsx(tr,{className:"w-6 h-6 text-yellow-600"})}),s.jsx(cs,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Attendance Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[r.attendanceRate,"%"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:s.jsx(pn,{className:"w-6 h-6 text-purple-600"})}),s.jsx(cs,{className:"w-5 h-5 text-green-500"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Improving Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((S=r.improvementTrends)==null?void 0:S.improving)||0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Mn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Performance"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>f("overview"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="overview"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Overview"}),s.jsx("button",{onClick:()=>f("detailed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="detailed"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Detailed View"})]})]})}),s.jsx("div",{className:"p-6",children:m==="overview"?s.jsx("div",{className:"space-y-4",children:x.map(T=>{var L,Q,O,V,ee,Y,re;const H=((L=T.progressMetrics)==null?void 0:L.length)>0?Math.round(T.progressMetrics.reduce((D,G)=>D+G.averageScore,0)/T.progressMetrics.length):0;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:((O=(Q=T.studentId)==null?void 0:Q.name)==null?void 0:O.charAt(0))||"S"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:((V=T.studentId)==null?void 0:V.name)||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(ee=T.studentId)==null?void 0:ee.grade,"-",(Y=T.studentId)==null?void 0:Y.section,"  Roll ",(re=T.studentId)==null?void 0:re.roll]})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Overall Score"}),s.jsxs("p",{className:`font-bold ${b(H)}`,children:[H,"%"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Grade"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(T.overallGrade)}`,children:T.overallGrade})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Trend"}),s.jsx("div",{className:"flex justify-center",children:j(T.improvementTrend)})]}),s.jsxs("button",{onClick:()=>i(T),className:"text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]})]})]},T._id)})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Student"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Mathematics"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Physics"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Chemistry"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Attendance"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Grade"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),s.jsx("tbody",{children:x.map(T=>{var H,L,Q,O,V,ee,Y,re,D,G,z,K,oe,ue,ge,pe,ye,Pe;return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold",children:((L=(H=T.studentId)==null?void 0:H.name)==null?void 0:L.charAt(0))||"S"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:((Q=T.studentId)==null?void 0:Q.name)||"Unknown"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Roll ",(O=T.studentId)==null?void 0:O.roll]})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`font-medium ${b(((ee=(V=T.progressMetrics)==null?void 0:V.find(le=>le.subject==="Mathematics"))==null?void 0:ee.averageScore)||0)}`,children:[((re=(Y=T.progressMetrics)==null?void 0:Y.find(le=>le.subject==="Mathematics"))==null?void 0:re.averageScore)||0,"%"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`font-medium ${b(((G=(D=T.progressMetrics)==null?void 0:D.find(le=>le.subject==="Physics"))==null?void 0:G.averageScore)||0)}`,children:[((K=(z=T.progressMetrics)==null?void 0:z.find(le=>le.subject==="Physics"))==null?void 0:K.averageScore)||0,"%"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`font-medium ${b(((ue=(oe=T.progressMetrics)==null?void 0:oe.find(le=>le.subject==="Chemistry"))==null?void 0:ue.averageScore)||0)}`,children:[((pe=(ge=T.progressMetrics)==null?void 0:ge.find(le=>le.subject==="Chemistry"))==null?void 0:pe.averageScore)||0,"%"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:"font-medium text-gray-700",children:[Math.round((((ye=T.progressMetrics)==null?void 0:ye.reduce((le,lt)=>le+lt.attendanceRate,0))||0)/(((Pe=T.progressMetrics)==null?void 0:Pe.length)||1)),"%"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(T.overallGrade)}`,children:T.overallGrade})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("button",{onClick:()=>i(T),className:"text-blue-600 hover:text-blue-700",children:s.jsx(Is,{className:"w-4 h-4"})})})]},T._id)})})]})})})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-xl font-semibold",children:((N=(w=a.studentId)==null?void 0:w.name)==null?void 0:N.charAt(0))||"S"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(E=a.studentId)==null?void 0:E.name}),s.jsxs("p",{className:"text-gray-600",children:["Grade ",(P=a.studentId)==null?void 0:P.grade,"-",(_=a.studentId)==null?void 0:_.section,"  Roll ",(B=a.studentId)==null?void 0:B.roll]})]})]}),s.jsx("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Subject Performance"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(k=a.progressMetrics)==null?void 0:k.map((T,H)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:T.subject}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),s.jsxs("span",{className:`font-medium ${b(T.averageScore)}`,children:[T.averageScore,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Assignments"}),s.jsxs("span",{className:"text-sm text-gray-800",children:[T.completedAssignments,"/",T.totalAssignments]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Attendance"}),s.jsxs("span",{className:"text-sm text-gray-800",children:[T.attendanceRate,"%"]})]})]})]},H))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Submissions"}),s.jsx("div",{className:"space-y-3",children:(M=a.submissions)==null?void 0:M.slice(0,5).map((T,H)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:s.jsx(kr,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-800",children:["Assignment ",H+1]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted ",new Date(T.submittedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${b(T.score||0)}`,children:[T.score||0,"%"]}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${T.status==="graded"?"bg-green-100 text-green-800":T.status==="submitted"?"bg-blue-100 text-blue-800":T.status==="late"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:T.status})]})]},H))})]})]})]})})]})},Yq=[{_id:"1",studentId:{name:"Emma Johnson",grade:"10",section:"A",roll:1},overallGrade:"A+",improvementTrend:"improving",progressMetrics:[{subject:"Mathematics",averageScore:95,attendanceRate:98,totalAssignments:10,completedAssignments:10},{subject:"Physics",averageScore:92,attendanceRate:96,totalAssignments:8,completedAssignments:8},{subject:"Chemistry",averageScore:88,attendanceRate:94,totalAssignments:9,completedAssignments:8}],submissions:[{submittedAt:"2024-01-15",score:95,status:"graded"},{submittedAt:"2024-01-10",score:92,status:"graded"}]},{_id:"2",studentId:{name:"Michael Brown",grade:"11",section:"B",roll:5},overallGrade:"A",improvementTrend:"stable",progressMetrics:[{subject:"Mathematics",averageScore:87,attendanceRate:92,totalAssignments:10,completedAssignments:9},{subject:"Physics",averageScore:89,attendanceRate:94,totalAssignments:8,completedAssignments:7},{subject:"Chemistry",averageScore:85,attendanceRate:90,totalAssignments:9,completedAssignments:9}],submissions:[{submittedAt:"2024-01-14",score:87,status:"graded"},{submittedAt:"2024-01-09",score:89,status:"graded"}]}],Jq={totalStudents:45,averageScore:87,attendanceRate:94,improvementTrends:{improving:15,stable:22,declining:8},gradeDistribution:{"A+":8,A:12,"B+":10,B:8,"C+":4,C:2,D:1,F:0}},ZYe=()=>{var b,S,w,N,E,P;const t=mi(),[e,r]=F.useState([]),[n,a]=F.useState(null),[i,o]=F.useState({grade:"",section:"",subject:"",interventionLevel:""}),[l,c]=F.useState(!0),[d,u]=F.useState(!1),[h,m]=F.useState("");F.useEffect(()=>{f()},[i]);const f=async()=>{try{c(!0);const _=await fetch(`/api/ai-learning/weak-students?${new URLSearchParams(i)}`);if(_.ok){const B=await _.json();r(B)}else r(Zq)}catch(_){console.error("Error fetching weak students:",_),r(Zq)}finally{c(!1)}},A=async(_,B)=>{u(!0);try{const k=await fetch(`/api/ai-learning/analyze-weakness/${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:B})});if(k.ok){const M=await k.json();alert(`Analysis completed! Intervention level: ${M.interventionLevel}`),f()}else throw new Error("Failed to analyze student")}catch(k){console.error("Error analyzing student:",k),alert("Failed to analyze student. Please try again.")}finally{u(!1)}},g=async(_,B,k,M)=>{try{const T=await fetch(`/api/ai-learning/generate-learning-path/${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:B,weakAreas:k,currentLevel:M})});if(T.ok)await T.json(),alert("AI Learning Path generated successfully!"),a(H=>({...H,hasAIPath:!0}));else throw new Error("Failed to generate learning path")}catch(T){console.error("Error generating learning path:",T),alert("Failed to generate learning path. Please try again.")}},x=_=>{switch(_){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},v=_=>{switch(_){case"critical":return s.jsx(Ka,{className:"w-4 h-4"});case"high":return s.jsx(Ir,{className:"w-4 h-4"});case"medium":return s.jsx(Vo,{className:"w-4 h-4"});default:return s.jsx(Lr,{className:"w-4 h-4"})}},j=e.filter(_=>{var B,k,M,T;return((k=(B=_.studentId)==null?void 0:B.name)==null?void 0:k.toLowerCase().includes(h.toLowerCase()))||((T=(M=_.studentId)==null?void 0:M.roll)==null?void 0:T.toString().includes(h))});return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Analyzing weak students..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[s.jsx(Vo,{className:"w-8 h-8 mr-3"}),"Weak Student Identification"]}),s.jsx("p",{className:"text-red-100",children:"Identify students needing intervention and provide personalized AI learning"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"bg-red-500 px-3 py-1 rounded-full text-sm",children:[j.length," students need attention"]})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:_=>m(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("select",{value:i.grade,onChange:_=>o({...i,grade:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"All Grades"}),s.jsx("option",{value:"9",children:"Grade 9"}),s.jsx("option",{value:"10",children:"Grade 10"}),s.jsx("option",{value:"11",children:"Grade 11"}),s.jsx("option",{value:"12",children:"Grade 12"})]}),s.jsxs("select",{value:i.section,onChange:_=>o({...i,section:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"All Sections"}),s.jsx("option",{value:"A",children:"Section A"}),s.jsx("option",{value:"B",children:"Section B"}),s.jsx("option",{value:"C",children:"Section C"})]}),s.jsxs("select",{value:i.subject,onChange:_=>o({...i,subject:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"All Subjects"}),s.jsx("option",{value:"Mathematics",children:"Mathematics"}),s.jsx("option",{value:"Physics",children:"Physics"}),s.jsx("option",{value:"Chemistry",children:"Chemistry"}),s.jsx("option",{value:"Biology",children:"Biology"})]}),s.jsxs("select",{value:i.interventionLevel,onChange:_=>o({...i,interventionLevel:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"All Levels"}),s.jsx("option",{value:"critical",children:"Critical"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-red-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Critical Students"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.filter(_=>_.interventionLevel==="critical").length})]}),s.jsx(Ka,{className:"w-8 h-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"High Priority"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:j.filter(_=>_.interventionLevel==="high").length})]}),s.jsx(Ir,{className:"w-8 h-8 text-orange-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Medium Priority"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.filter(_=>_.interventionLevel==="medium").length})]}),s.jsx(Vo,{className:"w-8 h-8 text-yellow-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"With AI Paths"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.filter(_=>_.hasAIPath).length})]}),s.jsx(Js,{className:"w-8 h-8 text-blue-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(pr,{className:"w-5 h-5 mr-2 text-red-600"}),"Students Needing Intervention"]})}),s.jsx("div",{className:"p-6",children:j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Great News!"}),s.jsx("p",{className:"text-gray-600",children:"No students currently need immediate intervention."})]}):s.jsx("div",{className:"space-y-4",children:j.map(_=>{var B,k,M,T,H,L,Q;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold",children:((k=(B=_.studentId)==null?void 0:B.name)==null?void 0:k.charAt(0))||"S"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:((M=_.studentId)==null?void 0:M.name)||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(T=_.studentId)==null?void 0:T.grade,"-",(H=_.studentId)==null?void 0:H.section,"  Roll ",(L=_.studentId)==null?void 0:L.roll]})]})]}),s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border flex items-center space-x-2 ${x(_.interventionLevel)}`,children:[v(_.interventionLevel),s.jsx("span",{className:"capitalize",children:_.interventionLevel})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(jn,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Consistency Score"})]}),s.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[_.consistencyScore||0,"%"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus Subject"})]}),s.jsx("p",{className:"font-medium text-gray-800",children:_.focusSubject||"General"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(uI,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weak Areas"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:((Q=_.weakAreas)==null?void 0:Q.slice(0,2).join(", "))||"Analysis needed"})]})]}),_.weakAreas&&_.weakAreas.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Identified Weak Areas:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.weakAreas.map((O,V)=>s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:O},V))})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsxs("button",{onClick:()=>A(_.studentId._id,_.focusSubject||"Mathematics"),disabled:d,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:bg-yellow-400 transition-colors flex items-center space-x-2 text-sm",children:[s.jsx(Mn,{className:"w-4 h-4"}),s.jsx("span",{children:d?"Analyzing...":"Re-analyze"})]}),s.jsxs("button",{onClick:()=>g(_.studentId._id,_.focusSubject||"Mathematics",_.weakAreas||[],"basic"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"Generate AI Learning Path"})]}),s.jsxs("button",{onClick:()=>a(_),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",children:[s.jsx(aa,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),_.hasAIPath&&s.jsxs("button",{onClick:()=>t(`/teachers/ai-learning/${_.studentId._id}/${_.focusSubject||"Mathematics"}`),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 text-sm",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"View AI Path"})]})]})]},_._id)})})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white text-xl font-semibold",children:((S=(b=n.studentId)==null?void 0:b.name)==null?void 0:S.charAt(0))||"S"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(w=n.studentId)==null?void 0:w.name}),s.jsxs("p",{className:"text-gray-600",children:["Grade ",(N=n.studentId)==null?void 0:N.grade,"-",(E=n.studentId)==null?void 0:E.section,"  Roll ",(P=n.studentId)==null?void 0:P.roll]}),s.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium mt-2 ${x(n.interventionLevel)}`,children:[v(n.interventionLevel),s.jsxs("span",{className:"capitalize",children:[n.interventionLevel," Intervention Needed"]})]})]})]}),s.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Vo,{className:"w-5 h-5 mr-2 text-red-600"}),"Weakness Analysis"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Consistency Score"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-1 bg-red-200 rounded-full h-3",children:s.jsx("div",{className:"bg-red-600 h-3 rounded-full",style:{width:`${n.consistencyScore||0}%`}})}),s.jsxs("span",{className:"font-bold text-red-800",children:[n.consistencyScore||0,"%"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Weak Areas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(n.weakAreas||[]).map((_,B)=>s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:_},B))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Recommended Topics"}),s.jsx("div",{className:"space-y-2",children:(n.recommendedTopics||[]).map((_,B)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx(Nw,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{children:_})]},B))})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Js,{className:"w-5 h-5 mr-2 text-blue-600"}),"AI Learning Path"]}),n.hasAIPath?s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-blue-800 font-medium",children:"Learning Path Active"}),s.jsx(Lr,{className:"w-5 h-5 text-green-500"})]}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Personalized learning path has been generated based on weakness analysis."}),s.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Learning Path"})]}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[s.jsx(Js,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"No AI learning path generated yet"}),s.jsx("button",{onClick:()=>g(n.studentId._id,n.focusSubject||"Mathematics",n.weakAreas||[],"basic"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Generate AI Learning Path"})]})]})]})})]})})]})},Zq=[{_id:"1",studentId:{_id:"student1",name:"Alex Thompson",grade:"10",section:"A",roll:15},interventionLevel:"critical",consistencyScore:25,focusSubject:"Mathematics",weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1},{_id:"2",studentId:{_id:"student2",name:"Sarah Wilson",grade:"11",section:"B",roll:8},interventionLevel:"high",consistencyScore:45,focusSubject:"Physics",weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Physics Fundamentals","Laws of Motion"],hasAIPath:!0},{_id:"3",studentId:{_id:"student3",name:"Mike Johnson",grade:"9",section:"C",roll:22},interventionLevel:"medium",consistencyScore:55,focusSubject:"Chemistry",weakAreas:["Chemical Equations","Basic Concepts"],recommendedTopics:["Balancing Equations","Reaction Types"],hasAIPath:!1}],eJe=()=>{var j,b,S,w;const{studentId:t,subject:e}=AX(),r=mi(),[n,a]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState(!0),[d,u]=F.useState(null),[h,m]=F.useState(!1);F.useEffect(()=>{t&&e&&f()},[t,e]);const f=async()=>{try{c(!0);const N=await fetch(`/api/ai-learning/learning-path/${t}/${e}`);if(N.ok){const E=await N.json();a(E.learningPath),o(E.student)}else a(tK),o(eK)}catch(N){console.error("Error fetching learning path:",N),a(tK),o(eK)}finally{c(!1)}},A=async(N,E)=>{m(!0);try{if((await fetch(`/api/ai-learning/update-progress/${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicCompleted:E,resourceCompleted:!0,progressPercentage:Math.min(100,n.progress+10)})})).ok){a(B=>({...B,progress:Math.min(100,B.progress+10),completedTopics:[...B.completedTopics||[],E].filter((k,M,T)=>T.indexOf(k)===M),lastAccessed:new Date}));const _=[...n.recommendedResources];_[N]={..._[N],completed:!0},a(B=>({...B,recommendedResources:_})),alert("Great job! Resource marked as completed.")}else throw new Error("Failed to update progress")}catch(P){console.error("Error updating progress:",P),alert("Failed to update progress. Please try again.")}finally{m(!1)}},g=N=>{switch(N){case"video":return s.jsx(NA,{className:"w-5 h-5"});case"article":return s.jsx(kr,{className:"w-5 h-5"});case"practice":return s.jsx(jn,{className:"w-5 h-5"});case"quiz":return s.jsx(vde,{className:"w-5 h-5"});case"interactive":return s.jsx(uh,{className:"w-5 h-5"});default:return s.jsx(Qr,{className:"w-5 h-5"})}},x=N=>{switch(N){case"video":return"text-red-600 bg-red-100";case"article":return"text-blue-600 bg-blue-100";case"practice":return"text-green-600 bg-green-100";case"quiz":return"text-purple-600 bg-purple-100";case"interactive":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},v=N=>{switch(N){case"basic":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading AI Learning Path..."})]})}):n?s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>r("/teachers/weak-students"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[s.jsx(wd,{className:"w-5 h-5 mr-1"}),"Back to Weak Students"]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[s.jsx(Js,{className:"w-8 h-8 mr-3"}),"AI Learning Path"]}),s.jsxs("p",{className:"text-blue-100",children:["Personalized learning journey for ",i==null?void 0:i.name]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[s.jsxs("span",{className:"bg-blue-500 px-3 py-1 rounded-full text-sm",children:["Grade ",i==null?void 0:i.grade,"-",i==null?void 0:i.section]}),s.jsxs("span",{className:"bg-purple-500 px-3 py-1 rounded-full text-sm",children:["Subject: ",e]})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex items-center space-x-2",children:[s.jsx(Hl,{className:"w-4 h-4"}),s.jsxs("span",{children:[n.progress,"% Complete"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:s.jsx(Mn,{className:"w-6 h-6 text-blue-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Overall Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[n.progress,"%"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n.progress}%`}})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:s.jsx(Lr,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Topics"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:((j=n.completedTopics)==null?void 0:j.length)||0})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:s.jsx(Qr,{className:"w-6 h-6 text-purple-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Resources"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:((b=n.recommendedResources)==null?void 0:b.length)||0})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:s.jsx(dr,{className:"w-6 h-6 text-yellow-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Est. Time"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[((S=n.recommendedResources)==null?void 0:S.reduce((N,E)=>N+(E.estimatedTime||0),0))||0,"m"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(jn,{className:"w-5 h-5 mr-2 text-green-600"}),"Current Focus: ",n.currentTopic]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nw,{className:"w-6 h-6 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"Learning Objective"}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["Focus on mastering ",n.currentTopic," through structured learning resources. Complete the activities in order for optimal understanding."]})]})]})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Js,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recommended Learning Resources"]}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-700 flex items-center space-x-2 text-sm",children:[s.jsx(Wf,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh Path"})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-4",children:(w=n.recommendedResources)==null?void 0:w.map((N,E)=>s.jsxs("div",{className:`border rounded-lg p-4 transition-all ${N.completed?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:shadow-md"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${x(N.type)}`,children:g(N.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:N.title}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(N.type)}`,children:N.type}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(N.difficulty)}`,children:N.difficulty}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(dr,{className:"w-3 h-3 mr-1"}),N.estimatedTime,"min"]})]})]})]}),N.completed?s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx(Lr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>u(N),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[s.jsx(Ji,{className:"w-4 h-4"}),s.jsx("span",{children:"Start"})]}),s.jsx("button",{onClick:()=>A(E,N.title),disabled:h,className:"px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 disabled:opacity-50 transition-colors text-sm",children:h?"Marking...":"Mark Complete"})]})]}),!N.completed&&s.jsx("div",{className:"ml-11",children:s.jsx("p",{className:"text-sm text-gray-600",children:"This resource will help you understand the key concepts. Take your time and practice the examples provided."})})]},E))}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Complete all resources to move to the next topic"})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Progress"})]}),s.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${n.progress===100?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:n.progress<100,children:[s.jsx(Hl,{className:"w-4 h-4"}),s.jsx("span",{children:"Complete Path"})]})]})]})})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${x(d.type)}`,children:g(d.type)}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d.title})]}),s.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:`w-16 h-16 mx-auto rounded-full ${x(d.type)} flex items-center justify-center mb-4`,children:g(d.type)}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Start Learning?"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["This ",d.type," will take approximately ",d.estimatedTime," minutes to complete."]}),s.jsx("div",{className:"flex justify-center space-x-2 mb-6",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${v(d.difficulty)}`,children:[d.difficulty," level"]})})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-gray-600",children:`Click "Open Resource" to access the learning material. Once you've completed it, return here and mark it as complete to update your progress.`})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:()=>{window.open(d.url||"#","_blank")},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(zg,{className:"w-5 h-5"}),s.jsx("span",{children:"Open Resource"})]}),s.jsx("button",{onClick:()=>u(null),className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Learning Path Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an AI learning path first from the weak student identification page."}),s.jsx("button",{onClick:()=>r("/teachers/weak-students"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Weak Students"})]})})},eK={name:"Alex Thompson",grade:"10",section:"A",roll:15},tK={subject:"Mathematics",currentTopic:"Basic Algebra",completedTopics:["Number Systems"],recommendedResources:[{title:"Introduction to Algebra",type:"video",url:"/learning/math/intro-algebra",difficulty:"basic",estimatedTime:25,completed:!1},{title:"Solving Linear Equations",type:"interactive",url:"/learning/math/linear-equations",difficulty:"basic",estimatedTime:35,completed:!1},{title:"Algebra Practice Problems",type:"practice",url:"/learning/math/algebra-practice",difficulty:"intermediate",estimatedTime:45,completed:!1},{title:"Algebra Quiz",type:"quiz",url:"/learning/math/algebra-quiz",difficulty:"basic",estimatedTime:20,completed:!1}],progress:25,createdAt:new Date,lastAccessed:new Date},tJe=()=>s.jsx("div",{className:"min-h-screen bg-blue-100 p-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Teachers Portal Test"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"If you can see this page, the basic routing is working!"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," Portal is loading correctly"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",new Date().toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Route:"})," /teachers/test"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("a",{href:"/teachers",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Full Teachers Portal"})})]})}),rJe=()=>{const[t,e]=F.useState("dashboard"),[r]=F.useState({studentsHelped:156,quizzesCreated:43,flashcardsCreated:67,averageEngagement:94}),n=[{id:"dashboard",name:"Dashboard",icon:Mn},{id:"quiz-creator",name:"Quiz Creator",icon:jn},{id:"content-summarizer",name:"Content Summarizer",icon:sh},{id:"flashcard-generator",name:"Flashcard Generator",icon:ds},{id:"tryout-generator",name:"Tryout Generator",icon:kr},{id:"student-analyzer",name:"Student Analyzer",icon:pr},{id:"teaching-assistant",name:"AI Assistant",icon:SX}],a=()=>{switch(t){case"quiz-creator":return s.jsx(nJe,{});case"content-summarizer":return s.jsx(aJe,{});case"flashcard-generator":return s.jsx(lJe,{});case"tryout-generator":return s.jsx(cJe,{});case"student-analyzer":return s.jsx(iJe,{});case"teaching-assistant":return s.jsx(oJe,{});default:return s.jsx(sJe,{onNavigate:e})}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center",children:s.jsx(Js,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"AI Powered Teaching"}),s.jsx("p",{className:"text-gray-600",children:"Intelligent tools to enhance your teaching experience"})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[r.averageEngagement,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Student Engagement "})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(pr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:r.studentsHelped}),s.jsx("div",{className:"text-sm text-blue-600",children:"Students Helped"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-700",children:r.flashcardsCreated}),s.jsx("div",{className:"text-sm text-green-600",children:"Flashcards Created"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(jn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-700",children:r.quizzesCreated}),s.jsx("div",{className:"text-sm text-purple-600",children:"Quizzes Created"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:s.jsx(cs,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:"4.9"}),s.jsx("div",{className:"text-sm text-yellow-600",children:"AI Rating"})]})]})})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-indigo-100 overflow-hidden",children:s.jsx("div",{className:"flex overflow-x-auto",children:n.map(i=>s.jsxs("button",{onClick:()=>e(i.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${t===i.id?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(i.icon,{className:"h-4 w-4"}),s.jsx("span",{children:i.name})]},i.id))})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:a()})]})})},sJe=({onNavigate:t})=>{const e=[{title:"Create Smart Quiz",description:"Generate adaptive quizzes",icon:jn,color:"bg-green-500",action:"quiz-creator"},{title:"Generate Flashcards",description:"Interactive learning flashcards",icon:ds,color:"bg-yellow-500",action:"flashcard-generator"},{title:"Create Tryouts",description:"Multi-format assessment tests",icon:kr,color:"bg-indigo-500",action:"tryout-generator"},{title:"Summarize Content",description:"AI-powered content summaries",icon:sh,color:"bg-purple-500",action:"content-summarizer"},{title:"Analyze Students",description:"Get insights on student performance",icon:pr,color:"bg-orange-500",action:"student-analyzer"}],r=[{type:"summary",title:"Quadratic Equations - Key Concepts",subject:"Mathematics",timestamp:"2 hours ago",status:"completed"},{type:"flashcards",title:"Chemistry Periodic Table Cards",subject:"Chemistry",timestamp:"4 hours ago",status:"completed"},{type:"tryout",title:"History World War I Assessment",subject:"History",timestamp:"6 hours ago",status:"completed"},{type:"quiz",title:"Physics Motion Quiz",subject:"Physics",timestamp:"1 day ago",status:"completed"},{type:"summary",title:"Cell Biology Overview",subject:"Biology",timestamp:"2 days ago",status:"completed"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(uh,{className:"h-5 w-5 text-yellow-500"}),"Quick Actions"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((n,a)=>s.jsxs("button",{onClick:()=>t&&t(n.action),className:"p-6 rounded-xl border-2 border-gray-100 hover:border-indigo-200 hover:shadow-lg transition-all duration-200 group text-left",children:[s.jsx("div",{className:`h-12 w-12 ${n.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(n.icon,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:n.title}),s.jsx("p",{className:"text-sm text-gray-600",children:n.description})]},a))})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5 text-green-500"}),"Recent AI Generations"]}),s.jsx("div",{className:"space-y-3",children:r.map((n,a)=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:[n.type==="quiz"&&s.jsx(jn,{className:"h-5 w-5 text-indigo-600"}),n.type==="flashcards"&&s.jsx(ds,{className:"h-5 w-5 text-indigo-600"}),n.type==="tryout"&&s.jsx(kr,{className:"h-5 w-5 text-indigo-600"}),n.type==="summary"&&s.jsx(sh,{className:"h-5 w-5 text-indigo-600"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:n.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[n.subject,"  ",n.timestamp]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:n.status}),s.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:s.jsx(Is,{className:"h-4 w-4 text-gray-500"})})]})]},a))})]})]})},nJe=()=>{const[t,e]=F.useState({subject:"",topic:"",grade:"",questionCount:"10",difficulty:"medium",questionTypes:["multiple-choice"],timeLimit:"30"}),[r,n]=F.useState(null),[a,i]=F.useState(!1),o=async()=>{!t.subject||!t.topic||(i(!0),setTimeout(()=>{const l={title:`${t.topic} Quiz - Grade ${t.grade}`,subject:t.subject,difficulty:t.difficulty,timeLimit:t.timeLimit,questions:Array.from({length:parseInt(t.questionCount)},(c,d)=>({id:d+1,question:`Sample question ${d+1} about ${t.topic}`,type:t.questionTypes[0],options:t.questionTypes[0]==="multiple-choice"?["Option A","Option B","Option C","Option D"]:null,correct:t.questionTypes[0]==="multiple-choice"?0:"Sample answer",explanation:"This is the explanation for the correct answer."}))};n(l),i(!1)},2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jn,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Quiz Creator"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:t.subject,onChange:l=>e({...t,subject:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Select Subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"english",children:"English"}),s.jsx("option",{value:"history",children:"History"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:t.topic,onChange:l=>e({...t,topic:l.target.value}),placeholder:"Enter the quiz topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),s.jsxs("select",{value:t.grade,onChange:l=>e({...t,grade:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((l,c)=>s.jsxs("option",{value:c+1,children:["Grade ",c+1]},c))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),s.jsxs("select",{value:t.questionCount,onChange:l=>e({...t,questionCount:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"5",children:"5 Questions"}),s.jsx("option",{value:"10",children:"10 Questions"}),s.jsx("option",{value:"15",children:"15 Questions"}),s.jsx("option",{value:"20",children:"20 Questions"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),s.jsxs("select",{value:t.difficulty,onChange:l=>e({...t,difficulty:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (minutes)"}),s.jsx("input",{type:"number",value:t.timeLimit,onChange:l=>e({...t,timeLimit:l.target.value}),min:"5",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsx("button",{onClick:o,disabled:a||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Quiz..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{className:"h-4 w-4"}),"Generate Quiz"]})})]}),s.jsx("div",{children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),s.jsxs("p",{className:"text-gray-600",children:[r.questions.length," questions  ",r.timeLimit," minutes"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:s.jsx(is,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:s.jsx(dI,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Quiz Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Subject:"})," ",r.subject]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Difficulty:"})," ",r.difficulty]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Time Limit:"})," ",r.timeLimit," min"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Questions:"})," ",r.questions.length]})]})]}),s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Preview Questions"}),r.questions.slice(0,3).map((l,c)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h5",{className:"font-medium text-gray-800 mb-2",children:["Question ",l.id,": ",l.question]}),l.options&&s.jsx("div",{className:"space-y-1",children:l.options.map((d,u)=>s.jsxs("div",{className:`text-sm p-2 rounded ${u===l.correct?"bg-green-100 text-green-800":"text-gray-600"}`,children:[String.fromCharCode(65+u),". ",d,u===l.correct&&s.jsx(Lr,{className:"h-4 w-4 inline ml-2"})]},u))}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:l.explanation})]},c)),r.questions.length>3&&s.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",r.questions.length-3," more questions..."]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Configure your quiz settings to generate questions"})]})})})]})]})},aJe=()=>{var f;const[t,e]=F.useState({subject:"",topic:"",grade:"",summaryType:"overview",length:"medium",inputText:""}),[r,n]=F.useState(""),[a,i]=F.useState(!1),[o,l]=F.useState(!1),c=[{value:"overview",label:"Topic Overview",description:"General introduction to the topic"},{value:"key-points",label:"Key Points",description:"Main concepts and important details"},{value:"study-guide",label:"Study Guide",description:"Structured learning material"},{value:"revision",label:"Revision Notes",description:"Quick review material"}],d=[{value:"short",label:"Short",description:"1-2 paragraphs"},{value:"medium",label:"Medium",description:"3-4 paragraphs"},{value:"detailed",label:"Detailed",description:"5+ paragraphs"}],u=async()=>{t.topic&&(i(!0),setTimeout(()=>{const A=`# ${t.topic} Summary

## Overview
This is an AI-generated summary of ${t.topic} in ${t.subject} for Grade ${t.grade} students.

## Key Concepts
 Important concept 1: Detailed explanation of the first key concept
 Important concept 2: Detailed explanation of the second key concept  
 Important concept 3: Detailed explanation of the third key concept

## Examples
Real-world applications and examples that help students understand the topic better.

## Important Points to Remember
- Critical point 1
- Critical point 2
- Critical point 3

## Practice Questions
1. Sample question about the topic
2. Another practice question
3. Advanced application question

This summary has been optimized for ${t.length} reading and covers the essential points students need to understand about ${t.topic}.`;n(A),i(!1)},2e3))},h=async()=>{await navigator.clipboard.writeText(r),l(!0),setTimeout(()=>l(!1),2e3)},m=()=>{const A=document.createElement("a"),g=new Blob([r],{type:"text/plain"});A.href=URL.createObjectURL(g),A.download=`${t.topic}_summary.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(sh,{className:"h-6 w-6 text-purple-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Content Summarizer"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:t.subject,onChange:A=>e({...t,subject:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"Select Subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"english",children:"English"}),s.jsx("option",{value:"history",children:"History"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:t.topic,onChange:A=>e({...t,topic:A.target.value}),placeholder:"Enter the topic to summarize",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),s.jsxs("select",{value:t.grade,onChange:A=>e({...t,grade:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((A,g)=>s.jsxs("option",{value:g+1,children:["Grade ",g+1]},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Type"}),s.jsx("div",{className:"space-y-2",children:c.map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:A.value,checked:t.summaryType===A.value,onChange:g=>e({...t,summaryType:g.target.value}),className:"mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:A.label}),s.jsx("div",{className:"text-sm text-gray-600",children:A.description})]})]},A.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Length"}),s.jsx("select",{value:t.length,onChange:A=>e({...t,length:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:d.map(A=>s.jsxs("option",{value:A.value,children:[A.label," - ",A.description]},A.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Context (Optional)"}),s.jsx("textarea",{value:t.inputText,onChange:A=>e({...t,inputText:A.target.value}),placeholder:"Paste content to summarize or provide additional context...",rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsx("button",{onClick:u,disabled:a||!t.topic,className:"w-full py-3 px-6 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Summary..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sh,{className:"h-4 w-4"}),"Generate Summary"]})})]}),s.jsx("div",{children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Generated Summary"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:h,className:"p-2 text-gray-500 hover:bg-gray-100 rounded flex items-center gap-1",children:[o?s.jsx(Lr,{className:"h-4 w-4 text-green-500"}):s.jsx(kr,{className:"h-4 w-4"}),o?"Copied!":"Copy"]}),s.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:s.jsx(is,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 font-medium",children:"Type:"})," ",(f=c.find(A=>A.value===t.summaryType))==null?void 0:f.label]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 font-medium",children:"Length:"})," ",t.length]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 font-medium",children:"Subject:"})," ",t.subject]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-700 font-medium",children:"Grade:"})," ",t.grade]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 text-sm leading-relaxed",children:r})})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(sh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Configure your settings to generate a summary"})]})})})]})]})},iJe=()=>{var k,M,T,H;const[t,e]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("performance"),[o,l]=F.useState(null),[c,d]=F.useState(!1),[u,h]=F.useState(null),[m,f]=F.useState(!1),[A,g]=F.useState("flashcards"),[x,v]=F.useState(!1),[j,b]=F.useState(null),S=["Grade 9A","Grade 9B","Grade 10A","Grade 10B","Grade 11A","Grade 11B"],w=["Mathematics","Physics","Chemistry","Biology","English","History"],N=[{value:"performance",label:"Performance Analysis",description:"Overall academic performance insights"},{value:"engagement",label:"Engagement Patterns",description:"Student participation and engagement levels"},{value:"learning-gaps",label:"Learning Gaps",description:"Identify knowledge gaps and weak areas"},{value:"progress",label:"Progress Tracking",description:"Monitor student improvement over time"},{value:"weak-students",label:"Weak Student Identification",description:"Identify students needing intervention"}],E=async()=>{!t||!r||(d(!0),setTimeout(()=>{let L;a==="weak-students"?L={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},weakStudents:[{id:"1",name:"Alex Thompson",grade:t.split(" ")[1],section:t.slice(-1),roll:15,interventionLevel:"critical",consistencyScore:25,focusSubject:r,weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1,lastAssessment:"2 days ago",averageScore:45},{id:"2",name:"Sarah Wilson",grade:t.split(" ")[1],section:t.slice(-1),roll:8,interventionLevel:"high",consistencyScore:45,focusSubject:r,weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Fundamentals","Practical Applications"],hasAIPath:!0,lastAssessment:"1 day ago",averageScore:52},{id:"3",name:"Mike Johnson",grade:t.split(" ")[1],section:t.slice(-1),roll:22,interventionLevel:"medium",consistencyScore:55,focusSubject:r,weakAreas:["Advanced Topics","Time Management"],recommendedTopics:["Practice Problems","Speed Techniques"],hasAIPath:!1,lastAssessment:"3 days ago",averageScore:58}],interventionStats:{critical:1,high:1,medium:2,withAIPath:1},insights:["Critical students need immediate intervention","25% of at-risk students have personalized AI learning paths","Focus on foundational concepts for critical-level students","Regular monitoring recommended for high-priority students"]}:L={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},topPerformers:[{name:"Alice Johnson",score:95,improvement:"+8%"},{name:"Bob Smith",score:92,improvement:"+5%"},{name:"Carol Davis",score:89,improvement:"+12%"}],strugglingStudents:[{name:"David Wilson",score:45,issues:["Algebra concepts","Problem solving"],recommendation:"Extra practice sessions"},{name:"Emma Brown",score:52,issues:["Basic operations","Word problems"],recommendation:"Peer tutoring"}],insights:["Class shows strong improvement in algebraic thinking","15% of students need additional support with word problems","Overall engagement has increased by 18% this semester"]},l(L),d(!1)},2e3))},P=async(L,Q)=>{v(!0),g(Q),setTimeout(()=>{let O;switch(Q){case"flashcards":O={type:"flashcards",title:`Personalized Flashcards for ${L.name}`,description:`Targeting weak areas: ${L.weakAreas.join(", ")}`,cards:L.weakAreas.slice(0,10).map((V,ee)=>({id:ee+1,front:`What is the key concept in ${V}?`,back:`A personalized explanation of ${V} tailored for ${L.name}'s learning level.`,difficulty:L.interventionLevel}))};break;case"quiz":O={type:"quiz",title:`Targeted Assessment for ${L.name}`,description:`Focused on improving: ${L.weakAreas.join(", ")}`,questions:L.weakAreas.slice(0,8).map((V,ee)=>({id:ee+1,question:`Question ${ee+1} about ${V}`,options:["Option A","Option B","Option C","Option D"],correct:0,difficulty:L.interventionLevel}))};break;case"summary":O={type:"summary",title:`Concept Summary for ${L.name}`,description:`Simplified explanations for: ${L.weakAreas.join(", ")}`,content:L.weakAreas.map(V=>({topic:V,summary:`A clear, simplified explanation of ${V} designed specifically for ${L.name}'s current understanding level.`,keyPoints:[`Key point 1 about ${V}`,`Key point 2 about ${V}`,`Key point 3 about ${V}`]}))};break}b(O),v(!1)},2e3)},_=L=>{switch(L){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},B=L=>{switch(L){case"critical":return s.jsx(Ir,{className:"w-4 h-4"});case"high":return s.jsx(Ir,{className:"w-4 h-4"});case"medium":return s.jsx(AlertTriangle,{className:"w-4 w-4"});default:return s.jsx(Lr,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(pr,{className:"h-6 w-6 text-orange-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Performance Analyzer"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),s.jsxs("select",{value:t,onChange:L=>e(L.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{value:"",children:"Choose Class"}),S.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:r,onChange:L=>n(L.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{value:"",children:"Choose Subject"}),w.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Analysis Type"}),s.jsx("div",{className:"space-y-2",children:N.map(L=>s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"radio",value:L.value,checked:a===L.value,onChange:Q=>i(Q.target.value),className:"mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:L.label}),s.jsx("div",{className:"text-xs text-gray-600",children:L.description})]})]},L.value))})]}),s.jsx("button",{onClick:E,disabled:c||!t||!r,className:"w-full py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mn,{className:"h-4 w-4"}),"Analyze Students"]})})]}),s.jsx("div",{className:"lg:col-span-2",children:o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.classOverview.totalStudents}),s.jsx("div",{className:"text-sm text-blue-600",children:"Total Students"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-700",children:o.classOverview.averageScore}),s.jsx("div",{className:"text-sm text-green-600",children:"Average Score"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-700",children:o.classOverview.improvementRate}),s.jsx("div",{className:"text-sm text-purple-600",children:"Improvement"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.classOverview.atRiskStudents}),s.jsx("div",{className:"text-sm text-orange-600",children:"At Risk"})]})]}),a==="weak-students"&&o.weakStudents&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[s.jsx("div",{className:"text-2xl font-bold text-red-700",children:o.interventionStats.critical}),s.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-3 h-3"}),"Critical"]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.interventionStats.high}),s.jsxs("div",{className:"text-sm text-orange-600 flex items-center gap-1",children:[s.jsx(Ir,{className:"w-3 h-3"}),"High Priority"]})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:o.interventionStats.medium}),s.jsxs("div",{className:"text-sm text-yellow-600 flex items-center gap-1",children:[s.jsx(AlertTriangle,{className:"w-3 h-3"}),"Medium Priority"]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.interventionStats.withAIPath}),s.jsxs("div",{className:"text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(Js,{className:"w-3 h-3"}),"With AI Path"]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg",children:[s.jsx("div",{className:"p-4 border-b bg-red-50",children:s.jsxs("h4",{className:"font-bold text-red-800 flex items-center gap-2",children:[s.jsx(AlertTriangle,{className:"h-5 w-5"}),"Students Needing Intervention"]})}),s.jsx("div",{className:"p-4 space-y-4",children:o.weakStudents.map(L=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold text-sm",children:L.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:L.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",L.grade,"-",L.section,"  Roll ",L.roll]})]})]}),s.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${_(L.interventionLevel)}`,children:[B(L.interventionLevel),s.jsx("span",{className:"capitalize",children:L.interventionLevel})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Consistency Score"}),s.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[L.consistencyScore,"%"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Average Score"}),s.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[L.averageScore,"%"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Last Assessment"}),s.jsx("div",{className:"text-sm font-medium text-gray-800",children:L.lastAssessment})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Weak Areas:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:L.weakAreas.map((Q,O)=>s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:Q},O))})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>{h(L),f(!0)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors flex items-center gap-1",children:[s.jsx(ds,{className:"w-3 h-3"}),"Generate Content"]}),s.jsxs("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors flex items-center gap-1",children:[s.jsx(Js,{className:"w-3 h-3"}),"AI Learning Path"]}),s.jsxs("button",{className:"px-3 py-1.5 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 transition-colors flex items-center gap-1",children:[s.jsx(Mn,{className:"w-3 h-3"}),"Detailed Analysis"]})]})]},L.id))})]})]}),a!=="weak-students"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-green-800 mb-4 flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"}),"Top Performers"]}),s.jsx("div",{className:"space-y-2",children:(k=o.topPerformers)==null?void 0:k.map((L,Q)=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded",children:[s.jsx("span",{className:"font-medium",children:L.name}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-green-600 font-bold",children:[L.score,"%"]}),s.jsx("span",{className:"text-sm text-green-500",children:L.improvement})]})]},Q))})]}),s.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-red-800 mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:"h-5 w-5"}),"Students Needing Support"]}),s.jsx("div",{className:"space-y-3",children:(M=o.strugglingStudents)==null?void 0:M.map((L,Q)=>s.jsxs("div",{className:"bg-white p-4 rounded",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:L.name}),s.jsxs("span",{className:"text-red-600 font-bold",children:[L.score,"%"]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:"Issues:"})," ",L.issues.join(", ")]}),s.jsxs("div",{className:"text-sm text-blue-600",children:[s.jsx("strong",{children:"Recommendation:"})," ",L.recommendation]})]},Q))})]})]}),s.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-indigo-800 mb-4 flex items-center gap-2",children:[s.jsx(Nw,{className:"h-5 w-5"}),"AI Insights"]}),s.jsx("div",{className:"space-y-2",children:o.insights.map((L,Q)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Lr,{className:"h-4 w-4 text-indigo-500 mt-0.5"}),s.jsx("span",{className:"text-indigo-700",children:L})]},Q))})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select class and subject to analyze student performance"})]})})})]}),m&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:u.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Personalized Content"}),s.jsxs("p",{className:"text-gray-600",children:["For ",u.name," - Grade ",u.grade,"-",u.section]})]})]}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 p-2",children:s.jsx(X,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:["flashcards","quiz","summary"].map(L=>s.jsxs("button",{onClick:()=>P(u,L),disabled:x,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxs("div",{className:"text-2xl mb-2",children:[L==="flashcards"&&"",L==="quiz"&&"",L==="summary"&&""]}),s.jsx("div",{className:"text-sm font-medium capitalize",children:L}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[L==="flashcards"&&"Study cards for weak areas",L==="quiz"&&"Targeted assessment questions",L==="summary"&&"Concept explanations"]})]},L))}),s.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Identified Weak Areas:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(T=u.weakAreas)==null?void 0:T.map((L,Q)=>s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:L},Q))})]}),x?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsxs("p",{className:"text-gray-600",children:["Generating personalized ",A," for ",u.name,"..."]})]}):j?s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:j.title}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>{const L=document.createElement("a"),Q=new Blob([JSON.stringify(j,null,2)],{type:"text/plain"});L.href=URL.createObjectURL(Q),L.download=`${j.title.replace(/\s+/g,"_")}.txt`,document.body.appendChild(L),L.click(),document.body.removeChild(L)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors flex items-center gap-1",children:[s.jsx(is,{className:"w-3 h-3"}),"Download"]})})]}),s.jsxs("div",{className:"space-y-4",children:[j.type==="flashcards"&&j.cards&&s.jsx("div",{className:"grid gap-4",children:j.cards.map((L,Q)=>s.jsxs("div",{className:"bg-white p-4 rounded border",children:[s.jsxs("div",{className:"font-medium text-blue-800 mb-2",children:["Card ",Q+1]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("strong",{children:"Front:"})," ",L.front]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Back:"})," ",L.back]})]},Q))}),j.type==="quiz"&&j.questions&&s.jsx("div",{className:"space-y-4",children:j.questions.map((L,Q)=>s.jsxs("div",{className:"bg-white p-4 rounded border",children:[s.jsxs("div",{className:"font-medium text-green-800 mb-2",children:["Question ",Q+1]}),s.jsx("div",{className:"mb-2",children:L.question}),L.options&&s.jsx("div",{className:"ml-4 space-y-1",children:L.options.map((O,V)=>s.jsxs("div",{className:`text-sm ${V===L.correct?"font-medium text-green-700":""}`,children:[String.fromCharCode(65+V),". ",O," ",V===L.correct&&""]},V))})]},Q))}),j.type==="summary"&&s.jsx("div",{className:"bg-white p-4 rounded border",children:s.jsx("div",{className:"prose max-w-none text-gray-700",children:(H=j.content)==null?void 0:H.split(`
`).map((L,Q)=>s.jsx("p",{className:"mb-3",children:L},Q))})})]})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ds,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["Select a content type above to generate personalized materials for ",u.name]})]})]})]})})]})},oJe=()=>{const[t,e]=F.useState([{id:1,type:"ai",content:"Hello! I'm your AI Teaching Assistant. I can help you with student assessments, educational content creation, quiz generation, and teaching strategies. What would you like assistance with today?",timestamp:new Date}]),[r,n]=F.useState(""),[a,i]=F.useState(!1),o=["Create flashcards for quadratic equations","Suggest engagement activities for biology class","How can I help struggling students in my chemistry class?","Generate discussion questions for Shakespeare's Hamlet","Create a rubric for project-based assessment"],l=async()=>{if(!r.trim())return;const d={id:t.length+1,type:"user",content:r,timestamp:new Date};e(u=>[...u,d]),n(""),i(!0),setTimeout(()=>{const u={id:t.length+2,type:"ai",content:`I understand you're asking about "${r}". Here's my recommendation:

1. **Analysis**: Based on your query, I can provide specific strategies tailored to your teaching context.

2. **Suggestions**: I recommend implementing interactive elements, differentiated instruction approaches, and formative assessment techniques.

3. **Resources**: I can help you create materials, worksheets, and activities that align with your curriculum objectives.

Would you like me to elaborate on any of these points or help you develop specific materials?`,timestamp:new Date};e(h=>[...h,u]),i(!1)},1500)},c=d=>{n(d)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(SX,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Teaching Assistant"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Quick Prompts"}),s.jsx("div",{className:"space-y-2",children:o.map((d,u)=>s.jsx("button",{onClick:()=>c(d),className:"w-full text-left p-3 text-sm bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:d},u))})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("div",{className:"bg-white border rounded-lg h-96 overflow-y-auto p-4 mb-4",children:s.jsxs("div",{className:"space-y-4",children:[t.map(d=>s.jsx("div",{className:`flex ${d.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${d.type==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap",children:d.content}),s.jsx("div",{className:`text-xs mt-1 ${d.type==="user"?"text-blue-100":"text-gray-500"}`,children:d.timestamp.toLocaleTimeString()})]})},d.id)),a&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),"AI is thinking..."]})})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),onKeyPress:d=>d.key==="Enter"&&l(),placeholder:"Ask me anything about teaching, lesson planning, or student engagement...",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:l,disabled:a||!r.trim(),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(kn,{className:"h-4 w-4"})})]})]})]})]})},lJe=()=>{var v,j;const[t,e]=F.useState({subject:"",topic:"",grade:"",cardCount:"10",difficulty:"medium",cardType:"question-answer"}),[r,n]=F.useState(null),[a,i]=F.useState(0),[o,l]=F.useState(!1),[c,d]=F.useState(!1),u=[{value:"question-answer",label:"Question & Answer",description:"Traditional Q&A format"},{value:"term-definition",label:"Term & Definition",description:"Vocabulary and definitions"},{value:"concept-explanation",label:"Concept & Explanation",description:"Complex concepts explained"},{value:"formula-application",label:"Formula & Application",description:"Mathematical formulas with examples"}],h=async()=>{!t.subject||!t.topic||(d(!0),setTimeout(()=>{const b={title:`${t.topic} Flashcards - Grade ${t.grade}`,subject:t.subject,topic:t.topic,cardType:t.cardType,cards:Array.from({length:parseInt(t.cardCount)},(S,w)=>({id:w+1,front:`${t.cardType==="question-answer"?"Question":"Term"} ${w+1} about ${t.topic}`,back:`This is the ${t.cardType==="question-answer"?"answer":"definition"} for card ${w+1}. It provides detailed information about ${t.topic} in the context of ${t.subject}.`,difficulty:t.difficulty}))};n(b),i(0),l(!1),d(!1)},2e3))},m=()=>{a<r.cards.length-1&&(i(a+1),l(!1))},f=()=>{a>0&&(i(a-1),l(!1))},A=()=>{const b=[...r.cards].sort(()=>Math.random()-.5);n({...r,cards:b}),i(0),l(!1)},g=()=>{i(0),l(!1)},x=()=>{const b=r.cards.map((N,E)=>`Card ${E+1}:
Front: ${N.front}
Back: ${N.back}

`).join(""),S=document.createElement("a"),w=new Blob([b],{type:"text/plain"});S.href=URL.createObjectURL(w),S.download=`${t.topic}_flashcards.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ds,{className:"h-6 w-6 text-yellow-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Flashcard Generator"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:t.subject,onChange:b=>e({...t,subject:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Select Subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"english",children:"English"}),s.jsx("option",{value:"history",children:"History"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:t.topic,onChange:b=>e({...t,topic:b.target.value}),placeholder:"Enter the topic for flashcards",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),s.jsxs("select",{value:t.grade,onChange:b=>e({...t,grade:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((b,S)=>s.jsxs("option",{value:S+1,children:["Grade ",S+1]},S))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Cards"}),s.jsxs("select",{value:t.cardCount,onChange:b=>e({...t,cardCount:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"5",children:"5 Cards"}),s.jsx("option",{value:"10",children:"10 Cards"}),s.jsx("option",{value:"15",children:"15 Cards"}),s.jsx("option",{value:"20",children:"20 Cards"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),s.jsx("div",{className:"space-y-2",children:u.map(b=>s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"radio",value:b.value,checked:t.cardType===b.value,onChange:S=>e({...t,cardType:S.target.value}),className:"mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:b.label}),s.jsx("div",{className:"text-xs text-gray-600",children:b.description})]})]},b.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),s.jsxs("select",{value:t.difficulty,onChange:b=>e({...t,difficulty:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]}),s.jsx("button",{onClick:h,disabled:c||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Flashcards..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"h-4 w-4"}),"Generate Flashcards"]})})]}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),s.jsxs("p",{className:"text-gray-600",children:[r.cards.length," cards  ",t.difficulty," difficulty"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:A,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Shuffle cards",children:s.jsx(DX,{className:"h-4 w-4"})}),s.jsx("button",{onClick:g,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Reset session",children:s.jsx(Xo,{className:"h-4 w-4"})}),s.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Download flashcards",children:s.jsx(is,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"inline-block px-4 py-2 bg-yellow-100 rounded-full text-sm font-medium text-yellow-800",children:["Card ",a+1," of ",r.cards.length]})}),s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>l(!o),children:s.jsxs("div",{className:`
                    absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                    ${o?"rotate-y-180":""}
                  `,children:[s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Is,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Question":"Term"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:(v=r.cards[a])==null?void 0:v.front}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(EyeOff,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Answer":"Definition"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:(j=r.cards[a])==null?void 0:j.back})]})})]})}),s.jsxs("div",{className:"flex justify-between items-center mt-6",children:[s.jsxs("button",{onClick:f,disabled:a===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(ArrowLeft,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>l(!o),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:o?"Show Question":"Show Answer"})}),s.jsxs("button",{onClick:m,disabled:a===r.cards.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx("span",{children:"Next"}),s.jsx(zg,{className:"w-4 h-4"})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ds,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Configure your settings to generate flashcards"})]})})})]}),s.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},cJe=()=>{const[t,e]=F.useState({subject:"",topic:"",grade:"",questionTypes:["mcq"],questionCount:"10",difficulty:"medium",timeLimit:"30"}),[r,n]=F.useState(null),[a,i]=F.useState(!1),[o,l]=F.useState(!1),c=[{value:"mcq",label:"Multiple Choice Questions",description:"Traditional A, B, C, D format"},{value:"true-false",label:"True/False",description:"Simple true or false questions"},{value:"fill-blank",label:"Fill in the Blanks",description:"Cloze-style questions"},{value:"short-answer",label:"Short Answer",description:"Brief written responses"},{value:"match-list",label:"Matching",description:"Match items from two lists"},{value:"drag-drop",label:"Drag & Drop",description:"Interactive sorting questions"}],d=A=>{e(g=>({...g,questionTypes:g.questionTypes.includes(A)?g.questionTypes.filter(x=>x!==A):[...g.questionTypes,A]}))},u=async()=>{!t.subject||!t.topic||t.questionTypes.length===0||(i(!0),setTimeout(()=>{const A={title:`${t.topic} Tryout - Grade ${t.grade}`,subject:t.subject,topic:t.topic,difficulty:t.difficulty,timeLimit:t.timeLimit,questionTypes:t.questionTypes,questions:h(t)};n(A),i(!1)},2e3))},h=A=>{const g=[],x=Math.ceil(parseInt(A.questionCount)/A.questionTypes.length);return A.questionTypes.forEach((v,j)=>{for(let b=0;b<x&&g.length<parseInt(A.questionCount);b++){const S=g.length+1;switch(v){case"mcq":g.push({id:S,type:"mcq",question:`Multiple choice question ${S} about ${A.topic}`,options:["Option A","Option B","Option C","Option D"],correct:0,points:1});break;case"true-false":g.push({id:S,type:"true-false",question:`True or false: Statement ${S} about ${A.topic}`,correct:!0,points:1});break;case"fill-blank":g.push({id:S,type:"fill-blank",question:`Complete the following sentence about ${A.topic}: "This is a _____ concept in ${A.subject}."`,blanks:["fundamental"],points:1});break;case"short-answer":g.push({id:S,type:"short-answer",question:`Explain the concept ${S} related to ${A.topic}`,answer:"Sample short answer explanation",points:2});break;case"match-list":g.push({id:S,type:"match-list",question:`Match the following items related to ${A.topic}`,leftItems:["Item 1","Item 2","Item 3"],rightItems:["Match A","Match B","Match C"],matches:{0:0,1:1,2:2},points:3});break;case"drag-drop":g.push({id:S,type:"drag-drop",question:`Arrange the following items in the correct order for ${A.topic}`,items:["Step 1","Step 2","Step 3","Step 4"],correctOrder:[0,1,2,3],points:2});break}}}),g.slice(0,parseInt(A.questionCount))},m=()=>{const A=`${r.title}

Subject: ${r.subject}
Topic: ${r.topic}
Difficulty: ${r.difficulty}
Time Limit: ${r.timeLimit} minutes
Total Questions: ${r.questions.length}

`+r.questions.map((v,j)=>{let b=`${j+1}. ${v.question}
`;return v.type==="mcq"&&(b+=v.options.map((S,w)=>`   ${String.fromCharCode(65+w)}. ${S}`).join(`
`)+`
`),b+`
`}).join(""),g=document.createElement("a"),x=new Blob([A],{type:"text/plain"});g.href=URL.createObjectURL(x),g.download=`${t.topic}_tryout.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g)},f=(A,g)=>{switch(A.type){case"mcq":return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",A.id,": ",A.question]}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"MCQ"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:A.options.map((x,v)=>s.jsxs("div",{className:`text-sm p-2 rounded border ${v===A.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:[String.fromCharCode(65+v),". ",x]},v))})]},g);case"true-false":return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",A.id,": ",A.question]}),s.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"T/F"})]}),s.jsxs("div",{className:"flex gap-4 mt-3",children:[s.jsx("div",{className:`text-sm p-2 rounded border ${A.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:"True"}),s.jsx("div",{className:`text-sm p-2 rounded border ${A.correct?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200 text-green-800"}`,children:"False"})]})]},g);case"fill-blank":return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",A.id,": ",A.question]}),s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Fill Blank"})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("span",{className:"text-sm text-green-700 bg-green-50 px-2 py-1 rounded",children:["Answer: ",A.blanks[0]]})})]},g);default:return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",A.id,": ",A.question]}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:A.type})]})},g)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(kr,{className:"h-6 w-6 text-indigo-500"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tryout Generator"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsxs("select",{value:t.subject,onChange:A=>e({...t,subject:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"Select Subject"}),s.jsx("option",{value:"mathematics",children:"Mathematics"}),s.jsx("option",{value:"physics",children:"Physics"}),s.jsx("option",{value:"chemistry",children:"Chemistry"}),s.jsx("option",{value:"biology",children:"Biology"}),s.jsx("option",{value:"english",children:"English"}),s.jsx("option",{value:"history",children:"History"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),s.jsx("input",{type:"text",value:t.topic,onChange:A=>e({...t,topic:A.target.value}),placeholder:"Enter the tryout topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),s.jsxs("select",{value:t.grade,onChange:A=>e({...t,grade:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((A,g)=>s.jsxs("option",{value:g+1,children:["Grade ",g+1]},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Count"}),s.jsxs("select",{value:t.questionCount,onChange:A=>e({...t,questionCount:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"10",children:"10 Questions"}),s.jsx("option",{value:"15",children:"15 Questions"}),s.jsx("option",{value:"20",children:"20 Questions"}),s.jsx("option",{value:"25",children:"25 Questions"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Types"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(A=>s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",value:A.value,checked:t.questionTypes.includes(A.value),onChange:()=>d(A.value),className:"mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:A.label}),s.jsx("div",{className:"text-xs text-gray-600",children:A.description})]})]},A.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),s.jsxs("select",{value:t.difficulty,onChange:A=>e({...t,difficulty:A.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"easy",children:"Easy"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"hard",children:"Hard"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit"}),s.jsx("input",{type:"number",value:t.timeLimit,onChange:A=>e({...t,timeLimit:A.target.value}),min:"10",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),s.jsx("button",{onClick:u,disabled:a||!t.subject||!t.topic||t.questionTypes.length===0,className:"w-full py-3 px-6 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Tryout..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-4 w-4"}),"Generate Tryout"]})})]}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),s.jsxs("p",{className:"text-gray-600",children:[r.questions.length," questions  ",r.timeLimit," minutes  ",r.difficulty]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>l(!o),className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:s.jsx(Is,{className:"h-4 w-4"})}),s.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:s.jsx(is,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Tryout Overview"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-indigo-700",children:"Subject:"})," ",r.subject]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-indigo-700",children:"Topic:"})," ",r.topic]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-indigo-700",children:"Questions:"})," ",r.questions.length]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-indigo-700",children:"Total Points:"})," ",r.questions.reduce((A,g)=>A+g.points,0)]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-indigo-700",children:"Question Types:"})," ",t.questionTypes.join(", ")]})]}),s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Questions Preview"}),s.jsx("span",{className:"text-sm text-gray-500",children:o?"Detailed View":`Showing ${Math.min(5,r.questions.length)} of ${r.questions.length}`})]}),(o?r.questions:r.questions.slice(0,5)).map((A,g)=>f(A,g)),!o&&r.questions.length>5&&s.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",r.questions.length-5," more questions..."]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(kr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Configure your settings to generate a tryout"})]})})})]})]})},dJe=()=>{const[t,e]=F.useState("attendance"),[r,n]=F.useState(!1),[a,i]=F.useState(!1),[o,l]=F.useState(!1),[c,d]=F.useState("2025-01"),h={"2025-01":[{date:"2025-01-31",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2025-01-30",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-29",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2025-01-28",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-27",checkIn:"09:15",checkOut:"17:15",status:"Late"},{date:"2025-01-26",checkIn:"-",checkOut:"-",status:"Holiday"},{date:"2025-01-25",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-24",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-23",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2025-01-22",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2025-01-21",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-20",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-19",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-18",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-17",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-16",checkIn:"-",checkOut:"-",status:"Sick Leave"},{date:"2025-01-15",checkIn:"-",checkOut:"-",status:"Sick Leave"},{date:"2025-01-14",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2025-01-13",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-12",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-11",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-10",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2025-01-09",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-08",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-07",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2025-01-06",checkIn:"09:00",checkOut:"17:00",status:"Late"},{date:"2025-01-05",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-04",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-03",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-02",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-01",checkIn:"-",checkOut:"-",status:"Holiday"}],"2024-12":[{date:"2024-12-31",checkIn:"08:30",checkOut:"15:00",status:"Half Day"},{date:"2024-12-30",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-29",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-28",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-27",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-26",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-12-25",checkIn:"-",checkOut:"-",status:"Holiday"},{date:"2024-12-24",checkIn:"08:30",checkOut:"15:00",status:"Half Day"},{date:"2024-12-23",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-22",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-21",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-20",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-19",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-12-18",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2024-12-17",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-16",checkIn:"09:10",checkOut:"17:10",status:"Late"},{date:"2024-12-15",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-14",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-13",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-12",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-11",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-10",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-12-09",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-08",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-07",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-06",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-05",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-12-04",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-03",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-02",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-01",checkIn:"-",checkOut:"-",status:"Weekend"}],"2024-11":[{date:"2024-11-30",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-29",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-28",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-11-27",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-11-26",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-25",checkIn:"09:05",checkOut:"17:05",status:"Late"},{date:"2024-11-24",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-23",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-22",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-21",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-20",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-11-19",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2024-11-18",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-17",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-16",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-15",checkIn:"-",checkOut:"-",status:"Casual Leave"},{date:"2024-11-14",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-13",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-12",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-11-11",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-10",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-09",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-08",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-11-07",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-06",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-11-05",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-04",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-03",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-02",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-01",checkIn:"08:25",checkOut:"17:35",status:"Present"}]}[c]||[],m=[{value:"2025-01",label:"January 2025"},{value:"2024-12",label:"December 2024"},{value:"2024-11",label:"November 2024"}],A=(V=>{const ee=V.length,Y=V.filter(oe=>oe.status==="Present").length,re=V.filter(oe=>oe.status==="Late").length,D=V.filter(oe=>["Absent","Sick Leave","Casual Leave"].includes(oe.status)).length,G=V.filter(oe=>["Weekend","Holiday","Half Day"].includes(oe.status)).length,z=ee-G,K=z>0?Math.round((Y+re)/z*100):0;return{presentDays:Y,lateDays:re,absentDays:D,attendanceRate:K}})(h),[g,x]=F.useState([{id:1,type:"Sick Leave",startDate:"2025-01-15",endDate:"2025-01-16",status:"Approved",reason:"Medical appointment"},{id:2,type:"Casual Leave",startDate:"2025-01-20",endDate:"2025-01-20",status:"Pending",reason:"Personal work"},{id:3,type:"Annual Leave",startDate:"2025-02-01",endDate:"2025-02-05",status:"Rejected",reason:"Family vacation"}]),[v,j]=F.useState({name:"Dr. Sarah Johnson",email:"sarah.johnson@eec.edu",phone:"+1 (555) 123-4567",department:"Mathematics",employeeId:"EEC2024001",joinDate:"2020-08-15",address:"123 Main St, City, State 12345",emergencyContact:"John Johnson - +1 (555) 987-6543"}),[b,S]=F.useState([{id:1,title:"Leave Request Approved",message:"Your sick leave for Jan 15-16 has been approved",type:"success",read:!1,timestamp:"2 hours ago"},{id:2,title:"Expense Claim Update",message:"Your expense claim #EC001 needs additional documentation",type:"warning",read:!1,timestamp:"5 hours ago"},{id:3,title:"Profile Update Required",message:"Please update your emergency contact information",type:"info",read:!0,timestamp:"1 day ago"},{id:4,title:"Holiday Notice",message:"School will be closed on Jan 26th for Republic Day",type:"info",read:!0,timestamp:"2 days ago"}]),[w,N]=F.useState([{id:1,name:"Employee Handbook 2025",type:"PDF",size:"2.5 MB",category:"Policy",uploadDate:"2025-01-01"},{id:2,name:"Salary Certificate",type:"PDF",size:"150 KB",category:"Personal",uploadDate:"2024-12-15"},{id:3,name:"Tax Declaration Form",type:"PDF",size:"300 KB",category:"Financial",uploadDate:"2024-11-30"},{id:4,name:"Performance Review 2024",type:"PDF",size:"500 KB",category:"Performance",uploadDate:"2024-12-31"}]),[E,P]=F.useState([{id:1,category:"Travel",amount:150,description:"Conference travel expenses",date:"2025-01-05",status:"Approved",receipt:"receipt_001.pdf"},{id:2,category:"Supplies",amount:75,description:"Teaching materials",date:"2025-01-03",status:"Pending",receipt:"receipt_002.pdf"},{id:3,category:"Training",amount:200,description:"Professional development course",date:"2024-12-28",status:"Rejected",receipt:"receipt_003.pdf"}]),_=[{id:"attendance",label:"Attendance",icon:dr},{id:"leave",label:"Leave Management",icon:tr},{id:"profile",label:"Profile",icon:As},{id:"notifications",label:"Notifications",icon:Kn},{id:"documents",label:"Documents",icon:kr},{id:"expenses",label:"Expenses",icon:dh}],B=V=>{switch(V.toLowerCase()){case"approved":case"present":return"text-green-600 bg-green-100";case"pending":case"late":return"text-yellow-600 bg-yellow-100";case"rejected":case"absent":case"sick leave":case"casual leave":return"text-red-600 bg-red-100";case"weekend":case"holiday":return"text-gray-600 bg-gray-100";case"half day":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},k=V=>{S(b.map(ee=>ee.id===V?{...ee,read:!0}:ee))},M=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Attendance Overview"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Month:"}),s.jsx("select",{value:c,onChange:V=>d(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",children:m.map(V=>s.jsx("option",{value:V.value,children:V.label},V.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.presentDays}),s.jsx("div",{className:"text-sm text-green-700",children:"Days Present"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.lateDays}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Days Late"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:A.absentDays}),s.jsx("div",{className:"text-sm text-red-700",children:"Days Absent"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[A.attendanceRate,"%"]}),s.jsx("div",{className:"text-sm text-blue-700",children:"Attendance Rate"})]})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-200",children:[s.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Date"}),s.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Check In"}),s.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Check Out"}),s.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Status"})]})}),s.jsx("tbody",{children:h.map((V,ee)=>s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3",children:V.date}),s.jsx("td",{className:"py-3",children:V.checkIn}),s.jsx("td",{className:"py-3",children:V.checkOut}),s.jsx("td",{className:"py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(V.status)}`,children:V.status})})]},ee))})]})})})]})}),T=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Leave Management"}),s.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Apply Leave"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15"}),s.jsx("div",{className:"text-sm text-green-700",children:"Available Days"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"3"}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Used Days"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1"}),s.jsx("div",{className:"text-sm text-blue-700",children:"Pending Requests"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:g.map(V=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:V.type}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[V.startDate," to ",V.endDate]}),s.jsx("p",{className:"text-sm text-gray-700 mt-2",children:V.reason})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(V.status)}`,children:V.status})]})},V.id))})})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Apply for Leave"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{children:"Sick Leave"}),s.jsx("option",{children:"Casual Leave"}),s.jsx("option",{children:"Annual Leave"}),s.jsx("option",{children:"Maternity Leave"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),s.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),s.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})]})]})]})})]}),H=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Management"}),s.jsxs("button",{onClick:()=>l(!o),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[o?s.jsx(cI,{className:"w-4 h-4"}):s.jsx(dI,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Save":"Edit"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx(jde,{className:"w-16 h-16 text-gray-500"})}),o&&s.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700",children:s.jsx(iI,{className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-medium text-gray-900",children:v.name}),s.jsx("p",{className:"text-gray-600",children:v.department}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Employee ID: ",v.employeeId]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",value:v.name,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",value:v.email,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:v.phone,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),s.jsx("input",{type:"text",value:v.department,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Join Date"}),s.jsx("input",{type:"date",value:v.joinDate,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),s.jsx("input",{type:"text",value:v.employeeId,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("textarea",{value:v.address,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50",rows:"3"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),s.jsx("input",{type:"text",value:v.emergencyContact,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]})})]}),L=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications & Alerts"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[b.filter(V=>!V.read).length," unread"]})]}),s.jsx("div",{className:"space-y-4",children:b.map(V=>s.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${V.read?"":"border-l-4 border-l-blue-500"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[V.type==="success"&&s.jsx(Lr,{className:"w-5 h-5 text-green-500"}),V.type==="warning"&&s.jsx(Ir,{className:"w-5 h-5 text-yellow-500"}),V.type==="info"&&s.jsx(Fce,{className:"w-5 h-5 text-blue-500"}),s.jsx("h4",{className:`font-medium ${V.read?"text-gray-600":"text-gray-900"}`,children:V.title})]}),s.jsx("p",{className:`mt-1 text-sm ${V.read?"text-gray-500":"text-gray-700"}`,children:V.message}),s.jsx("p",{className:"mt-2 text-xs text-gray-400",children:V.timestamp})]}),!V.read&&s.jsx("button",{onClick:()=>k(V.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark as read"})]})},V.id))})]}),Q=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Document Access"}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(Ew,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Document"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(V=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:s.jsx(kr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:V.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[V.type,"  ",V.size]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[V.category,"  ",V.uploadDate]})]})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Download"})]})})]},V.id))})})})]}),O=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Expense Claims"}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"New Claim"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$150"}),s.jsx("div",{className:"text-sm text-green-700",children:"Approved Claims"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"$75"}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Claims"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:"$200"}),s.jsx("div",{className:"text-sm text-red-700",children:"Rejected Claims"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:E.map(V=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(PX,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:V.category}),s.jsx("p",{className:"text-sm text-gray-600",children:V.description}),s.jsx("p",{className:"text-xs text-gray-500",children:V.date})]})]})}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",V.amount]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(V.status)}`,children:V.status})]})]})},V.id))})})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Submit Expense Claim"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),s.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{children:"Travel"}),s.jsx("option",{children:"Supplies"}),s.jsx("option",{children:"Training"}),s.jsx("option",{children:"Entertainment"}),s.jsx("option",{children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),s.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Receipt"}),s.jsx("input",{type:"file",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})]})]})]})})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Work Portal"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your work-related activities and information"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:_.map(V=>s.jsxs("button",{onClick:()=>e(V.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===V.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(V.icon,{className:"w-5 h-5"}),s.jsx("span",{children:V.label})]},V.id))})}),s.jsxs("div",{className:"tab-content",children:[t==="attendance"&&M(),t==="leave"&&T(),t==="profile"&&H(),t==="notifications"&&L(),t==="documents"&&Q(),t==="expenses"&&O()]})]})})},uJe=()=>{const[t,e]=F.useState(new Date),[r,n]=F.useState("week"),[a,i]=F.useState(new Date().getDay()===0?1:new Date().getDay()),o={teacherName:"John Smith",subject:"Mathematics",classes:{1:[{id:1,time:"08:00 - 08:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Quadratic Equations",students:32,type:"regular"},{id:2,time:"09:00 - 09:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Trigonometry Basics",students:28,type:"regular"},{id:3,time:"11:00 - 11:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Linear Equations",students:30,type:"regular"},{id:4,time:"14:00 - 14:45",subject:"Extra Classes",class:"10-A",room:"Room 101",topic:"Problem Solving Session",students:15,type:"extra"}],2:[{id:5,time:"08:00 - 08:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Geometry Fundamentals",students:29,type:"regular"},{id:6,time:"10:00 - 10:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Quadratic Equations - Practice",students:32,type:"regular"},{id:7,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Trigonometry - Advanced",students:28,type:"regular"},{id:8,time:"15:00 - 15:45",subject:"Tutorial",class:"Mixed",room:"Library",topic:"Doubt Clearing Session",students:12,type:"tutorial"}],3:[{id:9,time:"08:00 - 08:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Functions and Graphs",students:32,type:"regular"},{id:10,time:"09:00 - 09:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Linear Equations - Advanced",students:30,type:"regular"},{id:11,time:"10:00 - 10:45",subject:"Free Period",class:"-",room:"Staff Room",topic:"Preparation Time",students:0,type:"free"},{id:12,time:"14:00 - 14:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Statistics Introduction",students:28,type:"regular"}],4:[{id:13,time:"08:00 - 08:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Geometry - Circles",students:29,type:"regular"},{id:14,time:"09:00 - 09:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Functions - Practice",students:32,type:"regular"},{id:15,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Statistics - Data Analysis",students:28,type:"regular"},{id:16,time:"13:00 - 13:45",subject:"Faculty Meeting",class:"All Teachers",room:"Conference Room",topic:"Monthly Review",students:0,type:"meeting"}],5:[{id:17,time:"08:00 - 08:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Revision Session",students:30,type:"regular"},{id:18,time:"09:00 - 09:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Test Preparation",students:29,type:"regular"},{id:19,time:"10:00 - 10:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Weekly Test",students:32,type:"test"},{id:20,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Weekly Test",students:28,type:"test"}],6:[{id:21,time:"08:00 - 08:45",subject:"Extra Classes",class:"10-A & 10-B",room:"Room 101",topic:"Competitive Exam Prep",students:20,type:"extra"},{id:22,time:"10:00 - 10:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Project Discussion",students:30,type:"project"}]}},l=["08:00 - 08:45","09:00 - 09:45","10:00 - 10:45","11:00 - 11:45","12:00 - 12:45","13:00 - 13:45","14:00 - 14:45","15:00 - 15:45"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=v=>{switch(v){case"regular":return"bg-blue-100 text-blue-800 border-blue-200";case"extra":return"bg-green-100 text-green-800 border-green-200";case"tutorial":return"bg-purple-100 text-purple-800 border-purple-200";case"test":return"bg-red-100 text-red-800 border-red-200";case"project":return"bg-orange-100 text-orange-800 border-orange-200";case"meeting":return"bg-gray-100 text-gray-800 border-gray-200";case"free":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},h=v=>{const j=[],b=new Date(v),S=b.getDay(),w=b.getDate()-S+(S===0?-6:1);b.setDate(w);for(let N=0;N<7;N++){const E=new Date(b);E.setDate(b.getDate()+N),j.push(E)}return j},m=v=>{const j=new Date(t);j.setDate(t.getDate()+v*7),e(j)},f=h(t),A=new Date().getDay(),g=o.classes[A===0?7:A]||[],x=g.find(v=>{const j=new Date,b=v.time.split(" - ")[0],[S,w]=b.split(":").map(Number),N=new Date;return N.setHours(S,w,0,0),N>j});return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-6 mb-6 text-white shadow-md",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Class Routine"}),s.jsx("p",{className:"text-indigo-100",children:"View your teaching schedule and upcoming classes"}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("span",{className:"text-indigo-200",children:["Teacher: ",o.teacherName]}),s.jsx("span",{className:"text-indigo-200",children:""}),s.jsxs("span",{className:"text-indigo-200",children:["Subject: ",o.subject]})]})]}),x&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Kn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Next Class"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{className:"font-medium",children:[x.class," - ",x.subject]}),s.jsxs("p",{className:"text-indigo-200",children:[x.time,"  ",x.room]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Today's Classes"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:g.length})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(Qr,{className:"w-5 h-5 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Weekly Classes"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:Object.values(o.classes).flat().length})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:Object.values(o.classes).flat().reduce((v,j)=>v+j.students,0)})]}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:s.jsx(pr,{className:"w-5 h-5 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Classes Today"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:g.filter(v=>v.type==="regular").length})]}),s.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:s.jsx(dr,{className:"w-5 h-5 text-orange-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(wd,{className:"w-4 h-4"})}),s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Week of ",f[0].toLocaleDateString()," - ",f[6].toLocaleDateString()]}),s.jsx("button",{onClick:()=>m(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(aa,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>n("week"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${r==="week"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Week View"}),s.jsx("button",{onClick:()=>n("day"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${r==="day"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Day View"})]})]})}),r==="week"?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-[800px]",children:[s.jsxs("div",{className:"grid grid-cols-8 gap-px bg-gray-200",children:[s.jsx("div",{className:"bg-gray-50 p-4 font-medium text-gray-700",children:"Time"}),f.slice(1).map((v,j)=>{const b=j+1,S=v.toDateString()===new Date().toDateString();return s.jsxs("div",{className:`p-4 text-center font-medium ${S?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[s.jsx("div",{children:d[b]}),s.jsx("div",{className:"text-sm text-gray-500",children:v.getDate()})]},b)})]}),s.jsx("div",{className:"divide-y divide-gray-200",children:l.map(v=>s.jsxs("div",{className:"grid grid-cols-8 gap-px bg-gray-200 min-h-[80px]",children:[s.jsx("div",{className:"bg-white p-4 flex items-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:v})}),[1,2,3,4,5,6].map(j=>{const S=(o.classes[j]||[]).find(w=>w.time===v);return s.jsx("div",{className:"bg-white p-2",children:S?s.jsxs("div",{className:`p-3 rounded-lg border-l-4 h-full ${u(S.type)}`,children:[s.jsx("div",{className:"text-sm font-medium",children:S.class}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:S.topic}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("span",{className:"text-xs flex items-center",children:[s.jsx(ml,{className:"w-3 h-3 mr-1"}),S.room]}),s.jsxs("span",{className:"text-xs flex items-center",children:[s.jsx(pr,{className:"w-3 h-3 mr-1"}),S.students]})]})]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-xs",children:"Free"})})},j)})]},v))})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:s.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:f.slice(1).map((v,j)=>{const b=j+1,S=a===b,w=v.toDateString()===new Date().toDateString();return s.jsxs("button",{onClick:()=>i(b),className:`flex-shrink-0 px-4 py-3 rounded-lg text-center transition-colors ${S?"bg-indigo-100 text-indigo-700 border border-indigo-200":w?"bg-blue-50 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("div",{className:"font-medium",children:d[b]}),s.jsx("div",{className:"text-sm",children:v.getDate()})]},b)})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[c[a]," Schedule"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:(o.classes[a]||[]).length>0?o.classes[a].map(v=>s.jsx("div",{className:`p-4 rounded-lg border-l-4 ${u(v.type)}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(dr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"font-medium text-gray-800",children:v.time}),s.jsx("span",{className:"px-2 py-1 bg-white/50 rounded text-xs font-medium",children:v.type.charAt(0).toUpperCase()+v.type.slice(1)})]}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:[v.class," - ",v.subject]}),s.jsx("p",{className:"text-gray-600 mb-3",children:v.topic}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ml,{className:"w-4 h-4 mr-1"}),v.room]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pr,{className:"w-4 h-4 mr-1"}),v.students," students"]})]})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ww,{className:"w-5 h-5"})})]})},v.id)):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(tr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No classes scheduled for this day"})]})})})]})]})]})},hJe=()=>{const[t,e]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState([]),[o,l]=F.useState(!1),c=["Class 5A","Class 5B","Class 6A","Class 6B","Class 7A","Class 7B"],d=[{id:1,name:"Emma Johnson",class:"Class 5A",rollNo:"001"},{id:2,name:"Liam Smith",class:"Class 5A",rollNo:"002"},{id:3,name:"Sophia Brown",class:"Class 5A",rollNo:"003"},{id:4,name:"Noah Davis",class:"Class 5B",rollNo:"004"},{id:5,name:"Olivia Wilson",class:"Class 5B",rollNo:"005"},{id:6,name:"Mason Taylor",class:"Class 6A",rollNo:"006"}],u=["Physical Symptoms","Energy Level","Appetite","Sleep Quality","Physical Activity","Injury/Illness","Hygiene","General Wellness"],h=["Mood","Social Interaction","Academic Engagement","Behavior","Attention/Focus","Stress Level","Confidence","Communication"],m={"Physical Symptoms":["None","Headache","Stomach ache","Fatigue","Cough/Cold","Fever","Other"],"Energy Level":["Very High","High","Normal","Low","Very Low"],Appetite:["Excellent","Good","Normal","Poor","Very Poor"],"Sleep Quality":["Well Rested","Slightly Tired","Tired","Very Tired","Exhausted"],"Physical Activity":["Very Active","Active","Moderate","Less Active","Inactive"],"Injury/Illness":["None","Minor Injury","Illness","Chronic Condition","Medication Needed"],Hygiene:["Excellent","Good","Acceptable","Needs Attention","Poor"],"General Wellness":["Excellent","Very Good","Good","Fair","Poor"]},f={Mood:["Very Happy","Happy","Content","Neutral","Sad","Very Sad","Irritable"],"Social Interaction":["Very Social","Social","Moderate","Withdrawn","Isolated"],"Academic Engagement":["Highly Engaged","Engaged","Moderate","Disengaged","Completely Disengaged"],Behavior:["Excellent","Good","Acceptable","Challenging","Concerning"],"Attention/Focus":["Excellent","Good","Average","Poor","Very Poor"],"Stress Level":["No Stress","Low","Moderate","High","Very High"],Confidence:["Very Confident","Confident","Moderate","Low Confidence","Very Low"],Communication:["Excellent","Good","Average","Limited","Concerning"]},[A,g]=F.useState({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),x=d.filter(w=>{const N=w.name.toLowerCase().includes(r.toLowerCase())||w.rollNo.includes(r),E=t===""||w.class===t;return N&&E}),v=(w,N,E)=>{g(P=>({...P,[w]:{...P[w],[N]:E}}))},j=w=>{var E;w.preventDefault();const N={...A,id:a.length+1,timestamp:new Date().toISOString(),studentName:((E=d.find(P=>P.id===parseInt(A.studentId)))==null?void 0:E.name)||""};i(P=>[N,...P]),l(!0),g({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),setTimeout(()=>{l(!1)},3e3)},b=w=>{switch(w){case"low":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"high":return"text-yellow-600 bg-yellow-100";case"urgent":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},S=w=>{const N=Object.values(w).map(E=>{if(typeof E=="string"){if(E.includes("Excellent")||E.includes("Very High")||E.includes("Very Good"))return 5;if(E.includes("Good")||E.includes("High")||E.includes("Normal"))return 4;if(E.includes("Moderate")||E.includes("Acceptable")||E.includes("Average"))return 3;if(E.includes("Poor")||E.includes("Low")||E.includes("Challenging"))return 2;if(E.includes("Very Poor")||E.includes("Very Low")||E.includes("Concerning"))return 1}return 3});return N.length>0?Math.round(N.reduce((E,P)=>E+P,0)/N.length):0};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Is,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Health & Emotion Observation"}),s.jsx("p",{className:"text-gray-600",children:"Record daily observations of student physical health and emotional wellbeing"})]})]})}),o&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lr,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx($s,{className:"w-5 h-5 mr-2"}),"New Observation Entry"]})}),s.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student"}),s.jsxs("select",{value:A.studentId,onChange:w=>g(N=>({...N,studentId:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Choose a student"}),x.map(w=>s.jsxs("option",{value:w.id,children:[w.name," - ",w.rollNo," (",w.class,")"]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",value:A.date,onChange:w=>g(N=>({...N,date:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),s.jsx("input",{type:"time",value:A.time,onChange:w=>g(N=>({...N,time:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ql,{className:"w-5 h-5 mr-2 text-red-500"}),"Physical Health Observations"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(w=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w}),s.jsxs("select",{value:A.healthObservations[w]||"",onChange:N=>v("healthObservations",w,N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select option"}),m[w].map(N=>s.jsx("option",{value:N,children:N},N))]})]},w))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Js,{className:"w-5 h-5 mr-2 text-purple-500"}),"Emotional & Behavioral Observations"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(w=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w}),s.jsxs("select",{value:A.emotionObservations[w]||"",onChange:N=>v("emotionObservations",w,N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select option"}),f[w].map(N=>s.jsx("option",{value:N,children:N},N))]})]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),s.jsxs("select",{value:A.urgencyLevel,onChange:w=>g(N=>({...N,urgencyLevel:w.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"low",children:"Low - Routine observation"}),s.jsx("option",{value:"normal",children:"Normal - Standard monitoring"}),s.jsx("option",{value:"high",children:"High - Needs attention"}),s.jsx("option",{value:"urgent",children:"Urgent - Immediate action required"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"followUp",checked:A.followUpRequired,onChange:w=>g(N=>({...N,followUpRequired:w.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"followUp",className:"ml-2 text-sm text-gray-700",children:"Follow-up required"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"parentNotify",checked:A.parentNotification,onChange:w=>g(N=>({...N,parentNotification:w.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"parentNotify",className:"ml-2 text-sm text-gray-700",children:"Notify parents"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes & Observations"}),s.jsx("textarea",{value:A.additionalNotes,onChange:w=>g(N=>({...N,additionalNotes:w.target.value})),placeholder:"Add any additional observations, context, or specific details...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("button",{type:"submit",disabled:!A.studentId,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center ${A.studentId?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(cI,{className:"w-5 h-5 mr-2"}),"Save Observation"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(xo,{className:"w-5 h-5 mr-2"}),"Student Filter"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),s.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"All Classes"}),c.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Student"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Name or roll number...",value:r,onChange:w=>n(w.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cs,{className:"w-5 h-5 mr-2"}),"Recent Observations"]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.length>0?a.slice(0,5).map(w=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:w.studentName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(w.urgencyLevel)}`,children:w.urgencyLevel.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[s.jsx(dr,{className:"w-3 h-3"}),s.jsx("span",{children:w.date})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Health Score:"}),s.jsxs("span",{className:"ml-1 font-medium",children:[S(w.healthObservations),"/5"]})]}),s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Emotion Score:"}),s.jsxs("span",{className:"ml-1 font-medium",children:[S(w.emotionObservations),"/5"]})]})]}),w.additionalNotes&&s.jsx("p",{className:"text-xs text-gray-600 truncate",children:w.additionalNotes}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[w.followUpRequired&&s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Follow-up"}),w.parentNotification&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Parent Notify"})]})]},w.id)):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ya,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No observations recorded yet"})]})})]})]})]})]})})},fJe=()=>{const[t,e]=F.useState(!1);F.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const r=[{icon:Lv,label:"Dashboard",path:"/teachers"},{icon:aI,label:"My Work Portal",path:"/teachers/my-work-portal"},{icon:dr,label:"Class Routine",path:"/teachers/class-routine"},{icon:pd,label:"Attendance",path:"/teachers/attendance"},{icon:Mn,label:"Student Progress",path:"/teachers/progress"},{icon:Vo,label:"Weak Students",path:"/teachers/weak-students"},{icon:Js,label:"AI Powered Teaching",path:"/teachers/ai-powered-teaching"},{icon:Ya,label:"Student Health Updates",path:"/teachers/health-updates"},{icon:Is,label:"Student Observations",path:"/teachers/student-observations"},{icon:tr,label:"Parent Meetings",path:"/teachers/parent-meetings"},{icon:kr,label:"Assignment Management",path:"/teachers/assignments"},{icon:Bb,label:"Assignment Evaluation",path:"/teachers/evaluation"},{icon:kn,label:"Chat",path:"/teachers/chat"},{icon:Qr,label:"Lesson Plans",path:"/teachers/lesson-plans"}],n=()=>{window.innerWidth<1024&&e(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[s.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-yellow-500 text-white rounded-lg shadow-md",onClick:()=>e(!t),children:t?s.jsx(Gs,{size:24}):s.jsx(Sw,{size:24})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>e(!1)}),s.jsx("div",{className:`
        fixed top-0 left-0 h-screen w-64 bg-white shadow-lg z-40 overflow-y-auto
        transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(pr,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Teacher Portal"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back!"})]})]}),s.jsx("nav",{className:"space-y-2",children:r.map(a=>s.jsxs(Qg,{to:a.path,onClick:n,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors",children:[s.jsx(a.icon,{className:"h-5 w-5"}),s.jsx("span",{children:a.label})]},a.path))})]})}),s.jsx("div",{className:"flex-1 lg:ml-64 min-h-screen overflow-y-auto",children:s.jsx("div",{className:"h-full",children:s.jsxs(bw,{children:[s.jsx(qt,{path:"/",element:s.jsx(GYe,{})}),s.jsx(qt,{path:"/test",element:s.jsx(tJe,{})}),s.jsx(qt,{path:"/my-work-portal",element:s.jsx(dJe,{})}),s.jsx(qt,{path:"/class-routine",element:s.jsx(uJe,{})}),s.jsx(qt,{path:"/attendance",element:s.jsx($Ye,{})}),s.jsx(qt,{path:"/progress",element:s.jsx(JYe,{})}),s.jsx(qt,{path:"/weak-students",element:s.jsx(ZYe,{})}),s.jsx(qt,{path:"/ai-powered-teaching",element:s.jsx(rJe,{})}),s.jsx(qt,{path:"/ai-learning/:studentId/:subject",element:s.jsx(eJe,{})}),s.jsx(qt,{path:"/health-updates",element:s.jsx(UYe,{})}),s.jsx(qt,{path:"/student-observations",element:s.jsx(hJe,{})}),s.jsx(qt,{path:"/parent-meetings",element:s.jsx(HYe,{})}),s.jsx(qt,{path:"/assignments",element:s.jsx(QYe,{})}),s.jsx(qt,{path:"/evaluation",element:s.jsx(zYe,{})}),s.jsx(qt,{path:"/chat",element:s.jsx(YYe,{})}),s.jsx(qt,{path:"/lesson-plans",element:s.jsx(VYe,{})})]})})})]})},mJe=()=>{const[t,e]=F.useState(0),[r,n]=F.useState(0),[a,i]=F.useState(""),[o,l]=F.useState("Student"),[c,d]=F.useState(""),[u,h]=F.useState(""),[m,f]=F.useState(""),[A,g]=F.useState(""),[x,v]=F.useState(""),[j,b]=F.useState(!1),[S,w]=F.useState(!1),[N,E]=F.useState(""),P=mi(),_=o==="Student",B=o==="Parent",k=async T=>{if(T.preventDefault(),!N){alert("Please indicate if you are willing to allow promotional use.");return}if(_&&!j){alert("You must agree to the Terms & Conditions.");return}try{w(!0);const H=await fetch("http://localhost:5000/api/feedback/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:o,name:c,schoolName:u,phone:m,email:A,class:x,consent:N,rating:t,feedback:a})});if(!H.ok)throw new Error("Failed to submit feedback");const L=await H.json();console.log(L),P("./thank-you")}catch(H){console.error("Error submitting feedback:",H)}finally{w(!1)}},M=T=>{switch(T){case"Student":return s.jsx(As,{className:"w-4 h-4"});case"Parent":return s.jsx(pr,{className:"w-4 h-4"});case"Teacher":return s.jsx(dm,{className:"w-4 h-4"});case"Admin":return s.jsx(dm,{className:"w-4 h-4"});default:return s.jsx(As,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"h-screen w-screen lg:w-[60%] bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-6 sm:py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-center absolute top-0 left-1/2 -translate-x-1/2 overflow-y-scroll ",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-20 sm:-top-40 -right-20 sm:-right-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-yellow-200 to-orange-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-20 sm:-bottom-40 -left-20 sm:-left-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl"})]}),s.jsxs("div",{className:"relative top-4/5 w-full max-w-md mx-auto bg-white backdrop-blur-sm rounded-2xl shadow-2xl border border-purple-400 p-4 sm:p-8 transform transition-all duration-300 hover:shadow-3xl",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 sm:w-16 h-12 sm:h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full mb-3 sm:mb-4 shadow-lg",children:s.jsx(du,{className:"w-6 sm:w-8 h-6 sm:h-8 text-white"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-3 sm:mb-4",children:"We'd Love Your Feedback!"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed px-2",children:"Your feedback helps us improve our services and provide a better experience for everyone."})]}),s.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"role",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[M(o),s.jsx("span",{className:"ml-2",children:"I am a"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:"role",value:o,onChange:T=>l(T.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[s.jsx("option",{value:"Student",children:"Student"}),s.jsx("option",{value:"Parent",children:"Parent"}),s.jsx("option",{value:"Teacher",children:"Teacher"}),s.jsx("option",{value:"Admin",children:"Admin"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none",children:s.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"name",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(As,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"Name"})]}),s.jsx("input",{id:"name",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your full name",value:c,onChange:T=>d(T.target.value),required:!0})]}),s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"schoolName",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(dm,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"School Name"})]}),s.jsx("input",{id:"schoolName",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your school name",value:u,onChange:T=>h(T.target.value),required:!0})]}),s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"phone",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Mi,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"Phone Number"})]}),s.jsx("input",{id:"phone",type:"tel",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your phone number",value:m,onChange:T=>f(T.target.value),required:!0})]}),s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"email",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Yi,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"Email"})]}),s.jsx("input",{id:"email",type:"email",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your email address",value:A,onChange:T=>g(T.target.value),required:!0})]}),(_||B)&&s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"class",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(a4,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"Class"})]}),s.jsxs("select",{id:"class",value:x,onChange:T=>v(T.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[s.jsx("option",{value:"",children:"Select class"}),s.jsx("option",{value:"1",children:"Class 1"}),s.jsx("option",{value:"2",children:"Class 2"}),s.jsx("option",{value:"3",children:"Class 3"}),s.jsx("option",{value:"4",children:"Class 4"}),s.jsx("option",{value:"5",children:"Class 5"}),s.jsx("option",{value:"6",children:"Class 6"}),s.jsx("option",{value:"7",children:"Class 7"}),s.jsx("option",{value:"8",children:"Class 8"}),s.jsx("option",{value:"9",children:"Class 9"}),s.jsx("option",{value:"10",children:"Class 10"}),s.jsx("option",{value:"11",children:"Class 11"}),s.jsx("option",{value:"12",children:"Class 12"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 sm:p-6 border border-yellow-100",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[s.jsx("label",{className:"text-base sm:text-lg font-semibold text-gray-700 text-center",children:"How would you rate your experience?"}),s.jsx("div",{className:"flex space-x-1 sm:space-x-2",children:[1,2,3,4,5].map(T=>s.jsx("button",{type:"button",className:"focus:outline-none transform transition-all duration-200 hover:scale-110 sm:hover:scale-125 focus:scale-110 sm:focus:scale-125 p-1",onMouseEnter:()=>n(T),onMouseLeave:()=>n(0),onClick:()=>e(T),children:s.jsx(ds,{className:`w-8 h-8 sm:w-10 sm:h-10 transition-all duration-200 ${T<=(r||t)?"fill-yellow-400 text-yellow-500 drop-shadow-sm":"text-gray-300 hover:text-gray-400"}`})},T))}),t>0&&s.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium animate-fade-in",children:t===5?" Excellent!":t===4?" Great!":t===3?" Good!":t===2?" Fair":" Poor"})]})}),s.jsxs("div",{className:"group",children:[s.jsxs("label",{htmlFor:"feedback",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(du,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsx("span",{className:"ml-2",children:"Additional Comments"})]}),s.jsx("textarea",{id:"feedback",rows:"3",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400 resize-none",placeholder:"Tell us about your experience... What did you like? What could we improve?",value:a,onChange:T=>i(T.target.value)})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"promoConsent",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Are you willing to add this comment and video for our promotional use?"}),s.jsxs("select",{id:"promoConsent",value:N,onChange:T=>E(T.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[s.jsx("option",{value:"",children:"Select an option"}),s.jsx("option",{value:"yes",children:"Yes"}),s.jsx("option",{value:"no",children:"No"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("input",{id:"terms",type:"checkbox",checked:j,onChange:T=>b(T.target.checked),className:"mt-1 h-4 w-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500",required:!0}),s.jsx("label",{htmlFor:"terms",className:"text-xs sm:text-sm text-gray-700",children:"I agree to the Terms & Conditions and Privacy Policy:"})]}),s.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 pt-2 sm:pt-4",children:s.jsxs("button",{type:"button",onClick:k,className:"flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-xl hover:from-yellow-500 hover:to-orange-600 transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 text-base sm:text-lg font-semibold flex items-center justify-center space-x-2",disabled:S,children:[s.jsx("span",{children:S?"Sending...":"Submit Feedback"}),s.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),s.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback is valuable to us and helps improve our services"})})]})]})},pJe=()=>{const t=mi();return s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(Lr,{size:64,className:"text-green-500"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thank You for Your Feedback!"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate you taking the time to help us improve our services."}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-yellow-500 text-black py-3 px-4 rounded-md hover:bg-yellow-600 transition-colors text-lg font-medium",children:"Return to Home"})]})})},AJe=()=>s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-50 via-blue-50 to-purple-50 p-6",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-8 max-w-lg w-full text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-amber-700 mb-6",children:"Meet the Developers"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Koushik Bala"}),s.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Frontend Developer"}),s.jsx("a",{href:"https://www.linkedin.com/in/koushikbalasxc/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"LinkedIn Profile"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Atanu Ghosh"}),s.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Backend Developer"})]})]})]})}),sT="http://localhost:5000",xJe=()=>{const t=mi(),[e,r]=F.useState(1),n=4,[a,i]=F.useState({name:"",campuses:[{name:"",address:"",campusType:"Main",contactPerson:"",contactPhone:""}],schoolType:"",board:"",boardOther:"",academicYearStructure:"",contactPersonName:"",contactPhone:"",officialEmail:"",address:"",websiteURL:"",estimatedUsers:"",logo:null,verificationDocs:[]}),[o,l]=F.useState({}),[c,d]=F.useState(!1),[u,h]=F.useState(!1),[m,f]=F.useState(!1),[A,g]=F.useState(null),[x,v]=F.useState([]),j=["Public","Private","Charter","International"],b=["CBSE","ICSE","IB","IGCSE","State Board","NIOS","Other"],S=["Semester","Trimester","Quarter"],w=["<100","100-500","500-1000","1000+"],N=["Main","Branch"],E=()=>{i(D=>({...D,campuses:[...D.campuses,{name:"",address:"",campusType:"Branch",contactPerson:"",contactPhone:""}]}))},P=D=>{if(a.campuses.length===1){ji.error("At least one campus is required");return}i(z=>({...z,campuses:z.campuses.filter((K,oe)=>oe!==D)}));const G=Object.keys(o).filter(z=>z.startsWith(`campus_${D}_`));G.length>0&&l(z=>{const K={...z};return G.forEach(oe=>delete K[oe]),K})},_=(D,G,z)=>{i(oe=>({...oe,campuses:oe.campuses.map((ue,ge)=>ge===D?{...ue,[G]:z}:ue)}));const K=`campus_${D}_${G}`;o[K]&&l(oe=>({...oe,[K]:""}))},B=D=>{const{name:G,value:z}=D.target;i(K=>({...K,[G]:z})),o[G]&&l(K=>({...K,[G]:""}))},k=()=>{const D={};return a.name.trim()?a.name.trim().length<3&&(D.name="School name must be at least 3 characters"):D.name="School name is required",!a.campuses||a.campuses.length===0?D.campuses="At least one campus is required":a.campuses.forEach((G,z)=>{G.name.trim()||(D[`campus_${z}_name`]="Campus name is required"),G.address.trim()?G.address.trim().length<10&&(D[`campus_${z}_address`]="Please provide a complete address"):D[`campus_${z}_address`]="Campus address is required",G.contactPhone&&!/^\+?[\d\s\-()]{10,}$/.test(G.contactPhone)&&(D[`campus_${z}_contactPhone`]="Invalid phone number")}),a.schoolType||(D.schoolType="Please select a school type"),a.board?a.board==="Other"&&!a.boardOther.trim()&&(D.boardOther="Please specify the board name"):D.board="Please select a school board/affiliation",a.academicYearStructure||(D.academicYearStructure="Please select academic year structure"),l(D),Object.keys(D).length===0},M=()=>{const D={};return a.contactPersonName.trim()||(D.contactPersonName="Contact person name is required"),a.contactPhone.trim()?/^\+?[\d\s\-()]{10,}$/.test(a.contactPhone)||(D.contactPhone="Please enter a valid phone number"):D.contactPhone="Contact phone is required",a.officialEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.officialEmail)||(D.officialEmail="Please enter a valid email address"):D.officialEmail="Official email is required",a.address.trim()?a.address.trim().length<10&&(D.address="Please provide a complete address"):D.address="School address is required",l(D),Object.keys(D).length===0},T=()=>{const D={};return a.websiteURL&&a.websiteURL.trim()&&(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(a.websiteURL)||(D.websiteURL="Please enter a valid URL")),a.estimatedUsers||(D.estimatedUsers="Please select estimated number of users"),l(D),Object.keys(D).length===0},H=()=>{const D={};return a.logo||(D.logo="School logo is required"),(!a.verificationDocs||a.verificationDocs.length===0)&&(D.verificationDocs="At least one verification document is required"),l(D),Object.keys(D).length===0},L=async D=>{const G=D.target.files[0];if(!G)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(G.type)){l(K=>({...K,logo:"Please upload a valid image (JPG, PNG, or WebP)"}));return}if(G.size>5*1024*1024){l(K=>({...K,logo:"Logo file size must be less than 5MB"}));return}h(!0),l(K=>({...K,logo:""}));try{const K=new FormData;K.append("file",G),K.append("folder","school_logos");const oe=await fetch(`${sT}/api/uploads/cloudinary/single`,{method:"POST",body:K});if(!oe.ok)throw new Error("Upload failed");const ge=(await oe.json()).files[0];i(pe=>({...pe,logo:{public_id:ge.public_id,secure_url:ge.secure_url,originalName:ge.originalName}})),g(ge.secure_url),ji.success("Logo uploaded successfully")}catch(K){console.error("Logo upload error:",K),l(oe=>({...oe,logo:"Failed to upload logo. Please try again."})),ji.error("Logo upload failed")}finally{h(!1)}},Q=async D=>{const G=Array.from(D.target.files);if(G.length===0)return;if(G.length+a.verificationDocs.length>5){l(K=>({...K,verificationDocs:"Maximum 5 documents allowed"}));return}const z=["application/pdf","image/jpeg","image/png","image/jpg"];for(const K of G){if(!z.includes(K.type)){l(oe=>({...oe,verificationDocs:"Only PDF and image files are allowed"}));return}if(K.size>10*1024*1024){l(oe=>({...oe,verificationDocs:"Each file must be less than 10MB"}));return}}f(!0),l(K=>({...K,verificationDocs:""}));try{const K=new FormData;G.forEach(pe=>K.append("files",pe)),K.append("folder","school_verification_docs");const oe=await fetch(`${sT}/api/uploads/cloudinary/bulk`,{method:"POST",body:K});if(!oe.ok)throw new Error("Upload failed");const ge=(await oe.json()).files.map(pe=>({public_id:pe.public_id,secure_url:pe.secure_url,originalName:pe.originalName}));i(pe=>({...pe,verificationDocs:[...pe.verificationDocs,...ge]})),v(pe=>[...pe,...ge.map(ye=>({name:ye.originalName,url:ye.secure_url}))]),ji.success(`${ge.length} document(s) uploaded successfully`)}catch(K){console.error("Documents upload error:",K),l(oe=>({...oe,verificationDocs:"Failed to upload documents. Please try again."})),ji.error("Document upload failed")}finally{f(!1)}},O=D=>{i(G=>({...G,verificationDocs:G.verificationDocs.filter((z,K)=>K!==D)})),v(G=>G.filter((z,K)=>K!==D))},V=()=>{let D=!1;switch(e){case 1:D=k();break;case 2:D=M();break;case 3:D=T();break;case 4:D=H();break;default:D=!0}D&&e<n&&(r(G=>G+1),window.scrollTo(0,0))},ee=()=>{e>1&&(r(D=>D-1),window.scrollTo(0,0))},Y=async D=>{if(D.preventDefault(),!!H()){d(!0);try{const G=await fetch(`${sT}/api/school-registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),z=await G.json();if(!G.ok){if(z.errors)l(z.errors),r(1),ji.error("Please fix the errors and try again");else throw new Error(z.error||"Registration failed");return}ji.success("Registration submitted successfully!"),t("/school-registration/success",{state:{schoolData:z.school}})}catch(G){console.error("Registration error:",G),ji.error(G.message||"Registration failed. Please try again.")}finally{d(!1)}}},re=()=>{switch(e){case 1:return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"School Information"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:B,className:`w-full pl-10 pr-4 py-3 border ${o.name?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter school name"})]}),o.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.name]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Campus Details ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",a.campuses.length," campus",a.campuses.length!==1?"es":"",")"]})]}),s.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors text-sm font-medium",children:[s.jsx($s,{size:16}),"Add Campus"]})]}),s.jsx("div",{className:"space-y-4",children:a.campuses.map((D,G)=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border-2 border-gray-200 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-semibold text-gray-700",children:["Campus ",G+1]}),a.campuses.length>1&&s.jsx("button",{type:"button",onClick:()=>P(G),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ni,{size:18})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Campus Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Xu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",value:D.name,onChange:z=>_(G,"name",z.target.value),className:`w-full pl-9 pr-3 py-2 border ${o[`campus_${G}_name`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm`,placeholder:"e.g., Main Campus"})]}),o[`campus_${G}_name`]&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:o[`campus_${G}_name`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Campus Type"}),s.jsx("select",{value:D.campusType,onChange:z=>_(G,"campusType",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:N.map(z=>s.jsx("option",{value:z,children:z},z))})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Campus Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ml,{className:"absolute left-3 top-3 text-gray-400",size:18}),s.jsx("textarea",{value:D.address,onChange:z=>_(G,"address",z.target.value),rows:"2",className:`w-full pl-9 pr-3 py-2 border ${o[`campus_${G}_address`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm`,placeholder:"Enter complete campus address"})]}),o[`campus_${G}_address`]&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:o[`campus_${G}_address`]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Contact Person ",s.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"text",value:D.contactPerson,onChange:z=>_(G,"contactPerson",z.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",placeholder:"Campus contact"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Contact Phone ",s.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"tel",value:D.contactPhone,onChange:z=>_(G,"contactPhone",z.target.value),className:`w-full pl-9 pr-3 py-2 border ${o[`campus_${G}_contactPhone`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm`,placeholder:"Campus phone"})]}),o[`campus_${G}_contactPhone`]&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:o[`campus_${G}_contactPhone`]})]})]})]},G))}),o.campuses&&s.jsxs("p",{className:"mt-2 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.campuses]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"schoolType",value:a.schoolType,onChange:B,className:`w-full px-4 py-3 border ${o.schoolType?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[s.jsx("option",{value:"",children:"Select school type"}),j.map(D=>s.jsx("option",{value:D,children:D},D))]}),o.schoolType&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.schoolType]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Board/Affiliation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"board",value:a.board,onChange:B,className:`w-full px-4 py-3 border ${o.board?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[s.jsx("option",{value:"",children:"Select board/affiliation"}),b.map(D=>s.jsx("option",{value:D,children:D},D))]}),o.board&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.board]})]})]}),a.board==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Specify Board Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"boardOther",value:a.boardOther,onChange:B,className:`w-full px-4 py-3 border ${o.boardOther?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter board/affiliation name"}),o.boardOther&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.boardOther]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Academic Year Structure ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"academicYearStructure",value:a.academicYearStructure,onChange:B,className:`w-full px-4 py-3 border ${o.academicYearStructure?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[s.jsx("option",{value:"",children:"Select academic structure"}),S.map(D=>s.jsx("option",{value:D,children:D},D))]}),o.academicYearStructure&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.academicYearStructure]})]})]});case 2:return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Contact Details"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Person's Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:"contactPersonName",value:a.contactPersonName,onChange:B,className:`w-full pl-10 pr-4 py-3 border ${o.contactPersonName?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter contact person's name"})]}),o.contactPersonName&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.contactPersonName]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"tel",name:"contactPhone",value:a.contactPhone,onChange:B,className:`w-full pl-10 pr-4 py-3 border ${o.contactPhone?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter phone number"})]}),o.contactPhone&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.contactPhone]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Official School Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",name:"officialEmail",value:a.officialEmail,onChange:B,className:`w-full pl-10 pr-4 py-3 border ${o.officialEmail?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"school@example.com"})]}),o.officialEmail&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.officialEmail]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ml,{className:"absolute left-3 top-3 text-gray-400",size:20}),s.jsx("textarea",{name:"address",value:a.address,onChange:B,rows:"3",className:`w-full pl-10 pr-4 py-3 border ${o.address?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter complete school address"})]}),o.address&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.address]})]})]});case 3:return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Additional Information"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Website URL ",s.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"url",name:"websiteURL",value:a.websiteURL,onChange:B,className:`w-full pl-10 pr-4 py-3 border ${o.websiteURL?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"https://www.example.com"})]}),o.websiteURL&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.websiteURL]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Number of Users ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"estimatedUsers",value:a.estimatedUsers,onChange:B,className:`w-full px-4 py-3 border ${o.estimatedUsers?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[s.jsx("option",{value:"",children:"Select estimated users"}),w.map(D=>s.jsx("option",{value:D,children:D},D))]}),o.estimatedUsers&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.estimatedUsers]})]})]});case 4:return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"File Uploads"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Logo ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Max 5MB, JPG/PNG/WebP)"})]}),A?s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.logo.originalName}),s.jsx("p",{className:"text-xs text-gray-500",children:"Logo uploaded successfully"})]}),s.jsx("button",{type:"button",onClick:()=>{i(D=>({...D,logo:null})),g(null)},className:"text-red-500 hover:text-red-700",children:s.jsx(Gs,{size:20})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:L,disabled:u,className:"hidden",id:"logo-upload"}),s.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed ${o.logo?"border-red-500":"border-gray-300"} rounded-xl cursor-pointer hover:border-amber-500 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:u?s.jsx(au,{className:"w-8 h-8 text-amber-500 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ew,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload logo"})]})})]}),o.logo&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.logo]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Verification Documents ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Max 5 files, 10MB each, PDF/JPG/PNG)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/png,image/jpg",onChange:Q,disabled:m||a.verificationDocs.length>=5,multiple:!0,className:"hidden",id:"docs-upload"}),s.jsx("label",{htmlFor:"docs-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed ${o.verificationDocs?"border-red-500":"border-gray-300"} rounded-xl cursor-pointer hover:border-amber-500 transition-colors ${m||a.verificationDocs.length>=5?"opacity-50 cursor-not-allowed":""}`,children:m?s.jsx(au,{className:"w-8 h-8 text-amber-500 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload documents"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.verificationDocs.length," / 5 uploaded"]})]})})]}),x.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:x.map((D,G)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(kr,{className:"text-gray-400",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium text-gray-700",children:D.name})}),s.jsx("button",{type:"button",onClick:()=>O(G),className:"text-red-500 hover:text-red-700",children:s.jsx(Gs,{size:18})})]},G))}),o.verificationDocs&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Ir,{size:14})," ",o.verificationDocs]})]})]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"School Registration"}),s.jsx("p",{className:"text-gray-600",children:"Register your school to get started with our platform"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(D=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${D<=e?"bg-amber-500 text-white":"bg-gray-200 text-gray-600"}`,children:D<e?s.jsx(jA,{size:20}):D}),D<4&&s.jsx("div",{className:`h-1 w-16 md:w-32 mx-2 ${D<e?"bg-amber-500":"bg-gray-200"}`})]},D))}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 px-2",children:[s.jsx("span",{children:"School Info"}),s.jsx("span",{children:"Contact"}),s.jsx("span",{children:"Details"}),s.jsx("span",{children:"Files"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:s.jsxs("form",{onSubmit:Y,children:[re(),s.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[e>1?s.jsxs("button",{type:"button",onClick:ee,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors",children:[s.jsx(wd,{size:20}),"Previous"]}):s.jsx("div",{}),e<n?s.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors ml-auto",children:["Next",s.jsx(aa,{size:20})]}):s.jsx("button",{type:"submit",disabled:c,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:c?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"animate-spin",size:20}),"Submitting..."]}):s.jsxs(s.Fragment,{children:["Submit Registration",s.jsx(jA,{size:20})]})})]})]})})]})})},gJe=()=>{var n;const t=mi(),r=(n=Ec().state)==null?void 0:n.schoolData;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 flex items-center justify-center px-4 py-12",children:s.jsx("div",{className:"max-w-2xl w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:s.jsx(Lr,{className:"w-12 h-12 text-green-500"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Registration Submitted Successfully!"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Thank you for registering your school with us."}),r&&s.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 mb-8 border border-amber-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"School Name"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:r.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Campuses Registered"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[r.campusCount||1," Campus",(r.campusCount||1)!==1?"es":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"School Code"}),s.jsx("p",{className:"text-lg font-semibold text-amber-600",children:r.code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[s.jsx(dr,{size:14,className:"mr-1"}),"Pending Review"]})]})]})}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-8 border border-blue-200 text-left",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"What happens next?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-blue-600 font-semibold",children:"1"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Review Process"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our admin team will review your registration and verify the submitted documents."})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-blue-600 font-semibold",children:"2"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Email Notification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"You will receive an email notification once your registration is approved."})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-blue-600 font-semibold",children:"3"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Started"}),s.jsx("p",{className:"text-sm text-gray-600",children:"After approval, you can create admin accounts and start using the platform."})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Need Help?"}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Yi,{size:18,className:"text-amber-500"}),s.jsx("span",{children:"support@eec-platform.com"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Mi,{size:18,className:"text-amber-500"}),s.jsx("span",{children:"+1 (555) 123-4567"})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors font-semibold",children:["Back to Home",s.jsx(zg,{size:20})]})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Please save your school code (",r==null?void 0:r.code,") for future reference."]})]})})})},vJe=()=>s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Memory Match"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),yJe=()=>s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Quick Math"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),bJe=()=>s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Word Scramble"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),nT=[{emoji:"",name:"Happy",description:"Feeling joyful and cheerful"},{emoji:"",name:"Angry",description:"Feeling mad or frustrated"},{emoji:"",name:"Sad",description:"Feeling down or disappointed"},{emoji:"",name:"Surprised",description:"Feeling shocked or amazed"},{emoji:"",name:"Sleepy",description:"Feeling tired or drowsy"},{emoji:"",name:"Scared",description:"Feeling frightened or worried"},{emoji:"",name:"Thinking",description:"Feeling contemplative or puzzled"},{emoji:"",name:"Cool",description:"Feeling confident and relaxed"}],wJe=()=>{const[t,e]=F.useState("menu"),[r,n]=F.useState(null),[a,i]=F.useState([]),[o,l]=F.useState(0),[c,d]=F.useState(1),[u,h]=F.useState(10),[m,f]=F.useState(null),A=8,g=()=>{const j=nT[Math.floor(Math.random()*nT.length)],w=[...nT.filter(N=>N.emoji!==j.emoji).sort(()=>Math.random()-.5).slice(0,3),j].sort(()=>Math.random()-.5);n(j),i(w),e("playing"),h(10),f(null)},x=j=>{const b=j.emoji===r.emoji;f(b),b&&l(o+10),e("result"),setTimeout(()=>{c<A?(d(c+1),g()):(e("menu"),d(1))},1500)},v=()=>{e("menu"),l(0),d(1),h(10),f(null)};return F.useEffect(()=>{let j;return t==="playing"&&u>0?j=setTimeout(()=>h(u-1),1e3):t==="playing"&&u===0&&(f(!1),e("result"),setTimeout(()=>{c<A?(d(c+1),g()):(e("menu"),d(1))},1500)),()=>clearTimeout(j)},[t,u,c,A]),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Smiley Circles"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Guess the emotions of the emojis!"}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl p-8",children:[t==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),s.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),s.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),s.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Emotion Recognition Challenge"}),s.jsx("p",{className:"text-gray-600",children:"Look at the emoji and choose the correct emotion name. You have 10 seconds per round!"}),o>0&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",o,"/",A*10]}),s.jsx("div",{className:"text-sm text-gray-600",children:o>=A*8?" Emotion Master!":o>=A*6?" Great job!":" Keep practicing!"})]}),s.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),o>0?"Play Again":"Start Game"]})]}),t==="playing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",c,"/",A]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[u,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",o]})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-4",children:"What emotion is this?"}),s.jsx("div",{className:"w-32 h-32 rounded-full bg-white border-4 border-purple-300 flex items-center justify-center text-6xl mx-auto mb-6 shadow-lg",children:r==null?void 0:r.emoji}),s.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:a.map(j=>s.jsxs("button",{onClick:()=>x(j),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-purple-400 text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-800",children:j.name}),s.jsx("div",{className:"text-sm text-gray-600",children:j.description})]},j.emoji))})]})]}),t==="result"&&s.jsxs("div",{className:"text-center space-y-4",children:[m?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto"}):s.jsx(Ka,{className:"w-16 h-16 text-red-500 mx-auto"}),s.jsx("div",{className:"text-2xl font-bold",children:m?"Correct! +10 points":"Time's up or wrong answer!"}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-lg",children:"The correct answer was:"}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-2",children:[s.jsx("span",{className:"text-3xl",children:r==null?void 0:r.emoji}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:r==null?void 0:r.name}),s.jsx("div",{className:"text-sm text-gray-600",children:r==null?void 0:r.description})]})]})]}),s.jsx("div",{className:"text-gray-600",children:c<A?`Round ${c+1} starting...`:"Game completed!"})]}),t!=="result"&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},jJe=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState(null),[i,o]=F.useState(0),[l,c]=F.useState(1),[d,u]=F.useState(5),[h,m]=F.useState(null),f=[{id:"circle",name:"Circle",color:"bg-red-500",style:"rounded-full"},{id:"square",name:"Square",color:"bg-blue-500",style:"rounded-lg"},{id:"triangle",name:"Triangle",color:"bg-green-500",style:"rounded-full"}],A=()=>{const v=f[Math.floor(Math.random()*f.length)];a(v),r("playing"),u(5),m(null)},g=v=>{const j=v.id===n.id;m(j),j&&o(i+10),r("result"),setTimeout(()=>{c(l+1),l<10?A():(r("menu"),c(1))},1500)},x=()=>{r("menu"),o(0),c(1),u(5),m(null)};return F.useEffect(()=>{let v;return e==="playing"&&d>0?v=setTimeout(()=>u(d-1),1e3):e==="playing"&&d===0&&(m(!1),r("result"),setTimeout(()=>{c(l+1),l<10?A():(r("menu"),c(1))},1500)),()=>clearTimeout(v)},[e,d,l]),s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"MIND Training Games"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl p-8 text-center",children:[e==="menu"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"inline-flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600"}),s.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Shape Recognition Challenge"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Match the target shape as quickly as possible! You have 5 seconds for each round."}),i>0&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Final Score: ",i,"/100"]}),s.jsx("div",{className:"text-sm text-gray-600",children:i>=80?" Excellent!":i>=60?" Good job!":" Keep practicing!"})]}),s.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),i>0?"Play Again":"Start Training"]})]}),e==="playing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",l,"/10"]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[d,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",i]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:["Click the ",n==null?void 0:n.name,"!"]}),s.jsx("div",{className:"flex justify-center gap-6",children:f.map(v=>s.jsx("button",{onClick:()=>g(v),className:`w-24 h-24 ${v.color} ${v.style} border-4 border-gray-700 hover:scale-110 transition-all duration-200 shadow-lg hover:shadow-xl`},v.id))})]})]}),e==="result"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center",children:[h?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):s.jsx(Ka,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:h?"Correct! +10 points":"Time's up! Try again"}),s.jsx("div",{className:"text-gray-600",children:l<10?`Round ${l+1} starting...`:"Game completed!"})]})}),e!=="result"&&s.jsxs("button",{onClick:x,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset"]})]})]})},dN=[{id:"cube",name:"Cube",description:"A 3D shape with 6 square faces",color:"bg-yellow-400",render:(t="w-12 h-12")=>s.jsx("div",{className:`${t} bg-yellow-400 transform rotate-12 shadow-lg`})},{id:"sphere",name:"Sphere",description:"A perfectly round 3D shape",color:"bg-red-500",render:(t="w-12 h-12")=>s.jsx("div",{className:`${t} bg-red-500 rounded-full shadow-lg`})},{id:"cone",name:"Cone",description:"A 3D shape with a circular base and pointed top",color:"border-b-blue-400",render:(t="w-0 h-0")=>s.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-400 shadow-lg`})},{id:"torus",name:"Torus",description:"A donut-shaped 3D object",color:"bg-purple-500",render:(t="w-12 h-12")=>s.jsx("div",{className:`${t} bg-purple-500 rounded-full shadow-lg relative`,children:s.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{id:"cylinder",name:"Cylinder",description:"A 3D shape with circular ends and straight sides",color:"bg-green-500",render:(t="w-12 h-12")=>s.jsx("div",{className:`${t} bg-green-500 rounded-lg shadow-lg`})},{id:"pyramid",name:"Pyramid",description:"A 3D shape with a square base and triangular sides",color:"border-b-orange-400",render:(t="w-0 h-0")=>s.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-10 border-l-transparent border-r-transparent border-b-orange-400 shadow-lg`})}],NJe=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState(null),[i,o]=F.useState([]),[l,c]=F.useState(0),[d,u]=F.useState(1),[h,m]=F.useState(8),[f,A]=F.useState(null),g=10,x=()=>{const b=dN[Math.floor(Math.random()*dN.length)],N=[...dN.filter(E=>E.id!==b.id).sort(()=>Math.random()-.5).slice(0,3),b].sort(()=>Math.random()-.5);a(b),o(N),r("playing"),m(8),A(null)},v=b=>{const S=b.id===n.id;A(S),S&&c(l+10),r("result"),setTimeout(()=>{d<g?(u(d+1),x()):(r("menu"),u(1))},2e3)},j=()=>{r("menu"),c(0),u(1),m(8),A(null)};return F.useEffect(()=>{let b;return e==="playing"&&h>0?b=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(A(!1),r("result"),setTimeout(()=>{d<g?(u(d+1),x()):(r("menu"),u(1))},2e3)),()=>clearTimeout(b)},[e,h,d,g]),s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"RESHAPED"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-8",children:[e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"3D Shape Recognition"}),s.jsx("p",{className:"text-gray-600",children:"Learn about geometric shapes! Look at the shape and choose the correct name."}),s.jsx("div",{className:"flex justify-center gap-4 my-6",children:dN.slice(0,4).map(b=>s.jsxs("div",{className:"flex flex-col items-center",children:[b.render(),s.jsx("div",{className:"text-xs text-gray-600 mt-2",children:b.name})]},b.id))}),l>0&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",g*10]}),s.jsx("div",{className:"text-sm text-gray-600",children:l>=g*8?" Shape Master!":l>=g*6?" Great job!":" Keep learning!"})]}),s.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),l>0?"Play Again":"Start Learning"]})]}),e==="playing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",g]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:"What shape is this?"}),s.jsx("div",{className:"w-32 h-32 bg-white rounded-xl border-4 border-gray-300 flex items-center justify-center mx-auto shadow-lg",children:n==null?void 0:n.render("w-16 h-16")}),s.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(b=>s.jsxs("button",{onClick:()=>v(b),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-800",children:b.name}),s.jsx("div",{className:"text-sm text-gray-600",children:b.description})]},b.id))})]})]}),e==="result"&&s.jsxs("div",{className:"text-center space-y-4",children:[f?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto"}):s.jsx(Ka,{className:"w-16 h-16 text-red-500 mx-auto"}),s.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("div",{className:"text-lg",children:"The correct answer was:"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:n==null?void 0:n.render("w-12 h-12")}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xl font-semibold",children:n==null?void 0:n.name}),s.jsx("div",{className:"text-sm text-gray-600",children:n==null?void 0:n.description})]})]})]}),s.jsx("div",{className:"text-gray-600",children:d<g?`Round ${d+1} starting...`:"Game completed!"})]}),e!=="result"&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},Ku=[{id:"india",name:"India",capital:"New Delhi",population:"1.4 billion",area:"3.3 million km",continent:"Asia",currency:"Indian Rupee (INR)",languages:["Hindi","English","22 official languages"],flag:"",difficulty:"Easy",facts:["World's largest democracy","Home to the Taj Mahal","Birthplace of four major religions"],shape:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",color:"from-orange-400 to-orange-600"},{id:"usa",name:"United States",capital:"Washington, D.C.",population:"331 million",area:"9.8 million km",continent:"North America",currency:"US Dollar (USD)",languages:["English","Spanish"],flag:"",difficulty:"Medium",facts:["Third largest country by area","Home to Hollywood and Silicon Valley","Has 50 states and federal capital"],shape:"polygon(15% 20%, 85% 25%, 80% 60%, 75% 80%, 25% 85%, 10% 65%, 5% 40%)",color:"from-blue-400 to-blue-600"},{id:"brazil",name:"Brazil",capital:"Braslia",population:"215 million",area:"8.5 million km",continent:"South America",currency:"Brazilian Real (BRL)",languages:["Portuguese"],flag:"",difficulty:"Medium",facts:["Home to the Amazon rainforest","Largest country in South America","Famous for football and carnival"],shape:"polygon(30% 15%, 70% 20%, 85% 50%, 80% 85%, 40% 90%, 20% 70%, 15% 40%)",color:"from-green-400 to-green-600"},{id:"australia",name:"Australia",capital:"Canberra",population:"26 million",area:"7.7 million km",continent:"Oceania",currency:"Australian Dollar (AUD)",languages:["English"],flag:"",difficulty:"Easy",facts:["Smallest continent and largest island","Home to unique wildlife like kangaroos","Most of the population lives in coastal cities"],shape:"polygon(20% 30%, 80% 25%, 85% 60%, 75% 80%, 25% 85%, 15% 55%)",color:"from-yellow-400 to-yellow-600"},{id:"china",name:"China",capital:"Beijing",population:"1.4 billion",area:"9.6 million km",continent:"Asia",currency:"Chinese Yuan (CNY)",languages:["Mandarin Chinese"],flag:"",difficulty:"Hard",facts:["Most populous country in the world","Home to the Great Wall of China","Fastest-growing major economy"],shape:"polygon(25% 20%, 75% 15%, 85% 45%, 80% 75%, 60% 80%, 40% 85%, 20% 60%, 15% 35%)",color:"from-red-400 to-red-600"},{id:"russia",name:"Russia",capital:"Moscow",population:"146 million",area:"17.1 million km",continent:"Europe/Asia",currency:"Russian Ruble (RUB)",languages:["Russian"],flag:"",difficulty:"Hard",facts:["Largest country in the world by area","Spans 11 time zones","Rich in natural resources"],shape:"polygon(10% 15%, 90% 10%, 95% 35%, 85% 50%, 75% 40%, 50% 45%, 30% 50%, 5% 25%)",color:"from-purple-400 to-purple-600"},{id:"japan",name:"Japan",capital:"Tokyo",population:"125 million",area:"378,000 km",continent:"Asia",currency:"Japanese Yen (JPY)",languages:["Japanese"],flag:"",difficulty:"Medium",facts:["Island nation with over 6,000 islands","Known for technology and anime","Mount Fuji is its highest peak"],shape:"polygon(40% 20%, 45% 15%, 65% 25%, 70% 45%, 60% 75%, 45% 80%, 35% 65%, 30% 40%)",color:"from-pink-400 to-pink-600"},{id:"egypt",name:"Egypt",capital:"Cairo",population:"104 million",area:"1 million km",continent:"Africa",currency:"Egyptian Pound (EGP)",languages:["Arabic"],flag:"",difficulty:"Medium",facts:["Home to ancient pyramids and sphinx","Nile River runs through the country","Birthplace of ancient civilization"],shape:"polygon(35% 25%, 65% 20%, 70% 45%, 60% 70%, 50% 85%, 40% 80%, 30% 55%, 25% 35%)",color:"from-amber-400 to-amber-600"}],Ba=[{id:"maharashtra",name:"Maharashtra",capital:"Mumbai",population:"112.4 million",area:"307,713 km",language:"Marathi",famousFor:"Bollywood, IT Hub, Gateway of India",governor:"Ramesh Bais",formed:"1960",districts:36,x:"45%",y:"55%",size:"w-16 h-14",shape:"polygon(20% 20%, 70% 15%, 85% 45%, 80% 75%, 45% 85%, 15% 70%, 10% 40%)",color:"from-orange-400 to-orange-600"},{id:"karnataka",name:"Karnataka",capital:"Bengaluru",population:"61.1 million",area:"191,791 km",language:"Kannada",famousFor:"Silicon Valley of India, Mysore Palace",governor:"Thaawarchand Gehlot",formed:"1956",districts:30,x:"40%",y:"68%",size:"w-14 h-16",shape:"polygon(25% 10%, 75% 20%, 80% 60%, 65% 85%, 30% 80%, 15% 50%, 20% 25%)",color:"from-red-400 to-red-600"},{id:"tamilnadu",name:"Tamil Nadu",capital:"Chennai",population:"72.1 million",area:"130,060 km",language:"Tamil",famousFor:"Temples, Classical Dance, Film Industry",governor:"R. N. Ravi",formed:"1956",districts:38,x:"45%",y:"78%",size:"w-12 h-18",shape:"polygon(30% 5%, 70% 10%, 85% 40%, 75% 70%, 60% 90%, 25% 85%, 15% 60%, 20% 30%)",color:"from-green-400 to-green-600"},{id:"kerala",name:"Kerala",capital:"Thiruvananthapuram",population:"33.4 million",area:"38,852 km",language:"Malayalam",famousFor:"Backwaters, Spices, Ayurveda",governor:"Arif Mohammed Khan",formed:"1956",districts:14,x:"38%",y:"80%",size:"w-6 h-20",shape:"polygon(40% 0%, 60% 5%, 65% 30%, 55% 60%, 45% 85%, 35% 90%, 25% 70%, 30% 40%, 35% 15%)",color:"from-emerald-400 to-emerald-600"},{id:"rajasthan",name:"Rajasthan",capital:"Jaipur",population:"68.5 million",area:"342,239 km",language:"Hindi, Rajasthani",famousFor:"Desert, Palaces, Forts",governor:"Kalraj Mishra",formed:"1956",districts:33,x:"35%",y:"38%",size:"w-20 h-18",shape:"polygon(15% 25%, 80% 15%, 90% 45%, 85% 70%, 60% 85%, 30% 80%, 10% 60%, 5% 40%)",color:"from-yellow-400 to-yellow-600"},{id:"uttar-pradesh",name:"Uttar Pradesh",capital:"Lucknow",population:"199.8 million",area:"240,928 km",language:"Hindi, Urdu",famousFor:"Taj Mahal, Varanasi, Allahabad",governor:"Anandiben Patel",formed:"1950",districts:75,x:"48%",y:"35%",size:"w-24 h-12",shape:"polygon(10% 30%, 85% 20%, 90% 50%, 80% 70%, 20% 75%, 5% 55%)",color:"from-blue-400 to-blue-600"},{id:"west-bengal",name:"West Bengal",capital:"Kolkata",population:"91.3 million",area:"88,752 km",language:"Bengali",famousFor:"Literature, Fish, Sweets",governor:"La. Ganesan",formed:"1947",districts:23,x:"62%",y:"42%",size:"w-14 h-16",shape:"polygon(20% 15%, 75% 10%, 85% 35%, 80% 65%, 60% 85%, 25% 80%, 10% 50%, 15% 25%)",color:"from-cyan-400 to-cyan-600"},{id:"gujarat",name:"Gujarat",capital:"Gandhinagar",population:"60.4 million",area:"196,244 km",language:"Gujarati",famousFor:"Business Hub, Handicrafts, Salt",governor:"Acharya Devvrat",formed:"1960",districts:33,x:"28%",y:"45%",size:"w-16 h-20",shape:"polygon(30% 5%, 70% 10%, 85% 30%, 80% 60%, 65% 85%, 35% 90%, 15% 70%, 20% 40%, 25% 15%)",color:"from-purple-400 to-purple-600"},{id:"madhya-pradesh",name:"Madhya Pradesh",capital:"Bhopal",population:"72.6 million",area:"308,245 km",language:"Hindi",famousFor:"Heart of India, Khajuraho Temples",governor:"Mangubhai C. Patel",formed:"1956",districts:52,x:"42%",y:"48%",size:"w-18 h-14",shape:"polygon(15% 25%, 80% 20%, 85% 55%, 75% 75%, 25% 80%, 10% 50%)",color:"from-indigo-400 to-indigo-600"},{id:"andhra-pradesh",name:"Andhra Pradesh",capital:"Amaravati",population:"49.4 million",area:"162,968 km",language:"Telugu",famousFor:"IT Services, Tirupati Temple",governor:"S. Abdul Nazeer",formed:"1956",districts:26,x:"50%",y:"70%",size:"w-14 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 70%, 30% 80%, 15% 55%, 20% 30%)",color:"from-teal-400 to-teal-600"},{id:"telangana",name:"Telangana",capital:"Hyderabad",population:"35.0 million",area:"112,077 km",language:"Telugu",famousFor:"IT Hub, Charminar, Biryani",governor:"Tamilisai Soundararajan",formed:"2014",districts:33,x:"48%",y:"62%",size:"w-12 h-10",shape:"polygon(20% 25%, 75% 20%, 80% 55%, 70% 75%, 25% 80%, 15% 50%)",color:"from-violet-400 to-violet-600"},{id:"punjab",name:"Punjab",capital:"Chandigarh",population:"27.7 million",area:"50,362 km",language:"Punjabi",famousFor:"Golden Temple, Agriculture",governor:"Banwarilal Purohit",formed:"1966",districts:23,x:"40%",y:"22%",size:"w-12 h-10",shape:"polygon(15% 30%, 80% 25%, 85% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-amber-400 to-amber-600"},{id:"haryana",name:"Haryana",capital:"Chandigarh",population:"25.3 million",area:"44,212 km",language:"Hindi",famousFor:"NCR, Agriculture, Industry",governor:"Bandaru Dattatraya",formed:"1966",districts:22,x:"45%",y:"28%",size:"w-10 h-8",shape:"polygon(20% 20%, 75% 15%, 80% 50%, 70% 75%, 25% 80%, 15% 45%)",color:"from-lime-400 to-lime-600"},{id:"odisha",name:"Odisha",capital:"Bhubaneswar",population:"42.0 million",area:"155,707 km",language:"Odia",famousFor:"Jagannath Temple, Classical Dance",governor:"Ganeshi Lal",formed:"1936",districts:30,x:"58%",y:"52%",size:"w-12 h-14",shape:"polygon(30% 15%, 70% 10%, 80% 40%, 75% 75%, 35% 85%, 20% 60%, 25% 30%)",color:"from-rose-400 to-rose-600"},{id:"bihar",name:"Bihar",capital:"Patna",population:"104.1 million",area:"94,163 km",language:"Hindi",famousFor:"Ancient History, Bodh Gaya",governor:"Rajendra Vishwanath Arlekar",formed:"1912",districts:38,x:"56%",y:"38%",size:"w-16 h-10",shape:"polygon(10% 35%, 85% 30%, 90% 60%, 80% 75%, 15% 70%, 5% 50%)",color:"from-emerald-400 to-emerald-600"},{id:"jharkhand",name:"Jharkhand",capital:"Ranchi",population:"33.0 million",area:"79,716 km",language:"Hindi",famousFor:"Minerals, Tribal Culture",governor:"Ramesh Bais",formed:"2000",districts:24,x:"58%",y:"45%",size:"w-12 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 75%, 30% 80%, 20% 50%, 20% 25%)",color:"from-stone-400 to-stone-600"},{id:"delhi",name:"Delhi (NCT)",capital:"New Delhi",population:"16.8 million",area:"1,484 km",language:"Hindi, English",famousFor:"National Capital, Red Fort",governor:"Vinai Kumar Saxena",formed:"1911",districts:11,x:"46%",y:"30%",size:"w-4 h-4",shape:"polygon(25% 25%, 75% 25%, 75% 75%, 25% 75%)",color:"from-red-400 to-red-600",type:"UT"},{id:"goa",name:"Goa",capital:"Panaji",population:"1.5 million",area:"3,702 km",language:"Konkani",famousFor:"Beaches, Portuguese Heritage",governor:"P.S. Sreedharan Pillai",formed:"1987",districts:2,x:"38%",y:"62%",size:"w-4 h-6",shape:"polygon(30% 10%, 70% 15%, 75% 60%, 65% 85%, 35% 80%, 25% 40%)",color:"from-sky-400 to-sky-600"},{id:"himachal-pradesh",name:"Himachal Pradesh",capital:"Shimla",population:"6.9 million",area:"55,673 km",language:"Hindi",famousFor:"Hill Stations, Tourism",governor:"Shiv Pratap Shukla",formed:"1971",districts:12,x:"42%",y:"18%",size:"w-14 h-8",shape:"polygon(15% 40%, 80% 30%, 90% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-green-400 to-green-600"}],rK=({highlightState:t,onStateClick:e,className:r=""})=>{var k,M,T,H,L,Q,O,V,ee;const[n,a]=F.useState({x:-15,y:0}),[i,o]=F.useState(null),[l,c]=F.useState(!1),[d,u]=F.useState("study"),[h,m]=F.useState(!0),[f,A]=F.useState({}),[g,x]=F.useState(0),[v,j]=F.useState(0),[b,S]=F.useState(null),w=Y=>{const re=Ba.find(D=>D.id===Y);return t===Y?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":i===Y?"from-pink-400 to-pink-600 ring-2 ring-pink-300":re?re.color:"from-gray-400 to-gray-600"},N=Y=>{const re=Ba.find(D=>D.id===Y);if(d==="study")o(Y),c(!0),e==null||e(re);else if(d==="test"){const D=prompt(`What is the name of this state/territory?

Hint: This region is known for: ${re.famousFor}`);if(D){const G=D.toLowerCase().trim()===re.name.toLowerCase();A(z=>({...z,[Y]:{guess:D.trim(),correct:re.name,isCorrect:G}})),G&&x(z=>z+1)}}},E=()=>{u("test"),m(!1),A({}),x(0),S(Date.now()),o(null),c(!1)},P=()=>{u("results");const Y=Date.now()-b;console.log(`Test completed in ${Math.round(Y/1e3)} seconds`)},_=()=>{u("study"),m(!0),A({}),x(0),S(null),o(null),c(!1)};F.useEffect(()=>{let Y;return d==="study"&&(Y=setInterval(()=>{j(re=>re+1)},1e3)),()=>clearInterval(Y)},[d]);const B=Y=>{const re=Math.floor(Y/60),D=Y%60;return`${re}:${D.toString().padStart(2,"0")}`};return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-100 via-white to-green-100 rounded-xl p-4 border-2 border-orange-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" India States & Territories Memory Test"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[d==="study"&&"Study the labeled map as long as you need",d==="test"&&"Click on each state to test your memory",d==="results"&&"See your results below!"]})]}),s.jsxs("div",{className:"text-right",children:[d==="study"&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Study Time: ",s.jsx("span",{className:"font-mono font-bold",children:B(v)})]}),d==="test"&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",s.jsxs("span",{className:"font-bold",children:[Object.keys(f).length,"/",Ba.length]})]})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d==="study"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>m(!h),className:`px-3 py-1 text-sm rounded-lg transition-colors ${h?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h?" Labels ON":" Labels OFF"}),s.jsx("button",{onClick:E,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Start Memory Test"}),s.jsx("div",{className:"px-3 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-lg",children:" Study tip: Click on states to see detailed information"})]}),d==="test"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:P,disabled:Object.keys(f).length<Ba.length,className:`px-4 py-1 text-sm rounded-lg font-medium transition-colors ${Object.keys(f).length===Ba.length?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[" Finish Test (",Object.keys(f).length,"/",Ba.length,")"]}),s.jsx("button",{onClick:_,className:"px-3 py-1 text-sm bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:" Back to Study"}),s.jsx("div",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-lg",children:" Click any state to guess its name"})]}),d==="results"&&s.jsx("button",{onClick:_,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Study Again"})]})]}),s.jsx("div",{className:"relative w-full h-96 mx-auto perspective-1000",children:s.jsxs("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-green-100 via-orange-100 to-blue-100 shadow-2xl transform-gpu border-4 border-white",style:{transform:`rotateX(${n.x}deg) rotateY(${n.y}deg)`,transformStyle:"preserve-3d",filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.3))"},children:[s.jsx("div",{className:"absolute inset-4 rounded-xl border-2 border-saffron-300 bg-gradient-to-br from-white to-green-50 opacity-80"}),s.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:Ba.map(Y=>s.jsxs("div",{className:`absolute ${Y.size} cursor-pointer country-3d`,style:{left:Y.x,top:Y.y,transform:"translateX(-50%) translateY(-50%)",filter:"drop-shadow(2px 2px 6px rgba(0,0,0,0.3))"},onClick:()=>N(Y.id),children:[s.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${w(Y.id)} rounded-lg relative overflow-hidden border-2 border-white`,style:{clipPath:Y.shape,boxShadow:i===Y.id?"0 0 20px rgba(236, 72, 153, 0.6), inset 0 2px 4px rgba(255,255,255,0.4)":"inset 0 2px 4px rgba(255,255,255,0.3)"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-30"}),(t===Y.id||i===Y.id)&&s.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-lg animate-pulse opacity-20"})]}),s.jsx("div",{className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-gray-800 bg-white bg-opacity-90 px-3 py-1 rounded-full shadow-md whitespace-nowrap transition-all duration-300 border border-gray-200 ${d==="study"&&h||d==="results"?"opacity-100":d==="test"&&f[Y.id]?f[Y.id].isCorrect?"opacity-100 bg-green-100 border-green-300":"opacity-100 bg-red-100 border-red-300":"opacity-0 hover:opacity-60"}`,children:s.jsxs("span",{className:"drop-shadow-sm",children:[d==="test"&&f[Y.id]?f[Y.id].isCorrect?` ${Y.name}`:` ${f[Y.id].guess} (${Y.name})`:Y.name,Y.type==="UT"&&s.jsx("span",{className:"text-xs opacity-60 ml-1",children:"UT"})]})})]},Y.id))}),s.jsx("div",{className:"absolute top-4 left-4 text-2xl opacity-60",children:""}),s.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-600 font-medium bg-white bg-opacity-80 px-2 py-1 rounded",children:"  India"})]})}),l&&i&&s.jsxs("div",{className:"mt-6 bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-orange-200 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-saffron-400 to-saffron-600 rounded-xl shadow-lg",children:s.jsx(ml,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:(k=Ba.find(Y=>Y.id===i))==null?void 0:k.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Capital: ",(M=Ba.find(Y=>Y.id===i))==null?void 0:M.capital]})]})]}),s.jsx("button",{onClick:()=>{c(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-blue-500"}),"Demographics"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Population:"}),s.jsx("span",{className:"font-medium",children:(T=Ba.find(Y=>Y.id===i))==null?void 0:T.population})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Area:"}),s.jsx("span",{className:"font-medium",children:(H=Ba.find(Y=>Y.id===i))==null?void 0:H.area})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Language:"}),s.jsx("span",{className:"font-medium",children:(L=Ba.find(Y=>Y.id===i))==null?void 0:L.language})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Districts:"}),s.jsx("span",{className:"font-medium",children:(Q=Ba.find(Y=>Y.id===i))==null?void 0:Q.districts})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4 text-green-500"}),"State Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Governor:"}),s.jsx("span",{className:"font-medium text-right max-w-32",children:(O=Ba.find(Y=>Y.id===i))==null?void 0:O.governor})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Formed:"}),s.jsx("span",{className:"font-medium",children:(V=Ba.find(Y=>Y.id===i))==null?void 0:V.formed})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"text-gray-600",children:"Famous For:"}),s.jsx("p",{className:"font-medium text-gray-800 mt-1",children:(ee=Ba.find(Y=>Y.id===i))==null?void 0:ee.famousFor})]})]})]})})]}),s.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-orange-100 to-green-100 rounded-lg border border-orange-200",children:s.jsx("p",{className:"text-sm text-gray-700 text-center",children:" Click on other states to explore more about incredible India! "})})]}),d==="results"&&s.jsxs("div",{className:"mt-8 bg-gradient-to-br from-blue-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-blue-200",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(Trophy,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Memory Test Complete! "}),s.jsxs("div",{className:"text-lg text-gray-600 mb-4",children:["Your Score: ",s.jsxs("span",{className:"font-bold text-blue-600",children:[g,"/",Ba.length]}),s.jsxs("span",{className:"ml-2",children:["(",Math.round(g/Ba.length*100),"%)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[s.jsxs("h4",{className:"font-bold text-green-800 mb-3 flex items-center gap-2",children:[s.jsx(Lr,{className:"w-5 h-5"}),"Correct Answers (",Object.values(f).filter(Y=>Y.isCorrect).length,")"]}),s.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([Y,re])=>re.isCorrect).map(([Y,re])=>s.jsxs("div",{className:"text-sm text-green-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"font-medium",children:re.correct})]},Y))})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[s.jsxs("h4",{className:"font-bold text-red-800 mb-3 flex items-center gap-2",children:[s.jsx(Ka,{className:"w-5 h-5"}),"Incorrect Answers (",Object.values(f).filter(Y=>!Y.isCorrect).length,")"]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([Y,re])=>!re.isCorrect).map(([Y,re])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"text-red-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),s.jsxs("span",{children:["Your guess: ",s.jsx("span",{className:"font-medium",children:re.guess})]})]}),s.jsxs("div",{className:"text-green-700 ml-4 text-xs",children:["Correct: ",s.jsx("span",{className:"font-medium",children:re.correct})]})]},Y))})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-4 border border-orange-200",children:[s.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:" Performance Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g}),s.jsx("div",{className:"text-gray-600",children:"States Correct"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(g/Ba.length*100),"%"]}),s.jsx("div",{className:"text-gray-600",children:"Accuracy"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:B(v)}),s.jsx("div",{className:"text-gray-600",children:"Study Time"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg",children:s.jsx("div",{className:"text-sm text-gray-700 text-center",children:g===Ba.length?s.jsx("span",{className:"text-green-600 font-medium",children:" Perfect Score! You've mastered all Indian states and territories!"}):g>=Ba.length*.8?s.jsx("span",{className:"text-blue-600 font-medium",children:" Excellent! You know most of India's geography very well!"}):g>=Ba.length*.6?s.jsx("span",{className:"text-yellow-600 font-medium",children:" Good job! Keep studying to improve further!"}):s.jsx("span",{className:"text-orange-600 font-medium",children:" Keep practicing! Spend more time studying the map to improve your score."})})})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s.jsx("strong",{children:"Memory Tip:"})," The more you practice recalling real-world information, the stronger your memory becomes!"]})})]}),s.jsxs("div",{className:"text-center mt-4 text-xs text-gray-500",children:[d==="study"&&" Click on states to learn  Toggle labels to test yourself",d==="test"&&" Click on each state to guess its name  Use hints if needed",d==="results"&&" Review your results above  Study again to improve!"]})]})},sK=({highlightCountry:t,onCountryClick:e,className:r=""})=>{var d,u,h;const[n,a]=F.useState({x:-10,y:0}),[i,o]=F.useState(!0);F.useEffect(()=>{if(i){const m=setInterval(()=>{a(f=>({...f,y:(f.y+1)%360}))},100);return()=>clearInterval(m)}},[i]);const l=[{id:"usa",name:"USA",x:"20%",y:"30%",size:"w-16 h-12"},{id:"canada",name:"Canada",x:"15%",y:"20%",size:"w-20 h-8"},{id:"mexico",name:"Mexico",x:"18%",y:"45%",size:"w-8 h-10"},{id:"brazil",name:"Brazil",x:"30%",y:"60%",size:"w-12 h-16"},{id:"argentina",name:"Argentina",x:"28%",y:"75%",size:"w-6 h-12"},{id:"russia",name:"Russia",x:"60%",y:"25%",size:"w-24 h-10"},{id:"france",name:"France",x:"48%",y:"35%",size:"w-4 h-6"},{id:"germany",name:"Germany",x:"50%",y:"33%",size:"w-4 h-5"},{id:"uk",name:"UK",x:"46%",y:"32%",size:"w-3 h-4"},{id:"china",name:"China",x:"70%",y:"35%",size:"w-14 h-12"},{id:"india",name:"India",x:"65%",y:"45%",size:"w-8 h-10"},{id:"japan",name:"Japan",x:"80%",y:"38%",size:"w-6 h-4"},{id:"egypt",name:"Egypt",x:"52%",y:"45%",size:"w-6 h-8"},{id:"southafrica",name:"South Africa",x:"54%",y:"70%",size:"w-6 h-8"},{id:"nigeria",name:"Nigeria",x:"48%",y:"52%",size:"w-4 h-6"},{id:"australia",name:"Australia",x:"75%",y:"70%",size:"w-12 h-8"}],c=m=>{const f=Ku.find(A=>A.id===m);return t===m?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":f?f.color:"from-gray-400 to-gray-600"};return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"relative w-full h-96 mx-auto perspective-1000 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",transformStyle:"preserve-3d"},onMouseEnter:()=>o(!1),onMouseLeave:()=>o(!0),children:[s.jsxs("div",{className:"absolute inset-0 rounded-full globe-glow transform-gpu",style:{transform:`rotateX(${n.x}deg) rotateY(${n.y}deg)`,transformStyle:"preserve-3d",background:`
              radial-gradient(circle at 30% 30%, rgba(135, 206, 250, 0.9) 0%, transparent 60%),
              radial-gradient(circle at 70% 70%, rgba(30, 64, 175, 0.8) 0%, transparent 50%),
              conic-gradient(from 0deg at 50% 50%, #1e40af 0deg, #3b82f6 72deg, #60a5fa 144deg, #93c5fd 216deg, #dbeafe 288deg, #1e40af 360deg)
            `,filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.4))"},children:[s.jsx("div",{className:"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-transparent via-white to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:l.map(m=>{var f;return s.jsxs("div",{className:`absolute ${m.size} rounded country-3d cursor-pointer`,style:{left:m.x,top:m.y,transform:`translateX(-50%) translateY(-50%) rotateY(${n.y*.2}deg)`,filter:"drop-shadow(3px 3px 8px rgba(0,0,0,0.4))"},onClick:()=>e==null?void 0:e(m.id),children:[s.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${c(m.id)} rounded-md relative overflow-hidden`,style:{clipPath:((f=Ku.find(A=>A.id===m.id))==null?void 0:f.shape)||"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",boxShadow:t===m.id?"0 0 20px rgba(255, 235, 59, 0.8), inset 0 2px 4px rgba(255,255,255,0.3)":"inset 0 2px 4px rgba(255,255,255,0.2)"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-20"}),t===m.id&&s.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-md animate-pulse opacity-30"})]}),s.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-white bg-gradient-to-r from-gray-800 to-gray-900 px-3 py-1 rounded-full shadow-lg whitespace-nowrap opacity-0 hover:opacity-100 transition-all duration-300 backdrop-blur-sm border border-gray-600",children:s.jsx("span",{className:"drop-shadow-sm",children:m.name})})]},m.id)})}),s.jsxs("div",{className:"absolute inset-0 rounded-full",children:[Array.from({length:5}).map((m,f)=>s.jsx("div",{className:"absolute left-0 right-0 border-t border-white opacity-10",style:{top:`${20+f*15}%`}},`lat-${f}`)),Array.from({length:6}).map((m,f)=>s.jsx("div",{className:"absolute top-0 bottom-0 border-l border-white opacity-10 rounded-full",style:{left:`${15+f*14}%`}},`lng-${f}`))]}),s.jsx("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-br from-blue-300 via-cyan-300 to-blue-400 opacity-15 blur-lg"}),s.jsx("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-br from-blue-400 to-transparent opacity-25 blur-md"}),s.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:Array.from({length:12}).map((m,f)=>s.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-60 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}},f))})]}),t&&s.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-white via-blue-50 to-indigo-50 bg-opacity-95 backdrop-blur-md rounded-xl p-4 shadow-2xl animate-fade-in border border-white border-opacity-30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:s.jsx(Of,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-800",children:((d=Ku.find(m=>m.id===t))==null?void 0:d.name)||"Unknown"}),s.jsxs("div",{className:"text-xs text-gray-600",children:[(u=Ku.find(m=>m.id===t))==null?void 0:u.flag," ",(h=Ku.find(m=>m.id===t))==null?void 0:h.continent]})]})]}),s.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"Click to learn more!"})]}),s.jsx("div",{className:"absolute inset-0 rounded-full border border-blue-300 opacity-20 animate-pulse"}),s.jsx("div",{className:"absolute inset-2 rounded-full border border-cyan-300 opacity-15",style:{transform:`rotateX(75deg) rotateY(${n.y*.5}deg)`,transformStyle:"preserve-3d"}})]}),s.jsxs("div",{className:"text-center mt-6 space-y-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Hover to pause rotation"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Click countries to explore"]})]}),t&&s.jsx("div",{className:"text-xs text-yellow-600 font-medium animate-bounce",children:" This country is highlighted for the question!"})]})]})},SJe=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState(null),[i,o]=F.useState([]),[l,c]=F.useState(0),[d,u]=F.useState(1),[h,m]=F.useState(15),[f,A]=F.useState(null),[g,x]=F.useState(!1),[v,j]=F.useState(!0),[b,S]=F.useState(!1),w=8,N=()=>{const _=Ku[Math.floor(Math.random()*Ku.length)],M=[...Ku.filter(T=>T.id!==_.id).sort(()=>Math.random()-.5).slice(0,3),_].sort(()=>Math.random()-.5);a(_),o(M),r("playing"),m(15),A(null),x(!1)},E=_=>{const B=_.id===n.id;A(B),B&&c(l+10),r("result"),setTimeout(()=>{d<w?(u(d+1),N()):(r("menu"),u(1))},3e3)},P=()=>{r("menu"),c(0),u(1),m(15),A(null),x(!1)};return F.useEffect(()=>{let _;return e==="playing"&&h>0?_=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(A(!1),r("result"),setTimeout(()=>{d<w?(u(d+1),N()):(r("menu"),u(1))},3e3)),()=>clearTimeout(_)},[e,h,d,w]),s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsx("style",{jsx:!0,children:`
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-gpu {
          transform: translate3d(0, 0, 0);
        }
        @keyframes rotate {
          from { transform: rotateY(0deg); }
          to { transform: rotateY(360deg); }
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        .globe-glow {
          box-shadow: 
            0 0 50px rgba(59, 130, 246, 0.3),
            inset 0 0 50px rgba(59, 130, 246, 0.1),
            0 20px 40px rgba(0, 0, 0, 0.2);
        }
        .country-3d {
          transform-style: preserve-3d;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .country-3d:hover {
          transform: translateZ(10px) scale(1.05);
        }
        .border-saffron-300 {
          border-color: #f59e0b;
        }
        .from-saffron-400 {
          --tw-gradient-from: #f59e0b;
        }
        .to-saffron-600 {
          --tw-gradient-to: #d97706;
        }
      `}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Map Identifier"}),s.jsx("p",{className:"text-gray-600",children:"Test your geography knowledge with our 3D world map!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Of,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Geography Challenge"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Identify countries on the 3D world map and learn fascinating facts about each nation!"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[s.jsx("button",{onClick:()=>{j(!0),S(!1)},className:`px-4 py-2 rounded-lg transition-colors ${v&&!b?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),s.jsx("button",{onClick:()=>{S(!0),j(!1)},className:`px-4 py-2 rounded-lg transition-colors ${b&&!v?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India States Map"}),s.jsx("button",{onClick:()=>{j(!1),S(!1)},className:`px-4 py-2 rounded-lg transition-colors ${!v&&!b?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Country Silhouettes"})]}),v&&!b?s.jsx(sK,{className:"max-w-2xl mx-auto",onCountryClick:_=>{const B=Ku.find(k=>k.id===_);B&&console.log("Clicked country:",B.name)}}):b&&!v?s.jsx(rK,{className:"max-w-3xl mx-auto",onStateClick:_=>{console.log("Clicked state:",_.name)}}):s.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:Ku.slice(0,4).map(_=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-2 relative",children:s.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_.color} rounded-lg transform hover:scale-110 transition-transform duration-300`,style:{clipPath:_.shape,filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.2))"}})}),s.jsx("div",{className:"text-xs text-gray-600",children:_.name})]},_.id))})]}),l>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",w*10]}),s.jsx("div",{className:"text-sm text-gray-600",children:l>=w*8?" Geography Expert!":l>=w*6?" Great Explorer!":" Keep Exploring!"})]}),s.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),l>0?"Play Again":"Start Geography Quiz"]})]}),e==="playing"&&n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",w]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Which country is this?"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[s.jsx("button",{onClick:()=>{j(!0),S(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${v&&!b?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),s.jsx("button",{onClick:()=>{S(!0),j(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${b&&!v?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India Map"}),s.jsx("button",{onClick:()=>{j(!1),S(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${!v&&!b?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Silhouette"})]}),v&&!b?s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsx(sK,{highlightCountry:n.id,className:"transform scale-90"}),s.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"The highlighted country is your answer!"})]}):b&&!v?s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx(rK,{highlightState:n.id==="india"?"maharashtra":null,className:"transform scale-95"}),s.jsx("div",{className:"mt-2 text-sm text-gray-600",children:n.id==="india"?"This shows India's detailed state map for reference!":"India map shown for geographical context"})]}):s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-8 max-w-md mx-auto",children:[s.jsx("div",{className:`w-48 h-32 mx-auto bg-gradient-to-br ${n.color} shadow-lg transform hover:scale-105 transition-transform duration-300`,style:{clipPath:n.shape,filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.2))"}}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Difficulty: ",s.jsx("span",{className:`font-medium ${n.difficulty==="Easy"?"text-green-600":n.difficulty==="Medium"?"text-yellow-600":"text-red-600"}`,children:n.difficulty})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(_=>s.jsxs("button",{onClick:()=>E(_),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center mb-2",children:[s.jsx("span",{className:"text-lg",children:_.flag}),s.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600",children:_.name})]}),s.jsx("div",{className:"text-xs text-gray-500",children:_.continent})]},_.id))})]})]}),e==="result"&&n&&s.jsxs("div",{className:"text-center space-y-6",children:[f?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto"}):s.jsx(Ka,{className:"w-16 h-16 text-red-500 mx-auto"}),s.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-lg font-semibold mb-4 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:n.flag}),s.jsx("span",{children:n.name}),s.jsx(ml,{className:"w-5 h-5 text-gray-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Of,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"font-medium",children:"Capital:"})," ",n.capital]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Population:"})," ",n.population]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IX,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"font-medium",children:"Area:"})," ",n.area]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Currency:"})," ",n.currency]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Languages:"})," ",n.languages.join(", ")]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Continent:"})," ",n.continent]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"font-medium mb-2",children:" Did you know?"}),s.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:n.facts.map((_,B)=>s.jsxs("div",{children:[" ",_]},B))})]})]}),s.jsx("div",{className:"text-gray-600",children:d<w?`Round ${d+1} starting...`:"Geography quiz completed!"})]}),e!=="result"&&e!=="menu"&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},nK=[{id:1,name:"Emma Thompson",age:28,profession:"Teacher",skinColor:"bg-red-200",hairColor:"bg-orange-600",eyeColor:"bg-blue-800",likes:["reading","yoga"]},{id:2,name:"Alex Rivera",age:32,profession:"Engineer",skinColor:"bg-yellow-200",hairColor:"bg-black",eyeColor:"bg-green-700",likes:["coding","hiking"]},{id:3,name:"Sam Chen",age:25,profession:"Designer",skinColor:"bg-orange-200",hairColor:"bg-yellow-800",eyeColor:"bg-brown-800",likes:["art","music"]},{id:4,name:"Maya Patel",age:30,profession:"Doctor",skinColor:"bg-amber-200",hairColor:"bg-black",eyeColor:"bg-brown-900",likes:["medicine","travel"]},{id:5,name:"Jordan Smith",age:27,profession:"Chef",skinColor:"bg-stone-200",hairColor:"bg-red-800",eyeColor:"bg-blue-600",likes:["cooking","food"]},{id:6,name:"Taylor Kim",age:29,profession:"Artist",skinColor:"bg-pink-200",hairColor:"bg-purple-600",eyeColor:"bg-green-600",likes:["painting","photography"]},{id:7,name:"Robin Martinez",age:33,profession:"Nurse",skinColor:"bg-rose-200",hairColor:"bg-gray-800",eyeColor:"bg-amber-800",likes:["caring","gardening"]},{id:8,name:"Casey Johnson",age:26,profession:"Writer",skinColor:"bg-teal-200",hairColor:"bg-indigo-600",eyeColor:"bg-gray-600",likes:["writing","cats"]}],_Je=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState([]),[i,o]=F.useState(0),[l,c]=F.useState(20),[d,u]=F.useState(0),[h,m]=F.useState(1),[f,A]=F.useState(null),[g,x]=F.useState([]),v=5,j=4,b=(P,_="w-16 h-16")=>s.jsxs("div",{className:`relative ${_} rounded-full overflow-hidden shadow-lg border-3 border-white transform hover:scale-105 transition-transform duration-300`,children:[s.jsx("div",{className:`w-full h-full ${P.skinColor}`}),s.jsx("div",{className:`absolute top-1 left-1/2 transform -translate-x-1/2 w-3/4 h-2/3 ${P.hairColor} rounded-t-full`}),s.jsx("div",{className:`absolute top-1/3 left-1/4 w-2 h-2 ${P.eyeColor} rounded-full`}),s.jsx("div",{className:`absolute top-1/3 right-1/4 w-2 h-2 ${P.eyeColor} rounded-full`}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 w-1 h-2 bg-gray-600 rounded-full"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/2 transform -translate-x-1/2 w-4 h-1 bg-red-600 rounded-full"})]}),S=()=>{const _=[...nK].sort(()=>Math.random()-.5).slice(0,j);a(_),o(0),c(20),r("studying"),A(null)},w=()=>{r("testing"),o(0)},N=P=>{const _=n[i],B=P.id===_.id;A(B),B&&u(d+10),x([...g,{round:h,question:i+1,correctAnswer:_.name,userAnswer:P.name,isCorrect:B}]),setTimeout(()=>{i<n.length-1?(o(i+1),A(null)):h<v?(m(h+1),S()):r("result")},2e3)},E=()=>{r("menu"),u(0),m(1),o(0),c(20),A(null),x([])};return F.useEffect(()=>{let P;return e==="studying"&&l>0?P=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&w(),()=>clearTimeout(P)},[e,l]),s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Facial Recall"}),s.jsx("p",{className:"text-gray-600",children:"Test your ability to remember faces and names!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(pr,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Challenge"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study people's faces, names, and details. Then try to match them correctly!"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:nK.slice(0,4).map(P=>s.jsxs("div",{className:"text-center",children:[b(P),s.jsx("div",{className:"text-xs text-gray-600 mt-2",children:P.name.split(" ")[0]})]},P.id))}),d>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",d,"/",v*j*10]}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:d>=v*j*8?" Memory Master!":d>=v*j*6?" Great Memory!":" Keep Practicing!"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Accuracy: ",Math.round(g.filter(P=>P.isCorrect).length/g.length*100),"%"]})]}),s.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),d>0?"Play Again":"Start Memory Test"]})]}),e==="studying"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",v]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study these people carefully!"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Remember their faces, names, ages, professions, and interests"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map(P=>s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:b(P,"w-20 h-20")}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-lg font-bold text-gray-800",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Age: ",P.age]}),s.jsx("div",{className:"text-sm text-gray-600",children:P.profession}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Likes: ",P.likes.join(", ")]})]})]},P.id))}),s.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Memory Tip:"})," Try to create associations between faces and details. Notice unique features like hair color, eye color, and profession!"]})})]})]}),e==="testing"&&n.length>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Question ",i+1,"/",n.length]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",v]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),f!==null&&s.jsx("div",{className:"text-center",children:f?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[s.jsx(Lr,{className:"w-8 h-8"}),s.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):s.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[s.jsx(Ka,{className:"w-8 h-8"}),s.jsx("span",{className:"text-xl font-bold",children:"Incorrect!"})]})}),f===null&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Who is this person?"}),s.jsx("div",{className:"flex justify-center mb-6",children:b(n[i],"w-32 h-32")}),s.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto",children:n.sort(()=>Math.random()-.5).map(P=>s.jsxs("button",{onClick:()=>N(P),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 mb-2",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[P.profession,", Age ",P.age]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Likes: ",P.likes.join(", ")]})]},P.id))})]})]}),e==="result"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(pn,{className:"w-16 h-16 text-yellow-500 mx-auto"}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Memory Test Complete!"}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[d,"/",v*j*10]}),s.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Accuracy: ",Math.round(g.filter(P=>P.isCorrect).length/g.length*100),"%"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-800",children:"Performance Breakdown:"}),Array.from({length:v},(P,_)=>{const k=g.filter(M=>M.round===_+1).filter(M=>M.isCorrect).length;return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Round ",_+1,":"]}),s.jsxs("span",{className:k===j?"text-green-600":k>=j*.5?"text-yellow-600":"text-red-600",children:[k,"/",j," correct"]})]},_)})]})]}),s.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Play Again"]})]}),e!=="result"&&e!=="menu"&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},CJe=[{id:"speed",name:"Speed Math",desc:"Solve as many problems as possible in 60 seconds",icon:uh,timeLimit:60,color:"from-yellow-400 to-orange-500"},{id:"accuracy",name:"Accuracy Challenge",desc:"Get 10 problems correct with minimal mistakes",icon:jn,timeLimit:null,color:"from-blue-400 to-blue-600"},{id:"mental",name:"Mental Math",desc:"Complex problems to challenge your brain",icon:Js,timeLimit:null,color:"from-purple-400 to-purple-600"},{id:"practice",name:"Free Practice",desc:"Practice at your own pace",icon:i4,timeLimit:null,color:"from-green-400 to-green-600"}],EJe=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState(""),[d,u]=F.useState(0),[h,m]=F.useState(0),[f,A]=F.useState(0),[g,x]=F.useState(null),[v,j]=F.useState([]),[b,S]=F.useState(1),w=(M="medium")=>{const T=["+","-","",""],H=T[Math.floor(Math.random()*T.length)];let L,Q,O;if(M==="easy")switch(H){case"+":L=Math.floor(Math.random()*20)+1,Q=Math.floor(Math.random()*20)+1,O=L+Q;break;case"-":L=Math.floor(Math.random()*30)+10,Q=Math.floor(Math.random()*L)+1,O=L-Q;break;case"":L=Math.floor(Math.random()*10)+1,Q=Math.floor(Math.random()*10)+1,O=L*Q;break;case"":O=Math.floor(Math.random()*10)+1,Q=Math.floor(Math.random()*8)+2,L=O*Q;break}else if(M==="hard")switch(H){case"+":L=Math.floor(Math.random()*200)+50,Q=Math.floor(Math.random()*200)+50,O=L+Q;break;case"-":L=Math.floor(Math.random()*300)+100,Q=Math.floor(Math.random()*L)+50,O=L-Q;break;case"":L=Math.floor(Math.random()*25)+10,Q=Math.floor(Math.random()*15)+5,O=L*Q;break;case"":O=Math.floor(Math.random()*20)+5,Q=Math.floor(Math.random()*15)+3,L=O*Q;break}else switch(H){case"+":L=Math.floor(Math.random()*100)+10,Q=Math.floor(Math.random()*100)+10,O=L+Q;break;case"-":L=Math.floor(Math.random()*150)+50,Q=Math.floor(Math.random()*L)+10,O=L-Q;break;case"":L=Math.floor(Math.random()*15)+5,Q=Math.floor(Math.random()*12)+3,O=L*Q;break;case"":O=Math.floor(Math.random()*15)+3,Q=Math.floor(Math.random()*12)+2,L=O*Q;break}return{num1:L,num2:Q,operation:H,answer:O,difficulty:M}},N=M=>{a(M);const T=M.id==="mental"?"hard":M.id==="practice"?"easy":"medium";o(w(T)),c(""),u(0),m(0),S(1),j([]),x(null),r("playing"),M.timeLimit&&A(M.timeLimit)},E=M=>{e==="playing"&&g===null&&c(T=>T+M)},P=()=>{e==="playing"&&c("")},_=()=>{e==="playing"&&c(M=>M.slice(0,-1))},B=()=>{if(!l||g!==null)return;const M=parseInt(l),T=M===i.answer;x(T);const H={...i,userAnswer:M,isCorrect:T,round:b};j(L=>[...L,H]),T?u(d+10):m(h+1),setTimeout(()=>{if(n.id==="accuracy"&&(d+10>=100||h>=3)){r("result");return}if(n.id==="mental"&&b>=15){r("result");return}const L=n.id==="mental"?"hard":n.id==="practice"?"easy":"medium";o(w(L)),c(""),S(b+1),x(null)},1500)},k=()=>{r("menu"),a(null),o(null),c(""),u(0),m(0),A(0),x(null),j([]),S(1)};return F.useEffect(()=>{let M;return e==="playing"&&(n!=null&&n.timeLimit)&&f>0?M=setTimeout(()=>A(f-1),1e3):e==="playing"&&(n!=null&&n.timeLimit)&&f===0&&r("result"),()=>clearTimeout(M)},[e,f,n]),s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Games"}),s.jsx("p",{className:"text-gray-600",children:"Practice math through fun, interactive challenges!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(i4,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Math Challenge Center"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Choose your challenge and improve your calculation skills!"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:CJe.map(M=>{const T=M.icon;return s.jsxs("button",{onClick:()=>N(M),className:`p-6 rounded-xl bg-gradient-to-br ${M.color} text-white text-left transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(T,{className:"w-8 h-8"}),s.jsx("h4",{className:"text-xl font-bold",children:M.name})]}),s.jsx("p",{className:"text-white/90 mb-3",children:M.desc}),M.timeLimit&&s.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-sm",children:[s.jsx(dr,{className:"w-4 h-4"}),M.timeLimit," seconds"]})]},M.id)})}),d>0&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Last Game: ",d," points"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Mode: ",n==null?void 0:n.name," | Problems: ",v.length]})]})]}),e==="playing"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:[n==null?void 0:n.name," - Problem ",b]}),(n==null?void 0:n.timeLimit)&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[f,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),g!==null&&s.jsx("div",{className:"text-center",children:g?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[s.jsx(Lr,{className:"w-8 h-8"}),s.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):s.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[s.jsx(Ka,{className:"w-8 h-8"}),s.jsxs("span",{className:"text-xl font-bold",children:["Incorrect! Answer was ",i.answer]})]})}),g===null&&s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-2xl",children:[s.jsxs("div",{className:"bg-green-900 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"text-green-400 text-right font-mono text-2xl mb-2",children:[i.num1," ",i.operation," ",i.num2," = ?"]}),s.jsx("div",{className:"text-green-300 text-right font-mono text-lg",children:l||"0"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9,4,5,6,1,2,3].map(M=>s.jsx("button",{onClick:()=>E(M.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:M},M)),s.jsx("button",{onClick:P,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"C"}),s.jsx("button",{onClick:()=>E("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:"0"}),s.jsx("button",{onClick:_,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:""}),s.jsx("button",{onClick:B,disabled:!l,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"="})]})]}),(n==null?void 0:n.id)==="accuracy"&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-4 bg-blue-50 rounded-lg px-4 py-2",children:[s.jsxs("span",{className:"text-green-600",children:["Correct: ",d/10]}),s.jsxs("span",{className:"text-red-600",children:["Mistakes: ",h,"/3"]})]})})]})]}),e==="result"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(Hl,{className:"w-16 h-16 text-yellow-500 mx-auto"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:[n==null?void 0:n.name," Complete!"]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-4",children:[d," Points"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Problems Solved:"}),s.jsx("div",{className:"text-lg font-bold",children:v.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Accuracy:"}),s.jsxs("div",{className:"text-lg font-bold",children:[v.length>0?Math.round(v.filter(M=>M.isCorrect).length/v.length*100):0,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Correct Answers:"}),s.jsx("div",{className:"text-lg font-bold text-green-600",children:v.filter(M=>M.isCorrect).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mistakes:"}),s.jsx("div",{className:"text-lg font-bold text-red-600",children:h})]})]}),(n==null?void 0:n.timeLimit)&&s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"font-medium text-gray-700",children:["Speed: ",v.length>0?Math.round(n.timeLimit/v.length):0," sec/problem"]})})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs("button",{onClick:()=>N(n),className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Play Again"]}),s.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Choose New Mode"]})]})]}),e==="playing"&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},aT=[{id:1,emoji:"",name:"Apple",price:2.5,category:"Fruits"},{id:2,emoji:"",name:"Banana",price:1.25,category:"Fruits"},{id:3,emoji:"",name:"Orange",price:2,category:"Fruits"},{id:4,emoji:"",name:"Grapes",price:4.5,category:"Fruits"},{id:5,emoji:"",name:"Strawberry",price:3.75,category:"Fruits"},{id:6,emoji:"",name:"Bread",price:2.25,category:"Bakery"},{id:7,emoji:"",name:"Croissant",price:1.75,category:"Bakery"},{id:8,emoji:"",name:"Sandwich Bread",price:2.5,category:"Bakery"},{id:9,emoji:"",name:"Milk",price:3.5,category:"Dairy"},{id:10,emoji:"",name:"Cheese",price:5.25,category:"Dairy"},{id:11,emoji:"",name:"Butter",price:4,category:"Dairy"},{id:12,emoji:"",name:"Eggs",price:3,category:"Dairy"},{id:13,emoji:"",name:"Carrot",price:1.5,category:"Vegetables"},{id:14,emoji:"",name:"Lettuce",price:2.25,category:"Vegetables"},{id:15,emoji:"",name:"Tomato",price:3.25,category:"Vegetables"},{id:16,emoji:"",name:"Potato",price:2.75,category:"Vegetables"},{id:17,emoji:"",name:"Chicken",price:8.5,category:"Meat"},{id:18,emoji:"",name:"Beef",price:12.75,category:"Meat"},{id:19,emoji:"",name:"Fish",price:9.25,category:"Meat"},{id:20,emoji:"",name:"Pasta",price:1.75,category:"Pantry"}],kJe=({onBack:t})=>{var L,Q,O,V,ee,Y,re;const[e,r]=F.useState("menu"),[n,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState(15),[d,u]=F.useState(!0),[h,m]=F.useState(0),[f,A]=F.useState(1),[g,x]=F.useState(0),[v,j]=F.useState([]),[b,S]=F.useState([]),w=3,N=D=>{const G=Math.min(5+D,8),K=[...aT].sort(()=>Math.random()-.5).slice(0,G),oe=K.reduce((ge,pe)=>ge+pe.price,0),ue=oe*(.1+Math.random()*.2);return{items:K,budget:Math.round((oe+ue)*100)/100}},E=()=>{const{items:D,budget:G}=N(f);a(D),x(G),o([]),c(15),u(!0),r("studying"),j([])},P=()=>{r("shopping"),u(!1)},_=D=>{o(G=>[...G,D])},B=D=>{o(G=>G.filter((z,K)=>K!==D))},k=()=>Math.round(i.reduce((D,G)=>D+G.price,0)*100)/100,M=()=>{const D=i.map(le=>le.id),G=n.map(le=>le.id),z=D.filter(le=>G.includes(le)),K=D.filter(le=>!G.includes(le)),oe=G.filter(le=>!D.includes(le)),ue=k(),ge=ue<=g,pe=Math.round(z.length/Math.max(G.length,D.length)*100);let ye=z.length*10;z.length===G.length&&K.length===0&&(ye+=50),ge&&(ye+=20);const Pe={round:f,correctItems:z.length,totalItems:G.length,extraItems:K.length,missedItems:oe.length,totalSpent:ue,budget:g,withinBudget:ge,accuracy:pe,score:ye};return m(le=>le+ye),S(le=>[...le,Pe]),setTimeout(()=>{f<w?(A(f+1),E()):r("result")},4e3),Pe},T=()=>{r("menu"),a([]),o([]),c(15),u(!0),m(0),A(1),x(0),j([]),S([])},H=()=>{u(!d)};return F.useEffect(()=>{let D;return e==="studying"&&l>0?D=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&P(),()=>clearTimeout(D)},[e,l]),s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Grocery Memory Challenge"}),s.jsx("p",{className:"text-gray-600",children:"Memorize your shopping list and shop efficiently!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Nhe,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Shopping Challenge"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study your shopping list, memorize it, then shop without looking! Stay within budget and get the right items."})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:aT.slice(0,6).map(D=>s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-3xl mb-2",children:D.emoji}),s.jsx("div",{className:"text-xs text-gray-600",children:D.name}),s.jsxs("div",{className:"text-xs text-green-600",children:["$",D.price]})]},D.id))}),h>0&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",h," points"]}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:h>=300?" Shopping Expert!":h>=200?" Great Shopper!":" Keep Practicing!"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Average Accuracy: ",b.length>0?Math.round(b.reduce((D,G)=>D+G.accuracy,0)/b.length):0,"%"]})]}),s.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),h>0?"Play Again":"Start Shopping Challenge"]})]}),e==="studying"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Round ",f,"/",w]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",h]})]}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study Your Shopping List"}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Memorize these items and their details. You have ",l," seconds!"]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(dh,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["Budget: $",g]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(D=>s.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-md",children:[s.jsx("div",{className:"text-3xl mb-2",children:D.emoji}),s.jsx("div",{className:"text-sm font-bold text-gray-800 mb-1",children:D.name}),s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:D.category}),s.jsxs("div",{className:"text-sm font-bold text-green-600",children:["$",D.price]})]},D.id))})]}),s.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Memory Tips:"})," Group items by category, remember prices, and create mental associations with the emojis!"]})}),s.jsx("button",{onClick:P,className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"I'm Ready to Shop!"})]})]}),e==="shopping"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Shopping - Round ",f]}),s.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[d?s.jsx(Gg,{className:"w-4 h-4"}):s.jsx(Is,{className:"w-4 h-4"}),d?"Hide":"Peek at"," List"]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Budget: $",g]})]}),d&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm font-bold text-yellow-800 mb-2",children:"Your Shopping List:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(D=>s.jsxs("span",{className:"inline-flex items-center gap-1 bg-white px-2 py-1 rounded text-sm",children:[s.jsx("span",{children:D.emoji}),s.jsx("span",{children:D.name}),s.jsxs("span",{className:"text-green-600",children:["$",D.price]})]},D.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Grocery Store"}),s.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:aT.map(D=>s.jsxs("button",{onClick:()=>_(D),className:"p-3 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all text-center group",children:[s.jsx("div",{className:"text-2xl mb-1",children:D.emoji}),s.jsx("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-600",children:D.name}),s.jsx("div",{className:"text-xs text-gray-500",children:D.category}),s.jsxs("div",{className:"text-xs font-bold text-green-600",children:["$",D.price]})]},D.id))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Your Cart"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:i.length===0?s.jsx("div",{className:"text-gray-500 text-center py-8",children:"Cart is empty"}):i.map((D,G)=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:D.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:D.name}),s.jsx("div",{className:"text-xs text-gray-500",children:D.category})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",D.price]}),s.jsx("button",{onClick:()=>B(G),className:"text-red-500 hover:text-red-700 text-sm",children:""})]})]},G))}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-bold",children:"Total:"}),s.jsxs("span",{className:`text-lg font-bold ${k()>g?"text-red-600":"text-green-600"}`,children:["$",k()]})]}),k()>g&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 mb-4",children:s.jsxs("div",{className:"text-sm text-red-800",children:[" Over budget by $",Math.round((k()-g)*100)/100]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o([]),className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Clear Cart"}),s.jsx("button",{onClick:()=>{M(),r("result")},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Checkout"})]})]})]})]})]}),e==="result"&&b.length>0&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(Hl,{className:"w-16 h-16 text-yellow-500 mx-auto"}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:f>w?"Shopping Challenge Complete!":`Round ${f} Results`}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:[h," Total Points"]}),f<=w?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Items Correct:"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(L=b[b.length-1])==null?void 0:L.correctItems,"/",(Q=b[b.length-1])==null?void 0:Q.totalItems]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Budget Status:"}),s.jsx("div",{className:`text-lg font-bold ${(O=b[b.length-1])!=null&&O.withinBudget?"text-green-600":"text-red-600"}`,children:(V=b[b.length-1])!=null&&V.withinBudget?" Within Budget":" Over Budget"})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-medium",children:["Accuracy: ",(ee=b[b.length-1])==null?void 0:ee.accuracy,"%"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Total Spent: $",(Y=b[b.length-1])==null?void 0:Y.totalSpent," / $",(re=b[b.length-1])==null?void 0:re.budget]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Overall Performance Across ",w," Rounds"]}),s.jsx("div",{className:"space-y-2 text-sm",children:b.map((D,G)=>s.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg p-3",children:[s.jsxs("span",{children:["Round ",D.round,":"]}),s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("span",{className:"text-green-600",children:[D.correctItems,"/",D.totalItems," items"]}),s.jsx("span",{className:D.withinBudget?"text-green-600":"text-red-600",children:D.withinBudget?"Budget ":"Over Budget"}),s.jsxs("span",{className:"font-bold",children:[D.score," pts"]})]})]},G))}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"font-medium text-gray-700",children:["Average Accuracy: ",Math.round(b.reduce((D,G)=>D+G.accuracy,0)/b.length),"%"]})})]})]}),s.jsx("div",{className:"flex gap-3 justify-center",children:f<=w?s.jsxs("div",{className:"text-gray-600",children:["Round ",f+1," starting automatically..."]}):s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Play Again"]})})})]}),(e==="shopping"||e==="studying")&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[s.jsx(Xo,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},BJe=({onBack:t})=>{const[e,r]=F.useState("ready"),[n,a]=F.useState(""),[i,o]=F.useState(""),[l,c]=F.useState(30),[d,u]=F.useState(null),[h,m]=F.useState(1),[f,A]=F.useState(0),g=()=>{let E="";for(let P=0;P<12;P++)E+=Math.floor(Math.random()*10);return E},x=()=>{const E=g();a(E),o(""),u(null),r("memorizing"),c(30)};F.useEffect(()=>{let E;return e==="memorizing"&&l>0?E=setTimeout(()=>{c(l-1)},1e3):e==="memorizing"&&l===0&&r("recalling"),()=>clearTimeout(E)},[e,l]);const v=()=>{let E=0;const P=i.padEnd(12," ");for(let B=0;B<12;B++)n[B]===P[B]&&E++;const _=Math.round(E/12*100);u({correct:E,total:12,percentage:_}),A(f+E),r("finished")},j=()=>{m(h+1),x()},b=()=>{r("ready"),a(""),o(""),c(30),u(null),m(1),A(0)},S=E=>{e==="recalling"&&i.length<12&&o(i+E)},w=()=>{e==="recalling"&&o(i.slice(0,-1))},N=()=>{e==="recalling"&&o("")};return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Memory Game"}),s.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[s.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"font-mono text-2xl text-green-400 text-right tracking-wider",children:[e==="ready"&&"000000000000",e==="memorizing"&&n,e==="recalling"&&s.jsx("span",{children:i.padEnd(12,"_")}),e==="finished"&&n]})}),e==="recalling"&&s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(E=>s.jsx("button",{onClick:()=>S(E.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:E},E)),s.jsx("button",{onClick:N,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"C"}),s.jsx("button",{onClick:()=>S("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),s.jsx("button",{onClick:w,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),s.jsx("button",{onClick:v,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""})]})]}),s.jsxs("div",{className:"space-y-4",children:[e==="ready"&&s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(i4,{className:"w-16 h-16 text-gray-400 mx-auto mb-2"}),s.jsxs("p",{className:"text-gray-600",children:["You'll have 30 seconds to memorize a 12-digit sequence.",s.jsx("br",{}),"Then you'll need to input the digits in the exact order!"]})]}),s.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Start Round ",h]})]}),e==="memorizing"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Memorize these digits!"}),s.jsxs("div",{className:"text-orange-600 font-medium",children:["Time remaining: ",l," seconds"]}),s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Focus on the 12-digit sequence above. Use any memory technique you prefer!"})})]}),e==="recalling"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons below to input the sequence you memorized."})})]}),e==="finished"&&d&&s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-4",children:[d.percentage>=80?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):s.jsx(Ka,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Comparison:"}),s.jsxs("div",{className:"font-mono text-lg space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Correct: "}),s.jsx("span",{className:"text-green-600",children:n})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Your answer: "}),s.jsx("span",{className:"text-blue-600",children:i.padEnd(12,"_")})]})]})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Next Round"]}),s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})]})},TJe=({onBack:t})=>{const[e,r]=F.useState("menu"),[n,a]=F.useState(""),[i,o]=F.useState(""),[l,c]=F.useState(30),[d,u]=F.useState(null),[h,m]=F.useState(1),[f,A]=F.useState(0),[g,x]=F.useState(!1),v=()=>{let B="";for(let k=0;k<12;k++)B+=Math.floor(Math.random()*10);return B},j=()=>{const B=v();a(B),o(""),u(null),r("memorizing"),c(30),x(!1)},b=()=>{r("recalling"),x(!0),o("")},S=()=>{let B=0;const k=i.padEnd(12," ");for(let T=0;T<12;T++)n[T]===k[T]&&B++;const M=Math.round(B/12*100);u({correct:B,total:12,percentage:M}),A(f+B),r("result")},w=()=>{m(h+1),j()},N=()=>{r("menu"),a(""),o(""),c(30),u(null),m(1),A(0),x(!1)},E=B=>{e==="recalling"&&i.length<12&&o(i+B)},P=()=>{e==="recalling"&&o(i.slice(0,-1))},_=()=>{e==="recalling"&&o("")};return F.useEffect(()=>{let B;return e==="memorizing"&&l>0?B=setTimeout(()=>c(l-1),1e3):e==="memorizing"&&l===0&&b(),()=>clearTimeout(B)},[e,l]),s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Wl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Digital Challenge"}),s.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),e==="menu"&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(i4,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Digital Memory Challenge"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Using any technique you like, spend up to 30 seconds memorizing the row of 12 digits on the calculator display. When time is up, cover them and write them out in order as accurately as you can."})]}),f>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Total Score: ",f," digits across ",h-1," rounds"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Average: ",Math.round(f/(h-1))," digits per round"]})]}),s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),f>0?`Start Round ${h}`:"Start Challenge"]})]}),e==="memorizing"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Study these digits carefully!"}),s.jsxs("div",{className:"text-orange-600 font-medium mb-4",children:["Time remaining: ",l," seconds"]})]}),s.jsx("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:s.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:s.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:n})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Memory Tips:"})," Try grouping digits, creating patterns, or using visualization techniques!"]})}),s.jsx("button",{onClick:b,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"I'm Ready to Recall"})]})]}),e==="recalling"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:s.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:g?i.padEnd(12,"_"):n})}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(B=>s.jsx("button",{onClick:()=>E(B.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:B},B)),s.jsx("button",{onClick:_,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Clear"}),s.jsx("button",{onClick:()=>E("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),s.jsx("button",{onClick:P,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),s.jsx("button",{onClick:S,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Submit"})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 max-w-md mx-auto",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons to input the sequence you memorized. Take your time and be as accurate as possible!"})})})]}),e==="result"&&d&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"mb-4",children:[d.percentage>=80?s.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):s.jsx(Ka,{className:"w-16 h-16 text-orange-500 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-2xl mx-auto",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Digit-by-digit comparison:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"font-mono text-lg",children:[s.jsx("span",{className:"text-gray-500",children:"Correct: "}),s.jsx("span",{className:"text-green-600 tracking-widest",children:n})]}),s.jsxs("div",{className:"font-mono text-lg",children:[s.jsx("span",{className:"text-gray-500",children:"Your answer: "}),s.jsx("span",{className:"tracking-widest",children:n.split("").map((B,k)=>{const M=i[k]||"_",T=M===B;return s.jsx("span",{className:T?"text-green-600":"text-red-600",children:M},k)})})]})]})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx(Ji,{className:"w-5 h-5"}),"Next Round"]}),s.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[s.jsx(Xo,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})},MJe=()=>{const t=Ec(),e=mi();return t.pathname==="/dashboard"?s.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:s.jsx("div",{className:"relative",children:s.jsxs("button",{onClick:()=>e("/dashboard/games"),className:"h-16 w-16 rounded-full shadow-2xl bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 hover:from-fuchsia-500 hover:via-purple-700 hover:to-indigo-700 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 relative group","aria-label":"Open games menu",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 animate-ping opacity-20"}),s.jsx(eue,{className:"h-8 w-8 relative z-10"}),s.jsx("div",{className:"absolute bottom-full mb-2 px-2 py-1 rounded-md bg-gray-900 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"Games"})]})})}):null},aK=()=>{const t=mi(),{gameKey:e}=AX();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"px-4 sm:px-6 md:px-8 pt-6",children:s.jsxs("button",{onClick:()=>t(e?"/dashboard/games":"/dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white shadow-md hover:shadow-lg border border-gray-200 text-gray-700 hover:text-gray-900 transition-all duration-200",children:[s.jsx(Wl,{className:"w-4 h-4"}),e?"Back to Games":"Back to Dashboard"]})}),e&&s.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[e==="memory"&&s.jsx(vJe,{}),e==="math"&&s.jsx(yJe,{}),e==="words"&&s.jsx(bJe,{}),e==="smiley-circles"&&s.jsx(wJe,{}),e==="mind-training"&&s.jsx(jJe,{}),e==="reshaped"&&s.jsx(NJe,{}),e==="map-identifier"&&s.jsx(SJe,{}),e==="facial-recall"&&s.jsx(_Je,{}),e==="calculator-games"&&s.jsx(EJe,{}),e==="grocery"&&s.jsx(kJe,{}),e==="calculator-memory"&&s.jsx(BJe,{}),e==="digital-challenge"&&s.jsx(TJe,{})]})}),!e&&s.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-yellow-300 to-orange-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/dashboard/games/mind-training"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 w-32 h-32 border-6 border-orange-400 rounded-full opacity-50 transform rotate-12 hover:rotate-45 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"absolute top-8 right-8 w-28 h-28 border-6 border-blue-500 rounded-lg opacity-50 transform -rotate-12 hover:rotate-12 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-lg font-medium text-gray-800 mb-2 drop-shadow-sm",children:"Play"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1 drop-shadow-sm",children:"MIND Training"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2 drop-shadow-sm",children:"Games"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"On the Go..."}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-purple-300 to-purple-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative border-2 border-white/20",onClick:()=>t("/dashboard/games/smiley-circles"),style:{boxShadow:"0 20px 40px -12px rgba(147, 51, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Smiley"}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Circles"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Guess The emotions of the emojis"}),s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),s.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),s.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),s.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),s.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-gray-300 to-gray-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/dashboard/games/map-identifier"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),s.jsx("div",{className:"absolute right-4 top-4 w-32 h-40 transform hover:scale-110 transition-transform duration-500",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-400 to-orange-600 opacity-70 transform hover:rotate-3 transition-transform duration-500",style:{clipPath:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Map Identifier"}),s.jsx("div",{className:"text-sm text-gray-700 mb-6 max-w-32 drop-shadow-sm",children:"Guess different maps around the world and increase geographic knowledge"}),s.jsx("div",{className:"absolute bottom-6",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},children:"Level: Medium"})})]})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/facial-recall"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Facial Recall"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize the names associated with the faces"}),s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full border-3 border-orange-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full border-3 border-blue-600 transform hover:scale-110 hover:-rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-full border-3 border-green-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-green-300 to-green-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/digital-challenge"),style:{boxShadow:"0 20px 40px -12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Digital"}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Challenge"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize 12 digits in 30 seconds"}),s.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-900 rounded-lg p-3 mb-3 transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"},children:[s.jsx("div",{className:"bg-gradient-to-b from-green-800 to-green-900 rounded p-2 text-center",style:{filter:"drop-shadow(inset 0 2px 4px rgba(0,0,0,0.3))"},children:s.jsx("span",{className:"font-mono text-green-400 text-sm drop-shadow-sm",children:"123456789012"})}),s.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2",children:[7,8,9,4,5,6,1,2,3].map(r=>s.jsx("div",{className:"bg-gradient-to-b from-gray-500 to-gray-700 rounded text-white text-sm text-center py-1 transform hover:scale-110 transition-transform duration-200",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"},children:r},r))})]})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/reshaped"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"RESHAPED"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Games design for kids to understand geometric shapes"}),s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded transform rotate-12 hover:rotate-45 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-0 h-0 border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-500 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full relative hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:s.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-blue-200 to-blue-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/grocery"),style:{boxShadow:"0 20px 40px -12px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Grocery"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Spend time memorizing given grocery list and shop efficiently"}),s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),s.jsx("span",{className:"text-4xl transform hover:scale-125 hover:-rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),s.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-3 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]})]}),s.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-pink-300 to-red-300 rounded-3xl shadow-2xl p-6 opacity-70 cursor-not-allowed border-2 border-white/20 relative overflow-hidden",style:{boxShadow:"0 20px 40px -12px rgba(244, 63, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[s.jsx("div",{className:"absolute top-2 right-2 text-5xl opacity-30 transform hover:scale-110 transition-transform duration-300",children:""}),s.jsxs("div",{className:"absolute top-6 left-6 flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"200ms"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"400ms"}})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"More Games Coming"}),s.jsx("div",{className:"text-sm text-gray-700 drop-shadow-sm",children:"Stay tuned for exciting new games!"}),s.jsx("div",{className:"mt-4 bg-white/30 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-white/60 to-white/80 h-full rounded-full w-1/3 animate-pulse"})})]})]})})]})},FJe=[{to:"/super-admin/overview",label:"Overview",icon:xue},{to:"/super-admin/requests",label:"Requests",icon:Xu},{to:"/super-admin/feedback",label:"Feedback",icon:kn},{to:"/super-admin/issues",label:"Issues",icon:Vo},{to:"/super-admin/tickets",label:"Tickets",icon:TX},{to:"/super-admin/credentials",label:"Passwords",icon:BX},{to:"/super-admin/id-pass",label:"ID Pass",icon:cue},{to:"/super-admin/operations",label:"Operations",icon:Ya}],PJe=({children:t,sidebarCollapsed:e,onToggleSidebar:r,insights:n,profile:a})=>s.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[s.jsxs("aside",{className:`bg-white border-r border-slate-200 flex flex-col transition-all duration-200 ${e?"w-20":"w-64"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-5 border-b border-slate-100",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-100 text-amber-600",children:s.jsx(Vg,{size:24})}),!e&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-500",children:"EEC Platform"}),s.jsx("p",{className:"text-base font-semibold text-slate-800",children:"Super Admin"})]})]}),s.jsx("nav",{className:"flex-1 py-4",children:FJe.map(({to:i,label:o,icon:l})=>s.jsxs(n5,{to:i,className:({isActive:c})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors hover:text-amber-600 ${c?"text-amber-600 bg-amber-50 border-r-4 border-amber-400":"text-slate-600"}`,children:[s.jsx(l,{size:18}),!e&&s.jsx("span",{children:o})]},i))}),s.jsx("div",{className:"px-4 py-5 border-t border-slate-100 text-xs text-slate-500",children:!e&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-semibold text-slate-600",children:a.name}),s.jsx("p",{children:a.role}),s.jsx("p",{className:"text-slate-400",children:a.email})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400 tracking-wide",children:"Control Centre"}),s.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"Super Admin Portal"})]}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg border border-slate-200 hover:bg-slate-100 text-slate-600","aria-label":"Toggle sidebar",children:s.jsx(Sw,{size:18})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:n.map(i=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:i.label}),s.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:i.value}),i.change&&s.jsx("p",{className:`text-xs font-medium ${i.change.startsWith("+")?"text-emerald-600":"text-slate-500"}`,children:i.change})]},i.label))})]}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t})]})]}),iT=t=>new Date(t).toLocaleString("en-IN",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),IJe={pending:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",approved:"bg-emerald-100 text-emerald-700"},DJe=({requests:t,feedbackItems:e,issues:r,tickets:n,onRequestAction:a,onIssueUpdate:i,onTicketUpdate:o,onFeedbackUpdate:l})=>{const c=t.filter(f=>f.status==="pending"),d=r.filter(f=>f.status!=="resolved"),u=n.filter(f=>f.status!=="resolved"),h=e.filter(f=>f.status!=="resolved"),m=[...t].sort((f,A)=>new Date(A.submittedAt)-new Date(f.submittedAt)).slice(0,3);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400 tracking-wide",children:"Approval Centre"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Schools waiting for action"})]}),s.jsxs("span",{className:"text-sm text-slate-500",children:[c.length," pending"]})]}),c.length===0&&s.jsx("p",{className:"text-sm text-slate-500",children:"All caught up! Every school request is processed."}),s.jsx("div",{className:"space-y-4",children:c.map(f=>s.jsxs("div",{className:"rounded-xl border border-slate-100 p-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-50 text-amber-600",children:s.jsx(Xu,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:f.schoolName}),s.jsxs("p",{className:"text-xs text-slate-500",children:[f.board,"  ",f.studentCount," students"]})]})]}),s.jsxs("div",{className:"mt-3 text-xs text-slate-500 flex gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{size:14})," ",iT(f.submittedAt)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yi,{size:14})," ",f.contactEmail]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Mi,{size:14})," ",f.contactPerson]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",onClick:()=>a(f.id,"review"),children:"Request Info"}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm hover:bg-emerald-700",onClick:()=>a(f.id,"approved"),children:"Approve Now"})]})]},f.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-50 text-violet-500",children:s.jsx(iA,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Recent approvals"}),s.jsx("p",{className:"font-semibold text-slate-800",children:"Activation timeline"})]})]}),s.jsx("div",{className:"space-y-3",children:m.map(f=>s.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.schoolName}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Campus: ",f.campuses]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${IJe[f.status]||"bg-slate-100 text-slate-500"}`,children:f.status.toUpperCase()})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Updated ",f.updatedAt?iT(f.updatedAt):iT(f.submittedAt)]})]},f.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-50 text-sky-500",children:s.jsx(TX,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Tickets"}),s.jsx("p",{className:"font-semibold text-slate-800",children:"Live queue"})]})]}),u.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No open tickets. Support team is up to date."}):s.jsx("div",{className:"space-y-3",children:u.slice(0,4).map(f=>s.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.subject}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f.status==="open"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:f.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-xs text-slate-500",children:[f.schoolName,"  ",f.owner]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>o(f.id,{status:"in_progress"}),children:"Assign"}),s.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>o(f.id,{status:"resolved"}),children:"Resolve"})]})]},f.id))})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-rose-50 text-rose-500",children:s.jsx(Ir,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Issue room"}),s.jsx("p",{className:"font-semibold text-slate-800",children:"Incidents under watch"})]})]}),d.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No open incidents right now."}):s.jsx("div",{className:"space-y-3",children:d.map(f=>s.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.title}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",f.owner]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f.severity==="high"?"bg-red-100 text-red-600":f.severity==="medium"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}`,children:f.severity})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:f.description}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>i(f.id,{status:"investigating"}),children:"Escalate"}),s.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>i(f.id,{status:"resolved"}),children:"Mark resolved"})]})]},f.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-50 text-emerald-500",children:s.jsx(Yi,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Feedback"}),s.jsx("p",{className:"font-semibold text-slate-800",children:"Responses waiting"})]})]}),h.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No pending feedback threads."}):s.jsx("div",{className:"space-y-3",children:h.map(f=>s.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.topic}),s.jsx("p",{className:"text-xs text-slate-500",children:f.schoolName}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:f.message}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>l(f.id,{status:"in_progress"}),children:"Discuss"}),s.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-sky-50 text-sky-600",onClick:()=>l(f.id,{status:"resolved"}),children:"Close feedback"})]})]},f.id))})]})]})]})},LJe={pending:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-600"},RJe=({requests:t,onRequestAction:e})=>{const[r,n]=F.useState(""),[a,i]=F.useState("all"),o=F.useMemo(()=>t.filter(c=>{const d=c.schoolName.toLowerCase().includes(r.toLowerCase())||c.contactPerson.toLowerCase().includes(r.toLowerCase())||c.contactEmail.toLowerCase().includes(r.toLowerCase()),u=a==="all"||c.status===a;return d&&u}),[t,r,a]),l=(c,d)=>{const u=d==="review"?window.prompt("Add a note for the school (optional)"):void 0;e(c,d,u)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"School onboarding"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Approval workspace"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${a==="all"?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>i("all"),children:"All"}),s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${a==="pending"?"bg-amber-500 text-white border-amber-500":"border-slate-200 text-slate-600"}`,onClick:()=>i("pending"),children:"Pending"}),s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${a==="review"?"bg-blue-500 text-white border-blue-500":"border-slate-200 text-slate-600"}`,onClick:()=>i("review"),children:"Need info"}),s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${a==="approved"?"bg-emerald-500 text-white border-emerald-500":"border-slate-200 text-slate-600"}`,onClick:()=>i("approved"),children:"Approved"})]})]}),s.jsxs("div",{className:"mt-6 flex flex-col gap-4 md:flex-row md:items-center",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-2 border border-slate-200 rounded-xl px-3 py-2 bg-slate-50",children:[s.jsx(Ds,{size:16,className:"text-slate-400"}),s.jsx("input",{type:"text",className:"bg-transparent flex-1 text-sm focus:outline-none",placeholder:"Search by school, contact person or email",value:r,onChange:c=>n(c.target.value)})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-sm text-slate-600",children:[s.jsx(xo,{size:16}),"Advanced filters"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[o.map(c=>s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-slate-100 text-slate-600",children:s.jsx(Ir,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-slate-800",children:c.schoolName}),s.jsxs("p",{className:"text-sm text-slate-500",children:[c.board,"  ",c.studentCount," students  ",c.campuses," campuses"]})]})]}),s.jsxs("div",{className:"mt-3 text-xs text-slate-500 flex flex-wrap gap-3",children:[s.jsxs("span",{children:["ID: ",c.id]}),s.jsxs("span",{children:["Contact: ",c.contactPerson]}),s.jsxs("span",{children:["Email: ",c.contactEmail]}),s.jsxs("span",{children:["Submitted: ",new Date(c.submittedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${LJe[c.status]||"bg-slate-100 text-slate-600"}`,children:c.status.toUpperCase()}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:c.notes})]})]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row",children:[s.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>l(c.id,"review"),children:[s.jsx(Wf,{size:14}),"Request updates"]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-rose-200 text-rose-600 text-sm",onClick:()=>l(c.id,"rejected"),children:[s.jsx(Ka,{size:14}),"Reject"]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>l(c.id,"approved"),children:[s.jsx(Lr,{size:14}),"Approve and activate"]})]})]},c.id)),o.length===0&&s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No schools match the current filters."})]})]})},OJe={positive:"text-emerald-600 bg-emerald-50",neutral:"text-slate-600 bg-slate-100",negative:"text-rose-600 bg-rose-50"},UJe={awaiting_response:"Awaiting response",in_progress:"In progress",resolved:"Resolved"},HJe=({feedbackItems:t,onFeedbackUpdate:e})=>{const[r,n]=F.useState({}),a=F.useMemo(()=>t.filter(l=>l.status!=="resolved").length,[t]),i=(l,c)=>{n(d=>({...d,[l]:c}))},o=(l,c)=>{var d,u;!((d=r[l])!=null&&d.trim())&&c==="resolved"||(e(l,{status:c,response:((u=r[l])==null?void 0:u.trim())||void 0}),n(h=>({...h,[l]:""})))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Voice of schools"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Feedback desk"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(au,{className:"animate-spin text-amber-500",size:16}),s.jsxs("span",{className:"text-slate-500",children:[a," conversations open"]})]})]})}),s.jsxs("div",{className:"space-y-5",children:[t.map(l=>s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-slate-800",children:l.topic}),s.jsxs("p",{className:"text-sm text-slate-500",children:[l.schoolName,"  ",new Date(l.submittedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${OJe[l.sentiment]}`,children:l.sentiment.toUpperCase()}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:UJe[l.status]})]})]}),s.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:l.message}),l.response&&s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm text-slate-600",children:[s.jsx("p",{className:"font-semibold text-slate-700 mb-1",children:"Latest response"}),s.jsx("p",{children:l.response})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs uppercase text-slate-400 tracking-wide",children:"Respond"}),s.jsx("textarea",{rows:"3",placeholder:"Capture action items or send an update to the school",className:"w-full border border-slate-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-300",value:r[l.id]??"",onChange:c=>i(l.id,c.target.value)}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o(l.id,"in_progress"),children:[s.jsx(du,{size:16}),"Acknowledge"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>o(l.id,"resolved"),children:[s.jsx(qf,{size:16}),"Send & resolve"]}),l.status==="resolved"&&s.jsxs("span",{className:"flex items-center gap-2 text-xs text-emerald-600",children:[s.jsx(iA,{size:14}),"Marked resolved"]})]})]})]},l.id)),t.length===0&&s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No feedback messages yet."})]})]})},QJe={high:"bg-rose-100 text-rose-600",medium:"bg-amber-100 text-amber-700",low:"bg-sky-100 text-sky-700"},zJe=[{value:"open",label:"Open"},{value:"investigating",label:"Investigating"},{value:"resolved",label:"Resolved"}],$Je=({issues:t,onIssueUpdate:e})=>{const[r,n]=F.useState("all"),a=F.useMemo(()=>t.filter(l=>r==="all"?!0:l.status===r),[t,r]),i=(l,c)=>{e(l,{status:c})},o=l=>{const c=window.prompt("Assign a new owner");c&&e(l,{owner:c})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Incident response"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Issue control room"})]}),s.jsx("div",{className:"flex gap-2",children:["all","open","investigating","resolved"].map(l=>s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm border ${r===l?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>n(l),children:l==="all"?"All":l.charAt(0).toUpperCase()+l.slice(1)},l))})]})}),s.jsxs("div",{className:"space-y-4",children:[a.map(l=>s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-rose-50 text-rose-600",children:s.jsx(Vo,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-slate-800",children:l.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Reported by ",l.reportedBy]})]})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-3",children:l.description}),s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Opened ",new Date(l.reportedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex flex-col gap-2 text-right",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${QJe[l.severity]}`,children:l.severity.toUpperCase()}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:l.status.replace("_"," ")}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",l.owner]}),l.updatedAt&&s.jsxs("p",{className:"text-xs text-slate-400",children:["Updated ",new Date(l.updatedAt).toLocaleString()]})]})]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[s.jsxs("div",{className:"relative inline-flex border border-slate-200 rounded-lg overflow-hidden",children:[s.jsx("select",{value:l.status,onChange:c=>i(l.id,c.target.value),className:"appearance-none px-4 py-2 text-sm text-slate-700 bg-white pr-8",children:zJe.map(c=>s.jsx("option",{value:c.value,children:c.label},c.value))}),s.jsx("span",{className:"pointer-events-none absolute right-2 top-2 text-slate-400",children:s.jsx(mn,{size:16})})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o(l.id),children:[s.jsx(zhe,{size:16}),"Reassign owner"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>e(l.id,{status:"resolved"}),children:[s.jsx(Bb,{size:16}),"Mark resolved"]})]})]},l.id)),a.length===0&&s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No issues for the selected filter."})]})]})},GJe={open:{label:"Open",classes:"bg-rose-100 text-rose-600"},in_progress:{label:"In progress",classes:"bg-amber-100 text-amber-700"},resolved:{label:"Resolved",classes:"bg-emerald-100 text-emerald-600"}},VJe={high:"text-rose-600",medium:"text-amber-600",low:"text-slate-500"},WJe=({tickets:t,onTicketUpdate:e})=>{const[r,n]=F.useState("all"),a=F.useMemo(()=>t.filter(l=>r==="all"?!0:l.status===r),[t,r]),i=(l,c)=>{e(l,{status:c})},o=l=>{const c=window.prompt("Assign to which support group?");c&&e(l,{owner:c})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Helpdesk"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Ticket queue"})]}),s.jsx("div",{className:"flex gap-2",children:["all","open","in_progress","resolved"].map(l=>s.jsx("button",{className:`px-4 py-2 rounded-lg text-sm border ${r===l?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>n(l),children:l==="all"?"All":l.replace("_"," ")},l))})]})}),s.jsxs("div",{className:"space-y-4",children:[a.map(l=>s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-slate-800",children:l.subject}),s.jsxs("p",{className:"text-sm text-slate-500",children:[l.schoolName,"  ",new Date(l.openedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(()=>{const c=GJe[l.status]||{label:l.status,classes:"bg-slate-100 text-slate-600"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c.classes}`,children:c.label})})(),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-slate-100 ${VJe[l.priority]||"text-slate-500"}`,children:["Priority: ",l.priority]})]})]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-3",children:[l.category,"  Owner: ",l.owner]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[s.jsxs("div",{className:"relative inline-flex border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("select",{value:l.status,onChange:c=>i(l.id,c.target.value),className:"appearance-none px-4 py-2 text-sm text-slate-700 bg-white pr-8",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In progress"}),s.jsx("option",{value:"resolved",children:"Resolved"})]}),s.jsx("span",{className:"pointer-events-none absolute right-2 top-2 text-slate-400",children:s.jsx(mn,{size:16})})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o(l.id),children:[s.jsx(pr,{size:16}),"Reassign"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>i(l.id,"resolved"),children:[s.jsx(iA,{size:16}),"Close ticket"]})]})]},l.id)),a.length===0&&s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No tickets in this bucket."})]})]})},iK={not_generated:{label:"Not generated",classes:"bg-slate-100 text-slate-600"},generated:{label:"Generated",classes:"bg-emerald-100 text-emerald-600"},reset_sent:{label:"Reset sent",classes:"bg-amber-100 text-amber-700"}},qJe=({requests:t,credentialState:e,onGenerateCredential:r,onResetCredential:n})=>{const[a,i]=F.useState(""),[o,l]=F.useState({}),c=F.useMemo(()=>t.map(A=>({...A,credential:e[A.id]||{password:"",status:"not_generated",lastGenerated:null,lastReset:null}})),[t,e]),d=c.filter(A=>A.schoolName.toLowerCase().includes(a.toLowerCase())||A.contactEmail.toLowerCase().includes(a.toLowerCase())),u=c.filter(A=>A.credential.status!=="not_generated").length,h=c.filter(A=>A.credential.lastReset?Date.now()-new Date(A.credential.lastReset).getTime()<=10080*60*1e3:!1).length,m=A=>{l(g=>({...g,[A]:!g[A]}))},f=async A=>{if(A)try{await navigator.clipboard.writeText(A)}catch(g){console.error("Clipboard copy failed",g)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Security controls"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Password generation & reset"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"border border-slate-200 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Generated"}),s.jsx("p",{className:"text-xl font-semibold text-slate-800",children:u})]}),s.jsxs("div",{className:"border border-slate-200 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Reset in 7 days"}),s.jsx("p",{className:"text-xl font-semibold text-slate-800",children:h})]})]})]}),s.jsxs("div",{className:"mt-6 flex flex-col gap-4 md:flex-row",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-2 border border-slate-200 rounded-xl px-3 py-2 bg-slate-50",children:[s.jsx(Ds,{size:16,className:"text-slate-400"}),s.jsx("input",{className:"bg-transparent flex-1 text-sm focus:outline-none",placeholder:"Search school or email",value:a,onChange:A=>i(A.target.value)})]}),s.jsx("div",{className:"text-xs text-slate-500",children:"Password policy: 12+ chars, mixed case, number & symbol"})]})]}),s.jsxs("div",{className:"space-y-4",children:[d.map(A=>{const g=iK[A.credential.status]||iK.not_generated,x=o[A.id],v=x?A.credential.password:A.credential.password?"":"";return s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-slate-800",children:A.schoolName}),s.jsxs("p",{className:"text-sm text-slate-500",children:[A.contactEmail,"  ",A.board]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g.classes}`,children:g.label}),A.credential.lastGenerated&&s.jsxs("span",{className:"text-xs text-slate-500",children:["Generated ",new Date(A.credential.lastGenerated).toLocaleString()]}),A.credential.lastReset&&s.jsxs("span",{className:"text-xs text-amber-600",children:["Reset ",new Date(A.credential.lastReset).toLocaleString()]})]})]}),s.jsxs("div",{className:"md:flex md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mue,{className:"text-slate-500",size:20}),s.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 bg-slate-50",children:[s.jsx("span",{className:"font-mono text-sm text-slate-800",children:v||"Generate a secure password"}),A.credential.password&&s.jsx("button",{className:"text-slate-500 hover:text-slate-800",onClick:()=>m(A.id),title:x?"Hide password":"Show password",children:x?s.jsx(Gg,{size:16}):s.jsx(Is,{size:16})}),A.credential.password&&s.jsx("button",{className:"text-slate-500 hover:text-slate-800",onClick:()=>f(A.credential.password),title:"Copy password",children:s.jsx(vm,{size:16})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 md:mt-0",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-700 text-sm",onClick:()=>r(A.id),children:[s.jsx(jg,{size:16}),"Generate"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500 text-white text-sm",onClick:()=>n(A.id),children:[s.jsx(Wf,{size:16}),"Send reset link"]})]})]})]},A.id)}),d.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:['No schools found for "',a,'".']})]})]})},KJe={pending:"bg-amber-100 text-amber-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},XJe=({announcements:t,onCreateAnnouncement:e,complianceItems:r,onComplianceUpdate:n,activityFeed:a})=>{const[i,o]=F.useState({title:"",message:"",audience:"All schools"}),[l,c]=F.useState(!1),d=F.useMemo(()=>r.filter(h=>h.status!=="completed").length,[r]),u=h=>{h.preventDefault(),!(!i.title.trim()||!i.message.trim())&&(c(!0),setTimeout(()=>{e(i),o({title:"",message:"",audience:"All schools"}),c(!1)},400))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Operations"}),s.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Command centre"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"p-3 border border-slate-200 rounded-xl",children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Pending compliance"}),s.jsx("p",{className:"text-xl font-semibold text-slate-800",children:d})]}),s.jsxs("div",{className:"p-3 border border-slate-200 rounded-xl",children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Scheduled broadcasts"}),s.jsx("p",{className:"text-xl font-semibold text-slate-800",children:t.filter(h=>h.status!=="sent").length})]})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-50 text-sky-500",children:s.jsx(Kn,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Broadcasts"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Send announcement"})]})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Audience"}),s.jsxs("select",{className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",value:i.audience,onChange:h=>o(m=>({...m,audience:h.target.value})),children:[s.jsx("option",{children:"All schools"}),s.jsx("option",{children:"Premium schools"}),s.jsx("option",{children:"Pending onboarding"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Title"}),s.jsx("input",{className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",placeholder:"Maintenance alert, feature rollout, etc",value:i.title,onChange:h=>o(m=>({...m,title:h.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Message"}),s.jsx("textarea",{rows:"4",className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",placeholder:"Share impact, timelines and contact details",value:i.message,onChange:h=>o(m=>({...m,message:h.target.value}))})]}),s.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full rounded-lg bg-emerald-600 text-white py-2 text-sm disabled:opacity-60",disabled:l,children:[s.jsx(qf,{size:16}),l?"Scheduling...":"Schedule broadcast"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-50 text-amber-500",children:s.jsx(i5,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Compliance"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Controls tracker"})]})]}),s.jsx("div",{className:"space-y-3",children:r.map(h=>s.jsxs("div",{className:"border border-slate-100 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:h.title}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",h.owner,"  Due ",h.dueDate]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${KJe[h.status]||"bg-slate-100 text-slate-600"}`,children:h.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>n(h.id,"in_progress"),children:"Progress"}),s.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>n(h.id,"completed"),children:"Mark done"})]})]},h.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-50 text-violet-500",children:s.jsx(Ya,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Timeline"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Operational heartbeat"})]})]}),s.jsx("div",{className:"space-y-4",children:a.map(h=>s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-slate-300"}),s.jsx("span",{className:"flex-1 w-px bg-slate-200"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-800",children:h.label}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(h.timestamp).toLocaleString()})]}),s.jsxs("div",{children:[h.type==="incident"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-rose-50 text-rose-600",children:"Incident"}),h.type==="approval"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-600",children:"Approval"}),h.type==="broadcast"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-sky-50 text-sky-600",children:"Broadcast"}),h.type==="compliance"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-amber-50 text-amber-600",children:"Compliance"})]})]},h.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-50 text-emerald-500",children:s.jsx(jg,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Broadcast log"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent announcements"})]})]}),s.jsxs("div",{className:"space-y-3",children:[t.map(h=>s.jsxs("div",{className:"border border-slate-100 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:h.title}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(h.createdAt).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:h.message}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Audience: ",h.audience]})]},h.id)),t.length===0&&s.jsx("p",{className:"text-sm text-slate-500",children:"No broadcasts yet."})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EP=function(t,e){return EP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},EP(t,e)};function vu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EP(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kP=function(){return kP=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},kP.apply(this,arguments)};function ll(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function Lo(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function uN(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Vf=(function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),h_=function(t,e){return Vf.fromClientRect(t,e.getBoundingClientRect())},YJe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Vf(0,0,n,a)},f_=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},Qa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},oK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JJe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hN=0;hN<oK.length;hN++)JJe[oK.charCodeAt(hN)]=hN;var lK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fN=0;fN<lK.length;fN++)jb[lK.charCodeAt(fN)]=fN;var ZJe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=jb[t.charCodeAt(n)],o=jb[t.charCodeAt(n+1)],l=jb[t.charCodeAt(n+2)],c=jb[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},eZe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},tZe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},bA=5,aL=11,oT=2,rZe=aL-bA,Kae=65536>>bA,sZe=1<<bA,lT=sZe-1,nZe=1024>>bA,aZe=Kae+nZe,iZe=aZe,oZe=32,lZe=iZe+oZe,cZe=65536>>aL,dZe=1<<rZe,uZe=dZe-1,cK=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},hZe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},fZe=function(t,e){var r=ZJe(t),n=Array.isArray(r)?tZe(r):new Uint32Array(r),a=Array.isArray(r)?eZe(r):new Uint16Array(r),i=24,o=cK(a,i/2,n[4]/2),l=n[5]===2?cK(a,(i+n[4])/2):hZe(n,Math.ceil((i+n[4])/4));return new mZe(n[0],n[1],n[2],n[3],o,l)},mZe=(function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>bA],r=(r<<oT)+(e&lT),this.data[r];if(e<=65535)return r=this.index[Kae+(e-55296>>bA)],r=(r<<oT)+(e&lT),this.data[r];if(e<this.highStart)return r=lZe-cZe+(e>>aL),r=this.index[r],r+=e>>bA&uZe,r=this.index[r],r=(r<<oT)+(e&lT),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),dK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pZe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mN=0;mN<dK.length;mN++)pZe[dK.charCodeAt(mN)]=mN;var AZe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",uK=50,xZe=1,Xae=2,Yae=3,gZe=4,vZe=5,hK=7,Jae=8,fK=9,om=10,BP=11,mK=12,TP=13,yZe=14,Nb=15,MP=16,pN=17,ib=18,bZe=19,pK=20,FP=21,ob=22,cT=23,rg=24,uc=25,Sb=26,_b=27,sg=28,wZe=29,qp=30,jZe=31,AN=32,xN=33,PP=34,IP=35,DP=36,Aw=37,LP=38,JN=39,ZN=40,dT=41,Zae=42,NZe=43,SZe=[9001,65288],eie="!",Ms="",gN="",RP=fZe(AZe),hf=[qp,DP],OP=[xZe,Xae,Yae,vZe],tie=[om,Jae],AK=[_b,Sb],_Ze=OP.concat(tie),xK=[LP,JN,ZN,PP,IP],CZe=[Nb,TP],EZe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(i,o){var l=RP.get(i);if(l>uK?(a.push(!0),l-=uK):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(MP);if(l===gZe||l===BP){if(o===0)return n.push(o),r.push(qp);var c=r[o-1];return _Ze.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(qp))}if(n.push(o),l===jZe)return r.push(e==="strict"?FP:Aw);if(l===Zae||l===wZe)return r.push(qp);if(l===NZe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Aw):r.push(qp);r.push(l)}),[n,r,a]},uT=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==om)break}if(a===om)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==om)break}if(l!==om)break}return!1},gK=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===om)r--;else return n}return 0},kZe=function(t,e,r,n,a){if(r[n]===0)return Ms;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Ms;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===Xae&&u===Yae)return Ms;if(OP.indexOf(c)!==-1)return eie;if(OP.indexOf(u)!==-1||tie.indexOf(u)!==-1)return Ms;if(gK(i,e)===Jae)return gN;if(RP.get(t[i])===BP||(c===AN||c===xN)&&RP.get(t[l])===BP||c===hK||u===hK||c===fK||[om,TP,Nb].indexOf(c)===-1&&u===fK||[pN,ib,bZe,rg,sg].indexOf(u)!==-1||gK(i,e)===ob||uT(cT,ob,i,e)||uT([pN,ib],FP,i,e)||uT(mK,mK,i,e))return Ms;if(c===om)return gN;if(c===cT||u===cT)return Ms;if(u===MP||c===MP)return gN;if([TP,Nb,FP].indexOf(u)!==-1||c===yZe||d===DP&&CZe.indexOf(c)!==-1||c===sg&&u===DP||u===pK||hf.indexOf(u)!==-1&&c===uc||hf.indexOf(c)!==-1&&u===uc||c===_b&&[Aw,AN,xN].indexOf(u)!==-1||[Aw,AN,xN].indexOf(c)!==-1&&u===Sb||hf.indexOf(c)!==-1&&AK.indexOf(u)!==-1||AK.indexOf(c)!==-1&&hf.indexOf(u)!==-1||[_b,Sb].indexOf(c)!==-1&&(u===uc||[ob,Nb].indexOf(u)!==-1&&e[l+1]===uc)||[ob,Nb].indexOf(c)!==-1&&u===uc||c===uc&&[uc,sg,rg].indexOf(u)!==-1)return Ms;if([uc,sg,rg,pN,ib].indexOf(u)!==-1)for(var h=i;h>=0;){var m=e[h];if(m===uc)return Ms;if([sg,rg].indexOf(m)!==-1)h--;else break}if([_b,Sb].indexOf(u)!==-1)for(var h=[pN,ib].indexOf(c)!==-1?o:i;h>=0;){var m=e[h];if(m===uc)return Ms;if([sg,rg].indexOf(m)!==-1)h--;else break}if(LP===c&&[LP,JN,PP,IP].indexOf(u)!==-1||[JN,PP].indexOf(c)!==-1&&[JN,ZN].indexOf(u)!==-1||[ZN,IP].indexOf(c)!==-1&&u===ZN||xK.indexOf(c)!==-1&&[pK,Sb].indexOf(u)!==-1||xK.indexOf(u)!==-1&&c===_b||hf.indexOf(c)!==-1&&hf.indexOf(u)!==-1||c===rg&&hf.indexOf(u)!==-1||hf.concat(uc).indexOf(c)!==-1&&u===ob&&SZe.indexOf(t[l])===-1||hf.concat(uc).indexOf(u)!==-1&&c===ib)return Ms;if(c===dT&&u===dT){for(var f=r[i],A=1;f>0&&(f--,e[f]===dT);)A++;if(A%2!==0)return Ms}return c===AN&&u===xN?Ms:gN},BZe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=EZe(t,e.lineBreak),n=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[uc,qp,Zae].indexOf(l)!==-1?Aw:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},TZe=(function(){function t(e,r,n,a){this.codePoints=e,this.required=r===eie,this.start=n,this.end=a}return t.prototype.slice=function(){return Qa.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),MZe=function(t,e){var r=f_(t),n=BZe(r,e),a=n[0],i=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Ms;d<l&&(u=kZe(r,i,a,++d,o))===Ms;);if(u!==Ms||d===l){var h=new TZe(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},FZe=1,PZe=2,o2=4,vK=8,WS=10,yK=47,t1=92,IZe=9,DZe=32,vN=34,lb=61,LZe=35,RZe=36,OZe=37,yN=39,bN=40,cb=41,UZe=95,Ll=45,HZe=33,QZe=60,zZe=62,$Ze=64,GZe=91,VZe=93,WZe=61,qZe=123,wN=63,KZe=125,bK=124,XZe=126,YZe=128,wK=65533,hT=42,aA=43,JZe=44,ZZe=58,eet=59,xw=46,tet=0,ret=8,set=11,net=14,aet=31,iet=127,Ou=-1,rie=48,sie=97,nie=101,oet=102,cet=117,det=122,aie=65,iie=69,oie=70,uet=85,het=90,Qo=function(t){return t>=rie&&t<=57},fet=function(t){return t>=55296&&t<=57343},ng=function(t){return Qo(t)||t>=aie&&t<=oie||t>=sie&&t<=oet},met=function(t){return t>=sie&&t<=det},pet=function(t){return t>=aie&&t<=het},Aet=function(t){return met(t)||pet(t)},xet=function(t){return t>=YZe},jN=function(t){return t===WS||t===IZe||t===DZe},qS=function(t){return Aet(t)||xet(t)||t===UZe},jK=function(t){return qS(t)||Qo(t)||t===Ll},get=function(t){return t>=tet&&t<=ret||t===set||t>=net&&t<=aet||t===iet},V0=function(t,e){return t!==t1?!1:e!==WS},NN=function(t,e,r){return t===Ll?qS(e)||V0(e,r):qS(t)?!0:!!(t===t1&&V0(t,e))},fT=function(t,e,r){return t===aA||t===Ll?Qo(e)?!0:e===xw&&Qo(r):Qo(t===xw?e:t)},vet=function(t){var e=0,r=1;(t[e]===aA||t[e]===Ll)&&(t[e]===Ll&&(r=-1),e++);for(var n=[];Qo(t[e]);)n.push(t[e++]);var a=n.length?parseInt(Qa.apply(void 0,n),10):0;t[e]===xw&&e++;for(var i=[];Qo(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(Qa.apply(void 0,i),10):0;(t[e]===iie||t[e]===nie)&&e++;var c=1;(t[e]===aA||t[e]===Ll)&&(t[e]===Ll&&(c=-1),e++);for(var d=[];Qo(t[e]);)d.push(t[e++]);var u=d.length?parseInt(Qa.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},yet={type:2},bet={type:3},wet={type:4},jet={type:13},Net={type:8},_et={type:21},Cet={type:9},Eet={type:10},ket={type:11},Bet={type:12},Tet={type:14},SN={type:23},Met={type:1},Fet={type:25},Pet={type:24},Iet={type:26},Det={type:27},Let={type:28},Ret={type:29},Oet={type:31},UP={type:32},lie=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(f_(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==UP;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case vN:return this.consumeStringToken(vN);case LZe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(jK(r)||V0(n,a)){var i=NN(r,n,a)?PZe:FZe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case RZe:if(this.peekCodePoint(0)===lb)return this.consumeCodePoint(),jet;break;case yN:return this.consumeStringToken(yN);case bN:return yet;case cb:return bet;case hT:if(this.peekCodePoint(0)===lb)return this.consumeCodePoint(),Tet;break;case aA:if(fT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case JZe:return wet;case Ll:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(fT(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(NN(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Ll&&d===zZe)return this.consumeCodePoint(),this.consumeCodePoint(),Pet;break;case xw:if(fT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yK:if(this.peekCodePoint(0)===hT)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===hT&&(u=this.consumeCodePoint(),u===yK))return this.consumeToken();if(u===Ou)return this.consumeToken()}break;case ZZe:return Iet;case eet:return Det;case QZe:if(this.peekCodePoint(0)===HZe&&this.peekCodePoint(1)===Ll&&this.peekCodePoint(2)===Ll)return this.consumeCodePoint(),this.consumeCodePoint(),Fet;break;case $Ze:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),f=this.peekCodePoint(2);if(NN(h,m,f)){var o=this.consumeName();return{type:7,value:o}}break;case GZe:return Let;case t1:if(V0(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case VZe:return Ret;case WZe:if(this.peekCodePoint(0)===lb)return this.consumeCodePoint(),Net;break;case qZe:return ket;case KZe:return Bet;case cet:case uet:var A=this.peekCodePoint(0),g=this.peekCodePoint(1);return A===aA&&(ng(g)||g===wN)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bK:if(this.peekCodePoint(0)===lb)return this.consumeCodePoint(),Cet;if(this.peekCodePoint(0)===bK)return this.consumeCodePoint(),_et;break;case XZe:if(this.peekCodePoint(0)===lb)return this.consumeCodePoint(),Eet;break;case Ou:return UP}return jN(e)?(this.consumeWhiteSpace(),Oet):Qo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):qS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Qa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();ng(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===wN&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Qa.apply(void 0,e.map(function(c){return c===wN?rie:c})),16),i=parseInt(Qa.apply(void 0,e.map(function(c){return c===wN?oie:c})),16);return{type:30,start:a,end:i}}var o=parseInt(Qa.apply(void 0,e),16);if(this.peekCodePoint(0)===Ll&&ng(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];ng(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(Qa.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===bN?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===bN?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===yN||r===vN){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou||this.peekCodePoint(0)===cb)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),SN)}for(;;){var a=this.consumeCodePoint();if(a===Ou||a===cb)return{type:22,value:Qa.apply(void 0,e)};if(jN(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ou||this.peekCodePoint(0)===cb?(this.consumeCodePoint(),{type:22,value:Qa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),SN);if(a===vN||a===yN||a===bN||get(a))return this.consumeBadUrlRemnants(),SN;if(a===t1)if(V0(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),SN;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;jN(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===cb||e===Ou)return;V0(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=Qa.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===Ou||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===WS)return this._value.splice(0,n),Met;if(a===t1){var i=this._value[n+1];i!==Ou&&i!==void 0&&(i===WS?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):V0(a,i)&&(r+=this.consumeStringSlice(n),r+=Qa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=o2,n=this.peekCodePoint(0);for((n===aA||n===Ll)&&e.push(this.consumeCodePoint());Qo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===xw&&Qo(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vK;Qo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===iie||n===nie)&&((a===aA||a===Ll)&&Qo(i)||Qo(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vK;Qo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[vet(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(NN(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===OZe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ng(e)){for(var r=Qa(e);ng(this.peekCodePoint(0))&&r.length<6;)r+=Qa(this.consumeCodePoint());jN(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||fet(n)||n>1114111?wK:n}return e===Ou?wK:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(jK(r))e+=Qa(r);else if(V0(r,this.peekCodePoint(0)))e+=Qa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),cie=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new lie;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Het(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?UP:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),l2=function(t){return t.type===15},oy=function(t){return t.type===17},Bn=function(t){return t.type===20},Uet=function(t){return t.type===0},HP=function(t,e){return Bn(t)&&t.value===e},die=function(t){return t.type!==31},Fv=function(t){return t.type!==31&&t.type!==4},yh=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Het=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Tm=function(t){return t.type===17||t.type===15},ui=function(t){return t.type===16||Tm(t)},uie=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ao={type:17,number:0,flags:o2},iL={type:16,number:50,flags:o2},lm={type:16,number:100,flags:o2},Cb=function(t,e,r){var n=t[0],a=t[1];return[qn(n,e),qn(typeof a<"u"?a:n,r)]},qn=function(t,e){if(t.type===16)return t.number/100*e;if(l2(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},hie="deg",fie="grad",mie="rad",pie="turn",m_={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case hie:return Math.PI*e.number/180;case fie:return Math.PI/200*e.number;case mie:return e.number;case pie:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Aie=function(t){return t.type===15&&(t.unit===hie||t.unit===fie||t.unit===mie||t.unit===pie)},xie=function(t){var e=t.filter(Bn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ao,Ao];case"to top":case"bottom":return ud(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ao,lm];case"to right":case"left":return ud(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lm,lm];case"to bottom":case"top":return ud(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lm,Ao];case"to left":case"right":return ud(270)}return 0},ud=function(t){return Math.PI*t/180},xm={name:"color",parse:function(t,e){if(e.type===18){var r=Qet[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return cm(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return cm(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return cm(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return cm(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=Lf[e.value.toUpperCase()];if(typeof l<"u")return l}return Lf.TRANSPARENT}},gm=function(t){return(255&t)===0},Gi=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},cm=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},NK=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},SK=function(t,e){var r=e.filter(Fv);if(r.length===3){var n=r.map(NK),a=n[0],i=n[1],o=n[2];return cm(a,i,o,1)}if(r.length===4){var l=r.map(NK),a=l[0],i=l[1],o=l[2],c=l[3];return cm(a,i,o,c)}return 0};function mT(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var _K=function(t,e){var r=e.filter(Fv),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?ud(n.number):m_.parse(t,n))/(Math.PI*2),c=ui(a)?a.number/100:0,d=ui(i)?i.number/100:0,u=typeof o<"u"&&ui(o)?qn(o,1):1;if(c===0)return cm(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,m=d*2-h,f=mT(m,h,l+1/3),A=mT(m,h,l),g=mT(m,h,l-1/3);return cm(f*255,A*255,g*255,u)},Qet={hsl:_K,hsla:_K,rgb:SK,rgba:SK},r1=function(t,e){return xm.parse(t,cie.create(e).parseComponentValue())},Lf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zet={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Bn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$et={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},p_=function(t,e){var r=xm.parse(t,e[0]),n=e[1];return n&&ui(n)?{color:r,stop:n}:{color:r,stop:null}},CK=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Ao),n.stop===null&&(n.stop=lm);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=qn(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=a[d-1],f=(u-m)/(h+1),A=1;A<=h;A++)a[d+A-1]=f*A;d=null}}return t.map(function(g,x){var v=g.color;return{color:v,stop:Math.max(Math.min(1,a[x]/e),0)}})},Get=function(t,e,r){var n=e/2,a=r/2,i=qn(t[0],e)-n,o=a-qn(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Vet=function(t,e,r){var n=typeof t=="number"?t:Get(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},Kd=function(t,e){return Math.sqrt(t*t+e*e)},EK=function(t,e,r,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=Kd(r-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Wet=function(t,e,r,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(Kd(e,r),Kd(e,r-a),Kd(e-n,r),Kd(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=EK(n,a,e,r,!0),d=c[0],u=c[1];i=Kd(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(Kd(e,r),Kd(e,r-a),Kd(e-n,r),Kd(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),h=EK(n,a,e,r,!1),d=h[0],u=h[1];i=Kd(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=qn(t.size[0],n),o=t.size.length===2?qn(t.size[1],a):i),[i,o]},qet=function(t,e){var r=ud(180),n=[];return yh(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=xie(a);return}else if(Aie(o)){r=m_.parse(t,o);return}}var l=p_(t,a);n.push(l)}),{angle:r,stops:n,type:1}},_N=function(t,e){var r=ud(180),n=[];return yh(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=xie(a);return}else if(Aie(o)){r=(m_.parse(t,o)+ud(270))%ud(360);return}}var l=p_(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Ket=function(t,e){var r=ud(180),n=[],a=1,i=0,o=3,l=[];return yh(e).forEach(function(c,d){var u=c[0];if(d===0){if(Bn(u)&&u.value==="linear"){a=1;return}else if(Bn(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=xm.parse(t,u.values[0]);n.push({stop:Ao,color:h})}else if(u.name==="to"){var h=xm.parse(t,u.values[0]);n.push({stop:lm,color:h})}else if(u.name==="color-stop"){var m=u.values.filter(Fv);if(m.length===2){var h=xm.parse(t,m[1]),f=m[0];oy(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),a===1?{angle:(r+ud(180))%ud(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},gie="closest-side",vie="farthest-side",yie="closest-corner",bie="farthest-corner",wie="circle",jie="ellipse",Nie="cover",Sie="contain",Xet=function(t,e){var r=0,n=3,a=[],i=[];return yh(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,m){if(d)if(Bn(m))switch(m.value){case"center":return i.push(iL),h;case"top":case"left":return i.push(Ao),h;case"right":case"bottom":return i.push(lm),h}else(ui(m)||Tm(m))&&i.push(m);else if(Bn(m))switch(m.value){case wie:return r=0,!1;case jie:return r=1,!1;case"at":return d=!0,!1;case gie:return n=0,!1;case Nie:case vie:return n=1,!1;case Sie:case yie:return n=2,!1;case bie:return n=3,!1}else if(Tm(m)||ui(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},c)}if(c){var u=p_(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},CN=function(t,e){var r=0,n=3,a=[],i=[];return yh(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(Bn(h))switch(h.value){case"center":return i.push(iL),!1;case"top":case"left":return i.push(Ao),!1;case"right":case"bottom":return i.push(lm),!1}else if(ui(h)||Tm(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(Bn(h))switch(h.value){case wie:return r=0,!1;case jie:return r=1,!1;case Sie:case gie:return n=0,!1;case vie:return n=1,!1;case yie:return n=2,!1;case Nie:case bie:return n=3,!1}else if(Tm(h)||ui(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},c)),c){var d=p_(t,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},Yet=function(t){return t.type===1},Jet=function(t){return t.type===2},oL={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=_ie[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Zet(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!_ie[t.name])}var _ie={"linear-gradient":qet,"-moz-linear-gradient":_N,"-ms-linear-gradient":_N,"-o-linear-gradient":_N,"-webkit-linear-gradient":_N,"radial-gradient":Xet,"-moz-radial-gradient":CN,"-ms-radial-gradient":CN,"-o-radial-gradient":CN,"-webkit-radial-gradient":CN,"-webkit-gradient":Ket},ett={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Fv(n)&&Zet(n)}).map(function(n){return oL.parse(t,n)})}},ttt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Bn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rtt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return yh(e).map(function(r){return r.filter(ui)}).map(uie)}},stt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return yh(e).map(function(r){return r.filter(Bn).map(function(n){return n.value}).join(" ")}).map(ntt)}},ntt=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Hg;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Hg||(Hg={}));var att={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return yh(e).map(function(r){return r.filter(itt)})}},itt=function(t){return Bn(t)||ui(t)},A_=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ott=A_("top"),ltt=A_("right"),ctt=A_("bottom"),dtt=A_("left"),x_=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return uie(r.filter(ui))}}},utt=x_("top-left"),htt=x_("top-right"),ftt=x_("bottom-right"),mtt=x_("bottom-left"),g_=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ptt=g_("top"),Att=g_("right"),xtt=g_("bottom"),gtt=g_("left"),v_=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return l2(r)?r.number:0}}},vtt=v_("top"),ytt=v_("right"),btt=v_("bottom"),wtt=v_("left"),jtt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ntt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Stt={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).reduce(function(r,n){return r|_tt(n.value)},0)}},_tt=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ctt={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ett={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},KS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(KS||(KS={}));var ktt={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return KS.STRICT;case"normal":default:return KS.NORMAL}}},Btt={name:"line-height",initialValue:"normal",prefix:!1,type:4},kK=function(t,e){return Bn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ui(t)?qn(t,e):e},Ttt={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:oL.parse(t,e)}},Mtt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},QP={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},y_=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ftt=y_("top"),Ptt=y_("right"),Itt=y_("bottom"),Dtt=y_("left"),Ltt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Rtt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},b_=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ott=b_("top"),Utt=b_("right"),Htt=b_("bottom"),Qtt=b_("left"),ztt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$tt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Gtt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&HP(e[0],"none")?[]:yh(e).map(function(r){for(var n={color:Lf.TRANSPARENT,offsetX:Ao,offsetY:Ao,blur:Ao},a=0,i=0;i<r.length;i++){var o=r[i];Tm(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=xm.parse(t,o)}return n})}},Vtt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wtt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Xtt[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},qtt=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Ktt=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,i,o,l]:null},Xtt={matrix:qtt,matrix3d:Ktt},BK={type:16,number:50,flags:o2},Ytt=[BK,BK],Jtt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ui);return r.length!==2?Ytt:[r[0],r[1]]}},Ztt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},s1;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(s1||(s1={}));var ert={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return s1.BREAK_ALL;case"keep-all":return s1.KEEP_ALL;case"normal":default:return s1.NORMAL}}},trt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(oy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Cie={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},rrt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return oy(e)?e.number:1}},srt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nrt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Bn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},art={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},irt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ort={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(oy(e))return e.number;if(Bn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},lrt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Bn).map(function(r){return r.value})}},crt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_i=function(t,e){return(t&e)!==0},drt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},urt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(die),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&oy(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},hrt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(die),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(Bn(i)&&i.value!=="none"){var l=o&&oy(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},frt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(l2).map(function(r){return Cie.parse(t,r)})}},mrt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(Uet);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},TK=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},prt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&HP(e[0],"none")?[]:yh(e).map(function(r){for(var n={color:255,offsetX:Ao,offsetY:Ao,blur:Ao,spread:Ao,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];HP(o,"inset")?n.inset=!0:Tm(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=xm.parse(t,o)}return n})}},Art={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Bn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},xrt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},grt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return l2(e)?e.number:0}},vrt=(function(){function t(e,r){var n,a;this.animationDuration=vr(e,frt,r.animationDuration),this.backgroundClip=vr(e,zet,r.backgroundClip),this.backgroundColor=vr(e,$et,r.backgroundColor),this.backgroundImage=vr(e,ett,r.backgroundImage),this.backgroundOrigin=vr(e,ttt,r.backgroundOrigin),this.backgroundPosition=vr(e,rtt,r.backgroundPosition),this.backgroundRepeat=vr(e,stt,r.backgroundRepeat),this.backgroundSize=vr(e,att,r.backgroundSize),this.borderTopColor=vr(e,ott,r.borderTopColor),this.borderRightColor=vr(e,ltt,r.borderRightColor),this.borderBottomColor=vr(e,ctt,r.borderBottomColor),this.borderLeftColor=vr(e,dtt,r.borderLeftColor),this.borderTopLeftRadius=vr(e,utt,r.borderTopLeftRadius),this.borderTopRightRadius=vr(e,htt,r.borderTopRightRadius),this.borderBottomRightRadius=vr(e,ftt,r.borderBottomRightRadius),this.borderBottomLeftRadius=vr(e,mtt,r.borderBottomLeftRadius),this.borderTopStyle=vr(e,ptt,r.borderTopStyle),this.borderRightStyle=vr(e,Att,r.borderRightStyle),this.borderBottomStyle=vr(e,xtt,r.borderBottomStyle),this.borderLeftStyle=vr(e,gtt,r.borderLeftStyle),this.borderTopWidth=vr(e,vtt,r.borderTopWidth),this.borderRightWidth=vr(e,ytt,r.borderRightWidth),this.borderBottomWidth=vr(e,btt,r.borderBottomWidth),this.borderLeftWidth=vr(e,wtt,r.borderLeftWidth),this.boxShadow=vr(e,prt,r.boxShadow),this.color=vr(e,jtt,r.color),this.direction=vr(e,Ntt,r.direction),this.display=vr(e,Stt,r.display),this.float=vr(e,Ctt,r.cssFloat),this.fontFamily=vr(e,art,r.fontFamily),this.fontSize=vr(e,irt,r.fontSize),this.fontStyle=vr(e,crt,r.fontStyle),this.fontVariant=vr(e,lrt,r.fontVariant),this.fontWeight=vr(e,ort,r.fontWeight),this.letterSpacing=vr(e,Ett,r.letterSpacing),this.lineBreak=vr(e,ktt,r.lineBreak),this.lineHeight=vr(e,Btt,r.lineHeight),this.listStyleImage=vr(e,Ttt,r.listStyleImage),this.listStylePosition=vr(e,Mtt,r.listStylePosition),this.listStyleType=vr(e,QP,r.listStyleType),this.marginTop=vr(e,Ftt,r.marginTop),this.marginRight=vr(e,Ptt,r.marginRight),this.marginBottom=vr(e,Itt,r.marginBottom),this.marginLeft=vr(e,Dtt,r.marginLeft),this.opacity=vr(e,rrt,r.opacity);var i=vr(e,Ltt,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=vr(e,Rtt,r.overflowWrap),this.paddingTop=vr(e,Ott,r.paddingTop),this.paddingRight=vr(e,Utt,r.paddingRight),this.paddingBottom=vr(e,Htt,r.paddingBottom),this.paddingLeft=vr(e,Qtt,r.paddingLeft),this.paintOrder=vr(e,Art,r.paintOrder),this.position=vr(e,$tt,r.position),this.textAlign=vr(e,ztt,r.textAlign),this.textDecorationColor=vr(e,srt,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=vr(e,nrt,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=vr(e,Gtt,r.textShadow),this.textTransform=vr(e,Vtt,r.textTransform),this.transform=vr(e,Wtt,r.transform),this.transformOrigin=vr(e,Jtt,r.transformOrigin),this.visibility=vr(e,Ztt,r.visibility),this.webkitTextStrokeColor=vr(e,xrt,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=vr(e,grt,r.webkitTextStrokeWidth),this.wordBreak=vr(e,ert,r.wordBreak),this.zIndex=vr(e,trt,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return gm(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return _i(this.display,4)||_i(this.display,33554432)||_i(this.display,268435456)||_i(this.display,536870912)||_i(this.display,67108864)||_i(this.display,134217728)},t})(),yrt=(function(){function t(e,r){this.content=vr(e,drt,r.content),this.quotes=vr(e,mrt,r.quotes)}return t})(),MK=(function(){function t(e,r){this.counterIncrement=vr(e,urt,r.counterIncrement),this.counterReset=vr(e,hrt,r.counterReset)}return t})(),vr=function(t,e,r){var n=new lie,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var i=new cie(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,Bn(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return m_.parse(t,i.parseComponentValue());case"color":return xm.parse(t,i.parseComponentValue());case"image":return oL.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Tm(l)?l:Ao;case"length-percentage":var c=i.parseComponentValue();return ui(c)?c:Ao;case"time":return Cie.parse(t,i.parseComponentValue())}break}},brt="data-html2canvas-debug",wrt=function(t){var e=t.getAttribute(brt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},zP=function(t,e){var r=wrt(t);return r===1||e===r},bh=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,zP(r,3))debugger;this.styles=new vrt(e,window.getComputedStyle(r,null)),VP(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=h_(this.context,r),zP(r,4)&&(this.flags|=16)}return t})(),jrt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",FK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var EN=0;EN<FK.length;EN++)Eb[FK.charCodeAt(EN)]=EN;var Nrt=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Eb[t.charCodeAt(n)],o=Eb[t.charCodeAt(n+1)],l=Eb[t.charCodeAt(n+2)],c=Eb[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},Srt=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},_rt=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},wA=5,lL=11,pT=2,Crt=lL-wA,Eie=65536>>wA,Ert=1<<wA,AT=Ert-1,krt=1024>>wA,Brt=Eie+krt,Trt=Brt,Mrt=32,Frt=Trt+Mrt,Prt=65536>>lL,Irt=1<<Crt,Drt=Irt-1,PK=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Lrt=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Rrt=function(t,e){var r=Nrt(t),n=Array.isArray(r)?_rt(r):new Uint32Array(r),a=Array.isArray(r)?Srt(r):new Uint16Array(r),i=24,o=PK(a,i/2,n[4]/2),l=n[5]===2?PK(a,(i+n[4])/2):Lrt(n,Math.ceil((i+n[4])/4));return new Ort(n[0],n[1],n[2],n[3],o,l)},Ort=(function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>wA],r=(r<<pT)+(e&AT),this.data[r];if(e<=65535)return r=this.index[Eie+(e-55296>>wA)],r=(r<<pT)+(e&AT),this.data[r];if(e<this.highStart)return r=Frt-Prt+(e>>lL),r=this.index[r],r+=e>>wA&Drt,r=this.index[r],r=(r<<pT)+(e&AT),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),IK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Urt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kN=0;kN<IK.length;kN++)Urt[IK.charCodeAt(kN)]=kN;var Hrt=1,xT=2,gT=3,DK=4,LK=5,Qrt=7,RK=8,vT=9,yT=10,OK=11,UK=12,HK=13,QK=14,bT=15,zrt=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},$rt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Grt=Rrt(jrt),sd="",wT="",Vrt=function(t){return Grt.get(t)},Wrt=function(t,e,r){var n=r-2,a=e[n],i=e[r-1],o=e[r];if(i===xT&&o===gT)return sd;if(i===xT||i===gT||i===DK||o===xT||o===gT||o===DK)return wT;if(i===RK&&[RK,vT,OK,UK].indexOf(o)!==-1||(i===OK||i===vT)&&(o===vT||o===yT)||(i===UK||i===yT)&&o===yT||o===HK||o===LK||o===Qrt||i===Hrt)return sd;if(i===HK&&o===QK){for(;a===LK;)a=e[--n];if(a===QK)return sd}if(i===bT&&o===bT){for(var l=0;a===bT;)l++,a=e[--n];if(l%2===0)return sd}return wT},qrt=function(t){var e=zrt(t),r=e.length,n=0,a=0,i=e.map(Vrt);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=sd;n<r&&(o=Wrt(e,i,++n))===sd;);if(o!==sd||n===r){var l=$rt.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},Krt=function(t){for(var e=qrt(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Xrt=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},Yrt=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=f_(n.data).map(function(c){return Qa(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return t.body.removeChild(e),l},Jrt=function(){return typeof new Image().crossOrigin<"u"},Zrt=function(){return typeof new XMLHttpRequest().responseType=="string"},est=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},zK=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},tst=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=$P(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),$K(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",zK(c)?$K($P(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),zK(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},$P=function(t,e,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},$K=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ho={get SUPPORT_RANGE_BOUNDS(){var t=Xrt(document);return Object.defineProperty(ho,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ho.SUPPORT_RANGE_BOUNDS&&Yrt(document);return Object.defineProperty(ho,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=est(document);return Object.defineProperty(ho,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?tst(document):Promise.resolve(!1);return Object.defineProperty(ho,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Jrt();return Object.defineProperty(ho,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Zrt();return Object.defineProperty(ho,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ho,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ho,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},n1=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),rst=function(t,e,r,n){var a=ast(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(ho.SUPPORT_RANGE_BOUNDS){var c=GK(n,o,l.length).getClientRects();if(c.length>1){var d=cL(l),u=0;d.forEach(function(m){i.push(new n1(m,Vf.fromDOMRectList(t,GK(n,u+o,m.length).getClientRects()))),u+=m.length})}else i.push(new n1(l,Vf.fromDOMRectList(t,c)))}else{var h=n.splitText(l.length);i.push(new n1(l,sst(t,n))),n=h}else ho.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},sst=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=h_(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Vf.EMPTY},GK=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},cL=function(t){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Krt(t)},nst=function(t,e){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return ost(t,e)},ast=function(t,e){return e.letterSpacing!==0?cL(t):nst(t,e)},ist=[32,160,4961,65792,65793,4153,4241],ost=function(t,e){for(var r=MZe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=f_(o),c="";l.forEach(function(d){ist.indexOf(d)===-1?c+=Qa(d):(c.length&&n.push(c),n.push(Qa(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},lst=(function(){function t(e,r,n){this.text=cst(r.data,n.textTransform),this.textBounds=rst(e,this.text,n,r)}return t})(),cst=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(dst,ust);case 2:return t.toUpperCase();default:return t}},dst=/(^|\s|:|-|\(|\))([a-z])/g,ust=function(t,e,r){return t.length>0?e+r.toUpperCase():t},kie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(bh),Bie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(bh),Tie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,o=h_(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(bh),Mie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e})(bh),GP=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(bh),hst=[{type:15,flags:0,unit:"px",number:3}],fst=[{type:16,flags:0,number:50}],mst=function(t){return t.width>t.height?new Vf(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Vf(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},pst=function(t){var e=t.type===Ast?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},XS="checkbox",YS="radio",Ast="password",VK=707406591,dL=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=pst(n),(a.type===XS||a.type===YS)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=mst(a.bounds)),a.type){case XS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=hst;break;case YS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=fst;break}return a}return e})(bh),Fie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e})(bh),Pie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e})(bh),Iie=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Lie(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?r1(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Lf.TRANSPARENT,o=n.contentWindow.document.body?r1(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Lf.TRANSPARENT;a.backgroundColor=gm(i)?gm(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e})(bh),xst=["OL","UL","MENU"],e5=function(t,e,r,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,Rie(a)&&a.data.trim().length>0)r.textNodes.push(new lst(t,a,r.styles));else if(wg(a))if(Qie(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return e5(t,l,r,n)});else{var o=Die(t,a);o.styles.isVisible()&&(gst(a,o,n)?o.flags|=4:vst(o.styles)&&(o.flags|=2),xst.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?e5(t,a.shadowRoot,o,n):!JS(a)&&!Oie(a)&&!ZS(a)&&e5(t,a,o,n))}},Die=function(t,e){return WP(e)?new kie(t,e):Uie(e)?new Bie(t,e):Oie(e)?new Tie(t,e):yst(e)?new Mie(t,e):bst(e)?new GP(t,e):wst(e)?new dL(t,e):ZS(e)?new Fie(t,e):JS(e)?new Pie(t,e):Hie(e)?new Iie(t,e):new bh(t,e)},Lie=function(t,e){var r=Die(t,e);return r.flags|=4,e5(t,e,r,r),r},gst=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||uL(t)&&r.styles.isTransparent()},vst=function(t){return t.isPositioned()||t.isFloating()},Rie=function(t){return t.nodeType===Node.TEXT_NODE},wg=function(t){return t.nodeType===Node.ELEMENT_NODE},VP=function(t){return wg(t)&&typeof t.style<"u"&&!t5(t)},t5=function(t){return typeof t.className=="object"},yst=function(t){return t.tagName==="LI"},bst=function(t){return t.tagName==="OL"},wst=function(t){return t.tagName==="INPUT"},jst=function(t){return t.tagName==="HTML"},Oie=function(t){return t.tagName==="svg"},uL=function(t){return t.tagName==="BODY"},Uie=function(t){return t.tagName==="CANVAS"},WK=function(t){return t.tagName==="VIDEO"},WP=function(t){return t.tagName==="IMG"},Hie=function(t){return t.tagName==="IFRAME"},qK=function(t){return t.tagName==="STYLE"},Nst=function(t){return t.tagName==="SCRIPT"},JS=function(t){return t.tagName==="TEXTAREA"},ZS=function(t){return t.tagName==="SELECT"},Qie=function(t){return t.tagName==="SLOT"},KK=function(t){return t.tagName.indexOf("-")>0},Sst=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t})(),XK={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},YK={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_st={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Cst={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ag=function(t,e,r,n,a,i){return t<e||t>r?gw(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},zie=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Ua=function(t,e,r,n,a){var i=r-e+1;return(t<0?"-":"")+(zie(Math.abs(t),i,n,function(o){return Qa(Math.floor(o%i)+e)})+a)},Dp=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return zie(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},hg=1,Q0=2,z0=4,kb=8,ff=function(t,e,r,n,a,i){if(t<-9999||t>9999)return gw(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&_i(i,hg)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&_i(i,Q0)||d===1&&c===1&&_i(i,z0)&&t>100||d===1&&c>1&&_i(i,kb)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},JK="",ZK="",eX="",jT="",gw=function(t,e,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Ua(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Dp(t,"",a);case 6:return ag(t,1,3999,XK,3,n).toLowerCase();case 7:return ag(t,1,3999,XK,3,n);case 8:return Ua(t,945,969,!1,n);case 9:return Ua(t,97,122,!1,n);case 10:return Ua(t,65,90,!1,n);case 11:return Ua(t,1632,1641,!0,n);case 12:case 49:return ag(t,1,9999,YK,3,n);case 35:return ag(t,1,9999,YK,3,n).toLowerCase();case 13:return Ua(t,2534,2543,!0,n);case 14:case 30:return Ua(t,6112,6121,!0,n);case 15:return Dp(t,"",a);case 16:return Dp(t,"",a);case 17:case 48:return ff(t,"",JK,"",a,Q0|z0|kb);case 47:return ff(t,"",ZK,"",a,hg|Q0|z0|kb);case 42:return ff(t,"",JK,"",a,Q0|z0|kb);case 41:return ff(t,"",ZK,"",a,hg|Q0|z0|kb);case 26:return ff(t,"","",eX,a,0);case 25:return ff(t,"","",eX,a,hg|Q0|z0);case 31:return ff(t,"","",jT,i,hg|Q0|z0);case 33:return ff(t,"","",jT,i,0);case 32:return ff(t,"","",jT,i,hg|Q0|z0);case 18:return Ua(t,2406,2415,!0,n);case 20:return ag(t,1,19999,Cst,3,n);case 21:return Ua(t,2790,2799,!0,n);case 22:return Ua(t,2662,2671,!0,n);case 22:return ag(t,1,10999,_st,3,n);case 23:return Dp(t,"");case 24:return Dp(t,"");case 27:return Ua(t,3302,3311,!0,n);case 28:return Dp(t,"",a);case 29:return Dp(t,"",a);case 34:return Ua(t,3792,3801,!0,n);case 37:return Ua(t,6160,6169,!0,n);case 38:return Ua(t,4160,4169,!0,n);case 39:return Ua(t,2918,2927,!0,n);case 40:return Ua(t,1776,1785,!0,n);case 43:return Ua(t,3046,3055,!0,n);case 44:return Ua(t,3174,3183,!0,n);case 45:return Ua(t,3664,3673,!0,n);case 46:return Ua(t,3872,3881,!0,n);case 3:default:return Ua(t,48,57,!0,n)}},$ie="data-html2canvas-ignore",tX=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Sst,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=Est(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=Tst(a).then(function(){return ll(n,void 0,void 0,function(){var u,h;return Lo(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(Ist),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Bst(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Fst(document.doctype)+"<html></html>"),Pst(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(zP(e,2))debugger;if(Uie(e))return this.createCanvasClone(e);if(WK(e))return this.createVideoClone(e);if(qK(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return WP(r)&&(WP(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),KK(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return NT(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!wg(r)||!Nst(r)&&!r.hasAttribute($ie)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!wg(r)||!qK(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(wg(i)&&Qie(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(Rie(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&wg(e)&&(VP(e)||t5(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&VP(a)&&(this.clonedReferenceElement=a),uL(a)&&Rst(a);var c=this.counters.parse(new MK(this.context,i)),d=this.resolvePseudoContent(e,a,o,a1.BEFORE);KK(e)&&(r=!0),WK(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,a1.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||t5(e))&&!Hie(e)||r)&&NT(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(JS(e)||ZS(e))&&(JS(a)||ZS(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new MK(this.context,n));var c=new yrt(this.context,n),d=l.createElement("html2canvaspseudoelement");NT(n,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(Bn);f.length&&d.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var A=h.values.filter(Fv),g=A[0],x=A[1];if(g&&Bn(g)){var v=i.counters.getCounterValue(g.value),j=x&&Bn(x)?QP.parse(i.context,x.value):3;d.appendChild(l.createTextNode(gw(v,j,!1)))}}else if(h.name==="counters"){var b=h.values.filter(Fv),g=b[0],S=b[1],x=b[2];if(g&&Bn(g)){var w=i.counters.getCounterValues(g.value),N=x&&Bn(x)?QP.parse(i.context,x.value):3,E=S&&S.type===0?S.value:"",P=w.map(function(k){return gw(k,N,!1)}).join(E);d.appendChild(l.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(TK(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(TK(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=qP+" "+KP;var u=a===a1.BEFORE?" "+qP:" "+KP;return t5(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),a1;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(a1||(a1={}));var Est=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute($ie,"true"),t.body.appendChild(r),r},kst=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Bst=function(t){return Promise.all([].slice.call(t.images,0).map(kst))},Tst=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Mst=["all","d","content"],NT=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Mst.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Fst=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Pst=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Ist=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Dst=":before",Lst=":after",qP="___html2canvas___pseudoelement_before",KP="___html2canvas___pseudoelement_after",rX=`{
    content: "" !important;
    display: none !important;
}`,Rst=function(t){Ost(t,"."+qP+Dst+rX+`
         .`+KP+Lst+rX)},Ost=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Gie=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),Ust=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(_T(e)||$st(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ll(this,void 0,void 0,function(){var r,n,a,i,o=this;return Lo(this,function(l){switch(l.label){case 0:return r=Gie.isSameOrigin(e),n=!ST(e)&&this._options.useCORS===!0&&ho.SUPPORT_CORS_IMAGES&&!r,a=!ST(e)&&!r&&!_T(e)&&typeof this._options.proxy=="string"&&ho.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!ST(e)&&!_T(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(Gst(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=ho.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t})(),Hst=/^data:image\/svg\+xml/i,Qst=/^data:image\/.*;base64,/i,zst=/^data:image\/.*/i,$st=function(t){return ho.SUPPORT_SVG_DRAWING||!Vst(t)},ST=function(t){return zst.test(t)},Gst=function(t){return Qst.test(t)},_T=function(t){return t.substr(0,4)==="blob"},Vst=function(t){return t.substr(-3).toLowerCase()==="svg"||Hst.test(t)},Ar=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),ig=function(t,e,r){return new Ar(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},BN=(function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=ig(this.start,this.startControl,e),a=ig(this.startControl,this.endControl,e),i=ig(this.endControl,this.end,e),o=ig(n,a,e),l=ig(a,i,e),c=ig(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),od=function(t){return t.type===1},Wst=(function(){function t(e){var r=e.styles,n=e.bounds,a=Cb(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=Cb(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=Cb(r.borderBottomRightRadius,n.width,n.height),h=u[0],m=u[1],f=Cb(r.borderBottomLeftRadius,n.width,n.height),A=f[0],g=f[1],x=[];x.push((i+c)/n.width),x.push((A+h)/n.width),x.push((o+g)/n.height),x.push((d+m)/n.height);var v=Math.max.apply(Math,x);v>1&&(i/=v,o/=v,c/=v,d/=v,h/=v,m/=v,A/=v,g/=v);var j=n.width-c,b=n.height-m,S=n.width-h,w=n.height-g,N=r.borderTopWidth,E=r.borderRightWidth,P=r.borderBottomWidth,_=r.borderLeftWidth,B=qn(r.paddingTop,e.bounds.width),k=qn(r.paddingRight,e.bounds.width),M=qn(r.paddingBottom,e.bounds.width),T=qn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ma(n.left+_/3,n.top+N/3,i-_/3,o-N/3,fn.TOP_LEFT):new Ar(n.left+_/3,n.top+N/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ma(n.left+j,n.top+N/3,c-E/3,d-N/3,fn.TOP_RIGHT):new Ar(n.left+n.width-E/3,n.top+N/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?ma(n.left+S,n.top+b,h-E/3,m-P/3,fn.BOTTOM_RIGHT):new Ar(n.left+n.width-E/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=A>0||g>0?ma(n.left+_/3,n.top+w,A-_/3,g-P/3,fn.BOTTOM_LEFT):new Ar(n.left+_/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ma(n.left+_*2/3,n.top+N*2/3,i-_*2/3,o-N*2/3,fn.TOP_LEFT):new Ar(n.left+_*2/3,n.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ma(n.left+j,n.top+N*2/3,c-E*2/3,d-N*2/3,fn.TOP_RIGHT):new Ar(n.left+n.width-E*2/3,n.top+N*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?ma(n.left+S,n.top+b,h-E*2/3,m-P*2/3,fn.BOTTOM_RIGHT):new Ar(n.left+n.width-E*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=A>0||g>0?ma(n.left+_*2/3,n.top+w,A-_*2/3,g-P*2/3,fn.BOTTOM_LEFT):new Ar(n.left+_*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=i>0||o>0?ma(n.left+_/2,n.top+N/2,i-_/2,o-N/2,fn.TOP_LEFT):new Ar(n.left+_/2,n.top+N/2),this.topRightBorderStroke=i>0||o>0?ma(n.left+j,n.top+N/2,c-E/2,d-N/2,fn.TOP_RIGHT):new Ar(n.left+n.width-E/2,n.top+N/2),this.bottomRightBorderStroke=h>0||m>0?ma(n.left+S,n.top+b,h-E/2,m-P/2,fn.BOTTOM_RIGHT):new Ar(n.left+n.width-E/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=A>0||g>0?ma(n.left+_/2,n.top+w,A-_/2,g-P/2,fn.BOTTOM_LEFT):new Ar(n.left+_/2,n.top+n.height-P/2),this.topLeftBorderBox=i>0||o>0?ma(n.left,n.top,i,o,fn.TOP_LEFT):new Ar(n.left,n.top),this.topRightBorderBox=c>0||d>0?ma(n.left+j,n.top,c,d,fn.TOP_RIGHT):new Ar(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||m>0?ma(n.left+S,n.top+b,h,m,fn.BOTTOM_RIGHT):new Ar(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=A>0||g>0?ma(n.left,n.top+w,A,g,fn.BOTTOM_LEFT):new Ar(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?ma(n.left+_,n.top+N,Math.max(0,i-_),Math.max(0,o-N),fn.TOP_LEFT):new Ar(n.left+_,n.top+N),this.topRightPaddingBox=c>0||d>0?ma(n.left+Math.min(j,n.width-E),n.top+N,j>n.width+E?0:Math.max(0,c-E),Math.max(0,d-N),fn.TOP_RIGHT):new Ar(n.left+n.width-E,n.top+N),this.bottomRightPaddingBox=h>0||m>0?ma(n.left+Math.min(S,n.width-_),n.top+Math.min(b,n.height-P),Math.max(0,h-E),Math.max(0,m-P),fn.BOTTOM_RIGHT):new Ar(n.left+n.width-E,n.top+n.height-P),this.bottomLeftPaddingBox=A>0||g>0?ma(n.left+_,n.top+Math.min(w,n.height-P),Math.max(0,A-_),Math.max(0,g-P),fn.BOTTOM_LEFT):new Ar(n.left+_,n.top+n.height-P),this.topLeftContentBox=i>0||o>0?ma(n.left+_+T,n.top+N+B,Math.max(0,i-(_+T)),Math.max(0,o-(N+B)),fn.TOP_LEFT):new Ar(n.left+_+T,n.top+N+B),this.topRightContentBox=c>0||d>0?ma(n.left+Math.min(j,n.width+_+T),n.top+N+B,j>n.width+_+T?0:c-_+T,d-(N+B),fn.TOP_RIGHT):new Ar(n.left+n.width-(E+k),n.top+N+B),this.bottomRightContentBox=h>0||m>0?ma(n.left+Math.min(S,n.width-(_+T)),n.top+Math.min(b,n.height+N+B),Math.max(0,h-(E+k)),m-(P+M),fn.BOTTOM_RIGHT):new Ar(n.left+n.width-(E+k),n.top+n.height-(P+M)),this.bottomLeftContentBox=A>0||g>0?ma(n.left+_+T,n.top+w,Math.max(0,A-(_+T)),g-(P+M),fn.BOTTOM_LEFT):new Ar(n.left+_+T,n.top+n.height-(P+M))}return t})(),fn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(fn||(fn={}));var ma=function(t,e,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,d=e+n;switch(a){case fn.TOP_LEFT:return new BN(new Ar(t,d),new Ar(t,d-l),new Ar(c-o,e),new Ar(c,e));case fn.TOP_RIGHT:return new BN(new Ar(t,e),new Ar(t+o,e),new Ar(c,d-l),new Ar(c,d));case fn.BOTTOM_RIGHT:return new BN(new Ar(c,e),new Ar(c,e+l),new Ar(t+o,d),new Ar(t,d));case fn.BOTTOM_LEFT:default:return new BN(new Ar(c,d),new Ar(c-o,d),new Ar(t,e+l),new Ar(t,e))}},e4=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},qst=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},t4=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Kst=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),TN=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),Xst=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),Yst=function(t){return t.type===0},Vie=function(t){return t.type===1},Jst=function(t){return t.type===2},sX=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Zst=function(t,e,r,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+a);case 3:return i.add(e,r+a)}return i})},Wie=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),qie=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Wst(this.container),this.container.styles.opacity<1&&this.effects.push(new Xst(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Kst(n,a,i))}if(this.container.styles.overflowX!==0){var o=e4(this.curves),l=t4(this.curves);sX(o,l)?this.effects.push(new TN(o,6)):(this.effects.push(new TN(o,2)),this.effects.push(new TN(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!Vie(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=e4(n.curves),l=t4(n.curves);sX(o,l)||a.unshift(new TN(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return _i(c.target,e)})},t})(),XP=function(t,e,r,n){t.container.elements.forEach(function(a){var i=_i(a.flags,4),o=_i(a.flags,2),l=new qie(a,t);_i(a.styles.display,2048)&&n.push(l);var c=_i(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new Wie(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(A,g){return h>A.element.container.styles.zIndex.order?(m=g,!1):m>0}),d.negativeZIndex.splice(m,0,u)}else if(h>0){var f=0;d.positiveZIndex.some(function(A,g){return h>=A.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),d.positiveZIndex.splice(f,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);XP(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),XP(l,e,r,c);_i(a.flags,8)&&Kie(a,c)})},Kie=function(t,e){for(var r=t instanceof GP?t.start:1,n=t instanceof GP?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof Mie&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=gw(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},ent=function(t){var e=new qie(t,null),r=new Wie(e),n=[];return XP(e,r,r,n),Kie(e.container,n),r},nX=function(t,e){switch(e){case 0:return hd(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return hd(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return hd(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return hd(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},tnt=function(t,e){switch(e){case 0:return hd(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return hd(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return hd(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return hd(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},rnt=function(t,e){switch(e){case 0:return hd(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return hd(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return hd(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return hd(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},snt=function(t,e){switch(e){case 0:return MN(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return MN(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return MN(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return MN(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},MN=function(t,e){var r=[];return od(t)?r.push(t.subdivide(.5,!1)):r.push(t),od(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},hd=function(t,e,r,n){var a=[];return od(t)?a.push(t.subdivide(.5,!1)):a.push(t),od(r)?a.push(r.subdivide(.5,!0)):a.push(r),od(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),od(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},Xie=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},r4=function(t){var e=t.styles,r=t.bounds,n=qn(e.paddingLeft,r.width),a=qn(e.paddingRight,r.width),i=qn(e.paddingTop,r.width),o=qn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},nnt=function(t,e){return t===0?e.bounds:t===2?r4(e):Xie(e)},ant=function(t,e){return t===0?e.bounds:t===2?r4(e):Xie(e)},CT=function(t,e,r){var n=nnt(fg(t.styles.backgroundOrigin,e),t),a=ant(fg(t.styles.backgroundClip,e),t),i=int(fg(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=Cb(fg(t.styles.backgroundPosition,e),n.width-o,n.height-l),d=ont(fg(t.styles.backgroundRepeat,e),c,i,n,a),u=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[d,u,h,o,l]},og=function(t){return Bn(t)&&t.value===Hg.AUTO},FN=function(t){return typeof t=="number"},int=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(ui(o)&&l&&ui(l))return[qn(o,r.width),qn(l,r.height)];var c=FN(i);if(Bn(o)&&(o.value===Hg.CONTAIN||o.value===Hg.COVER)){if(FN(i)){var d=r.width/r.height;return d<i!=(o.value===Hg.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=FN(n),h=FN(a),m=u||h;if(og(o)&&(!l||og(l))){if(u&&h)return[n,a];if(!c&&!m)return[r.width,r.height];if(m&&c){var f=u?n:a*i,A=h?a:n/i;return[f,A]}var g=u?n:r.width,x=h?a:r.height;return[g,x]}if(c){var v=0,j=0;return ui(o)?v=qn(o,r.width):ui(l)&&(j=qn(l,r.height)),og(o)?v=j*i:(!l||og(l))&&(j=v/i),[v,j]}var b=null,S=null;if(ui(o)?b=qn(o,r.width):l&&ui(l)&&(S=qn(l,r.height)),b!==null&&(!l||og(l))&&(S=u&&h?b/n*a:r.height),S!==null&&og(o)&&(b=u&&h?S/a*n:r.width),b!==null&&S!==null)return[b,S];throw new Error("Unable to calculate background-size for element")},fg=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},ont=function(t,e,r,n,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Ar(Math.round(n.left),Math.round(n.top+o)),new Ar(Math.round(n.left+n.width),Math.round(n.top+o)),new Ar(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Ar(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Ar(Math.round(n.left+i),Math.round(n.top)),new Ar(Math.round(n.left+i+l),Math.round(n.top)),new Ar(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Ar(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ar(Math.round(n.left+i),Math.round(n.top+o)),new Ar(Math.round(n.left+i+l),Math.round(n.top+o)),new Ar(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Ar(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Ar(Math.round(a.left),Math.round(a.top)),new Ar(Math.round(a.left+a.width),Math.round(a.top)),new Ar(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ar(Math.round(a.left),Math.round(a.height+a.top))]}},lnt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aX="Hidden Text",cnt=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=lnt,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(aX)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(aX)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),Yie=(function(){function t(e,r){this.context=e,this.options=r}return t})(),dnt=1e4,unt=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new cnt(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),Jst(r)&&(this.ctx.globalAlpha=r.opacity),Yst(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Vie(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ll(this,void 0,void 0,function(){var n;return Lo(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ll(this,void 0,void 0,function(){return Lo(this,function(n){switch(n.label){case 0:if(_i(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=cL(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Ant(r.fontFamily).join(", "),i=l2(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,n){return ll(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,m=this;return Lo(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=n.paintOrder,r.textBounds.forEach(function(A){h.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=Gi(n.color),m.renderTextWithLetterSpacing(A,n.letterSpacing,d);var x=n.textShadow;x.length&&A.text.trim().length&&(x.slice(0).reverse().forEach(function(v){m.ctx.shadowColor=Gi(v.color),m.ctx.shadowOffsetX=v.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=v.offsetY.number*m.options.scale,m.ctx.shadowBlur=v.blur.number,m.renderTextWithLetterSpacing(A,n.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=Gi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:m.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+d),A.bounds.width,1);break;case 2:m.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:m.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+u),A.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&A.text.trim().length&&(m.ctx.strokeStyle=Gi(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=r4(r),o=t4(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ll(this,void 0,void 0,function(){var n,a,i,o,l,c,j,j,d,u,h,m,S,f,A,w,g,x,v,j,b,S,w;return Lo(this,function(N){switch(N.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,N.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof kie))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return j=N.sent(),this.renderReplacedElement(n,a,j),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Bie&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Tie))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return j=N.sent(),this.renderReplacedElement(n,a,j),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Iie&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=N.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),N.label=14;case 14:if(n instanceof dL&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===XS?n.checked&&(this.ctx.save(),this.path([new Ar(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Ar(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Ar(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Ar(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Ar(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Ar(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Ar(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Gi(VK),this.ctx.fill(),this.ctx.restore()):n.type===YS&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Gi(VK),this.ctx.fill(),this.ctx.restore())),hnt(n)&&n.value.length){switch(m=this.createFontStyle(i),S=m[0],f=m[1],A=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=Gi(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mnt(n.styles.textAlign),w=r4(n),g=0,n.styles.textAlign){case 1:g+=w.width/2;break;case 2:g+=w.width;break}x=w.add(g,0,0,-w.height/2+1),this.ctx.save(),this.path([new Ar(w.left,w.top),new Ar(w.left+w.width,w.top),new Ar(w.left+w.width,w.top+w.height),new Ar(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new n1(n.value,x),i.letterSpacing,A),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_i(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];j=void 0,b=v.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return j=N.sent(),this.ctx.drawImage(j,n.bounds.left-(j.width+10),n.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(i)[0],this.ctx.font=S,this.ctx.fillStyle=Gi(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new Vf(n.bounds.left,n.bounds.top+qn(n.styles.paddingTop,n.bounds.width),n.bounds.width,kK(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new n1(r.listValue,w),i.letterSpacing,kK(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ll(this,void 0,void 0,function(){var n,a,v,i,o,v,l,c,v,d,u,v,h,m,v,f,A,v,g,x,v;return Lo(this,function(j){switch(j.label){case 0:if(_i(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:j.sent(),n=0,a=r.negativeZIndex,j.label=2;case 2:return n<a.length?(v=a[n],[4,this.renderStack(v)]):[3,5];case 3:j.sent(),j.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:j.sent(),i=0,o=r.nonInlineLevel,j.label=7;case 7:return i<o.length?(v=o[i],[4,this.renderNode(v)]):[3,10];case 8:j.sent(),j.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,j.label=11;case 11:return l<c.length?(v=c[l],[4,this.renderStack(v)]):[3,14];case 12:j.sent(),j.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,j.label=15;case 15:return d<u.length?(v=u[d],[4,this.renderStack(v)]):[3,18];case 16:j.sent(),j.label=17;case 17:return d++,[3,15];case 18:h=0,m=r.inlineLevel,j.label=19;case 19:return h<m.length?(v=m[h],[4,this.renderNode(v)]):[3,22];case 20:j.sent(),j.label=21;case 21:return h++,[3,19];case 22:f=0,A=r.zeroOrAutoZIndexOrTransformedOrOpacity,j.label=23;case 23:return f<A.length?(v=A[f],[4,this.renderStack(v)]):[3,26];case 24:j.sent(),j.label=25;case 25:return f++,[3,23];case 26:g=0,x=r.positiveZIndex,j.label=27;case 27:return g<x.length?(v=x[g],[4,this.renderStack(v)]):[3,30];case 28:j.sent(),j.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=od(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),od(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return ll(this,void 0,void 0,function(){var n,a,i,o,l,c;return Lo(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var h,m,f,B,Q,O,T,H,P,A,B,Q,O,T,H,g,x,v,j,b,S,w,N,E,P,_,B,k,M,T,H,L,Q,O,V,ee,Y,re,D,G,z,K;return Lo(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];h=void 0,m=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=oe.sent(),[3,4];case 3:return oe.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(f=CT(r,n,[h.width,h.height,h.width/h.height]),B=f[0],Q=f[1],O=f[2],T=f[3],H=f[4],P=i.ctx.createPattern(i.resizeImage(h,T,H),"repeat"),i.renderRepeat(B,P,Q,O)),[3,6];case 5:Yet(u)?(A=CT(r,n,[null,null,null]),B=A[0],Q=A[1],O=A[2],T=A[3],H=A[4],g=Vet(u.angle,T,H),x=g[0],v=g[1],j=g[2],b=g[3],S=g[4],w=document.createElement("canvas"),w.width=T,w.height=H,N=w.getContext("2d"),E=N.createLinearGradient(v,b,j,S),CK(u.stops,x).forEach(function(ue){return E.addColorStop(ue.stop,Gi(ue.color))}),N.fillStyle=E,N.fillRect(0,0,T,H),T>0&&H>0&&(P=i.ctx.createPattern(w,"repeat"),i.renderRepeat(B,P,Q,O))):Jet(u)&&(_=CT(r,n,[null,null,null]),B=_[0],k=_[1],M=_[2],T=_[3],H=_[4],L=u.position.length===0?[iL]:u.position,Q=qn(L[0],T),O=qn(L[L.length-1],H),V=Wet(u,Q,O,T,H),ee=V[0],Y=V[1],ee>0&&Y>0&&(re=i.ctx.createRadialGradient(k+Q,M+O,0,k+Q,M+O,ee),CK(u.stops,ee*2).forEach(function(ue){return re.addColorStop(ue.stop,Gi(ue.color))}),i.path(B),i.ctx.fillStyle=re,ee!==Y?(D=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,z=Y/ee,K=1/z,i.ctx.save(),i.ctx.translate(D,G),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-D,-G),i.ctx.fillRect(k,K*(M-G)+G,T,H*K),i.ctx.restore()):i.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return ll(this,void 0,void 0,function(){return Lo(this,function(i){return this.path(nX(a,n)),this.ctx.fillStyle=Gi(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,i){return ll(this,void 0,void 0,function(){var o,l;return Lo(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=tnt(i,a),this.path(o),this.ctx.fillStyle=Gi(r),this.ctx.fill(),l=rnt(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ll(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,h=this;return Lo(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!gm(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=fnt(fg(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),gm(n.backgroundColor)||(this.ctx.fillStyle=Gi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var A=e4(r.curves),g=f.inset?0:dnt,x=Zst(A,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(A),h.ctx.clip(),h.mask(x)):(h.mask(A),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=f.offsetX.number+g,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=Gi(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?Gi(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,c=0,d=i,m.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!gm(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return ll(this,void 0,void 0,function(){var l,c,d,u,h,m,f,A,g,x,v,j,b,S,w,N,w,N;return Lo(this,function(E){return this.ctx.save(),l=snt(i,a),c=nX(i,a),o===2&&(this.path(c),this.ctx.clip()),od(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),od(c[1])?(h=c[1].end.x,m=c[1].end.y):(h=c[1].x,m=c[1].y),a===0||a===2?f=Math.abs(d-h):f=Math.abs(u-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),A=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(A=n,g=n),x=!0,f<=A*2?x=!1:f<=A*2+g?(v=f/(2*A+g),A*=v,g*=v):(j=Math.floor((f+g)/(A+g)),b=(f-j*A)/(j-1),S=(f-(j+1)*A)/j,g=S<=0||Math.abs(g-b)<Math.abs(g-S)?b:S),x&&(o===3?this.ctx.setLineDash([0,A+g]):this.ctx.setLineDash([A,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Gi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(od(c[0])&&(w=c[3],N=c[0],this.ctx.beginPath(),this.formatPath([new Ar(w.end.x,w.end.y),new Ar(N.start.x,N.start.y)]),this.ctx.stroke()),od(c[1])&&(w=c[1],N=c[2],this.ctx.beginPath(),this.formatPath([new Ar(w.end.x,w.end.y),new Ar(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ll(this,void 0,void 0,function(){var n;return Lo(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Gi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ent(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(Yie),hnt=function(t){return t instanceof Pie||t instanceof Fie?!0:t instanceof dL&&t.type!==YS&&t.type!==XS},fnt=function(t,e){switch(t){case 0:return e4(e);case 2:return qst(e);case 1:default:return t4(e)}},mnt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},pnt=["-apple-system","system-ui"],Ant=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return pnt.indexOf(e)===-1}):t},xnt=(function(t){vu(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return ll(this,void 0,void 0,function(){var n,a;return Lo(this,function(i){switch(i.label){case 0:return n=$P(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,gnt(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Gi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(Yie),gnt=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},vnt=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,uN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,uN([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,uN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,uN([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),ynt=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new vnt({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Ust(this,e)}return t.instanceCount=1,t})(),Jie=function(t,e){return e===void 0&&(e={}),bnt(t,e)};typeof window<"u"&&Gie.setContext(window);var bnt=function(t,e){return ll(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,d,u,h,m,f,A,g,x,v,j,b,S,w,E,N,E,P,_,B,k,M,T,H,L,Q,O,V,ee,Y,re,D,G,z;return Lo(this,function(K){switch(K.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(_=e.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:e.proxy,useCORS:(B=e.useCORS)!==null&&B!==void 0?B:!1},i=kP({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},a),o={windowWidth:(M=e.windowWidth)!==null&&M!==void 0?M:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(L=e.scrollY)!==null&&L!==void 0?L:n.pageYOffset},l=new Vf(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new ynt(i,l),d=(Q=e.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,u={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new tX(c,t,u),m=h.clonedReferenceElement,m?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=K.sent(),A=uL(m)||jst(m)?YJe(m.ownerDocument):h_(c,m),g=A.width,x=A.height,v=A.left,j=A.top,b=wnt(c,m,e.backgroundColor),S={canvas:e.canvas,backgroundColor:b,scale:(ee=(V=e.scale)!==null&&V!==void 0?V:n.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((Y=e.x)!==null&&Y!==void 0?Y:0)+v,y:((re=e.y)!==null&&re!==void 0?re:0)+j,width:(D=e.width)!==null&&D!==void 0?D:Math.ceil(g),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(x)},d?(c.logger.debug("Document cloned, using foreign object rendering"),E=new xnt(c,S),[4,E.render(m)]):[3,3];case 2:return w=K.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+v+","+j+" with size "+g+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),N=Lie(c,m),b===N.styles.backgroundColor&&(N.styles.backgroundColor=Lf.TRANSPARENT),c.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),E=new unt(c,S),[4,E.render(N)];case 4:w=K.sent(),K.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(tX.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,w]}})})},wnt=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?r1(t,getComputedStyle(n.documentElement).backgroundColor):Lf.TRANSPARENT,i=n.body?r1(t,getComputedStyle(n.body).backgroundColor):Lf.TRANSPARENT,o=typeof r=="string"?r1(t,r):r===null?Lf.TRANSPARENT:4294967295;return e===n.documentElement?gm(a)?gm(i)?o:i:a:o};const jnt=Object.freeze(Object.defineProperty({__proto__:null,default:Jie},Symbol.toStringTag,{value:"Module"})),iX=()=>{const t=Math.floor(1e5+Math.random()*9e5),e=Math.floor(1e5+Math.random()*9e5).toString();return{id:`EEC-SA-${t}`,accessPin:e,issuedAt:new Date().toISOString()}},Nnt=({profile:t})=>{const[e,r]=F.useState(()=>iX()),n=F.useRef(null),a=F.useMemo(()=>new Date(e.issuedAt).toLocaleString(),[e.issuedAt]),i=()=>{r(iX())},o=async()=>{if(!n.current)return;const c=await Jie(n.current,{backgroundColor:"#f8fafc",scale:2}),d=document.createElement("a");d.href=c.toDataURL("image/png"),d.download=`${e.id}.png`,d.click()},l=async c=>{try{await navigator.clipboard.writeText(c)}catch(d){console.error("Unable to copy",d)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Identity"}),s.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"Super Admin ID Pass"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Use this secure ID while accessing the dedicated portal."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm text-slate-700",children:[s.jsx(Wf,{size:16}),"Generate new pass"]}),s.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm text-white",children:[s.jsx(is,{size:16}),"Download card"]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{ref:n,className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl text-white p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-white/10 rounded-2xl",children:s.jsx(Vg,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-200",children:"EEC PLATFORM"}),s.jsx("p",{className:"text-lg font-semibold",children:"Super Admin Access"})]})]}),s.jsx(PT,{className:"text-emerald-400",size:32})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-300",children:"Name"}),s.jsx("p",{className:"text-xl font-semibold",children:t.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-300",children:"Role"}),s.jsx("p",{className:"text-base font-semibold",children:t.role})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-300",children:"Portal"}),s.jsx("p",{className:"text-base font-semibold",children:"super-admin.eec.in"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-300",children:"Super Admin ID"}),s.jsx("p",{className:"text-lg font-semibold tracking-wider",children:e.id})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-300",children:"One-Time Access PIN"}),s.jsx("p",{className:"text-xl font-semibold tracking-[0.3em]",children:e.accessPin})]}),s.jsxs("div",{className:"text-right text-xs text-slate-400",children:[s.jsx("p",{children:"Issued"}),s.jsx("p",{children:a})]})]})]}),s.jsx("div",{className:"mt-8 text-[11px] text-slate-400",children:"Valid only for verified Super Admins  Rotate pins after every session  Contact support@eec.in for revocation"})]})}),s.jsxs("div",{className:"lg:w-80 space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Secure Sharing"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full flex items-center justify-between text-sm border border-slate-200 rounded-lg px-3 py-2",onClick:()=>l(e.id),children:[s.jsxs("span",{children:["ID: ",e.id]}),s.jsx(vm,{size:14,className:"text-slate-500"})]}),s.jsxs("button",{className:"w-full flex items-center justify-between text-sm border border-slate-200 rounded-lg px-3 py-2",onClick:()=>l(e.accessPin),children:[s.jsxs("span",{children:["PIN: ",e.accessPin]}),s.jsx(vm,{size:14,className:"text-slate-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Best Practices"}),s.jsxs("ul",{className:"text-sm text-slate-600 list-disc pl-4 space-y-1",children:[s.jsx("li",{children:"Store the ID pass in an encrypted vault."}),s.jsx("li",{children:"Rotate the access PIN each login."}),s.jsx("li",{children:"Restrict sharing to trusted devices."}),s.jsx("li",{children:"Contact platform security if compromised."})]})]})]})]})]})},oX=[{id:"REQ-101",schoolName:"Delhi Public School",board:"CBSE",studentCount:"1200+",contactPerson:"Rajesh Kumar",contactEmail:"admin@dps.edu",submittedAt:"2024-01-15T10:30:00Z",status:"pending",notes:"Verified documents, awaiting final approval.",campuses:3},{id:"REQ-102",schoolName:"International School of Mumbai",board:"IB",studentCount:"800",contactPerson:"Priya Sharma",contactEmail:"contact@ismumbai.edu",submittedAt:"2024-01-10T14:20:00Z",status:"approved",notes:"Activated Premium subscription.",campuses:1},{id:"REQ-103",schoolName:"Cambridge Academy Bangalore",board:"ICSE",studentCount:"1500+",contactPerson:"Anil Reddy",contactEmail:"info@cambridge-blr.edu",submittedAt:"2023-12-20T09:15:00Z",status:"approved",notes:"Onboarding complete, awaiting payment confirmation.",campuses:2},{id:"REQ-104",schoolName:"Springfield Public School",board:"State Board",studentCount:"650",contactPerson:"Sneha Joshi",contactEmail:"principal@springfield.edu",submittedAt:"2024-02-02T08:00:00Z",status:"pending",notes:"Need clarification on transport integration.",campuses:1},{id:"REQ-105",schoolName:"Heritage Valley School",board:"Cambridge",studentCount:"500",contactPerson:"Vikram Malhotra",contactEmail:"hello@heritagevalley.edu",submittedAt:"2024-02-05T11:45:00Z",status:"review",notes:"Uploaded revised compliance certificate.",campuses:1}],Snt=[{id:"FDB-301",schoolName:"Delhi Public School",topic:"Transport module enhancement",message:"Need ability to bulk import GPS reports and share with parents.",submittedAt:"2024-02-03T07:30:00Z",sentiment:"positive",status:"awaiting_response"},{id:"FDB-302",schoolName:"Cambridge Academy Bangalore",topic:"Billing workflow",message:"Invoices should support multi-currency support for international branches.",submittedAt:"2024-02-01T13:15:00Z",sentiment:"neutral",status:"in_progress",response:"Shared beta build ETA for next sprint."},{id:"FDB-303",schoolName:"International School of Mumbai",topic:"Timetable automation",message:"Would like AI suggestions for teacher allocation.",submittedAt:"2024-01-28T10:00:00Z",sentiment:"positive",status:"resolved",response:"Enabled Labs feature for the school."}],_nt=[{id:"ISS-501",title:"Payment webhook failed",severity:"high",reportedBy:"Cambridge Academy Bangalore",reportedAt:"2024-02-04T05:50:00Z",status:"open",owner:"DevOps",description:"Subscription renewal payment is not reflecting in finance dashboard."},{id:"ISS-502",title:"Transport GPS sync delay",severity:"medium",reportedBy:"Delhi Public School",reportedAt:"2024-02-02T12:25:00Z",status:"investigating",owner:"Platform",description:"Data refresh delayed by ~30 minutes during evening routes."},{id:"ISS-503",title:"Teacher onboarding emails not delivered",severity:"low",reportedBy:"Springfield Public School",reportedAt:"2024-02-01T09:40:00Z",status:"resolved",owner:"Support",description:"SES quota exceeded temporarily, re-sent emails after cooldown."}],Cnt=[{id:"TCK-801",schoolName:"Heritage Valley School",category:"Access",subject:"Principal login locked",openedAt:"2024-02-05T06:00:00Z",status:"open",owner:"Support Team A",priority:"high"},{id:"TCK-802",schoolName:"International School of Mumbai",category:"Integration",subject:"Need ERP API credentials",openedAt:"2024-02-03T15:20:00Z",status:"in_progress",owner:"Solutions Desk",priority:"medium"},{id:"TCK-803",schoolName:"Cambridge Academy Bangalore",category:"Billing",subject:"GST update for invoices",openedAt:"2024-02-01T08:10:00Z",status:"resolved",owner:"Finance Ops",priority:"low"}],Ent=[{id:"BC-201",title:"Infrastructure maintenance window",message:"Scheduled downtime on 8 Feb, 11pm-12am IST for database upgrades.",audience:"All schools",createdAt:"2024-02-05T04:45:00Z",owner:"Platform Ops",status:"scheduled"},{id:"BC-202",title:"New transport analytics beta",message:"Enroll to test bus route optimization engine. Seats limited.",audience:"Premium schools",createdAt:"2024-02-02T10:15:00Z",owner:"Product",status:"sent"}],knt=[{id:"CMP-401",title:"Data residency attestation",status:"pending",owner:"Legal",dueDate:"2024-02-10"},{id:"CMP-402",title:"SOC2 quarterly backup drill",status:"in_progress",owner:"Security",dueDate:"2024-02-08"},{id:"CMP-403",title:"GDPR DPIA update",status:"completed",owner:"Privacy Office",dueDate:"2024-01-28"}],Bnt=[{id:"ACT-601",label:"Approved Heritage Valley onboarding",timestamp:"2024-02-05T07:30:00Z",type:"approval"},{id:"ACT-602",label:"Escalated payment webhook issue to DevOps",timestamp:"2024-02-04T10:20:00Z",type:"incident"},{id:"ACT-603",label:"Broadcast transport analytics beta invite",timestamp:"2024-02-02T11:15:00Z",type:"broadcast"}],ET={name:"Platform Control",role:"Super Administrator",email:"superadmin@eec.in"},Tnt=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState(oX),[a,i]=F.useState(Snt),[o,l]=F.useState(_nt),[c,d]=F.useState(Cnt),[u,h]=F.useState(Ent),[m,f]=F.useState(knt),[A,g]=F.useState(Bnt),[x,v]=F.useState(()=>oX.reduce((T,H)=>(T[H.id]={password:"",status:"not_generated",lastGenerated:null,lastReset:null},T),{})),j=()=>{const T="ABCDEFGHJKLMNPQRSTUVWXYZ",H="abcdefghijkmnopqrstuvwxyz",L="23456789",Q="!@$%&*";let V=[T,H,L,Q].map(Y=>Y[Math.floor(Math.random()*Y.length)]).join("");const ee=`${T}${H}${L}${Q}`;for(;V.length<12;)V+=ee[Math.floor(Math.random()*ee.length)];return V.split("").sort(()=>Math.random()-.5).join("")},b=F.useMemo(()=>{const T=r.filter(O=>O.status==="pending").length,H=r.filter(O=>O.status==="approved").length,L=c.filter(O=>O.status!=="resolved").length,Q=o.filter(O=>O.status!=="resolved").length;return[{label:"Pending approvals",value:T,change:T?`+${T} awaiting`:"Up to date"},{label:"Active schools",value:H,change:H?"+1 this week":"No activations"},{label:"Open tickets",value:L,change:"SLA 4h"},{label:"Issues to resolve",value:Q,change:Q?"Prioritise today":"All clear"}]},[r,c,o]),S=(T,H,L)=>{n(Q=>Q.map(O=>O.id===T?{...O,status:H,notes:L??O.notes,updatedAt:new Date().toISOString()}:O))},w=(T,H)=>{i(L=>L.map(Q=>Q.id===T?{...Q,...H,updatedAt:new Date().toISOString()}:Q))},N=(T,H)=>{l(L=>L.map(Q=>Q.id===T?{...Q,...H,updatedAt:new Date().toISOString()}:Q))},E=(T,H)=>{d(L=>L.map(Q=>Q.id===T?{...Q,...H,updatedAt:new Date().toISOString()}:Q))},P=T=>{g(H=>[{id:`ACT-${Date.now()}`,timestamp:new Date().toISOString(),...T},...H])},_=({title:T,message:H,audience:L})=>{const Q={id:`BC-${Date.now()}`,title:T,message:H,audience:L,createdAt:new Date().toISOString(),owner:ET.name,status:"scheduled"};h(O=>[Q,...O]),P({label:`Broadcast scheduled: ${T}`,type:"broadcast"})},B=(T,H)=>{f(L=>{const Q=L.map(V=>V.id===T?{...V,status:H}:V),O=L.find(V=>V.id===T);return O&&P({label:`Compliance ${H}: ${O.title}`,type:"compliance"}),Q})},k=T=>{const H=j();v(L=>({...L,[T]:{...L[T],password:H,status:"generated",lastGenerated:new Date().toISOString()}}))},M=T=>{v(H=>({...H,[T]:{...H[T],status:"reset_sent",lastReset:new Date().toISOString()}}))};return s.jsx(PJe,{sidebarCollapsed:t,onToggleSidebar:()=>e(T=>!T),insights:b,profile:ET,children:s.jsxs(bw,{children:[s.jsx(qt,{path:"overview",element:s.jsx(DJe,{requests:r,feedbackItems:a,issues:o,tickets:c,onRequestAction:S,onIssueUpdate:N,onTicketUpdate:E,onFeedbackUpdate:w})}),s.jsx(qt,{path:"requests",element:s.jsx(RJe,{requests:r,onRequestAction:S})}),s.jsx(qt,{path:"feedback",element:s.jsx(HJe,{feedbackItems:a,onFeedbackUpdate:w})}),s.jsx(qt,{path:"issues",element:s.jsx($Je,{issues:o,onIssueUpdate:N})}),s.jsx(qt,{path:"tickets",element:s.jsx(WJe,{tickets:c,onTicketUpdate:E})}),s.jsx(qt,{path:"credentials",element:s.jsx(qJe,{requests:r,credentialState:x,onGenerateCredential:k,onResetCredential:M})}),s.jsx(qt,{path:"operations",element:s.jsx(XJe,{announcements:u,onCreateAnnouncement:_,complianceItems:m,onComplianceUpdate:B,activityFeed:A})}),s.jsx(qt,{path:"id-pass",element:s.jsx(Nnt,{profile:ET})}),s.jsx(qt,{index:!0,element:s.jsx(s5,{to:"/super-admin/overview",replace:!0})}),s.jsx(qt,{path:"*",element:s.jsx(s5,{to:"/super-admin/overview",replace:!0})})]})})},lX="http://localhost:5000",Mnt=()=>{const[t,e]=F.useState([]),[r,n]=F.useState(!1),a=async()=>{try{n(!0);const l=await(await fetch(`${lX}/api/nif/students/archived`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(Array.isArray(l)?l:[])}catch(o){console.error("Failed to load archived students:",o),alert("Failed to load archived students.")}finally{n(!1)}};F.useEffect(()=>{a()},[]);const i=()=>{window.location.href=`${lX}/api/nif/students/archived/export`};return s.jsx("div",{className:"min-h-screen p-8 bg-yellow-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Archived Students"}),s.jsxs("button",{onClick:i,className:"bg-amber-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[s.jsx(kX,{size:16}),"Download CSV"]})]}),s.jsxs("table",{className:"w-full border border-yellow-200 rounded-lg",children:[s.jsx("thead",{className:"bg-yellow-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Name"}),s.jsx("th",{className:"p-3 text-left",children:"Course"}),s.jsx("th",{className:"p-3 text-left",children:"Batch"}),s.jsx("th",{className:"p-3 text-left",children:"Passed Out"}),s.jsx("th",{className:"p-3 text-left",children:"Paid"}),s.jsx("th",{className:"p-3 text-left",children:"Archived At"})]})}),s.jsxs("tbody",{children:[r&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Loading archived students..."})}),!r&&t.map(o=>{var l;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:o.studentName}),s.jsx("td",{className:"p-3",children:o.course}),s.jsx("td",{className:"p-3",children:o.batchCode}),s.jsx("td",{className:"p-3",children:o.passedOutYear}),s.jsxs("td",{className:"p-3",children:["",(l=o.feeSummary)==null?void 0:l.totalPaid]}),s.jsx("td",{className:"p-3",children:o.archivedAt?new Date(o.archivedAt).toLocaleDateString():"-"})]},o._id)}),!r&&t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"text-center py-6 text-gray-500",children:"No archived students yet."})})]})]})]})})};function Fnt(){return s.jsxs(tce,{children:[s.jsxs(bw,{children:[s.jsx(qt,{path:"/",element:s.jsx(hfe,{})}),s.jsx(qt,{path:"/dashboard",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/home",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/ai-learning",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/ai-learning-courses",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/ai-learning-tutor",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/academics",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/assignments",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/assignments-journal",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/assignments-academic-alcove",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/results",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/schedule",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/routine",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/attendance",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/communication",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/chat",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/teacherfeedback",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/excuse-letter",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/noticeboard",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/wellness",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/wellbeing",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/achievements",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/profile",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/dashboard/themecustomizer",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(ja,{})})}),s.jsx(qt,{path:"/signup",element:s.jsx(ffe,{})}),s.jsx(qt,{path:"/complaint",element:s.jsx(jY,{})}),s.jsx(qt,{path:"/admin/*",element:s.jsx(nn,{allowedRoles:["Admin"],children:s.jsx(jWe,{})})}),s.jsx(qt,{path:"/super-admin/*",element:s.jsx(nn,{allowedRoles:["SuperAdmin"],children:s.jsx(Tnt,{})})}),s.jsx(qt,{path:"/principal",element:s.jsx(nn,{allowedRoles:["Principal","Admin"],children:s.jsx(jYe,{})})}),s.jsx(qt,{path:"/profile",element:s.jsx(bY,{})}),s.jsx(qt,{path:"/parents/*",element:s.jsx(nn,{allowedRoles:["Parent","Admin"],children:s.jsx(OYe,{})})}),s.jsx(qt,{path:"/teachers/*",element:s.jsx(nn,{allowedRoles:["Teacher","Admin"],children:s.jsx(fJe,{})})}),s.jsx(qt,{path:"/feedback",element:s.jsx(mJe,{})}),s.jsx(qt,{path:"/feedback/thank-you",element:s.jsx(pJe,{})}),s.jsx(qt,{path:"/school-registration",element:s.jsx(xJe,{})}),s.jsx(qt,{path:"/school-registration/success",element:s.jsx(gJe,{})}),s.jsx(qt,{path:"/meet-the-developer",element:s.jsx(AJe,{})}),s.jsx(qt,{path:"/dashboard/games",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(aK,{})})}),s.jsx(qt,{path:"/dashboard/games/:gameKey",element:s.jsx(nn,{allowedRoles:["Student","Admin"],children:s.jsx(aK,{})})}),s.jsx(qt,{path:"/admin/archived-students",element:s.jsx(nn,{allowedRoles:["Admin"],children:s.jsx(Mnt,{})})})]}),s.jsx(MJe,{})]})}Hoe.createRoot(document.getElementById("root")).render(s.jsx(Fnt,{}));export{bn as _,Q2 as c,Nn as g};
